{"version":3,"file":"ej2-dropdowns.min.js","sources":["../../src/common/incremental-search.js","../../src/common/highlight-search.js","../../node_modules/@syncfusion/ej2-base/src/util.js","../../node_modules/@syncfusion/ej2-base/src/dom.js","../../node_modules/@syncfusion/ej2-base/src/base.js","../../node_modules/@syncfusion/ej2-base/src/notify-property-change.js","../../node_modules/@syncfusion/ej2-base/src/animation.js","../../node_modules/@syncfusion/ej2-base/src/internationalization.js","../../node_modules/@syncfusion/ej2-base/src/template.js","../../node_modules/@syncfusion/ej2-base/src/template-engine.js","../../node_modules/@syncfusion/ej2-buttons/src/common/common.js","../../node_modules/@syncfusion/ej2-lists/src/common/list-base.js","../../node_modules/@syncfusion/ej2-popups/src/common/position.js","../../node_modules/@syncfusion/ej2-popups/src/common/collision.js","../../node_modules/@syncfusion/ej2-popups/src/popup/popup.js","../../node_modules/@syncfusion/ej2-popups/src/spinner/spinner.js","../../node_modules/@syncfusion/ej2-inputs/src/maskedtextbox/base/mask-base.js","../../node_modules/@syncfusion/ej2-splitbuttons/src/common/common.js","../../src/multi-select/float-label.js","../../node_modules/@syncfusion/ej2-base/src/ajax.js","../../node_modules/@syncfusion/ej2-base/src/event-handler.js","../../node_modules/@syncfusion/ej2-base/src/observer.js","../../node_modules/@syncfusion/ej2-base/src/browser.js","../../node_modules/@syncfusion/ej2-base/src/intl/intl-base.js","../../node_modules/@syncfusion/ej2-base/src/canvas-renderer.js","../../node_modules/@syncfusion/ej2-base/src/module-loader.js","../../node_modules/@syncfusion/ej2-base/src/child-property.js","../../node_modules/@syncfusion/ej2-base/src/intl/parser-base.js","../../node_modules/@syncfusion/ej2-base/src/intl/number-formatter.js","../../node_modules/@syncfusion/ej2-base/src/intl/date-formatter.js","../../node_modules/@syncfusion/ej2-base/src/component.js","../../node_modules/@syncfusion/ej2-base/src/intl/date-parser.js","../../node_modules/@syncfusion/ej2-base/src/intl/number-parser.js","../../node_modules/@syncfusion/ej2-base/src/draggable.js","../../node_modules/@syncfusion/ej2-base/src/droppable.js","../../node_modules/@syncfusion/ej2-base/src/keyboard.js","../../node_modules/@syncfusion/ej2-base/src/l10n.js","../../node_modules/@syncfusion/ej2-base/src/svg-renderer.js","../../node_modules/@syncfusion/ej2-base/src/touch.js","../../node_modules/@syncfusion/ej2-data/src/query.js","../../node_modules/@syncfusion/ej2-data/src/util.js","../../node_modules/@syncfusion/ej2-data/src/adaptors.js","../../node_modules/@syncfusion/ej2-data/src/manager.js","../../node_modules/@syncfusion/ej2-buttons/src/button/button.js","../../node_modules/@syncfusion/ej2-buttons/src/check-box/check-box.js","../../node_modules/@syncfusion/ej2-buttons/src/radio-button/radio-button.js","../../node_modules/@syncfusion/ej2-buttons/src/switch/switch.js","../../node_modules/@syncfusion/ej2-lists/src/list-view/list-view.js","../../node_modules/@syncfusion/ej2-inputs/src/input/input.js","../../node_modules/@syncfusion/ej2-lists/src/list-view/virtualization.js","../../src/drop-down-base/drop-down-base.js","../../node_modules/@syncfusion/ej2-popups/src/dialog/dialog.js","../../node_modules/@syncfusion/ej2-popups/src/tooltip/tooltip.js","../../node_modules/@syncfusion/ej2-inputs/src/numerictextbox/numerictextbox.js","../../node_modules/@syncfusion/ej2-inputs/src/form-validator/form-validator.js","../../node_modules/@syncfusion/ej2-inputs/src/maskedtextbox/maskedtextbox/maskedtextbox.js","../../node_modules/@syncfusion/ej2-inputs/src/slider/slider.js","../../node_modules/@syncfusion/ej2-inputs/src/uploader/uploader.js","../../node_modules/@syncfusion/ej2-splitbuttons/src/drop-down-button/drop-down-button.js","../../node_modules/@syncfusion/ej2-splitbuttons/src/split-button/split-button.js","../../node_modules/@syncfusion/ej2-inputs/src/color-picker/color-picker.js","../../src/drop-down-list/drop-down-list.js","../../src/combo-box/combo-box.js","../../src/auto-complete/auto-complete.js","../../src/multi-select/multi-select.js","../../src/multi-select/checkbox-selection.js"],"sourcesContent":["/**\n * IncrementalSearch module file\n */\nvar queryString = '';\nvar prevString = '';\nvar matches = [];\nvar activeClass = 'e-active';\n/**\n * Search and focus the list item based on key code matches with list text content\n * @param  { number } keyCode - Specifies the key code which pressed on keyboard events.\n * @param  { HTMLElement[]] } items - Specifies an array of HTMLElement, from which matches find has done.\n * @param { number } selectedIndex - Specifies the selected item in list item, so that search will happen\n * after selected item otherwise it will do from initial.\n * @param  { boolean } ignoreCase - Specifies the case consideration when search has done.\n */\nexport function incrementalSearch(keyCode, items, selectedIndex, ignoreCase) {\n    queryString += String.fromCharCode(keyCode);\n    setTimeout(function () { queryString = ''; }, 1000);\n    var index;\n    queryString = ignoreCase ? queryString.toLowerCase() : queryString;\n    if (prevString === queryString) {\n        for (var i = 0; i < matches.length; i++) {\n            if (matches[i].classList.contains(activeClass)) {\n                index = i;\n                break;\n            }\n        }\n        index = index + 1;\n        return matches[index];\n    }\n    else {\n        var listItems = items;\n        var strLength = queryString.length;\n        var text = void 0;\n        var item = void 0;\n        selectedIndex = selectedIndex ? selectedIndex + 1 : 0;\n        var i = selectedIndex;\n        matches = [];\n        do {\n            if (i === listItems.length) {\n                i = -1;\n            }\n            i === -1 ? index = 0 : index = i;\n            item = listItems[index];\n            text = ignoreCase ? item.innerText.toLowerCase() : item.innerText;\n            if (text.substr(0, strLength) === queryString) {\n                matches.push(listItems[index]);\n            }\n            i++;\n        } while (i !== selectedIndex);\n        prevString = queryString;\n        return matches[0];\n    }\n}\nexport function Search(inputVal, items, searchType, ignoreCase) {\n    var listItems = items;\n    ignoreCase = ignoreCase !== undefined && ignoreCase !== null ? ignoreCase : true;\n    var itemData = { item: null, index: null };\n    if (inputVal.length) {\n        var strLength = inputVal.length;\n        var queryStr = ignoreCase ? inputVal.toLocaleLowerCase() : inputVal;\n        for (var i = 0, itemsData = listItems; i < itemsData.length; i++) {\n            var item = itemsData[i];\n            var text = (ignoreCase ? item.textContent.toLocaleLowerCase() : item.textContent).replace(/^\\s+|\\s+$/g, '');\n            if ((searchType === 'Equal' && text === queryStr) || (searchType === 'StartsWith' && text.substr(0, strLength) === queryStr)) {\n                itemData.item = item;\n                itemData.index = i;\n                return { item: item, index: i };\n            }\n        }\n        return itemData;\n    }\n    return itemData;\n}\n","/**\n * Function helps to find which highlightSearch is to call based on your data.\n * @param  {HTMLElement} element - Specifies an li element.\n * @param  {string} query - Specifies the string to be highlighted.\n * @param  {boolean} ignoreCase - Specifies the ignoreCase option.\n * @param  {HightLightType} type - Specifies the type of highlight.\n */\nexport function highlightSearch(element, query, ignoreCase, type) {\n    if (query === '') {\n        return;\n    }\n    else {\n        var ignoreRegex = ignoreCase ? 'gim' : 'gm';\n        query = /^[a-zA-Z0-9- ]*$/.test(query) ? query : query.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n        var replaceQuery = type === 'StartsWith' ? '^(' + query + ')' : type === 'EndsWith' ? '(' + query + ')$' : '(' + query + ')';\n        findTextNode(element, new RegExp(replaceQuery, ignoreRegex));\n    }\n}\nfunction findTextNode(element, pattern) {\n    for (var index = 0; element.childNodes && (index < element.childNodes.length); index++) {\n        if (element.childNodes[index].nodeType === 3) {\n            element.innerHTML = element.innerHTML.replace(pattern, '<span class=\"e-highlight\">$1</span>');\n            break;\n        }\n        else {\n            findTextNode(element.childNodes[index], pattern);\n        }\n    }\n}\n/**\n * Function helps to remove highlighted element based on your data.\n * @param  {HTMLElement} content - Specifies an content element.\n */\nexport function revertHighlightSearch(content) {\n    var contentElement = content.querySelectorAll('.e-highlight');\n    for (var i = contentElement.length - 1; i >= 0; i--) {\n        var parent_1 = contentElement[i].parentNode;\n        var text = document.createTextNode(contentElement[i].textContent);\n        parent_1.replaceChild(text, contentElement[i]);\n    }\n}\n","var instances = 'ej2_instances';\nvar uid = 0;\n/**\n * Create Instance from constructor function with desired parameters.\n * @param {Function} classFunction - Class function to which need to create instance\n * @param {any[]} params - Parameters need to passed while creating instance\n * @return {any}\n * @private\n */\nexport function createInstance(classFunction, params) {\n    var arrayParam = params;\n    arrayParam.unshift(undefined);\n    return new (Function.prototype.bind.apply(classFunction, arrayParam));\n}\n/**\n * To run a callback function immediately after the browser has completed other operations.\n * @param {Function} handler - callback function to be triggered.\n * @return {Function}\n * @private\n */\nexport function setImmediate(handler) {\n    var unbind;\n    var num = new Uint16Array(5);\n    var intCrypto = window.msCrypto || window.crypto;\n    intCrypto.getRandomValues(num);\n    var secret = 'ej2' + combineArray(num);\n    var messageHandler = function (event) {\n        if (event.source === window && typeof event.data === 'string' && event.data.length <= 32 && event.data === secret) {\n            handler();\n            unbind();\n        }\n    };\n    window.addEventListener('message', messageHandler, false);\n    window.postMessage(secret, '*');\n    return unbind = function () {\n        window.removeEventListener('message', messageHandler);\n        handler = messageHandler = secret = undefined;\n    };\n}\n/**\n * To get nameSpace value from the desired object.\n * @param {string} nameSpace - String value to the get the inner object\n * @param {any} obj - Object to get the inner object value.\n * @return {any}\n * @private\n */\nexport function getValue(nameSpace, obj) {\n    /* tslint:disable no-any */\n    var value = obj;\n    var splits = nameSpace.split('.');\n    for (var i = 0; i < splits.length && !isUndefined(value); i++) {\n        value = value[splits[i]];\n    }\n    return value;\n}\n/**\n * To set value for the nameSpace in desired object.\n * @param {string} nameSpace - String value to the get the inner object\n * @param {any} value - Value that you need to set.\n * @param {any} obj - Object to get the inner object value.\n * @return {void}\n * @private\n */\nexport function setValue(nameSpace, value, obj) {\n    var keys = nameSpace.split('.');\n    var start = obj || {};\n    var fromObj = start;\n    var i;\n    var length = keys.length;\n    var key;\n    for (i = 0; i < length; i++) {\n        key = keys[i];\n        if (i + 1 === length) {\n            fromObj[key] = value === undefined ? {} : value;\n        }\n        else if (isNullOrUndefined(fromObj[key])) {\n            fromObj[key] = {};\n        }\n        fromObj = fromObj[key];\n    }\n    return start;\n}\n/**\n * Delete an item from Object\n * @param {any} obj - Object in which we need to delete an item.\n * @param {string} params - String value to the get the inner object\n * @return {void}\n * @private\n */\nexport function deleteObject(obj, key) {\n    delete obj[key];\n}\n/**\n * Check weather the given argument is only object.\n * @param {any} obj - Object which is need to check.\n * @return {boolean}\n * @private\n */\nexport function isObject(obj) {\n    var objCon = {};\n    return (!isNullOrUndefined(obj) && obj.constructor === objCon.constructor);\n}\n/**\n * To get enum value by giving the string.\n * @param {any} enumObject - Enum object.\n * @param {string} enumValue - Enum value to be searched\n * @return {any}\n * @private\n */\nexport function getEnumValue(enumObject, enumValue) {\n    return enumObject[enumValue];\n}\n/**\n * Merge the source object into destination object.\n * @param {any} source - source object which is going to merge with destination object\n * @param {any} destination - object need to be merged\n * @return {void}\n * @private\n */\nexport function merge(source, destination) {\n    if (!isNullOrUndefined(destination)) {\n        var temrObj = source;\n        var tempProp = destination;\n        var keys = Object.keys(destination);\n        var deepmerge = 'deepMerge';\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            if (!isNullOrUndefined(temrObj[deepmerge]) && (temrObj[deepmerge].indexOf(key) !== -1) &&\n                (isObject(tempProp[key]) || Array.isArray(tempProp[key]))) {\n                extend(temrObj[key], temrObj[key], tempProp[key], true);\n            }\n            else {\n                temrObj[key] = tempProp[key];\n            }\n        }\n    }\n}\n/**\n * Extend the two object with newer one.\n * @param {any} copied - Resultant object after merged\n * @param {Object} first - First object need to merge\n * @param {Object} second - Second object need to merge\n * @return {Object}\n * @private\n */\nexport function extend(copied, first, second, deep) {\n    var result = copied || {};\n    var length = arguments.length;\n    if (deep) {\n        length = length - 1;\n    }\n    var _loop_1 = function (i) {\n        if (!arguments_1[i]) {\n            return \"continue\";\n        }\n        var obj1 = arguments_1[i];\n        Object.keys(obj1).forEach(function (key) {\n            var src = result[key];\n            var copy = obj1[key];\n            var clone;\n            if (deep && (isObject(copy) || Array.isArray(copy))) {\n                if (isObject(copy)) {\n                    clone = src ? src : {};\n                    result[key] = extend({}, clone, copy, deep);\n                }\n                else {\n                    clone = src ? src : [];\n                    result[key] = extend([], clone, copy, deep);\n                }\n            }\n            else {\n                result[key] = copy;\n            }\n        });\n    };\n    var arguments_1 = arguments;\n    for (var i = 1; i < length; i++) {\n        _loop_1(i);\n    }\n    return result;\n}\n/**\n * To check whether the object is null or undefined.\n * @param {Object} value - To check the object is null or undefined\n * @return {boolean}\n * @private\n */\nexport function isNullOrUndefined(value) {\n    return value === undefined || value === null;\n}\n/**\n * To check whether the object is undefined.\n * @param {Object} value - To check the object is undefined\n * @return {boolean}\n * @private\n */\nexport function isUndefined(value) {\n    return ('undefined' === typeof value);\n}\n/**\n * To return the generated unique name\n * @param {string} definedName - To concatenate the unique id to provided name\n * @return {string}\n * @private\n */\nexport function getUniqueID(definedName) {\n    return definedName + '_' + uid++;\n}\n/**\n * It limits the rate at which a function can fire. The function will fire only once every provided second instead of as quickly.\n * @param {Function} eventFunction - Specifies the function to run when the event occurs\n * @param {number} delay - A number that specifies the milliseconds for function delay call option\n * @return {Function}\n * @private\n */\nexport function debounce(eventFunction, delay) {\n    var out;\n    // tslint:disable-next-line\n    return function () {\n        var _this = this;\n        var args = arguments;\n        var later = function () {\n            out = null;\n            return eventFunction.apply(_this, args);\n        };\n        clearTimeout(out);\n        out = setTimeout(later, delay);\n    };\n}\n// Added since lint ignored after added '//tslint:disable-next-line' \n/* tslint:disable:no-any */\n/**\n * To convert the object to string for query url\n * @param  {Object} data\n * @returns string\n * @private\n */\nexport function queryParams(data) {\n    var array = [];\n    var keys = Object.keys(data);\n    for (var _i = 0, keys_2 = keys; _i < keys_2.length; _i++) {\n        var key = keys_2[_i];\n        array.push(encodeURIComponent(key) + '=' + encodeURIComponent('' + data[key]));\n    }\n    return array.join('&');\n}\n/**\n * To check whether the given array contains object.\n * @param {T[]} value- Specifies the T type array to be checked.\n * @private\n */\nexport function isObjectArray(value) {\n    var parser = Object.prototype.toString;\n    if (parser.call(value) === '[object Array]') {\n        if (parser.call(value[0]) === '[object Object]') {\n            return true;\n        }\n    }\n    return false;\n}\n/**\n * To check whether the  child element is descendant to parent element or parent and child are same element.\n * @param{Element} - Specifies the child element to compare with parent.\n * @param{Element} - Specifies the parent element.\n * @return boolean\n * @private\n */\nexport function compareElementParent(child, parent) {\n    var node = child;\n    if (node === parent) {\n        return true;\n    }\n    else if (node === document || !node) {\n        return false;\n    }\n    else {\n        return compareElementParent(node.parentNode, parent);\n    }\n}\n/**\n * To throw custom error message.\n * @param{string} - Specifies the error message to be thrown.\n * @private\n */\nexport function throwError(message) {\n    try {\n        throw new Error(message);\n    }\n    catch (e) {\n        throw e.message + '\\n' + e.stack;\n    }\n}\n/**\n * This function is used to print given element\n * @param{Element} element - Specifies the print content element.\n * @param{Window} printWindow - Specifies the print window.\n * @private\n */\nexport function print(element, printWindow) {\n    var div = document.createElement('div');\n    var links = [].slice.call(document.getElementsByTagName('head')[0].querySelectorAll('link, style'));\n    var reference = '';\n    if (isNullOrUndefined(printWindow)) {\n        printWindow = window.open('', 'print', 'height=452,width=1024,tabbar=no');\n    }\n    div.appendChild(element.cloneNode(true));\n    for (var i = 0, len = links.length; i < len; i++) {\n        reference += links[i].outerHTML;\n    }\n    printWindow.document.write('<!DOCTYPE html> <html><head>' + reference + '</head><body>' + div.innerHTML +\n        '<script> (function() { window.ready = true; })(); </script>' + '</body></html>');\n    printWindow.document.close();\n    printWindow.focus();\n    // tslint:disable-next-line\n    var interval = setInterval(function () {\n        if (printWindow.ready) {\n            printWindow.print();\n            printWindow.close();\n            clearInterval(interval);\n        }\n    }, 500);\n    return printWindow;\n}\n/**\n * Function to normalize the units applied to the element.\n * @param  {number|string} value\n * @return {string} result\n * @private\n */\nexport function formatUnit(value) {\n    var result = value + '';\n    if (result === 'auto' || result.indexOf('%') !== -1 || result.indexOf('px') !== -1) {\n        return result;\n    }\n    return result + 'px';\n}\n/**\n * Function to fetch the Instances of a HTML element for the given component.\n * @param {string | HTMLElement} element\n * @param {any} component\n * @return {Object} inst\n * @private\n */\n// tslint:disable-next-line\nexport function getInstance(element, component) {\n    // tslint:disable-next-line:no-any\n    var elem = (typeof (element) === 'string') ? document.querySelector(element) : element;\n    if (elem[instances]) {\n        for (var _i = 0, _a = elem[instances]; _i < _a.length; _i++) {\n            var inst = _a[_i];\n            if (inst instanceof component) {\n                return inst;\n            }\n        }\n    }\n    return null;\n}\n/**\n * Function to add instances for the given element.\n * @param {string | HTMLElement} element\n * @param {Object} instance\n * @return {void}\n * @private\n */\nexport function addInstance(element, instance) {\n    // tslint:disable-next-line:no-any\n    var elem = (typeof (element) === 'string') ? document.querySelector(element) : element;\n    if (elem[instances]) {\n        elem[instances].push(instance);\n    }\n    else {\n        elem[instances] = [instance];\n    }\n}\n/**\n * Function to generate the unique id.\n * @return {any}\n * @private\n */\n// tslint:disable-next-line:no-any\nexport function uniqueID() {\n    // tslint:disable-next-line:no-any\n    if ((typeof window) === 'undefined') {\n        return;\n    }\n    // tslint:disable-next-line:no-any\n    var num = new Uint16Array(5);\n    var intCrypto = window.msCrypto || window.crypto;\n    return intCrypto.getRandomValues(num);\n}\nfunction combineArray(num) {\n    var ret = '';\n    for (var i = 0; i < 5; i++) {\n        ret += (i ? ',' : '') + num[i];\n    }\n    return ret;\n}\n","/**\n * Functions related to dom operations.\n */\nimport { EventHandler } from './event-handler';\nimport { isNullOrUndefined } from './util';\nvar SVG_REG = /^svg|^path|^g/;\n/**\n * Function to create Html element.\n * @param tagName - Name of the tag, id and class names.\n * @param properties - Object to set properties in the element.\n * @param properties.id - To set the id to the created element.\n * @param properties.className - To add classes to the element.\n * @param properties.innerHTML - To set the innerHTML to element.\n * @param properties.styles - To set the some custom styles to element.\n * @param properties.attrs - To set the attributes to element.\n * @private\n */\nexport function createElement(tagName, properties) {\n    //tslint:disable-next-line\n    var element = (SVG_REG.test(tagName) ? document.createElementNS('http://www.w3.org/2000/svg', tagName) : document.createElement(tagName));\n    if (typeof (properties) === 'undefined') {\n        return element;\n    }\n    element.innerHTML = (properties.innerHTML ? properties.innerHTML : '');\n    if (properties.className !== undefined) {\n        element.className = properties.className;\n    }\n    if (properties.id !== undefined) {\n        element.id = properties.id;\n    }\n    if (properties.styles !== undefined) {\n        element.setAttribute('style', properties.styles);\n    }\n    if (properties.attrs !== undefined) {\n        attributes(element, properties.attrs);\n    }\n    return element;\n}\n/**\n * The function used to add the classes to array of elements\n * @param  {Element[]|NodeList} elements - An array of elements that need to add a list of classes\n * @param  {string|string[]} classes - String or array of string that need to add an individual element as a class\n * @private\n */\nexport function addClass(elements, classes) {\n    var classList = getClassList(classes);\n    for (var _i = 0, _a = elements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        for (var _b = 0, classList_1 = classList; _b < classList_1.length; _b++) {\n            var className = classList_1[_b];\n            if (!ele.classList.contains(className)) {\n                ele.classList.add(className);\n            }\n        }\n    }\n    return elements;\n}\n/**\n * The function used to add the classes to array of elements\n * @param  {Element[]|NodeList} elements - An array of elements that need to remove a list of classes\n * @param  {string|string[]} classes - String or array of string that need to add an individual element as a class\n * @private\n */\nexport function removeClass(elements, classes) {\n    var classList = getClassList(classes);\n    for (var _i = 0, _a = elements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        if (ele.className !== '') {\n            for (var _b = 0, classList_2 = classList; _b < classList_2.length; _b++) {\n                var className = classList_2[_b];\n                ele.classList.remove(className);\n            }\n        }\n    }\n    return elements;\n}\nfunction getClassList(classes) {\n    var classList = [];\n    if (typeof classes === 'string') {\n        classList.push(classes);\n    }\n    else {\n        classList = classes;\n    }\n    return classList;\n}\n/**\n * The function used to check element is visible or not.\n * @param  {Element|Node} element - An element the need to check visibility\n * @private\n */\nexport function isVisible(element) {\n    var ele = element;\n    return (ele.style.visibility === '' && ele.offsetWidth > 0);\n}\n/**\n * The function used to insert an array of elements into a first of the element.\n * @param  {Element[]|NodeList} fromElements - An array of elements that need to prepend.\n * @param  {Element} toElement - An element that is going to prepend.\n * @private\n */\nexport function prepend(fromElements, toElement) {\n    var docFrag = document.createDocumentFragment();\n    for (var _i = 0, _a = fromElements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        docFrag.appendChild(ele);\n    }\n    toElement.insertBefore(docFrag, toElement.firstElementChild);\n    return fromElements;\n}\n/**\n * The function used to insert an array of elements into last of the element.\n * @param  {Element[]|NodeList} fromElements - An array of elements that need to append.\n * @param  {Element} toElement - An element that is going to prepend.\n * @private\n */\nexport function append(fromElements, toElement) {\n    var docFrag = document.createDocumentFragment();\n    for (var _i = 0, _a = fromElements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        docFrag.appendChild(ele);\n    }\n    toElement.appendChild(docFrag);\n    return fromElements;\n}\n/**\n * The function used to remove the element from the\n * @param  {Element|Node|HTMLElement} element - An element that is going to detach from the Dom\n * @private\n */\nexport function detach(element) {\n    var parentNode = element.parentNode;\n    return parentNode.removeChild(element);\n}\n/**\n * The function used to remove the element from Dom also clear the bounded events\n * @param  {Element|Node|HTMLElement} element - An element remove from the Dom\n * @private\n */\nexport function remove(element) {\n    var parentNode = element.parentNode;\n    EventHandler.clearEvents(element);\n    parentNode.removeChild(element);\n}\n/**\n * The function helps to set multiple attributes to an element\n * @param  {Element|Node} element - An element that need to set attributes.\n * @param  {{[key:string]:string}} attributes - JSON Object that is going to as attributes.\n * @private\n */\nexport function attributes(element, attributes) {\n    var keys = Object.keys(attributes);\n    var ele = element;\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n        var key = keys_1[_i];\n        ele.setAttribute(key, attributes[key]);\n    }\n    return ele;\n}\n/**\n * The function selects the element from giving context.\n * @param  {string} selector - Selector string need fetch element from the\n * @param  {Document|Element=document} context - It is an optional type, That specifies a Dom context.\n * @private\n */\nexport function select(selector, context) {\n    if (context === void 0) { context = document; }\n    return context.querySelector(selector);\n}\n/**\n * The function selects an array of element from the given context.\n * @param  {string} selector - Selector string need fetch element from the\n * @param  {Document|Element=document} context - It is an optional type, That specifies a Dom context.\n * @private\n */\nexport function selectAll(selector, context) {\n    if (context === void 0) { context = document; }\n    var nodeList = context.querySelectorAll(selector);\n    return nodeList;\n}\n/**\n * Returns single closest parent element based on class selector.\n * @param  {Element} element - An element that need to find the closest element.\n * @param  {string} selector - A classSelector of closest element.\n * @private\n */\nexport function closest(element, selector) {\n    var el = element;\n    if (typeof el.closest === 'function') {\n        return el.closest(selector);\n    }\n    while (el && el.nodeType === 1) {\n        if (matches(el, selector)) {\n            return el;\n        }\n        el = el.parentNode;\n    }\n    return null;\n}\n/**\n * Returns all sibling elements of the given element.\n * @param  {Element|Node} element - An element that need to get siblings.\n * @private\n */\nexport function siblings(element) {\n    var siblings = [];\n    var childNodes = Array.prototype.slice.call(element.parentNode.childNodes);\n    for (var _i = 0, childNodes_1 = childNodes; _i < childNodes_1.length; _i++) {\n        var curNode = childNodes_1[_i];\n        if (curNode.nodeType === Node.ELEMENT_NODE && element !== curNode) {\n            siblings.push(curNode);\n        }\n    }\n    return siblings;\n}\n/**\n * set the value if not exist. Otherwise set the existing value\n * @param  {HTMLElement} element - An element to which we need to set value.\n * @param  {string} property - Property need to get or set.\n * @param  {string} value - value need to set.\n * @private\n */\nexport function getAttributeOrDefault(element, property, value) {\n    var attrVal = element.getAttribute(property);\n    if (isNullOrUndefined(attrVal)) {\n        element.setAttribute(property, value.toString());\n        attrVal = value;\n    }\n    return attrVal;\n}\n/**\n * Set the style attributes to Html element.\n * @param {HTMLElement} element - Element which we want to set attributes\n * @param {any} attrs - Set the given attributes to element\n * @return {void}\n * @private\n */\nexport function setStyleAttribute(element, attrs) {\n    if (attrs !== undefined) {\n        Object.keys(attrs).forEach(function (key) {\n            // tslint:disable-next-line:no-any\n            element.style[key] = attrs[key];\n        });\n    }\n}\n/**\n * Method for add and remove classes to a dom element.\n * @param {Element} element - Element for add and remove classes\n * @param {string[]} addClasses - List of classes need to be add to the element\n * @param {string[]} removeClasses - List of classes need to be remove from the element\n * @return {void}\n * @private\n */\nexport function classList(element, addClasses, removeClasses) {\n    addClass([element], addClasses);\n    removeClass([element], removeClasses);\n}\n/**\n * Method to check whether the element matches the given selector.\n * @param {Element} element - Element to compare with the selector.\n * @param {string} selector - String selector which element will satisfy.\n * @return {void}\n * @private\n */\nexport function matches(element, selector) {\n    var matches = element.matches || element.msMatchesSelector || element.webkitMatchesSelector;\n    if (matches) {\n        return matches.call(element, selector);\n    }\n    else {\n        return [].indexOf.call(document.querySelectorAll(selector), element) !== -1;\n    }\n}\n","import { isUndefined, isNullOrUndefined, merge, setImmediate, setValue } from './util';\nimport { addClass, removeClass } from './dom';\nimport { Observer } from './observer';\n/* tslint:enable:no-any */\n/**\n * Base library module is common module for Framework modules like touch,keyboard and etc.,\n * @private\n */\nvar Base = /** @class */ (function () {\n    /**\n     * Base constructor accept options and element\n     */\n    function Base(options, element) {\n        this.isProtectedOnChange = true;\n        this.properties = {};\n        this.changedProperties = {};\n        this.oldProperties = {};\n        this.refreshing = false;\n        // tslint:disable-next-line:no-empty\n        this.finalUpdate = function () { };\n        this.childChangedProperties = {};\n        this.modelObserver = new Observer(this);\n        if (!isUndefined(element)) {\n            if ('string' === typeof (element)) {\n                this.element = document.querySelector(element);\n            }\n            else {\n                this.element = element;\n            }\n            if (!isNullOrUndefined(this.element)) {\n                this.isProtectedOnChange = false;\n                this.addInstance();\n            }\n        }\n        if (!isUndefined(options)) {\n            this.setProperties(options, true);\n        }\n        this.isDestroyed = false;\n    }\n    /** Property base section */\n    /**\n     * Function used to set bunch of property at a time.\n     * @private\n     * @param  {Object} prop - JSON object which holds components properties.\n     * @param  {boolean} muteOnChange? - Specifies to true when we set properties.\n     */\n    Base.prototype.setProperties = function (prop, muteOnChange) {\n        var prevDetection = this.isProtectedOnChange;\n        this.isProtectedOnChange = !!muteOnChange;\n        merge(this, prop);\n        if (muteOnChange !== true) {\n            merge(this.changedProperties, prop);\n            this.dataBind();\n        }\n        this.finalUpdate();\n        this.changedProperties = {};\n        this.oldProperties = {};\n        this.isProtectedOnChange = prevDetection;\n    };\n    ;\n    /**\n     * Calls for child element data bind\n     * @param {Object} obj\n     * @param {Object} parent\n     * @returns {void}\n     */\n    // tslint:disable-next-line:no-any\n    Base.callChildDataBind = function (obj, parent) {\n        var keys = Object.keys(obj);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            if (parent[key] instanceof Array) {\n                for (var _a = 0, _b = parent[key]; _a < _b.length; _a++) {\n                    var obj_1 = _b[_a];\n                    if (obj_1.dataBind !== undefined) {\n                        obj_1.dataBind();\n                    }\n                }\n            }\n            else {\n                parent[key].dataBind();\n            }\n        }\n    };\n    Base.prototype.clearChanges = function () {\n        this.finalUpdate();\n        this.changedProperties = {};\n        this.oldProperties = {};\n        this.childChangedProperties = {};\n    };\n    /**\n     * Bind property changes immediately to components\n     */\n    Base.prototype.dataBind = function () {\n        Base.callChildDataBind(this.childChangedProperties, this);\n        if (Object.getOwnPropertyNames(this.changedProperties).length) {\n            var prevDetection = this.isProtectedOnChange;\n            var newChanges = this.changedProperties;\n            var oldChanges = this.oldProperties;\n            this.clearChanges();\n            this.isProtectedOnChange = true;\n            this.onPropertyChanged(newChanges, oldChanges);\n            this.isProtectedOnChange = prevDetection;\n        }\n    };\n    ;\n    Base.prototype.saveChanges = function (key, newValue, oldValue) {\n        if (this.isProtectedOnChange) {\n            return;\n        }\n        this.oldProperties[key] = oldValue;\n        this.changedProperties[key] = newValue;\n        this.finalUpdate();\n        this.finalUpdate = setImmediate(this.dataBind.bind(this));\n    };\n    ;\n    /** Event Base Section */\n    /**\n     * Adds the handler to the given event listener.\n     * @param {string} eventName - A String that specifies the name of the event\n     * @param {Function} listener - Specifies the call to run when the event occurs.\n     * @return {void}\n     */\n    Base.prototype.addEventListener = function (eventName, handler) {\n        this.modelObserver.on(eventName, handler);\n    };\n    /**\n     * Removes the handler from the given event listener.\n     * @param {string} eventName - A String that specifies the name of the event to remove\n     * @param {Function} listener - Specifies the function to remove\n     * @return {void}\n     */\n    Base.prototype.removeEventListener = function (eventName, handler) {\n        this.modelObserver.off(eventName, handler);\n    };\n    /**\n     * Triggers the handlers in the specified event.\n     * @private\n     * @param {string} eventName - Specifies the event to trigger for the specified component properties.\n     * Can be a custom event, or any of the standard events.\n     * @param {Event} eventProp - Additional parameters to pass on to the event properties\n     * @return {void}\n     */\n    Base.prototype.trigger = function (eventName, eventProp) {\n        if (this.isDestroyed !== true) {\n            var prevDetection = this.isProtectedOnChange;\n            this.isProtectedOnChange = false;\n            this.modelObserver.notify(eventName, eventProp);\n            this.isProtectedOnChange = prevDetection;\n        }\n    };\n    /**\n     * To maintain instance in base class\n     */\n    Base.prototype.addInstance = function () {\n        // Add module class to the root element\n        var moduleClass = 'e-' + this.getModuleName().toLowerCase();\n        addClass([this.element], ['e-control', moduleClass]);\n        if (!isNullOrUndefined(this.element.ej2_instances)) {\n            this.element.ej2_instances.push(this);\n        }\n        else {\n            setValue('ej2_instances', [this], this.element);\n        }\n    };\n    /**\n     * To remove the instance from the element\n     */\n    Base.prototype.destroy = function () {\n        var _this = this;\n        this.element.ej2_instances =\n            this.element.ej2_instances.filter(function (i) { return i !== _this; });\n        removeClass([this.element], ['e-' + this.getModuleName()]);\n        if (this.element.ej2_instances.length === 0) {\n            // Remove module class from the root element\n            removeClass([this.element], ['e-control']);\n        }\n        this.clearChanges();\n        this.modelObserver.destroy();\n        this.isDestroyed = true;\n    };\n    return Base;\n}());\nexport { Base };\nexport function getComponent(elem, comp) {\n    var instance;\n    var i;\n    for (i = 0; i < elem.ej2_instances.length; i++) {\n        instance = elem.ej2_instances[i];\n        var compName = instance.getModuleName();\n        if (comp === compName) {\n            return instance;\n        }\n    }\n    return undefined;\n}\n","import { createInstance, isUndefined, merge, extend, getValue } from './util';\n/**\n * Returns the Class Object\n * @param {ClassObject} instance - instance of ClassObject\n * @param {string} curKey - key of the current instance\n * @param {Object} defaultValue - default Value\n * @param {Object[]} type\n */\nfunction getObject(instance, curKey, defaultValue, type) {\n    if (!instance.properties.hasOwnProperty(curKey) || !(instance.properties[curKey] instanceof type)) {\n        instance.properties[curKey] = createInstance(type, [instance, curKey, defaultValue]);\n    }\n    return instance.properties[curKey];\n}\n/**\n * Returns object array\n * @param {ClassObject} instance\n * @param {string} curKey\n * @param {Object[]} defaultValue\n * @param type\n * @param {boolean} isSetter\n * @returns {Object[]}\n */\nfunction getObjectArray(instance, curKey, defaultValue, type, isSetter, isFactory) {\n    var result = [];\n    var len = defaultValue.length;\n    for (var i = 0; i < len; i++) {\n        var curType = type;\n        if (isFactory) {\n            curType = type(defaultValue[i]);\n        }\n        if (isSetter) {\n            var inst = createInstance(curType, [instance, curKey, {}, true]);\n            inst.setProperties(defaultValue[i], true);\n            result.push(inst);\n        }\n        else {\n            result.push(createInstance(curType, [instance, curKey, defaultValue[i], true]));\n        }\n    }\n    return result;\n}\n/**\n * Returns the properties of the object\n * @param {Object} defaultValue\n * @param {string} curKey\n */\nfunction propertyGetter(defaultValue, curKey) {\n    return function () {\n        if (!this.properties.hasOwnProperty(curKey)) {\n            this.properties[curKey] = defaultValue;\n        }\n        return this.properties[curKey];\n    };\n}\n/**\n * Set the properties for the object\n * @param {Object} defaultValue\n * @param {string} curKey\n */\nfunction propertySetter(defaultValue, curKey) {\n    return function (newValue) {\n        if (this.properties[curKey] !== newValue) {\n            var oldVal = this.properties.hasOwnProperty(curKey) ? this.properties[curKey] : defaultValue;\n            this.saveChanges(curKey, newValue, oldVal);\n            this.properties[curKey] = newValue;\n        }\n    };\n}\n/**\n * Returns complex objects\n */\nfunction complexGetter(defaultValue, curKey, type) {\n    return function () {\n        return getObject(this, curKey, defaultValue, type);\n    };\n}\n/**\n * Sets complex objects\n */\nfunction complexSetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        getObject(this, curKey, defaultValue, type).setProperties(newValue);\n    };\n}\nfunction complexFactoryGetter(defaultValue, curKey, type) {\n    return function () {\n        var curType = type({});\n        if (this.properties.hasOwnProperty(curKey)) {\n            return this.properties[curKey];\n        }\n        else {\n            return getObject(this, curKey, defaultValue, curType);\n        }\n    };\n}\nfunction complexFactorySetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        var curType = type(newValue);\n        getObject(this, curKey, defaultValue, curType).setProperties(newValue);\n    };\n}\nfunction complexArrayGetter(defaultValue, curKey, type) {\n    return function () {\n        if (!this.properties.hasOwnProperty(curKey)) {\n            var defCollection = getObjectArray(this, curKey, defaultValue, type, false);\n            this.properties[curKey] = defCollection;\n        }\n        return this.properties[curKey];\n    };\n}\nfunction complexArraySetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        var oldValueCollection = getObjectArray(this, curKey, defaultValue, type, false);\n        var newValCollection = getObjectArray(this, curKey, newValue, type, true);\n        this.saveChanges(curKey, newValCollection, oldValueCollection);\n        this.properties[curKey] = newValCollection;\n    };\n}\nfunction complexArrayFactorySetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        var oldValueCollection = this.properties.hasOwnProperty(curKey) ? this.properties[curKey] : defaultValue;\n        var newValCollection = getObjectArray(this, curKey, newValue, type, true, true);\n        this.saveChanges(curKey, newValCollection, oldValueCollection);\n        this.properties[curKey] = newValCollection;\n    };\n}\nfunction complexArrayFactoryGetter(defaultValue, curKey, type) {\n    return function () {\n        var curType = type({});\n        if (!this.properties.hasOwnProperty(curKey)) {\n            var defCollection = getObjectArray(this, curKey, defaultValue, curType, false);\n            this.properties[curKey] = defCollection;\n        }\n        return this.properties[curKey];\n    };\n}\n/**\n * Method used to create property. General syntax below.\n * @param  {T} defaultValue? - Specifies the default value of property.\n * ```\n * @Property('TypeScript')\n * propertyName: Type;\n * ```\n * @private\n */\nexport function Property(defaultValue) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: propertySetter(defaultValue, key),\n            get: propertyGetter(defaultValue, key),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'prop', defaultValue);\n    };\n}\n/**\n * Method used to create complex property. General syntax below.\n * @param  {T} defaultValue - Specifies the default value of property.\n * @param  {Function} type - Specifies the class type of complex object.\n * ```\n * @Complex<Type>({},Type)\n * propertyName: Type;\n * ```\n * @private\n */\nexport function Complex(defaultValue, type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexSetter(defaultValue, key, type),\n            get: complexGetter(defaultValue, key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'complexProp', defaultValue, type);\n    };\n}\n/**\n * Method used to create complex Factory property. General syntax below.\n * @param  {Function} defaultType - Specifies the default value of property.\n * @param  {Function} type - Specifies the class factory type of complex object.\n * ```\n * @ComplexFactory(defaultType, factoryFunction)\n * propertyName: Type1 | Type2;\n * ```\n * @private\n */\nexport function ComplexFactory(type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexFactorySetter({}, key, type),\n            get: complexFactoryGetter({}, key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'complexProp', {}, type);\n    };\n}\n/**\n * Method used to create complex array property. General syntax below.\n * @param  {T[]} defaultValue - Specifies the default value of property.\n * @param  {Function} type - Specifies the class type of complex object.\n * ```\n * @Collection([], Type);\n * propertyName: Type;\n * ```\n * @private\n */\nexport function Collection(defaultValue, type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexArraySetter(defaultValue, key, type),\n            get: complexArrayGetter(defaultValue, key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'colProp', defaultValue, type);\n    };\n}\n/**\n * Method used to create complex factory array property. General syntax below.\n * @param  {T[]} defaultType - Specifies the default type of property.\n * @param  {Function} type - Specifies the class type of complex object.\n * ```\n * @Collection([], Type);\n * propertyName: Type;\n * ```\n * @private\n */\nexport function CollectionFactory(type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexArrayFactorySetter([], key, type),\n            get: complexArrayFactoryGetter([], key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'colProp', {}, type);\n    };\n}\n/**\n * Method used to create event property. General syntax below.\n * @param  {Function} defaultValue? - Specifies the default value of property.\n * @param  {boolean} isComplex? - Specifies the whether it is complex object.\n * ```\n * @Event(()=>{return true;})\n * ```\n * @private\n */\nexport function Event() {\n    return function (target, key) {\n        var eventDescriptor = {\n            set: function (newValue) {\n                var oldValue = this.properties[key];\n                if (oldValue !== newValue) {\n                    var finalContext = getParentContext(this, key);\n                    if (isUndefined(oldValue) === false) {\n                        finalContext.context.removeEventListener(finalContext.prefix, oldValue);\n                    }\n                    finalContext.context.addEventListener(finalContext.prefix, newValue);\n                    this.properties[key] = newValue;\n                }\n            },\n            get: propertyGetter(undefined, key),\n            enumerable: true,\n            configurable: true\n        };\n        Object.defineProperty(target, key, eventDescriptor);\n        addPropertyCollection(target, key, 'event');\n    };\n}\n/**\n * NotifyPropertyChanges is triggers the call back when the property has been changed.\n *\n * ```\n *  @NotifyPropertyChanges\n * class DemoClass implements INotifyPropertyChanged {\n *\n *     @Property()\n *     property1: string;\n *\n *     dataBind: () => void;\n *\n *     constructor() { }\n *\n *     onPropertyChanged(newProp: any, oldProp: any) {\n *         // Called when property changed\n *     }\n * }\n * ```\n * @private\n */\nexport function NotifyPropertyChanges(classConstructor) {\n    /** Need to code */\n}\n/**\n * Method  used to create the builderObject for the target component.\n * @private\n */\nfunction addPropertyCollection(target, key, propertyType, defaultValue, type) {\n    if (isUndefined(target.propList)) {\n        target.propList = {\n            props: [],\n            complexProps: [],\n            colProps: [],\n            events: [],\n            propNames: [],\n            complexPropNames: [],\n            colPropNames: [],\n            eventNames: []\n        };\n    }\n    /* tslint:disable no-any */\n    target.propList[propertyType + 's'].push({\n        propertyName: key,\n        defaultValue: defaultValue,\n        type: type\n    });\n    target.propList[propertyType + 'Names'].push(key);\n    /* tslint:enable no-any */\n}\n/**\n * Returns an object containing the builder properties\n * @param {Function} component\n * @private\n */\nfunction getBuilderProperties(component) {\n    if (isUndefined(component.prototype.builderObject)) {\n        component.prototype.builderObject = {\n            properties: {}, propCollections: [], add: function () {\n                this.isPropertyArray = true;\n                this.propCollections.push(extend({}, this.properties, {}));\n            }\n        };\n        var rex = /complex/;\n        for (var _i = 0, _a = Object.keys(component.prototype.propList); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var _loop_1 = function (prop) {\n                if (rex.test(key)) {\n                    component.prototype.builderObject[prop.propertyName] = function (value) {\n                        var childType = {};\n                        merge(childType, getBuilderProperties(prop.type));\n                        value(childType);\n                        var tempValue;\n                        if (!childType.isPropertyArray) {\n                            tempValue = extend({}, childType.properties, {});\n                        }\n                        else {\n                            tempValue = childType.propCollections;\n                        }\n                        this.properties[prop.propertyName] = tempValue;\n                        childType.properties = {};\n                        childType.propCollections = [];\n                        childType.isPropertyArray = false;\n                        return this;\n                    };\n                }\n                else {\n                    component.prototype.builderObject[prop.propertyName] = function (value) {\n                        this.properties[prop.propertyName] = value;\n                        return this;\n                    };\n                }\n            };\n            for (var _b = 0, _c = component.prototype.propList[key]; _b < _c.length; _b++) {\n                var prop = _c[_b];\n                _loop_1(prop);\n            }\n        }\n    }\n    return component.prototype.builderObject;\n}\n/**\n * Method used to create builder for the components\n * @param {any} component -specifies the target component for which builder to be created.\n * @private\n */\nexport function CreateBuilder(component) {\n    var builderFunction = function (element) {\n        this.element = element;\n        return this;\n    };\n    var instanceFunction = function (element) {\n        if (!builderFunction.prototype.hasOwnProperty('create')) {\n            builderFunction.prototype = getBuilderProperties(component);\n            builderFunction.prototype.create = function () {\n                var temp = extend({}, {}, this.properties);\n                this.properties = {};\n                return new component(temp, this.element);\n            };\n        }\n        return new builderFunction(element);\n    };\n    return instanceFunction;\n}\n/**\n * Returns parent options for the object\n * @param {Object} context\n * @param {string} prefix\n * @private\n */\nfunction getParentContext(context, prefix) {\n    if (context.hasOwnProperty('parentObj') === false) {\n        return { context: context, prefix: prefix };\n    }\n    else {\n        var curText = getValue('propName', context);\n        if (curText) {\n            prefix = curText + '-' + prefix;\n        }\n        return getParentContext(getValue('parentObj', context), prefix);\n    }\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { createElement, selectAll, closest } from './dom';\nimport { Base } from './base';\nimport { Browser } from './browser';\nimport { EventHandler } from './event-handler';\nimport { Property, NotifyPropertyChanges, Event } from './notify-property-change';\n/**\n * The Animation framework provide options to animate the html DOM elements\n * ```typescript\n *   let animeObject = new Animation({\n *      name: 'SlideLeftIn',\n *      duration: 1000\n *   });\n *   animeObject.animate('#anime1');\n *   animeObject.animate('#anime2', { duration: 500 });\n * ```\n */\nvar Animation = /** @class */ (function (_super) {\n    __extends(Animation, _super);\n    function Animation(options) {\n        var _this = _super.call(this, options, undefined) || this;\n        /**\n         * @private\n         */\n        _this.easing = {\n            ease: 'cubic-bezier(0.250, 0.100, 0.250, 1.000)',\n            linear: 'cubic-bezier(0.250, 0.250, 0.750, 0.750)',\n            easeIn: 'cubic-bezier(0.420, 0.000, 1.000, 1.000)',\n            easeOut: 'cubic-bezier(0.000, 0.000, 0.580, 1.000)',\n            easeInOut: 'cubic-bezier(0.420, 0.000, 0.580, 1.000)',\n            elasticInOut: 'cubic-bezier(0.5,-0.58,0.38,1.81)',\n            elasticIn: 'cubic-bezier(0.17,0.67,0.59,1.81)',\n            elasticOut: 'cubic-bezier(0.7,-0.75,0.99,1.01)'\n        };\n        return _this;\n    }\n    Animation_1 = Animation;\n    /**\n     * Applies animation to the current element.\n     * @param {string | HTMLElement} element - Element which needs to be animated.\n     * @param {AnimationModel} options - Overriding default animation settings.\n     * @return {void}\n     */\n    Animation.prototype.animate = function (element, options) {\n        options = !options ? {} : options;\n        var model = this.getModel(options);\n        if (typeof element === 'string') {\n            var elements = Array.prototype.slice.call(selectAll(element, document));\n            for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n                var element_1 = elements_1[_i];\n                model.element = element_1;\n                Animation_1.delayAnimation(model);\n            }\n        }\n        else {\n            model.element = element;\n            Animation_1.delayAnimation(model);\n        }\n    };\n    /**\n     * Stop the animation effect on animated element.\n     * @param {HTMLElement} element - Element which needs to be stop the animation.\n     * @param {AnimationOptions} model - Handling the animation model at stop function.\n     * @return {void}\n     */\n    Animation.stop = function (element, model) {\n        element.style.animation = '';\n        element.removeAttribute('e-animate');\n        var animationId = element.getAttribute('e-animation-id');\n        if (animationId) {\n            var frameId = parseInt(animationId, 10);\n            cancelAnimationFrame(frameId);\n            element.removeAttribute('e-animation-id');\n        }\n        if (model && model.end) {\n            model.end.call(this, model);\n        }\n    };\n    /**\n     * Set delay to animation element\n     * @param {AnimationModel} model\n     * @returns {void}\n     */\n    Animation.delayAnimation = function (model) {\n        if (model.delay) {\n            setTimeout(function () { Animation_1.applyAnimation(model); }, model.delay);\n        }\n        else {\n            Animation_1.applyAnimation(model);\n        }\n    };\n    /**\n     * Triggers animation\n     * @param {AnimationModel} model\n     * @returns {void}\n     */\n    Animation.applyAnimation = function (model) {\n        var _this = this;\n        model.timeStamp = 0;\n        var step = 0;\n        var timerId = 0;\n        var startTime = 0;\n        var prevTimeStamp = 0;\n        var duration = model.duration;\n        model.element.setAttribute('e-animate', 'true');\n        var startAnimation = function (timeStamp) {\n            try {\n                if (timeStamp) {\n                    // let step: number = model.timeStamp = timeStamp - startTime;\n                    /** phantomjs workaround for timestamp fix */\n                    prevTimeStamp = prevTimeStamp === 0 ? timeStamp : prevTimeStamp;\n                    model.timeStamp = (timeStamp + model.timeStamp) - prevTimeStamp;\n                    prevTimeStamp = timeStamp;\n                    /** phantomjs workaround end */\n                    // trigger animation begin event\n                    if (!step && model.begin) {\n                        model.begin.call(_this, model);\n                    }\n                    step = step + 1;\n                    var avg = model.timeStamp / step;\n                    if (model.timeStamp < duration && model.timeStamp + avg < duration && model.element.getAttribute('e-animate')) {\n                        // apply animation effect to the current element                \n                        model.element.style.animation = model.name + ' ' + model.duration + 'ms ' + model.timingFunction;\n                        if (model.progress) {\n                            model.progress.call(_this, model);\n                        }\n                        // repeat requestAnimationFrame \n                        requestAnimationFrame(startAnimation);\n                    }\n                    else {\n                        // clear requestAnimationFrame\n                        cancelAnimationFrame(timerId);\n                        model.element.removeAttribute('e-animation-id');\n                        model.element.removeAttribute('e-animate');\n                        model.element.style.animation = '';\n                        if (model.end) {\n                            model.end.call(_this, model);\n                        }\n                    }\n                }\n                else {\n                    startTime = performance.now();\n                    // set initial requestAnimationFrame\n                    timerId = requestAnimationFrame(startAnimation);\n                    model.element.setAttribute('e-animation-id', timerId.toString());\n                }\n            }\n            catch (e) {\n                cancelAnimationFrame(timerId);\n                model.element.removeAttribute('e-animation-id');\n                if (model.fail) {\n                    model.fail.call(_this, e);\n                }\n            }\n        };\n        startAnimation();\n    };\n    /**\n     * Returns Animation Model\n     * @param {AnimationModel} options\n     * @returns {AnimationModel}\n     */\n    Animation.prototype.getModel = function (options) {\n        return {\n            name: options.name || this.name,\n            delay: options.delay || this.delay,\n            duration: (options.duration !== undefined ? options.duration : this.duration),\n            begin: options.begin || this.begin,\n            end: options.end || this.end,\n            fail: options.fail || this.fail,\n            progress: options.progress || this.progress,\n            timingFunction: this.easing[options.timingFunction] ? this.easing[options.timingFunction] :\n                (options.timingFunction || this.easing[this.timingFunction])\n        };\n    };\n    /**\n     * @private\n     */\n    Animation.prototype.onPropertyChanged = function (newProp, oldProp) {\n        // no code needed\n    };\n    /**\n     * Returns module name as animation\n     * @private\n     */\n    Animation.prototype.getModuleName = function () {\n        return 'animation';\n    };\n    /**\n     * @private\n     */\n    Animation.prototype.destroy = function () {\n        //Override base destroy;\n    };\n    __decorate([\n        Property('FadeIn')\n    ], Animation.prototype, \"name\", void 0);\n    __decorate([\n        Property(400)\n    ], Animation.prototype, \"duration\", void 0);\n    __decorate([\n        Property('ease')\n    ], Animation.prototype, \"timingFunction\", void 0);\n    __decorate([\n        Property(0)\n    ], Animation.prototype, \"delay\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"progress\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"begin\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"end\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"fail\", void 0);\n    Animation = Animation_1 = __decorate([\n        NotifyPropertyChanges\n    ], Animation);\n    return Animation;\n    var Animation_1;\n}(Base));\nexport { Animation };\n/**\n * Ripple provides material theme's wave effect when an element is clicked\n * ```html\n * <div id='ripple'></div>\n * <script>\n *   rippleEffect(document.getElementById('ripple'));\n * </script>\n * ```\n * @private\n * @param HTMLElement element - Target element\n * @param RippleOptions rippleOptions - Ripple options .\n */\nexport function rippleEffect(element, rippleOptions, done) {\n    var rippleModel = getRippleModel(rippleOptions);\n    if (rippleModel.rippleFlag === false || (rippleModel.rippleFlag === undefined && !isRippleEnabled)) {\n        return Function;\n    }\n    element.setAttribute('data-ripple', 'true');\n    EventHandler.add(element, 'mousedown', rippleHandler, { parent: element, rippleOptions: rippleModel });\n    EventHandler.add(element, 'mouseup', rippleUpHandler, { parent: element, rippleOptions: rippleModel, done: done });\n    EventHandler.add(element, 'mouseleave', rippleLeaveHandler, { parent: element, rippleOptions: rippleModel });\n    if (Browser.isPointer) {\n        EventHandler.add(element, 'transitionend', rippleLeaveHandler, { parent: element, rippleOptions: rippleModel });\n    }\n    return (function () {\n        element.removeAttribute('data-ripple');\n        EventHandler.remove(element, 'mousedown', rippleHandler);\n        EventHandler.remove(element, 'mouseup', rippleUpHandler);\n        EventHandler.remove(element, 'mouseleave', rippleLeaveHandler);\n        EventHandler.remove(element, 'transitionend', rippleLeaveHandler);\n    });\n}\nfunction getRippleModel(rippleOptions) {\n    var rippleModel = {\n        selector: rippleOptions && rippleOptions.selector ? rippleOptions.selector : null,\n        ignore: rippleOptions && rippleOptions.ignore ? rippleOptions.ignore : null,\n        rippleFlag: rippleOptions && rippleOptions.rippleFlag,\n        isCenterRipple: rippleOptions && rippleOptions.isCenterRipple,\n        duration: rippleOptions && rippleOptions.duration ? rippleOptions.duration : 350\n    };\n    return rippleModel;\n}\n/**\n * Handler for ripple event\n * @param {MouseEvent} e\n * @returns {void}\n * @private\n */\nfunction rippleHandler(e) {\n    var target = (e.target);\n    var selector = this.rippleOptions.selector;\n    var element = selector ? closest(target, selector) : target;\n    if (!element || (this.rippleOptions && closest(target, this.rippleOptions.ignore))) {\n        return;\n    }\n    var offset = element.getBoundingClientRect();\n    var offsetX = e.pageX - document.body.scrollLeft;\n    var offsetY = e.pageY - ((!document.body.scrollTop && document.documentElement) ?\n        document.documentElement.scrollTop : document.body.scrollTop);\n    var pageX = Math.max(Math.abs(offsetX - offset.left), Math.abs(offsetX - offset.right));\n    var pageY = Math.max(Math.abs(offsetY - offset.top), Math.abs(offsetY - offset.bottom));\n    var radius = Math.sqrt(pageX * pageX + pageY * pageY);\n    var diameter = radius * 2 + 'px';\n    var x = offsetX - offset.left - radius;\n    var y = offsetY - offset.top - radius;\n    if (this.rippleOptions && this.rippleOptions.isCenterRipple) {\n        x = 0;\n        y = 0;\n        diameter = '100%';\n    }\n    element.classList.add('e-ripple');\n    var duration = this.rippleOptions.duration.toString();\n    var styles = 'width: ' + diameter + ';height: ' + diameter + ';left: ' + x + 'px;top: ' + y + 'px;' +\n        'transition-duration: ' + duration + 'ms;';\n    var rippleElement = createElement('div', { className: 'e-ripple-element', styles: styles });\n    element.appendChild(rippleElement);\n    window.getComputedStyle(rippleElement).getPropertyValue('opacity');\n    rippleElement.style.transform = 'scale(1)';\n    if (element !== this.parent) {\n        EventHandler.add(element, 'mouseleave', rippleLeaveHandler, { parent: this.parent, rippleOptions: this.rippleOptions });\n    }\n}\n/**\n * Handler for ripple element mouse up event\n * @param {MouseEvent} e\n * @returns {void}\n * @private\n */\nfunction rippleUpHandler(e) {\n    removeRipple(e, this);\n}\n/**\n * Handler for ripple element mouse move event\n * @param {MouseEvent} e\n * @returns {void}\n * @private\n */\nfunction rippleLeaveHandler(e) {\n    removeRipple(e, this);\n}\n/**\n * Handler for removing ripple element\n * @param {MouseEvent} e\n * @param {rippleArgs} eventArgs\n * @returns {void}\n * @private\n */\nfunction removeRipple(e, eventArgs) {\n    var duration = eventArgs.rippleOptions.duration;\n    var target = (e.target);\n    var selector = eventArgs.rippleOptions.selector;\n    var element = selector ? closest(target, selector) : target;\n    if (!element || (element && element.className.indexOf('e-ripple') === -1)) {\n        return;\n    }\n    var rippleElements = selectAll('.e-ripple-element', element);\n    var rippleElement = rippleElements[rippleElements.length - 1];\n    if (rippleElement) {\n        rippleElement.style.opacity = '0.5';\n    }\n    if (eventArgs.parent !== element) {\n        EventHandler.remove(element, 'mouseleave', rippleLeaveHandler);\n    }\n    /* tslint:disable:align */\n    setTimeout(function () {\n        if (rippleElement && rippleElement.parentNode) {\n            rippleElement.parentNode.removeChild(rippleElement);\n        }\n        if (!element.getElementsByClassName('e-ripple-element').length) {\n            element.classList.remove('e-ripple');\n        }\n        if (eventArgs.done) {\n            eventArgs.done(e);\n        }\n    }, duration);\n}\nexport var isRippleEnabled = false;\n/**\n * Animation Module provides support to enable ripple effect functionality to Essential JS 2 components.\n * @param {boolean} isRipple Specifies the boolean value to enable or disable ripple effect.\n * @returns {boolean}\n */\nexport function enableRipple(isRipple) {\n    isRippleEnabled = isRipple;\n    return isRippleEnabled;\n}\n","import { DateFormat } from './intl/date-formatter';\nimport { NumberFormat } from './intl/number-formatter';\nimport { DateParser } from './intl/date-parser';\nimport { NumberParser } from './intl/number-parser';\nimport { IntlBase } from './intl/intl-base';\nimport { extend, getValue } from './util';\nimport { Observer } from './observer';\n/**\n * Specifies the observer used for external change detection.\n */\nexport var onIntlChange = new Observer();\n/**\n * Specifies the default rtl status for EJ2 components.\n */\nexport var rightToLeft = false;\n/**\n * Specifies the CLDR data loaded for internationalization functionalities.\n * @private\n */\nexport var cldrData = {};\n/**\n * Specifies the default culture value to be considered.\n * @private\n */\nexport var defaultCulture = 'en-US';\n/**\n * Specifies default currency code to be considered\n * @private\n */\nexport var defaultCurrencyCode = 'USD';\nvar mapper = ['numericObject', 'dateObject'];\n/**\n * Internationalization class provides support to parse and format the number and date object to the desired format.\n * ```typescript\n * // To set the culture globally\n * setCulture('en-GB');\n *\n * // To set currency code globally\n * setCurrencyCode('EUR');\n *\n * //Load cldr data\n * loadCldr(gregorainData);\n * loadCldr(timeZoneData);\n * loadCldr(numbersData);\n * loadCldr(numberSystemData);\n *\n * // To use formatter in component side\n * let Intl:Internationalization = new Internationalization();\n *\n * // Date formatting\n * let dateFormatter: Function = Intl.getDateFormat({skeleton:'long',type:'dateTime'});\n * dateFormatter(new Date('11/2/2016'));\n * dateFormatter(new Date('25/2/2030'));\n * Intl.formatDate(new Date(),{skeleton:'E'});\n *\n * //Number formatting\n * let numberFormatter: Function = Intl.getNumberFormat({skeleton:'C5'})\n * numberFormatter(24563334);\n * Intl.formatNumber(123123,{skeleton:'p2'});\n *\n * // Date parser\n * let dateParser: Function = Intl.getDateParser({skeleton:'short',type:'time'});\n * dateParser('10:30 PM');\n * Intl.parseDate('10',{skeleton:'H'});\n * ```\n */\nvar Internationalization = /** @class */ (function () {\n    function Internationalization(cultureName) {\n        if (cultureName) {\n            this.culture = cultureName;\n        }\n    }\n    /**\n     * Returns the format function for given options.\n     * @param {DateFormatOptions} options - Specifies the format options in which the format function will return.\n     * @returns {Function}\n     */\n    Internationalization.prototype.getDateFormat = function (options) {\n        return DateFormat.dateFormat(this.getCulture(), options || { type: 'date', skeleton: 'short' }, cldrData);\n    };\n    /**\n     * Returns the format function for given options.\n     * @param {NumberFormatOptions} options - Specifies the format options in which the format function will return.\n     * @returns {Function}\n     */\n    Internationalization.prototype.getNumberFormat = function (options) {\n        if (options && !options.currency) {\n            options.currency = defaultCurrencyCode;\n        }\n        return NumberFormat.numberFormatter(this.getCulture(), options || {}, cldrData);\n    };\n    /**\n     * Returns the parser function for given options.\n     * @param {DateFormatOptions} options - Specifies the format options in which the parser function will return.\n     * @returns {Function}\n     * @private\n     */\n    Internationalization.prototype.getDateParser = function (options) {\n        return DateParser.dateParser(this.getCulture(), options || { skeleton: 'short', type: 'date' }, cldrData);\n    };\n    /**\n     * Returns the parser function for given options.\n     * @param {NumberFormatOptions} options - Specifies the format options in which the parser function will return.\n     * @returns {Function}\n     */\n    Internationalization.prototype.getNumberParser = function (options) {\n        return NumberParser.numberParser(this.getCulture(), options || { format: 'N' }, cldrData);\n    };\n    /**\n     * Returns the formatted string based on format options.\n     * @param {Number} value - Specifies the number to format.\n     * @param {NumberFormatOptions} option - Specifies the format options in which the number will be formatted.\n     * @returns {string}\n     */\n    Internationalization.prototype.formatNumber = function (value, option) {\n        return this.getNumberFormat(option)(value);\n    };\n    /**\n     * Returns the formatted date string based on format options.\n     * @param {Number} value - Specifies the number to format.\n     * @param {DateFormatOptions} option - Specifies the format options in which the number will be formatted.\n     * @returns {string}\n     */\n    Internationalization.prototype.formatDate = function (value, option) {\n        return this.getDateFormat(option)(value);\n    };\n    /**\n     * Returns the date object for given date string and options.\n     * @param {string} value - Specifies the string to parse.\n     * @param {DateFormatOptions} option - Specifies the parse options in which the date string will be parsed.\n     * @returns {Date}\n     */\n    Internationalization.prototype.parseDate = function (value, option) {\n        return this.getDateParser(option)(value);\n    };\n    /**\n     * Returns the number object from the given string value and options.\n     * @param {string} value - Specifies the string to parse.\n     * @param {NumberFormatOptions} option - Specifies the parse options in which the  string number  will be parsed.\n     * @returns {number}\n     */\n    Internationalization.prototype.parseNumber = function (value, option) {\n        return this.getNumberParser(option)(value);\n    };\n    /**\n     * Returns Native Date Time Pattern\n     * @param {DateFormatOptions} option - Specifies the parse options for resultant date time pattern.\n     * @param {boolean} isExcelFormat - Specifies format value to be converted to excel pattern.\n     * @returns {string}\n     * @private\n     */\n    Internationalization.prototype.getDatePattern = function (option, isExcelFormat) {\n        return IntlBase.getActualDateTimeFormat(this.getCulture(), option, cldrData, isExcelFormat);\n    };\n    /**\n     * Returns Native Number Pattern\n     * @param {NumberFormatOptions} option - Specifies the parse options for resultant number pattern.\n     * @returns {string}\n     * @private\n     */\n    Internationalization.prototype.getNumberPattern = function (option) {\n        return IntlBase.getActualNumberFormat(this.getCulture(), option, cldrData);\n    };\n    /**\n     * Returns the First Day of the Week\n     * @returns {number}\n     */\n    Internationalization.prototype.getFirstDayOfWeek = function () {\n        return IntlBase.getWeekData(this.getCulture(), cldrData);\n    };\n    Internationalization.prototype.getCulture = function () {\n        return this.culture || defaultCulture;\n    };\n    return Internationalization;\n}());\nexport { Internationalization };\n/**\n * Set the default culture to all EJ2 components\n * @param {string} cultureName - Specifies the culture name to be set as default culture.\n */\nexport function setCulture(cultureName) {\n    defaultCulture = cultureName;\n    onIntlChange.notify('notifyExternalChange', { 'locale': defaultCulture });\n}\n/**\n * Set the default currency code to all EJ2 components\n * @param {string} currencyCode Specifies the culture name to be set as default culture.\n * @returns {void}\n */\nexport function setCurrencyCode(currencyCode) {\n    defaultCurrencyCode = currencyCode;\n    onIntlChange.notify('notifyExternalChange', { 'currencyCode': defaultCurrencyCode });\n}\n/**\n * Load the CLDR data into context\n * @param {Object[]} obj Specifies the CLDR data's to be used for formatting and parser.\n * @returns {void}\n */\nexport function loadCldr() {\n    var data = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        data[_i] = arguments[_i];\n    }\n    for (var _a = 0, data_1 = data; _a < data_1.length; _a++) {\n        var obj = data_1[_a];\n        extend(cldrData, obj, {}, true);\n    }\n}\n/**\n * To enable or disable RTL functionality for all components globally.\n * @param {boolean} status - Optional argument Specifies the status value to enable or disable rtl option.\n * @returns {void}\n */\nexport function enableRtl(status) {\n    if (status === void 0) { status = true; }\n    rightToLeft = status;\n    onIntlChange.notify('notifyExternalChange', { enableRtl: rightToLeft });\n}\n/**\n * To get the numeric CLDR object for given culture\n * @param {string} locale - Specifies the locale for which numericObject to be returned.\n * @ignore\n * @private\n */\nexport function getNumericObject(locale, type) {\n    /* tslint:disable no-any */\n    var numObject = IntlBase.getDependables(cldrData, locale, true)[mapper[0]];\n    var dateObject = IntlBase.getDependables(cldrData, locale)[mapper[1]];\n    var numSystem = getValue('defaultNumberingSystem', numObject);\n    var symbPattern = getValue('symbols-numberSystem-' + numSystem, numObject);\n    var pattern = IntlBase.getSymbolPattern(type || 'decimal', numSystem, numObject, false);\n    return extend(symbPattern, IntlBase.getFormatData(pattern, true, '', true), { 'dateSeparator': IntlBase.getDateSeparator(dateObject) });\n}\n/**\n * To get the default date CLDR object.\n * @ignore\n * @private\n */\nexport function getDefaultDateObject() {\n    return IntlBase.getDependables(cldrData, '', false)[mapper[1]];\n}\n","/**\n * Template Engine\n */\nvar LINES = new RegExp('\\\\n|\\\\r|\\\\s\\\\s+', 'g');\nvar QUOTES = new RegExp(/'|\"/g);\nvar IF_STMT = new RegExp('if ?\\\\(');\nvar ELSEIF_STMT = new RegExp('else if ?\\\\(');\nvar ELSE_STMT = new RegExp('else');\nvar FOR_STMT = new RegExp('for ?\\\\(');\nvar IF_OR_FOR = new RegExp('(\\/if|\\/for)');\nvar CALL_FUNCTION = new RegExp('\\\\((.*)\\\\)', '');\nvar NOT_NUMBER = new RegExp('^[0-9]+$', 'g');\nvar WORD = new RegExp('[\\\\w\"\\'.\\\\s+]+', 'g');\nvar DBL_QUOTED_STR = new RegExp('\"(.*?)\"', 'g');\nvar exp = new RegExp('\\\\${([^}]*)}', 'g');\n// let cachedTemplate: Object = {};\n/**\n * The function to set regular expression for template expression string.\n * @param  {RegExp} value - Value expression.\n * @private\n */\nexport function expression(value) {\n    if (value) {\n        exp = value;\n    }\n    return exp;\n}\n// /**\n//  * To render the template string from the given data.\n//  * @param  {string} template - String Template.\n//  * @param  {Object[]|JSON} data - DataSource for the template.\n//  * @param  {Object} helper? - custom helper object.\n//  */\n// export function template(template: string, data: JSON, helper?: Object): string {\n//     let hash: string = hashCode(template);\n//     let tmpl: Function;\n//     if (!cachedTemplate[hash]) {\n//         tmpl = cachedTemplate[hash] = compile(template, helper);\n//     } else {\n//         tmpl = cachedTemplate[hash];\n//     }\n//     return tmpl(data);\n// }\n/**\n * Compile the template string into template function.\n * @param  {string} template - The template string which is going to convert.\n * @param  {Object} helper? - Helper functions as an object.\n * @private\n */\nexport function compile(template, helper) {\n    var argName = 'data';\n    var evalExpResult = evalExp(template, argName, helper);\n    var fnCode = \"var str=\\\"\" + evalExpResult + \"\\\"; return str;\";\n    // tslint:disable-next-line:no-function-constructor-with-string-args\n    var fn = new Function(argName, fnCode);\n    return fn.bind(helper);\n}\n// function used to evaluate the function expression\nfunction evalExp(str, nameSpace, helper) {\n    var varCOunt = 0;\n    /**\n     * Variable containing Local Keys\n     */\n    var localKeys = [];\n    return str.replace(LINES, '').replace(DBL_QUOTED_STR, '\\'$1\\'').replace(exp, function (match, cnt, offset, matchStr) {\n        var matches = cnt.match(CALL_FUNCTION);\n        // matches to detect any function calls\n        if (matches) {\n            var rlStr = matches[1];\n            if (ELSEIF_STMT.test(cnt)) {\n                //handling else-if condition\n                cnt = '\";} ' + cnt.replace(matches[1], rlStr.replace(WORD, function (str) {\n                    str = str.trim();\n                    return addNameSpace(str, !(QUOTES.test(str)) && (localKeys.indexOf(str) === -1), nameSpace, localKeys);\n                })) + '{ \\n str = str + \"';\n            }\n            else if (IF_STMT.test(cnt)) {\n                //handling if condition\n                cnt = '\"; ' + cnt.replace(matches[1], rlStr.replace(WORD, function (strs) {\n                    strs = strs.trim();\n                    return addNameSpace(strs, !(QUOTES.test(strs)) && (localKeys.indexOf(strs) === -1), nameSpace, localKeys);\n                })) + '{ \\n str = str + \"';\n            }\n            else if (FOR_STMT.test(cnt)) {\n                //handling for condition\n                var rlStr_1 = matches[1].split(' of ');\n                // replace for each into actual JavaScript\n                cnt = '\"; ' + cnt.replace(matches[1], function (mtc) {\n                    localKeys.push(rlStr_1[0]);\n                    localKeys.push(rlStr_1[0] + 'Index');\n                    varCOunt = varCOunt + 1;\n                    // tslint:disable-next-line\n                    return 'var i' + varCOunt + '=0; i' + varCOunt + ' < ' + addNameSpace(rlStr_1[1], true, nameSpace, localKeys) + '.length; i' + varCOunt + '++';\n                }) + '{ \\n ' + rlStr_1[0] + '= ' + addNameSpace(rlStr_1[1], true, nameSpace, localKeys)\n                    + '[i' + varCOunt + ']; \\n var ' + rlStr_1[0] + 'Index=i' + varCOunt + '; \\n str = str + \"';\n            }\n            else {\n                //helper function handling\n                var fnStr = cnt.split('(');\n                var fNameSpace = (helper && helper.hasOwnProperty(fnStr[0]) ? 'this.' : 'global');\n                fNameSpace = (/\\./.test(fnStr[0]) ? '' : fNameSpace);\n                cnt = '\" + ' + (fNameSpace === 'global' ? '' : fNameSpace) +\n                    cnt.replace(rlStr, addNameSpace(matches[1].replace(',', nameSpace + '.'), (fNameSpace === 'global' ? false : true), nameSpace, localKeys)) +\n                    '+\"';\n            }\n        }\n        else if (ELSE_STMT.test(cnt)) {\n            //handling else condition\n            cnt = '\"; ' + cnt.replace(ELSE_STMT, '} else { \\n str = str + \"');\n        }\n        else if (!!cnt.match(IF_OR_FOR)) {\n            // close condition \n            cnt = cnt.replace(IF_OR_FOR, '\"; \\n } \\n str = str + \"');\n        }\n        else {\n            // evaluate normal expression\n            cnt = '\"+' + addNameSpace(cnt, (localKeys.indexOf(cnt) === -1), nameSpace, localKeys) + '+\"';\n        }\n        return cnt;\n    });\n}\nfunction addNameSpace(str, addNS, nameSpace, ignoreList) {\n    return ((addNS && !(NOT_NUMBER.test(str)) && ignoreList.indexOf(str.split('.')[0]) === -1) ? nameSpace + '.' + str : str);\n}\n// // Create hashCode for template string to storeCached function\n// function hashCode(str: string): string {\n//     return str.split('').reduce((a: number, b: string) => { a = ((a << 5) - a) + b.charCodeAt(0); return a & a; }, 0).toString();\n// }\n","/**\n * Template Engine Bridge\n */\nimport { compile as render } from './template';\nimport { createElement } from './dom';\nvar HAS_ROW = /^[\\n\\r.]+\\<tr|^\\<tr/;\nvar HAS_SVG = /^[\\n\\r.]+\\<svg|^\\<path|^\\<g/;\n/**\n * Compile the template string into template function.\n * @param  {string} templateString - The template string which is going to convert.\n * @param  {Object} helper? - Helper functions as an object.\n * @private\n */\n//tslint:disable-next-line\nexport function compile(templateString, helper) {\n    var compiler = engineObj.compile(templateString, helper);\n    //tslint:disable-next-line\n    return function (data, component, propName) {\n        var result = compiler(data, component, propName);\n        if (typeof result === 'string') {\n            if (HAS_SVG.test(result)) {\n                var ele = createElement('svg', { innerHTML: result });\n                return ele.childNodes;\n            }\n            else {\n                var ele = createElement((HAS_ROW.test(result) ? 'table' : 'div'), { innerHTML: result });\n                return ele.childNodes;\n            }\n        }\n        else {\n            return result;\n        }\n    };\n}\n/**\n * Set your custom template engine for template rendering.\n * @param  {ITemplateEngine} classObj - Class object for custom template.\n * @private\n */\nexport function setTemplateEngine(classObj) {\n    engineObj.compile = classObj.compile;\n}\n/**\n * Get current template engine for template rendering.\n * @param  {ITemplateEngine} classObj - Class object for custom template.\n * @private\n */\nexport function getTemplateEngine() {\n    return engineObj.compile;\n}\n//Default Engine Class\nvar Engine = /** @class */ (function () {\n    function Engine() {\n    }\n    Engine.prototype.compile = function (templateString, helper) {\n        if (helper === void 0) { helper = {}; }\n        return render(templateString, helper);\n    };\n    return Engine;\n}());\nvar engineObj = { compile: new Engine().compile };\n","import { detach, getUniqueID, rippleEffect, setValue } from '@syncfusion/ej2-base';\nimport { getValue, addClass } from '@syncfusion/ej2-base';\n/**\n * Initialize wrapper element for angular.\n * @private\n */\nexport function wrapperInitialize(createElement, tag, type, element, WRAPPER, role) {\n    if (element.tagName === tag) {\n        var ejInstance = getValue('ej2_instances', element);\n        var input = createElement('input', { attrs: { 'type': type } });\n        var props = ['change', 'cssClass', 'label', 'labelPosition'];\n        var wrapper = createElement(tag, {\n            className: WRAPPER, attrs: { 'role': role, 'aria-checked': 'false' }\n        });\n        for (var index = 0, len = element.attributes.length; index < len; index++) {\n            if (props.indexOf(element.attributes[index].nodeName) === -1) {\n                input.setAttribute(element.attributes[index].nodeName, element.attributes[index].nodeValue);\n            }\n        }\n        element.parentNode.insertBefore(input, element);\n        detach(element);\n        element = input;\n        element.parentNode.insertBefore(wrapper, element);\n        wrapper.appendChild(element);\n        setValue('ej2_instances', ejInstance, element);\n    }\n    return element;\n}\nexport function getTextNode(element) {\n    var node;\n    var childnode = element.childNodes;\n    for (var i = 0; i < childnode.length; i++) {\n        node = childnode[i];\n        if (node.nodeType === 3) {\n            return node;\n        }\n    }\n    return null;\n}\n/**\n * Destroy the button components.\n * @private\n */\nexport function destroy(ejInst, wrapper, tagName) {\n    if (tagName === 'INPUT') {\n        wrapper.parentNode.insertBefore(ejInst.element, wrapper);\n        detach(wrapper);\n        ejInst.element.checked = false;\n        ['name', 'value', 'disabled'].forEach(function (key) {\n            ejInst.element.removeAttribute(key);\n        });\n    }\n    else {\n        if (ejInst.element.id) {\n            wrapper.setAttribute('id', ejInst.element.id);\n        }\n        ['role', 'aria-checked', 'class'].forEach(function (key) {\n            wrapper.removeAttribute(key);\n        });\n        wrapper.innerHTML = '';\n    }\n}\nexport function preRender(proxy, control, wrapper, element, moduleName) {\n    element = wrapperInitialize(proxy.createElement, control, 'checkbox', element, wrapper, moduleName);\n    proxy.element = element;\n    if (proxy.element.getAttribute('type') !== 'checkbox') {\n        proxy.element.setAttribute('type', 'checkbox');\n    }\n    if (!proxy.element.id) {\n        proxy.element.id = getUniqueID('e-' + moduleName);\n    }\n}\n/**\n * Creates CheckBox component UI with theming and ripple support.\n * @private\n */\nexport function createCheckBox(createElement, enableRipple, options) {\n    if (enableRipple === void 0) { enableRipple = false; }\n    if (options === void 0) { options = {}; }\n    var wrapper = createElement('div', { className: 'e-checkbox-wrapper e-css' });\n    if (options.cssClass) {\n        addClass([wrapper], options.cssClass.split(' '));\n    }\n    if (options.enableRtl) {\n        wrapper.classList.add('e-rtl');\n    }\n    if (enableRipple) {\n        var rippleSpan = createElement('span', { className: 'e-ripple-container' });\n        rippleEffect(rippleSpan, { isCenterRipple: true, duration: 400 });\n        wrapper.appendChild(rippleSpan);\n    }\n    var frameSpan = createElement('span', { className: 'e-frame e-icons' });\n    if (options.checked) {\n        frameSpan.classList.add('e-check');\n    }\n    wrapper.appendChild(frameSpan);\n    if (options.label) {\n        var labelSpan = createElement('span', { className: 'e-label', innerHTML: options.label });\n        wrapper.appendChild(labelSpan);\n    }\n    return wrapper;\n}\nexport function rippleMouseHandler(e, rippleSpan) {\n    if (rippleSpan) {\n        var event_1 = document.createEvent('MouseEvents');\n        event_1.initEvent(e.type, false, true);\n        rippleSpan.dispatchEvent(event_1);\n    }\n}\n","import { extend, merge, isNullOrUndefined, getValue } from '@syncfusion/ej2-base';\nimport { attributes, prepend, isVisible, append, addClass } from '@syncfusion/ej2-base';\nimport { compile } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nexport var cssClass = {\n    li: 'e-list-item',\n    ul: 'e-list-parent e-ul',\n    group: 'e-list-group-item',\n    icon: 'e-list-icon',\n    text: 'e-list-text',\n    check: 'e-list-check',\n    checked: 'e-checked',\n    selected: 'e-selected',\n    expanded: 'e-expanded',\n    textContent: 'e-text-content',\n    hasChild: 'e-has-child',\n    level: 'e-level',\n    url: 'e-list-url',\n    collapsible: 'e-icon-collapsible',\n    disabled: 'e-disabled',\n    image: 'e-list-img',\n    iconWrapper: 'e-icon-wrapper'\n};\n/**\n * Base List Generator\n */\nexport var ListBase;\n(function (ListBase) {\n    /**\n     * Default mapped fields.\n     */\n    ListBase.defaultMappedFields = {\n        id: 'id',\n        text: 'text',\n        url: 'url',\n        value: 'value',\n        isChecked: 'isChecked',\n        enabled: 'enabled',\n        expanded: 'expanded',\n        selected: 'selected',\n        iconCss: 'iconCss',\n        child: 'child',\n        isVisible: 'isVisible',\n        hasChildren: 'hasChildren',\n        tooltip: 'tooltip',\n        htmlAttributes: 'htmlAttributes',\n        urlAttributes: 'urlAttributes',\n        imageAttributes: 'imageAttributes',\n        imageUrl: 'imageUrl',\n        groupBy: null\n    };\n    var defaultAriaAttributes = {\n        level: 1,\n        listRole: 'presentation',\n        itemRole: 'presentation',\n        groupItemRole: 'group',\n        itemText: 'list-item',\n        wrapperRole: 'presentation'\n    };\n    var defaultListBaseOptions = {\n        showCheckBox: false,\n        showIcon: false,\n        expandCollapse: false,\n        fields: ListBase.defaultMappedFields,\n        ariaAttributes: defaultAriaAttributes,\n        listClass: '',\n        itemClass: '',\n        processSubChild: false,\n        sortOrder: 'None',\n        template: null,\n        groupTemplate: null,\n        headerTemplate: null,\n        expandIconClass: 'e-icon-collapsible',\n        moduleName: 'list',\n        expandIconPosition: 'Right'\n    };\n    /**\n     * Function helps to created and return the UL Li element based on your data.\n     * @param  {{[key:string]:Object}[]|string[]} dataSource - Specifies an array of JSON or String data.\n     * @param  {ListBaseOptions} options? - Specifies the list options that need to provide.\n     */\n    function createList(createElement, dataSource, options, isSingleLevel) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes);\n        var type = typeofData(dataSource).typeof;\n        if (type === 'string' || type === 'number') {\n            return createListFromArray(createElement, dataSource, isSingleLevel, options);\n        }\n        else {\n            return createListFromJson(createElement, dataSource, options, ariaAttributes.level, isSingleLevel);\n        }\n    }\n    ListBase.createList = createList;\n    /**\n     * Function helps to created an element list based on string array input .\n     * @param  {string[]} dataSource - Specifies an array of string data\n     */\n    function createListFromArray(createElement, dataSource, isSingleLevel, options) {\n        var subChild = createListItemFromArray(createElement, dataSource, isSingleLevel, options);\n        return generateUL(createElement, subChild, null, options);\n    }\n    ListBase.createListFromArray = createListFromArray;\n    /**\n     * Function helps to created an element list based on string array input .\n     * @param  {string[]} dataSource - Specifies an array of string data\n     */\n    function createListItemFromArray(createElement, dataSource, isSingleLevel, options) {\n        var subChild = [];\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        cssClass = getModuleClass(curOpt.moduleName);\n        var id = generateId(); // generate id for drop-down-list option.\n        for (var i = 0; i < dataSource.length; i++) {\n            if (isNullOrUndefined(dataSource[i])) {\n                continue;\n            }\n            var li = void 0;\n            if (curOpt.itemCreating && typeof curOpt.itemCreating === 'function') {\n                var curData = {\n                    dataSource: dataSource,\n                    curData: dataSource[i],\n                    text: dataSource[i],\n                    options: curOpt\n                };\n                curOpt.itemCreating(curData);\n            }\n            if (isSingleLevel) {\n                li = generateSingleLevelLI(createElement, dataSource[i], undefined, null, null, [], null, id, i, options);\n            }\n            else {\n                li = generateLI(createElement, dataSource[i], undefined, null, null, options);\n            }\n            if (curOpt.itemCreated && typeof curOpt.itemCreated === 'function') {\n                var curData = {\n                    dataSource: dataSource,\n                    curData: dataSource[i],\n                    text: dataSource[i],\n                    item: li,\n                    options: curOpt\n                };\n                curOpt.itemCreated(curData);\n            }\n            subChild.push(li);\n        }\n        return subChild;\n    }\n    ListBase.createListItemFromArray = createListItemFromArray;\n    /**\n     * Function helps to created an element list based on array of JSON input .\n     * @param  {{[key:string]:Object}[]} dataSource - Specifies an array of JSON data.\n     * @param  {ListBaseOptions} options? - Specifies the list options that need to provide.\n     */\n    // tslint:disable-next-line:max-func-body-length\n    function createListItemFromJson(createElement, dataSource, options, level, isSingleLevel) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        cssClass = getModuleClass(curOpt.moduleName);\n        var fields = extend({}, ListBase.defaultMappedFields, curOpt.fields);\n        var ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes);\n        var id;\n        if (level) {\n            ariaAttributes.level = level;\n        }\n        var child = [];\n        var li;\n        if (dataSource.length && !typeofData(dataSource).item.hasOwnProperty(fields.id)) {\n            id = generateId(); // generate id for drop-down-list option.\n        }\n        for (var i = 0; i < dataSource.length; i++) {\n            var fieldData = getFieldValues(dataSource[i], fields);\n            if (isNullOrUndefined(dataSource[i])) {\n                continue;\n            }\n            if (curOpt.itemCreating && typeof curOpt.itemCreating === 'function') {\n                var curData = {\n                    dataSource: dataSource,\n                    curData: dataSource[i],\n                    text: fieldData[fields.text],\n                    options: curOpt,\n                    fields: fields\n                };\n                curOpt.itemCreating(curData);\n            }\n            var curItem = dataSource[i];\n            if (curOpt.itemCreating && typeof curOpt.itemCreating === 'function') {\n                fieldData = getFieldValues(dataSource[i], fields);\n            }\n            if (fieldData.hasOwnProperty(fields.id) && !isNullOrUndefined(fieldData[fields.id])) {\n                id = fieldData.id;\n            }\n            var innerEle = [];\n            if (curOpt.showCheckBox) {\n                innerEle.push(createElement('input', { className: cssClass.check, attrs: { type: 'checkbox' } }));\n            }\n            if (isSingleLevel === true) {\n                if (curOpt.showIcon && fieldData.hasOwnProperty(fields.iconCss)) {\n                    if (!isNullOrUndefined(fieldData[fields.iconCss])) {\n                        innerEle.push(createElement('span', { className: cssClass.icon + ' ' + fieldData[fields.iconCss] }));\n                    }\n                }\n                li = generateSingleLevelLI(createElement, curItem, fieldData, fields, curOpt.itemClass, innerEle, (curItem.hasOwnProperty('isHeader') &&\n                    curItem.isHeader) ? true : false, id, i, options);\n            }\n            else {\n                li = generateLI(createElement, curItem, fieldData, fields, curOpt.itemClass, options);\n                li.classList.add(cssClass.level + '-' + ariaAttributes.level);\n                li.setAttribute('aria-level', ariaAttributes.level.toString());\n                if (fieldData.hasOwnProperty(fields.tooltip)) {\n                    li.setAttribute('title', fieldData[fields.tooltip]);\n                }\n                if (fieldData.hasOwnProperty(fields.htmlAttributes) && fieldData[fields.htmlAttributes]) {\n                    setAttribute(li, fieldData[fields.htmlAttributes]);\n                }\n                if (fieldData.hasOwnProperty(fields.enabled) && fieldData[fields.enabled] === false) {\n                    li.classList.add(cssClass.disabled);\n                }\n                if (fieldData.hasOwnProperty(fields.isVisible) && fieldData[fields.isVisible] === false) {\n                    li.style.display = 'none';\n                }\n                if (fieldData.hasOwnProperty(fields.imageUrl) && !isNullOrUndefined(fieldData[fields.imageUrl])) {\n                    var attr = { src: fieldData[fields.imageUrl] };\n                    if (fieldData.hasOwnProperty(fields.imageUrl)) {\n                        merge(attr, fieldData[fields.imageAttributes]);\n                    }\n                    prepend([createElement('img', { className: cssClass.image, attrs: attr })], li.firstElementChild);\n                }\n                if (curOpt.showIcon && fieldData.hasOwnProperty(fields.iconCss) && !curOpt.template) {\n                    if (!isNullOrUndefined(fieldData[fields.iconCss])) {\n                        prepend([createElement('div', { className: cssClass.icon + ' ' + fieldData[fields.iconCss] })], li.firstElementChild);\n                    }\n                }\n                if (innerEle.length) {\n                    prepend(innerEle, li.firstElementChild);\n                }\n                processSubChild(createElement, fieldData, fields, dataSource, curOpt, li, ariaAttributes.level);\n            }\n            if (curOpt.itemCreated && typeof curOpt.itemCreated === 'function') {\n                var curData = {\n                    dataSource: dataSource,\n                    curData: dataSource[i],\n                    text: fieldData[fields.text],\n                    item: li,\n                    options: curOpt,\n                    fields: fields\n                };\n                curOpt.itemCreated(curData);\n            }\n            child.push(li);\n        }\n        return child;\n    }\n    ListBase.createListItemFromJson = createListItemFromJson;\n    /**\n     * Function helps to created an element list based on array of JSON input .\n     * @param  {{[key:string]:Object}[]} dataSource - Specifies an array of JSON data.\n     * @param  {ListBaseOptions} options? - Specifies the list options that need to provide.\n     */\n    function createListFromJson(createElement, dataSource, options, level, isSingleLevel) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var li = createListItemFromJson(createElement, dataSource, options, level, isSingleLevel);\n        return generateUL(createElement, li, curOpt.listClass, options);\n    }\n    ListBase.createListFromJson = createListFromJson;\n    /**\n     * Return the next or previous visible element.\n     * @param  {Element[]|NodeList} elementArray - An element array to find next or previous element.\n     * @param  {Element} li - An element to find next or previous after this element.\n     * @param  {boolean} isPrevious? - Specify when the need get previous element from array.\n     */\n    function getSiblingLI(elementArray, element, isPrevious) {\n        cssClass = getModuleClass(defaultListBaseOptions.moduleName);\n        if (!elementArray || !elementArray.length) {\n            return void 0;\n        }\n        var siblingLI;\n        var liIndex;\n        var liCollections = Array.prototype.slice.call(elementArray);\n        if (element) {\n            liIndex = indexOf(element, liCollections);\n        }\n        else {\n            liIndex = (isPrevious === true ? liCollections.length : -1);\n        }\n        siblingLI = liCollections[liIndex + (isPrevious === true ? -1 : 1)];\n        while (siblingLI && (!isVisible(siblingLI) || siblingLI.classList.contains(cssClass.disabled))) {\n            liIndex = liIndex + (isPrevious === true ? -1 : 1);\n            siblingLI = liCollections[liIndex];\n        }\n        return siblingLI;\n    }\n    ListBase.getSiblingLI = getSiblingLI;\n    /**\n     * Return the index of the li element\n     * @param  {Element} item - An element to find next or previous after this element.\n     * @param  {Element[]|NodeList} elementArray - An element array to find index of given li.\n     */\n    function indexOf(item, elementArray) {\n        if (!elementArray || !item) {\n            return void 0;\n        }\n        else {\n            var liCollections = elementArray;\n            liCollections = Array.prototype.slice.call(elementArray);\n            return liCollections.indexOf(item);\n        }\n    }\n    ListBase.indexOf = indexOf;\n    /**\n     * Returns the grouped data from given dataSource.\n     * @param  {{[key:string]:Object}[]} dataSource - The JSON data which is necessary to process.\n     * @param  {FieldsMapping} fields - Fields that are mapped from the data source.\n     * @param  {SortOrder='None'} sortOrder- Specifies final result sort order.\n     */\n    function groupDataSource(dataSource, fields, sortOrder) {\n        if (sortOrder === void 0) { sortOrder = 'None'; }\n        var cusQuery = new Query().group(fields.groupBy);\n        // need to remove once sorting issues fixed in DataManager\n        cusQuery = addSorting(sortOrder, 'key', cusQuery);\n        var ds = getDataSource(dataSource, cusQuery);\n        dataSource = [];\n        for (var j = 0; j < ds.length; j++) {\n            var itemObj = ds[j].items;\n            var grpItem = {};\n            var hdr = 'isHeader';\n            grpItem[fields.text] = ds[j].key;\n            grpItem[hdr] = true;\n            grpItem.id = 'group-list-item-' + (ds[j].key ?\n                ds[j].key.toString().trim() : 'undefined');\n            grpItem.items = itemObj;\n            dataSource.push(grpItem);\n            for (var k = 0; k < itemObj.length; k++) {\n                dataSource.push(itemObj[k]);\n            }\n        }\n        return dataSource;\n    }\n    ListBase.groupDataSource = groupDataSource;\n    /**\n     * Returns a sorted query object.\n     * @param  {SortOrder} sortOrder - Specifies that sort order.\n     * @param  {string} sortBy - Specifies sortBy fields.\n     * @param  {Query=new Query()} query - Pass if any existing query.\n     */\n    function addSorting(sortOrder, sortBy, query) {\n        if (query === void 0) { query = new Query(); }\n        if (sortOrder === 'Ascending') {\n            query.sortBy(sortBy, 'ascending', true);\n        }\n        else if (sortOrder === 'Descending') {\n            query.sortBy(sortBy, 'descending', true);\n        }\n        else {\n            for (var i = 0; i < query.queries.length; i++) {\n                if (query.queries[i].fn === 'onSortBy') {\n                    query.queries.splice(i, 1);\n                }\n            }\n        }\n        return query;\n    }\n    ListBase.addSorting = addSorting;\n    /**\n     * Return an array of JSON Data that processed based on queries.\n     * @param  {{[key:string]:Object}[]} dataSource - Specifies local JSON data source.\n     * @param  {Query} query - Specifies query that need to process.\n     */\n    function getDataSource(dataSource, query) {\n        // tslint:disable-next-line\n        return new DataManager(dataSource)\n            .executeLocal(query);\n    }\n    ListBase.getDataSource = getDataSource;\n    /**\n     * Created JSON data based the UL and LI element\n     * @param  {HTMLElement|Element} element - UL element that need to convert as a JSON\n     * @param  {ListBaseOptions} options? - Specifies listbase option for fields.\n     */\n    function createJsonFromElement(element, options) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var fields = extend({}, ListBase.defaultMappedFields, curOpt.fields);\n        var curEle = element.cloneNode(true);\n        var jsonAr = [];\n        curEle.classList.add('json-parent');\n        var childs = curEle.querySelectorAll('.json-parent>li');\n        curEle.classList.remove('json-parent');\n        for (var i = 0; i < childs.length; i++) {\n            var li = childs[i];\n            var anchor = li.querySelector('a');\n            var ul = li.querySelector('ul');\n            var json = {};\n            var childNodes = anchor ? anchor.childNodes : li.childNodes;\n            var keys = Object.keys(childNodes);\n            for (var i_1 = 0; i_1 < childNodes.length; i_1++) {\n                if (!(childNodes[Number(keys[i_1])]).hasChildNodes()) {\n                    json[fields.text] = childNodes[Number(keys[i_1])].textContent;\n                }\n            }\n            json[fields.id] = generateId();\n            var attributes_1 = getAllAttributes(li);\n            if (Object.keys(attributes_1).length) {\n                json[fields.htmlAttributes] = attributes_1;\n            }\n            if (anchor) {\n                attributes_1 = getAllAttributes(anchor);\n                if (Object.keys(attributes_1).length) {\n                    json[fields.urlAttributes] = attributes_1;\n                }\n            }\n            if (ul) {\n                json[fields.child] = createJsonFromElement(ul, options);\n            }\n            jsonAr.push(json);\n        }\n        return jsonAr;\n    }\n    ListBase.createJsonFromElement = createJsonFromElement;\n    function typeofData(data) {\n        var match = { typeof: null, item: null };\n        for (var i = 0; i < data.length; i++) {\n            if (!isNullOrUndefined(data[i])) {\n                return match = { typeof: typeof data[i], item: data[i] };\n            }\n        }\n        return match;\n    }\n    function setAttribute(element, elementAttributes) {\n        var attr = {};\n        merge(attr, elementAttributes);\n        if (attr.class) {\n            addClass([element], attr.class.split(' '));\n            delete attr.class;\n        }\n        attributes(element, attr);\n    }\n    function getAllAttributes(element) {\n        var attributes = {};\n        var attr = element.attributes;\n        for (var index = 0; index < attr.length; index++) {\n            attributes[attr[index].nodeName] = attr[index].nodeValue;\n        }\n        return attributes;\n    }\n    /**\n     * Created UL element from content template.\n     * @param  {string} template - that need to convert and generate li element.\n     * @param  {{[key:string]:Object}[]} dataSource - Specifies local JSON data source.\n     * @param  {ListBaseOptions} options? - Specifies listbase option for fields.\n     */\n    function renderContentTemplate(createElement, template, dataSource, fields, options) {\n        cssClass = getModuleClass(defaultListBaseOptions.moduleName);\n        var ulElement = createElement('ul', { className: cssClass.ul, attrs: { role: 'presentation' } });\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var compiledString = compile(template);\n        var liCollection = [];\n        var id = generateId(); // generate id for drop-down-list option.\n        for (var i = 0; i < dataSource.length; i++) {\n            var fieldData = getFieldValues(dataSource[i], fields);\n            var curItem = dataSource[i];\n            var isHeader = curItem.isHeader;\n            var value = (typeof curItem === 'string' || typeof curItem === 'number') ? curItem : fieldData[fields.value];\n            if (curOpt.itemCreating && typeof curOpt.itemCreating === 'function') {\n                var curData = {\n                    dataSource: dataSource,\n                    curData: curItem,\n                    text: value,\n                    options: curOpt,\n                    fields: fields\n                };\n                curOpt.itemCreating(curData);\n            }\n            if (curOpt.itemCreating && typeof curOpt.itemCreating === 'function') {\n                fieldData = getFieldValues(dataSource[i], fields);\n                value = fieldData[fields.value];\n            }\n            var li = createElement('li', {\n                id: id + '-' + i,\n                className: isHeader ? cssClass.group : cssClass.li, attrs: { role: 'presentation' }\n            });\n            if (isHeader) {\n                li.innerText = fieldData[fields.text];\n            }\n            else {\n                append(compiledString(curItem), li);\n                li.setAttribute('data-value', value);\n                li.setAttribute('role', 'option');\n            }\n            if (curOpt.itemCreated && typeof curOpt.itemCreated === 'function') {\n                var curData = {\n                    dataSource: dataSource,\n                    curData: curItem,\n                    text: value,\n                    item: li,\n                    options: curOpt,\n                    fields: fields\n                };\n                curOpt.itemCreated(curData);\n            }\n            liCollection.push(li);\n        }\n        append(liCollection, ulElement);\n        return ulElement;\n    }\n    ListBase.renderContentTemplate = renderContentTemplate;\n    /**\n     * Created header items from group template.\n     * @param  {string} template - that need to convert and generate li element.\n     * @param  {{[key:string]:Object}[]} dataSource - Specifies local JSON data source.\n     * @param  {FieldsMapping} fields - Specifies fields for mapping the dataSource.\n     * @param  {Element[]} headerItems? - Specifies listbase header items.\n     */\n    function renderGroupTemplate(groupTemplate, groupDataSource, fields, headerItems) {\n        var compiledString = compile(groupTemplate);\n        var category = fields.groupBy;\n        for (var _i = 0, headerItems_1 = headerItems; _i < headerItems_1.length; _i++) {\n            var header = headerItems_1[_i];\n            var headerData = {};\n            headerData[category] = header.textContent;\n            header.innerHTML = '';\n            append(compiledString(headerData), header);\n        }\n        return headerItems;\n    }\n    ListBase.renderGroupTemplate = renderGroupTemplate;\n    function generateId() {\n        return Math.floor((1 + Math.random()) * 0x10000)\n            .toString(16)\n            .substring(1);\n    }\n    ListBase.generateId = generateId;\n    function processSubChild(createElement, fieldData, fields, ds, options, element, level) {\n        // Get SubList   \n        var subDS = fieldData[fields.child] || [];\n        var hasChildren = fieldData[fields.hasChildren];\n        //Create Sub child\n        if (subDS.length) {\n            hasChildren = true;\n            element.classList.add(cssClass.hasChild);\n            if (options.processSubChild) {\n                var subLi = createListFromJson(createElement, subDS, options, ++level);\n                element.appendChild(subLi);\n            }\n        }\n        // Create expand and collapse node\n        if (!!options.expandCollapse && hasChildren && !options.template) {\n            if (element.firstElementChild.classList.contains(cssClass.textContent)) {\n                element.firstElementChild.classList.add(cssClass.iconWrapper);\n            }\n            var expandElement = options.expandIconPosition === 'Left' ? prepend : append;\n            expandElement([createElement('div', { className: 'e-icons ' + options.expandIconClass })], element.querySelector('.' + cssClass.textContent));\n        }\n    }\n    function generateSingleLevelLI(createElement, item, fieldData, fields, className, innerElements, grpLI, id, index, options) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes);\n        var text = item;\n        var value = item;\n        var dataSource;\n        if (typeof item !== 'string' && typeof item !== 'number' && typeof item !== 'boolean') {\n            dataSource = item;\n            text = (typeof fieldData[fields.text] === 'boolean' || typeof fieldData[fields.text] === 'number') ?\n                fieldData[fields.text] : (fieldData[fields.text] || '');\n            value = fieldData[fields.value];\n        }\n        var elementID;\n        if (!isNullOrUndefined(dataSource) && !isNullOrUndefined(fieldData[fields.id])\n            && fieldData[fields.id] !== '') {\n            elementID = id;\n        }\n        else {\n            elementID = id + '-' + index;\n        }\n        var li = createElement('li', {\n            className: (grpLI === true ? cssClass.group : cssClass.li) + ' ' + (isNullOrUndefined(className) ? '' : className),\n            id: elementID, attrs: (ariaAttributes.groupItemRole !== '' && ariaAttributes.itemRole !== '' ?\n                { role: (grpLI === true ? ariaAttributes.groupItemRole : ariaAttributes.itemRole) } : {})\n        });\n        if (dataSource && fieldData.hasOwnProperty(fields.enabled) && fieldData[fields.enabled].toString() === 'false') {\n            li.classList.add(cssClass.disabled);\n        }\n        if (grpLI) {\n            li.innerText = text;\n        }\n        else {\n            if (!isNullOrUndefined(value)) {\n                li.setAttribute('data-value', value);\n            }\n            li.setAttribute('role', 'option');\n            if (dataSource && fieldData.hasOwnProperty(fields.htmlAttributes) && fieldData[fields.htmlAttributes]) {\n                setAttribute(li, fieldData[fields.htmlAttributes]);\n            }\n            if (innerElements.length) {\n                append(innerElements, li);\n            }\n            if (dataSource && fieldData.hasOwnProperty(fields.url) && fieldData[fields.url]) {\n                li.appendChild(anchorTag(createElement, dataSource, fields, text));\n            }\n            else {\n                li.appendChild(document.createTextNode(text));\n            }\n        }\n        return li;\n    }\n    function getModuleClass(moduleName) {\n        var moduleClass;\n        return moduleClass = {\n            li: \"e-\" + moduleName + \"-item\",\n            ul: \"e-\" + moduleName + \"-parent e-ul\",\n            group: \"e-\" + moduleName + \"-group-item\",\n            icon: \"e-\" + moduleName + \"-icon\",\n            text: \"e-\" + moduleName + \"-text\",\n            check: \"e-\" + moduleName + \"-check\",\n            checked: 'e-checked',\n            selected: 'e-selected',\n            expanded: 'e-expanded',\n            textContent: 'e-text-content',\n            hasChild: 'e-has-child',\n            level: 'e-level',\n            url: \"e-\" + moduleName + \"-url\",\n            collapsible: 'e-icon-collapsible',\n            disabled: 'e-disabled',\n            image: \"e-\" + moduleName + \"-img\",\n            iconWrapper: 'e-icon-wrapper'\n        };\n    }\n    function anchorTag(createElement, dataSource, fields, text) {\n        var fieldData = getFieldValues(dataSource, fields);\n        var attr = { href: fieldData[fields.url] };\n        if (fieldData.hasOwnProperty(fields.urlAttributes) && fieldData[fields.urlAttributes]) {\n            merge(attr, fieldData[fields.urlAttributes]);\n        }\n        var anchorTag = createElement('a', { className: cssClass.text + ' ' + cssClass.url, innerHTML: text });\n        setAttribute(anchorTag, attr);\n        return anchorTag;\n    }\n    /* tslint:disable:align */\n    function generateLI(createElement, item, fieldData, fields, className, options) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes);\n        var text = item;\n        var uID;\n        var grpLI;\n        var dataSource;\n        if (typeof item !== 'string' && typeof item !== 'number') {\n            dataSource = item;\n            text = fieldData[fields.text] || '';\n            uID = fieldData[fields.id];\n            grpLI = (item.hasOwnProperty('isHeader') && item.isHeader)\n                ? true : false;\n        }\n        var li = createElement('li', {\n            className: (grpLI === true ? cssClass.group : cssClass.li) + ' ' + (isNullOrUndefined(className) ? '' : className),\n            attrs: (ariaAttributes.groupItemRole !== '' && ariaAttributes.itemRole !== '' ?\n                { role: (grpLI === true ? ariaAttributes.groupItemRole : ariaAttributes.itemRole) } : {})\n        });\n        !isNullOrUndefined(uID) ? li.setAttribute('data-uid', uID) : li.setAttribute('data-uid', generateId());\n        if (grpLI && options && options.groupTemplate) {\n            var compiledString = compile(options.groupTemplate);\n            append(compiledString(item), li);\n        }\n        else if (!grpLI && options && options.template) {\n            var compiledString = compile(options.template);\n            append(compiledString(item), li);\n        }\n        else {\n            var innerDiv = createElement('div', {\n                className: cssClass.textContent,\n                attrs: (ariaAttributes.wrapperRole !== '' ? { role: ariaAttributes.wrapperRole } : {})\n            });\n            if (dataSource && fieldData.hasOwnProperty(fields.url) && fieldData[fields.url]) {\n                innerDiv.appendChild(anchorTag(createElement, dataSource, fields, text));\n            }\n            else {\n                innerDiv.appendChild(createElement('span', {\n                    className: cssClass.text, innerHTML: text,\n                    attrs: (ariaAttributes.itemText !== '' ? { role: ariaAttributes.itemText } : {})\n                }));\n            }\n            li.appendChild(innerDiv);\n        }\n        return li;\n    }\n    /**\n     * Returns UL element based on the given LI element.\n     * @param  {HTMLElement[]} liElement - Specifies array of LI element.\n     * @param  {string} className? - Specifies class name that need to be added in UL element.\n     * @param  {ListBaseOptions} options? - Specifies ListBase options.\n     */\n    function generateUL(createElement, liElement, className, options) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes);\n        cssClass = getModuleClass(curOpt.moduleName);\n        var ulElement = createElement('ul', {\n            className: cssClass.ul + ' ' + (isNullOrUndefined(className) ? '' : className),\n            attrs: (ariaAttributes.listRole !== '' ? { role: ariaAttributes.listRole } : {})\n        });\n        append(liElement, ulElement);\n        return ulElement;\n    }\n    ListBase.generateUL = generateUL;\n    /**\n     * Returns LI element with additional DIV tag based on the given LI element.\n     * @param  {liElement} liElement - Specifies LI element.\n     * @param  {string} className? - Specifies class name that need to be added in created DIV element.\n     * @param  {ListBaseOptions} options? - Specifies ListBase options.\n     */\n    function generateIcon(createElement, liElement, className, options) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        cssClass = getModuleClass(curOpt.moduleName);\n        var expandElement = curOpt.expandIconPosition === 'Left' ? prepend : append;\n        expandElement([createElement('div', {\n                className: 'e-icons ' + curOpt.expandIconClass + ' ' +\n                    (isNullOrUndefined(className) ? '' : className)\n            })], liElement.querySelector('.' + cssClass.textContent));\n        return liElement;\n    }\n    ListBase.generateIcon = generateIcon;\n})(ListBase || (ListBase = {}));\n/**\n * Used to get dataSource item from complex data using fields.\n * @param {{[key:string]:Object}|string[]|string} dataSource - Specifies an  JSON or String data.\n * @param {FieldsMapping} fields - Fields that are mapped from the dataSource.\n */\nexport function getFieldValues(dataItem, fields) {\n    var fieldData = {};\n    if (isNullOrUndefined(dataItem) || typeof (dataItem) === 'string' || typeof (dataItem) === 'number'\n        || !isNullOrUndefined(dataItem.isHeader)) {\n        return dataItem;\n    }\n    else {\n        for (var _i = 0, _a = Object.keys(fields); _i < _a.length; _i++) {\n            var field = _a[_i];\n            var dataField = fields[field];\n            var value = !isNullOrUndefined(dataField) &&\n                typeof (dataField) === 'string' ? getValue(dataField, dataItem) : undefined;\n            if (!isNullOrUndefined(value)) {\n                fieldData[dataField] = value;\n            }\n        }\n    }\n    return fieldData;\n}\n","/**\n * Position library\n */\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nvar elementRect;\nvar popupRect;\nvar element;\nvar parentDocument;\nvar fixedParent = false;\nexport function calculateRelativeBasedPosition(anchor, element) {\n    var fixedElement = false;\n    var anchorPos = { left: 0, top: 0 };\n    var tempAnchor = anchor;\n    if (!anchor || !element) {\n        return anchorPos;\n    }\n    if (isNullOrUndefined(element.offsetParent) && element.style.position === 'fixed') {\n        fixedElement = true;\n    }\n    while ((element.offsetParent || fixedElement) && anchor && element.offsetParent !== anchor) {\n        anchorPos.left += anchor.offsetLeft;\n        anchorPos.top += anchor.offsetTop;\n        anchor = anchor.offsetParent;\n    }\n    anchor = tempAnchor;\n    while ((element.offsetParent || fixedElement) && anchor && element.offsetParent !== anchor) {\n        anchorPos.left -= anchor.scrollLeft;\n        anchorPos.top -= anchor.scrollTop;\n        anchor = anchor.parentElement;\n    }\n    return anchorPos;\n}\nexport function calculatePosition(currentElement, positionX, positionY, parentElement, targetValues) {\n    popupRect = targetValues;\n    fixedParent = parentElement ? true : false;\n    if (!currentElement) {\n        return { left: 0, top: 0 };\n    }\n    if (!positionX) {\n        positionX = 'left';\n    }\n    if (!positionY) {\n        positionY = 'top';\n    }\n    parentDocument = currentElement.ownerDocument;\n    element = currentElement;\n    var pos = { left: 0, top: 0 };\n    return updatePosition(positionX.toLowerCase(), positionY.toLowerCase(), pos);\n}\nfunction setPosx(value, pos) {\n    pos.left = value;\n}\nfunction setPosy(value, pos) {\n    pos.top = value;\n}\nfunction updatePosition(posX, posY, pos) {\n    elementRect = element.getBoundingClientRect();\n    switch (posY + posX) {\n        case 'topcenter':\n            setPosx(getElementHCenter(), pos);\n            setPosy(getElementTop(), pos);\n            break;\n        case 'topright':\n            setPosx(getElementRight(), pos);\n            setPosy(getElementTop(), pos);\n            break;\n        case 'centercenter':\n            setPosx(getElementHCenter(), pos);\n            setPosy(getElementVCenter(), pos);\n            break;\n        case 'centerright':\n            setPosx(getElementRight(), pos);\n            setPosy(getElementVCenter(), pos);\n            break;\n        case 'centerleft':\n            setPosx(getElementLeft(), pos);\n            setPosy(getElementVCenter(), pos);\n            break;\n        case 'bottomcenter':\n            setPosx(getElementHCenter(), pos);\n            setPosy(getElementBottom(), pos);\n            break;\n        case 'bottomright':\n            setPosx(getElementRight(), pos);\n            setPosy(getElementBottom(), pos);\n            break;\n        case 'bottomleft':\n            setPosx(getElementLeft(), pos);\n            setPosy(getElementBottom(), pos);\n            break;\n        default:\n        case 'topleft':\n            setPosx(getElementLeft(), pos);\n            setPosy(getElementTop(), pos);\n            break;\n    }\n    return pos;\n}\nfunction getBodyScrollTop() {\n    return parentDocument.documentElement.scrollTop || parentDocument.body.scrollTop;\n}\nfunction getBodyScrollLeft() {\n    return parentDocument.documentElement.scrollLeft || parentDocument.body.scrollLeft;\n}\nfunction getElementBottom() {\n    return fixedParent ? elementRect.bottom : elementRect.bottom + getBodyScrollTop();\n}\nfunction getElementVCenter() {\n    return getElementTop() + (elementRect.height / 2);\n}\nfunction getElementTop() {\n    return fixedParent ? elementRect.top : elementRect.top + getBodyScrollTop();\n}\nfunction getElementLeft() {\n    return elementRect.left + getBodyScrollLeft();\n}\nfunction getElementRight() {\n    return elementRect.right + getBodyScrollLeft() - (popupRect ? popupRect.width : 0);\n}\nfunction getElementHCenter() {\n    return getElementLeft() + (elementRect.width / 2);\n}\n","/**\n * Collision module.\n */\nimport { calculatePosition } from './position';\nvar parentDocument;\nvar targetContainer;\nexport function fit(element, viewPortElement, axis, position) {\n    if (viewPortElement === void 0) { viewPortElement = null; }\n    if (axis === void 0) { axis = { X: false, Y: false }; }\n    if (!axis.Y && !axis.X) {\n        return { left: 0, top: 0 };\n    }\n    var elemData = element.getBoundingClientRect();\n    targetContainer = viewPortElement;\n    parentDocument = element.ownerDocument;\n    if (!position) {\n        position = calculatePosition(element, 'left', 'top');\n    }\n    if (axis.X) {\n        var containerWidth = targetContainer ? getTargetContainerWidth() : getViewPortWidth();\n        var containerLeft = ContainerLeft();\n        var containerRight = ContainerRight();\n        var overLeft = containerLeft - position.left;\n        var overRight = position.left + elemData.width - containerRight;\n        if (elemData.width > containerWidth) {\n            if (overLeft > 0 && overRight <= 0) {\n                position.left = containerRight - elemData.width;\n            }\n            else if (overRight > 0 && overLeft <= 0) {\n                position.left = containerLeft;\n            }\n            else {\n                position.left = overLeft > overRight ? (containerRight - elemData.width) : containerLeft;\n            }\n        }\n        else if (overLeft > 0) {\n            position.left += overLeft;\n        }\n        else if (overRight > 0) {\n            position.left -= overRight;\n        }\n    }\n    if (axis.Y) {\n        var containerHeight = targetContainer ? getTargetContainerHeight() : getViewPortHeight();\n        var containerTop = ContainerTop();\n        var containerBottom = ContainerBottom();\n        var overTop = containerTop - position.top;\n        var overBottom = position.top + elemData.height - containerBottom;\n        if (elemData.height > containerHeight) {\n            if (overTop > 0 && overBottom <= 0) {\n                position.top = containerBottom - elemData.height;\n            }\n            else if (overBottom > 0 && overTop <= 0) {\n                position.top = containerTop;\n            }\n            else {\n                position.top = overTop > overBottom ? (containerBottom - elemData.height) : containerTop;\n            }\n        }\n        else if (overTop > 0) {\n            position.top += overTop;\n        }\n        else if (overBottom > 0) {\n            position.top -= overBottom;\n        }\n    }\n    return position;\n}\nexport function isCollide(element, viewPortElement, x, y) {\n    if (viewPortElement === void 0) { viewPortElement = null; }\n    var elemOffset = calculatePosition(element, 'left', 'top');\n    if (x) {\n        elemOffset.left = x;\n    }\n    if (y) {\n        elemOffset.top = y;\n    }\n    var data = [];\n    targetContainer = viewPortElement;\n    parentDocument = element.ownerDocument;\n    var elementRect = element.getBoundingClientRect();\n    var top = elemOffset.top;\n    var left = elemOffset.left;\n    var right = elemOffset.left + elementRect.width;\n    var bottom = elemOffset.top + elementRect.height;\n    var topData = '';\n    var leftData = '';\n    var yAxis = topCollideCheck(top, bottom);\n    var xAxis = leftCollideCheck(left, right);\n    if (yAxis.topSide) {\n        data.push('top');\n    }\n    if (xAxis.rightSide) {\n        data.push('right');\n    }\n    if (xAxis.leftSide) {\n        data.push('left');\n    }\n    if (yAxis.bottomSide) {\n        data.push('bottom');\n    }\n    return data;\n}\nexport function flip(element, target, offsetX, offsetY, positionX, positionY, viewPortElement, axis, fixedParent) {\n    if (viewPortElement === void 0) { viewPortElement = null; }\n    if (axis === void 0) { axis = { X: true, Y: true }; }\n    if (!target || !element || !positionX || !positionY || (!axis.X && !axis.Y)) {\n        return;\n    }\n    var tEdge = { TL: null,\n        TR: null,\n        BL: null,\n        BR: null };\n    var eEdge = {\n        TL: null,\n        TR: null,\n        BL: null,\n        BR: null\n    };\n    var elementRect = element.getBoundingClientRect();\n    var pos = {\n        posX: positionX, posY: positionY, offsetX: offsetX, offsetY: offsetY, position: { left: 0, top: 0 }\n    };\n    targetContainer = viewPortElement;\n    parentDocument = target.ownerDocument;\n    updateElementData(target, tEdge, pos, fixedParent, elementRect);\n    setPosition(eEdge, pos, elementRect);\n    if (axis.X) {\n        leftFlip(target, eEdge, tEdge, pos, elementRect, true);\n    }\n    if (axis.Y && tEdge.TL.top > -1) {\n        topFlip(target, eEdge, tEdge, pos, elementRect, true);\n    }\n    setPopup(element, pos, elementRect);\n}\nfunction setPopup(element, pos, elementRect) {\n    var left = 0;\n    var top = 0;\n    if (element.offsetParent != null\n        && (getComputedStyle(element.offsetParent).position === 'absolute' ||\n            getComputedStyle(element.offsetParent).position === 'relative')) {\n        var data = calculatePosition(element.offsetParent, 'left', 'top', false, elementRect);\n        left = data.left;\n        top = data.top;\n    }\n    element.style.top = (pos.position.top + pos.offsetY - (top)) + 'px';\n    element.style.left = (pos.position.left + pos.offsetX - (left)) + 'px';\n}\nfunction updateElementData(target, edge, pos, fixedParent, elementRect) {\n    pos.position = calculatePosition(target, pos.posX, pos.posY, fixedParent, elementRect);\n    edge.TL = calculatePosition(target, 'left', 'top', fixedParent, elementRect);\n    edge.TR = calculatePosition(target, 'right', 'top', fixedParent, elementRect);\n    edge.BR = calculatePosition(target, 'left', 'bottom', fixedParent, elementRect);\n    edge.BL = calculatePosition(target, 'right', 'bottom', fixedParent, elementRect);\n}\nfunction setPosition(eStatus, pos, elementRect) {\n    eStatus.TL = { top: pos.position.top + pos.offsetY, left: pos.position.left + pos.offsetX };\n    eStatus.TR = { top: eStatus.TL.top, left: eStatus.TL.left + elementRect.width };\n    eStatus.BL = { top: eStatus.TL.top + elementRect.height,\n        left: eStatus.TL.left };\n    eStatus.BR = { top: eStatus.TL.top + elementRect.height,\n        left: eStatus.TL.left + elementRect.width };\n}\nfunction leftCollideCheck(left, right) {\n    var leftSide = false;\n    var rightSide = false;\n    if (((left - getBodyScrollLeft()) < ContainerLeft())) {\n        leftSide = true;\n    }\n    if (right > ContainerRight()) {\n        rightSide = true;\n    }\n    return { leftSide: leftSide, rightSide: rightSide };\n}\nfunction leftFlip(target, edge, tEdge, pos, elementRect, deepCheck) {\n    var collideSide = leftCollideCheck(edge.TL.left, edge.TR.left);\n    if ((tEdge.TL.left - getBodyScrollLeft()) <= ContainerLeft()) {\n        collideSide.leftSide = false;\n    }\n    if (tEdge.TR.left >= ContainerRight()) {\n        collideSide.rightSide = false;\n    }\n    if ((collideSide.leftSide && !collideSide.rightSide) || (!collideSide.leftSide && collideSide.rightSide)) {\n        if (pos.posX === 'right') {\n            pos.posX = 'left';\n        }\n        else {\n            pos.posX = 'right';\n        }\n        pos.offsetX = pos.offsetX + elementRect.width;\n        pos.offsetX = -1 * pos.offsetX;\n        pos.position = calculatePosition(target, pos.posX, pos.posY, false);\n        setPosition(edge, pos, elementRect);\n        if (deepCheck) {\n            leftFlip(target, edge, tEdge, pos, elementRect, false);\n        }\n    }\n}\nfunction topFlip(target, edge, tEdge, pos, elementRect, deepCheck) {\n    var collideSide = topCollideCheck(edge.TL.top, edge.BL.top);\n    if ((tEdge.TL.top - getBodyScrollTop()) <= ContainerTop()) {\n        collideSide.topSide = false;\n    }\n    if (tEdge.BL.top >= ContainerBottom()) {\n        collideSide.bottomSide = false;\n    }\n    if ((collideSide.topSide && !collideSide.bottomSide) || (!collideSide.topSide && collideSide.bottomSide)) {\n        if (pos.posY === 'top') {\n            pos.posY = 'bottom';\n        }\n        else {\n            pos.posY = 'top';\n        }\n        pos.offsetY = pos.offsetY + elementRect.height;\n        pos.offsetY = -1 * pos.offsetY;\n        pos.position = calculatePosition(target, pos.posX, pos.posY, false, elementRect);\n        setPosition(edge, pos, elementRect);\n        if (deepCheck) {\n            topFlip(target, edge, tEdge, pos, elementRect, false);\n        }\n    }\n}\nfunction topCollideCheck(top, bottom) {\n    var topSide = false;\n    var bottomSide = false;\n    if ((top - getBodyScrollTop()) < ContainerTop()) {\n        topSide = true;\n    }\n    if (bottom > ContainerBottom()) {\n        bottomSide = true;\n    }\n    return { topSide: topSide, bottomSide: bottomSide };\n}\nfunction getTargetContainerWidth() {\n    return targetContainer.getBoundingClientRect().width;\n}\nfunction getTargetContainerHeight() {\n    return targetContainer.getBoundingClientRect().height;\n}\nfunction getTargetContainerLeft() {\n    return targetContainer.getBoundingClientRect().left;\n}\nfunction getTargetContainerTop() {\n    return targetContainer.getBoundingClientRect().top;\n}\nfunction ContainerTop() {\n    if (targetContainer) {\n        return getTargetContainerTop();\n    }\n    return 0;\n}\nfunction ContainerLeft() {\n    if (targetContainer) {\n        return getTargetContainerLeft();\n    }\n    return 0;\n}\nfunction ContainerRight() {\n    if (targetContainer) {\n        return (getBodyScrollLeft() + getTargetContainerLeft() + getTargetContainerWidth());\n    }\n    return (getBodyScrollLeft() + getViewPortWidth());\n}\nfunction ContainerBottom() {\n    if (targetContainer) {\n        return (getBodyScrollTop() + getTargetContainerTop() + getTargetContainerHeight());\n    }\n    return (getBodyScrollTop() + getViewPortHeight());\n}\nfunction getBodyScrollTop() {\n    // if(targetContainer)\n    //     return targetContainer.scrollTop;\n    return parentDocument.documentElement.scrollTop || parentDocument.body.scrollTop;\n}\nfunction getBodyScrollLeft() {\n    // if(targetContainer)\n    //     return targetContainer.scrollLeft;\n    return parentDocument.documentElement.scrollLeft || parentDocument.body.scrollLeft;\n}\nfunction getViewPortHeight() {\n    return window.innerHeight;\n}\nfunction getViewPortWidth() {\n    return window.innerWidth;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { setStyleAttribute, addClass, removeClass, ChildProperty, Complex } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit } from '@syncfusion/ej2-base';\nimport { Browser } from '@syncfusion/ej2-base';\nimport { calculatePosition, calculateRelativeBasedPosition } from '../common/position';\nimport { Animation, Property, Event, Component } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { EventHandler } from '@syncfusion/ej2-base';\nimport { flip, fit, isCollide } from '../common/collision';\n/**\n * Specifies the offset position values.\n */\nvar PositionData = /** @class */ (function (_super) {\n    __extends(PositionData, _super);\n    function PositionData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('left')\n    ], PositionData.prototype, \"X\", void 0);\n    __decorate([\n        Property('top')\n    ], PositionData.prototype, \"Y\", void 0);\n    return PositionData;\n}(ChildProperty));\nexport { PositionData };\n// don't use space in classNames\nvar CLASSNAMES = {\n    ROOT: 'e-popup',\n    RTL: 'e-rtl',\n    OPEN: 'e-popup-open',\n    CLOSE: 'e-popup-close'\n};\n/**\n * Represents the Popup Component\n * ```html\n * <div id=\"popup\" style=\"position:absolute;height:100px;width:100px;\">\n * <div style=\"margin:35px 25px;\">Popup Content</div></div>\n * ```\n * ```typescript\n * <script>\n *   var popupObj = new Popup();\n *   popupObj.appendTo(\"#popup\");\n * </script>\n * ```\n */\nvar Popup = /** @class */ (function (_super) {\n    __extends(Popup, _super);\n    function Popup(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.fixedParent = false;\n        return _this;\n    }\n    /**\n     * Called internally if any of the property value changed.\n     * @private\n     */\n    Popup.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    setStyleAttribute(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'zIndex':\n                    setStyleAttribute(this.element, { 'zIndex': newProp.zIndex });\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'position':\n                case 'relateTo':\n                    this.refreshPosition();\n                    break;\n                case 'offsetX':\n                    var x = newProp.offsetX - oldProp.offsetX;\n                    this.element.style.left = (parseInt(this.element.style.left, 10) + (x)).toString() + 'px';\n                    break;\n                case 'offsetY':\n                    var y = newProp.offsetY - oldProp.offsetY;\n                    this.element.style.top = (parseInt(this.element.style.top, 10) + (y)).toString() + 'px';\n                    break;\n                case 'content':\n                    this.setContent();\n                    break;\n                case 'actionOnScroll':\n                    if (newProp.actionOnScroll !== 'none') {\n                        this.wireScrollEvents();\n                    }\n                    else {\n                        this.unwireScrollEvents();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * gets the Component module name.\n     * @private\n     */\n    Popup.prototype.getModuleName = function () {\n        return 'popup';\n    };\n    /**\n     * gets the persisted state properties of the Component.\n     */\n    Popup.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * To destroy the control.\n     */\n    Popup.prototype.destroy = function () {\n        this.element.classList.remove(CLASSNAMES.ROOT, CLASSNAMES.RTL);\n        this.unwireEvents();\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    Popup.prototype.render = function () {\n        this.element.classList.add(CLASSNAMES.ROOT);\n        var styles = {};\n        if (this.zIndex !== 1000) {\n            styles.zIndex = this.zIndex;\n        }\n        if (this.width !== 'auto') {\n            styles.width = formatUnit(this.width);\n        }\n        if (this.height !== 'auto') {\n            styles.height = formatUnit(this.height);\n        }\n        setStyleAttribute(this.element, styles);\n        this.setEnableRtl();\n        this.setContent();\n        this.wireEvents();\n    };\n    Popup.prototype.wireEvents = function () {\n        if (Browser.isDevice) {\n            EventHandler.add(window, 'orientationchange', this.orientationOnChange, this);\n        }\n        if (this.actionOnScroll !== 'none') {\n            this.wireScrollEvents();\n        }\n    };\n    Popup.prototype.wireScrollEvents = function () {\n        if (this.getRelateToElement()) {\n            for (var _i = 0, _a = this.getScrollableParent(this.getRelateToElement()); _i < _a.length; _i++) {\n                var parent_1 = _a[_i];\n                EventHandler.add(parent_1, 'scroll', this.scrollRefresh, this);\n            }\n        }\n    };\n    Popup.prototype.unwireEvents = function () {\n        if (Browser.isDevice) {\n            EventHandler.remove(window, 'orientationchange', this.orientationOnChange);\n        }\n        if (this.actionOnScroll !== 'none') {\n            this.unwireScrollEvents();\n        }\n    };\n    Popup.prototype.unwireScrollEvents = function () {\n        if (this.getRelateToElement()) {\n            for (var _i = 0, _a = this.getScrollableParent(this.getRelateToElement()); _i < _a.length; _i++) {\n                var parent_2 = _a[_i];\n                EventHandler.remove(parent_2, 'scroll', this.scrollRefresh);\n            }\n        }\n    };\n    Popup.prototype.getRelateToElement = function () {\n        var relateToElement = this.relateTo === '' || isNullOrUndefined(this.relateTo) ?\n            document.body : this.relateTo;\n        this.setProperties({ relateTo: relateToElement }, true);\n        return ((typeof this.relateTo) === 'string') ?\n            document.querySelector(this.relateTo) : this.relateTo;\n    };\n    Popup.prototype.scrollRefresh = function (e) {\n        if (this.actionOnScroll === 'reposition') {\n            if (!(this.element.offsetParent === e.target ||\n                (this.element.offsetParent && this.element.offsetParent.tagName === 'BODY' &&\n                    e.target.parentElement == null))) {\n                this.refreshPosition();\n            }\n        }\n        else if (this.actionOnScroll === 'hide') {\n            this.hide();\n        }\n        if (this.actionOnScroll !== 'none') {\n            if (this.getRelateToElement()) {\n                var targetVisible = this.isElementOnViewport(this.getRelateToElement(), e.target);\n                if (!targetVisible && !this.targetInvisibleStatus) {\n                    this.trigger('targetExitViewport');\n                    this.targetInvisibleStatus = true;\n                }\n                else if (targetVisible) {\n                    this.targetInvisibleStatus = false;\n                }\n            }\n        }\n    };\n    /**\n     * This method is to get the element visibility on viewport when scroll\n     * the page. This method will returns true even though 1 px of element\n     * part is in visible.\n     */\n    Popup.prototype.isElementOnViewport = function (relateToElement, scrollElement) {\n        var scrollParents = this.getScrollableParent(relateToElement);\n        for (var parent_3 = 0; parent_3 < scrollParents.length; parent_3++) {\n            if (this.isElementVisible(relateToElement, scrollParents[parent_3])) {\n                continue;\n            }\n            else {\n                return false;\n            }\n        }\n        return true;\n    };\n    Popup.prototype.isElementVisible = function (relateToElement, scrollElement) {\n        var rect = relateToElement.getBoundingClientRect();\n        if (!rect.height || !rect.width) {\n            return false;\n        }\n        if (scrollElement.getBoundingClientRect) {\n            var parent_4 = scrollElement.getBoundingClientRect();\n            return !(rect.bottom < parent_4.top) &&\n                (!(rect.bottom > parent_4.bottom) &&\n                    (!(rect.right > parent_4.right) &&\n                        !(rect.left < parent_4.left)));\n        }\n        else {\n            var win = window;\n            var windowView = {\n                top: win.scrollY,\n                left: win.scrollX,\n                right: win.scrollX + win.outerWidth,\n                bottom: win.scrollY + win.outerHeight\n            };\n            var off = calculatePosition(relateToElement);\n            var ele = {\n                top: off.top,\n                left: off.left,\n                right: off.left + rect.width,\n                bottom: off.top + rect.height\n            };\n            var elementView = {\n                top: windowView.bottom - ele.top,\n                left: windowView.right - ele.left,\n                bottom: ele.bottom - windowView.top,\n                right: ele.right - windowView.left\n            };\n            return elementView.top > 0\n                && elementView.left > 0\n                && elementView.right > 0\n                && elementView.bottom > 0;\n        }\n    };\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    Popup.prototype.preRender = function () {\n        //There is no event handler\n    };\n    Popup.prototype.setEnableRtl = function () {\n        this.reposition();\n        this.enableRtl ? this.element.classList.add(CLASSNAMES.RTL) : this.element.classList.remove(CLASSNAMES.RTL);\n    };\n    Popup.prototype.setContent = function () {\n        if (!isNullOrUndefined(this.content)) {\n            this.element.innerHTML = '';\n            if (typeof (this.content) === 'string') {\n                this.element.textContent = this.content;\n            }\n            else {\n                this.element.appendChild(this.content);\n            }\n        }\n    };\n    Popup.prototype.orientationOnChange = function () {\n        var _this = this;\n        setTimeout(function () {\n            _this.refreshPosition();\n        }, 200);\n    };\n    /**\n     * Based on the `relative` element and `offset` values, `Popup` element position will refreshed.\n     */\n    Popup.prototype.refreshPosition = function (target) {\n        if (!isNullOrUndefined(target)) {\n            this.checkFixedParent(target);\n        }\n        this.reposition();\n        this.checkCollision();\n    };\n    Popup.prototype.reposition = function () {\n        var pos;\n        var relateToElement = this.getRelateToElement();\n        if (typeof this.position.X === 'number' && typeof this.position.Y === 'number') {\n            pos = { left: this.position.X, top: this.position.Y };\n        }\n        else if (relateToElement) {\n            var display = this.element.style.display;\n            this.element.style.display = 'block';\n            pos = this.getAnchorPosition(relateToElement, this.element, this.position, this.offsetX, this.offsetY);\n            this.element.style.display = display;\n        }\n        else {\n            pos = { left: 0, top: 0 };\n        }\n        this.element.style.left = pos.left + 'px';\n        this.element.style.top = pos.top + 'px';\n    };\n    Popup.prototype.getAnchorPosition = function (anchorEle, ele, position, offsetX, offsetY) {\n        var eleRect = ele.getBoundingClientRect();\n        var anchorRect = anchorEle.getBoundingClientRect();\n        var anchor = anchorEle;\n        var anchorPos = { left: 0, top: 0 };\n        if (ele.offsetParent && ele.offsetParent.tagName === 'BODY' && anchorEle.tagName === 'BODY') {\n            anchorPos = calculatePosition(anchorEle);\n        }\n        else {\n            anchorPos = calculateRelativeBasedPosition(anchor, ele);\n        }\n        switch (position.X) {\n            default:\n            case 'left':\n                break;\n            case 'center':\n                if (this.targetType === 'container') {\n                    anchorPos.left += (anchorRect.width / 2 - eleRect.width / 2);\n                }\n                else {\n                    anchorPos.left += (anchorRect.width / 2);\n                }\n                break;\n            case 'right':\n                if (this.targetType === 'container') {\n                    anchorPos.left += (anchorRect.width - eleRect.width);\n                }\n                else {\n                    anchorPos.left += (anchorRect.width);\n                }\n                break;\n        }\n        switch (position.Y) {\n            default:\n            case 'top':\n                break;\n            case 'center':\n                if (this.targetType === 'container') {\n                    anchorPos.top += (anchorRect.height / 2 - eleRect.height / 2);\n                }\n                else {\n                    anchorPos.top += (anchorRect.height / 2);\n                }\n                break;\n            case 'bottom':\n                if (this.targetType === 'container') {\n                    anchorPos.top += (anchorRect.height - eleRect.height);\n                }\n                else {\n                    anchorPos.top += (anchorRect.height);\n                }\n                break;\n        }\n        anchorPos.left += offsetX;\n        anchorPos.top += offsetY;\n        return anchorPos;\n    };\n    Popup.prototype.callFlip = function (param) {\n        var relateToElement = this.getRelateToElement();\n        flip(this.element, relateToElement, this.offsetX, this.offsetY, this.position.X, this.position.Y, this.viewPortElement, param, this.fixedParent);\n    };\n    Popup.prototype.callFit = function (param) {\n        if (isCollide(this.element, this.viewPortElement).length !== 0) {\n            if (isNullOrUndefined(this.viewPortElement)) {\n                var data = fit(this.element, this.viewPortElement, param);\n                this.element.style.left = data.left + 'px';\n                this.element.style.top = data.top + 'px';\n            }\n            else {\n                var elementRect = this.element.getBoundingClientRect();\n                var viewPortRect = this.viewPortElement.getBoundingClientRect();\n                if (param && param.Y === true) {\n                    if (viewPortRect.top > elementRect.top) {\n                        this.element.style.top = '0px';\n                    }\n                    else if (viewPortRect.bottom < elementRect.bottom) {\n                        this.element.style.top = parseInt(this.element.style.top, 10) - (elementRect.bottom - viewPortRect.bottom) + 'px';\n                    }\n                }\n                if (param && param.X === true) {\n                    if (viewPortRect.right < elementRect.right) {\n                        this.element.style.left = parseInt(this.element.style.left, 10) - (elementRect.right - viewPortRect.right) + 'px';\n                    }\n                    else if (viewPortRect.left > elementRect.left) {\n                        this.element.style.left = parseInt(this.element.style.left, 10) + (viewPortRect.left - elementRect.left) + 'px';\n                    }\n                }\n            }\n        }\n    };\n    Popup.prototype.checkCollision = function () {\n        var horz = this.collision.X;\n        var vert = this.collision.Y;\n        if (horz === 'none' && vert === 'none') {\n            return;\n        }\n        if (horz === 'flip' && vert === 'flip') {\n            this.callFlip({ X: true, Y: true });\n        }\n        else if (horz === 'fit' && vert === 'fit') {\n            this.callFit({ X: true, Y: true });\n        }\n        else {\n            if (horz === 'flip') {\n                this.callFlip({ X: true, Y: false });\n            }\n            else if (vert === 'flip') {\n                this.callFlip({ Y: true, X: false });\n            }\n            if (horz === 'fit') {\n                this.callFit({ X: true, Y: false });\n            }\n            else if (vert === 'fit') {\n                this.callFit({ X: false, Y: true });\n            }\n        }\n    };\n    /**\n     * Shows the popup element from screen.\n     * @param { AnimationModel | Function } collisionOrAnimationOptions? - To pass animation options or collision function.\n     * @param { Function } collision? - To pass the collision function.\n     * @param { HTMLElement } relativeElement? - To calculate the zIndex value dynamically.\n     */\n    Popup.prototype.show = function (animationOptions, relativeElement) {\n        var _this = this;\n        if (this.zIndex === 1000 || !isNullOrUndefined(relativeElement)) {\n            var zIndexElement = (isNullOrUndefined(relativeElement)) ? this.element : relativeElement;\n            this.zIndex = getZindexPartial(zIndexElement);\n            setStyleAttribute(this.element, { 'zIndex': this.zIndex });\n        }\n        animationOptions = (!isNullOrUndefined(animationOptions) && typeof animationOptions === 'object') ?\n            animationOptions : this.showAnimation;\n        if (this.collision.X !== 'none' || this.collision.Y !== 'none') {\n            removeClass([this.element], CLASSNAMES.CLOSE);\n            addClass([this.element], CLASSNAMES.OPEN);\n            this.checkCollision();\n            removeClass([this.element], CLASSNAMES.OPEN);\n            addClass([this.element], CLASSNAMES.CLOSE);\n        }\n        if (!isNullOrUndefined(animationOptions)) {\n            animationOptions.begin = function () {\n                if (!_this.isDestroyed) {\n                    removeClass([_this.element], CLASSNAMES.CLOSE);\n                    addClass([_this.element], CLASSNAMES.OPEN);\n                }\n            };\n            animationOptions.end = function () {\n                if (!_this.isDestroyed) {\n                    _this.trigger('open');\n                }\n            };\n            new Animation(animationOptions).animate(this.element);\n        }\n        else {\n            removeClass([this.element], CLASSNAMES.CLOSE);\n            addClass([this.element], CLASSNAMES.OPEN);\n            this.trigger('open');\n        }\n    };\n    /**\n     * Hides the popup element from screen.\n     * @param { AnimationModel } animationOptions? - To give the animation options.\n     */\n    Popup.prototype.hide = function (animationOptions) {\n        var _this = this;\n        animationOptions = (!isNullOrUndefined(animationOptions) && typeof animationOptions === 'object') ?\n            animationOptions : this.hideAnimation;\n        if (!isNullOrUndefined(animationOptions)) {\n            animationOptions.end = function () {\n                if (!_this.isDestroyed) {\n                    removeClass([_this.element], CLASSNAMES.OPEN);\n                    addClass([_this.element], CLASSNAMES.CLOSE);\n                    _this.trigger('close');\n                }\n            };\n            new Animation(animationOptions).animate(this.element);\n        }\n        else {\n            removeClass([this.element], CLASSNAMES.OPEN);\n            addClass([this.element], CLASSNAMES.CLOSE);\n            this.trigger('close');\n        }\n    };\n    /**\n     * Gets scrollable parent elements for the given element.\n     * @param { HTMLElement } element - Specify the element to get the scrollable parents of it.\n     */\n    Popup.prototype.getScrollableParent = function (element) {\n        this.checkFixedParent(element);\n        return getScrollableParent(element, this.fixedParent);\n    };\n    Popup.prototype.checkFixedParent = function (element) {\n        var parent = element.parentElement;\n        while (parent && parent.tagName !== 'HTML') {\n            var parentStyle = getComputedStyle(parent);\n            if (parentStyle.position === 'fixed' && this.element.offsetParent && this.element.offsetParent.tagName === 'BODY') {\n                this.element.style.position = 'fixed';\n                this.fixedParent = true;\n            }\n            parent = parent.parentElement;\n            if (isNullOrUndefined(this.element.offsetParent) && parentStyle.position === 'fixed'\n                && this.element.style.position === 'fixed') {\n                this.fixedParent = true;\n            }\n        }\n    };\n    __decorate([\n        Property('auto')\n    ], Popup.prototype, \"height\", void 0);\n    __decorate([\n        Property('auto')\n    ], Popup.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"content\", void 0);\n    __decorate([\n        Property('container')\n    ], Popup.prototype, \"targetType\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"viewPortElement\", void 0);\n    __decorate([\n        Property({ X: 'none', Y: 'none' })\n    ], Popup.prototype, \"collision\", void 0);\n    __decorate([\n        Property('')\n    ], Popup.prototype, \"relateTo\", void 0);\n    __decorate([\n        Complex({}, PositionData)\n    ], Popup.prototype, \"position\", void 0);\n    __decorate([\n        Property(0)\n    ], Popup.prototype, \"offsetX\", void 0);\n    __decorate([\n        Property(0)\n    ], Popup.prototype, \"offsetY\", void 0);\n    __decorate([\n        Property(1000)\n    ], Popup.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], Popup.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property('reposition')\n    ], Popup.prototype, \"actionOnScroll\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"showAnimation\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"hideAnimation\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"targetExitViewport\", void 0);\n    Popup = __decorate([\n        NotifyPropertyChanges\n    ], Popup);\n    return Popup;\n}(Component));\nexport { Popup };\n/**\n * Gets scrollable parent elements for the given element.\n * @param { HTMLElement } element - Specify the element to get the scrollable parents of it.\n * @private\n */\nexport function getScrollableParent(element, fixedParent) {\n    var eleStyle = getComputedStyle(element);\n    var scrollParents = [];\n    var overflowRegex = /(auto|scroll)/;\n    var parent = element.parentElement;\n    while (parent && parent.tagName !== 'HTML') {\n        var parentStyle = getComputedStyle(parent);\n        if (!(eleStyle.position === 'absolute' && parentStyle.position === 'static')\n            && overflowRegex.test(parentStyle.overflow + parentStyle.overflowY + parentStyle.overflowX)) {\n            scrollParents.push(parent);\n        }\n        parent = parent.parentElement;\n    }\n    if (!fixedParent) {\n        scrollParents.push(document);\n    }\n    return scrollParents;\n}\n/**\n * Gets the maximum z-index of the given element.\n * @param { HTMLElement } element - Specify the element to get the maximum z-index of it.\n * @private\n */\nexport function getZindexPartial(element) {\n    // upto body traversal\n    var parent = element.parentElement;\n    var parentZindex = [];\n    while (parent) {\n        if (parent.tagName !== 'BODY') {\n            var index = document.defaultView.getComputedStyle(parent, null).getPropertyValue('z-index');\n            var position = document.defaultView.getComputedStyle(parent, null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                parentZindex.push(index);\n            }\n            parent = parent.parentElement;\n        }\n        else {\n            break;\n        }\n    }\n    //Body direct children element traversal\n    var childrenZindex = [];\n    for (var i = 0; i < document.body.children.length; i++) {\n        if (!element.isEqualNode(document.body.children[i])) {\n            var index = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue('z-index');\n            var position = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                childrenZindex.push(index);\n            }\n        }\n    }\n    childrenZindex.push('999');\n    var siblingsZindex = [];\n    if (!isNullOrUndefined(element.parentElement) && element.parentElement.tagName !== 'BODY') {\n        var childNodes = [].slice.call(element.parentElement.children);\n        for (var i = 0; i < childNodes.length; i++) {\n            var index = document.defaultView.getComputedStyle(childNodes[i], null).getPropertyValue('z-index');\n            var position = document.defaultView.getComputedStyle(childNodes[i], null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                siblingsZindex.push(index);\n            }\n        }\n    }\n    var finalValue = parentZindex.concat(childrenZindex, siblingsZindex);\n    return Math.max.apply(Math, finalValue) + 1;\n}\n","import { isNullOrUndefined, classList, createElement } from '@syncfusion/ej2-base';\nvar globalTimeOut = {};\nvar spinTemplate = null;\nvar spinCSSClass = null;\nvar DEFT_MAT_WIDTH = 30;\nvar DEFT_FAB_WIDTH = 30;\nvar DEFT_BOOT_WIDTH = 30;\nvar CLS_SHOWSPIN = 'e-spin-show';\nvar CLS_HIDESPIN = 'e-spin-hide';\nvar CLS_MATERIALSPIN = 'e-spin-material';\nvar CLS_FABRICSPIN = 'e-spin-fabric';\nvar CLS_BOOTSPIN = 'e-spin-bootstrap';\nvar CLS_HIGHCONTRASTSPIN = 'e-spin-high-contrast';\nvar CLS_SPINWRAP = 'e-spinner-pane';\nvar CLS_SPININWRAP = 'e-spinner-inner';\nvar CLS_SPINCIRCLE = 'e-path-circle';\nvar CLS_SPINARC = 'e-path-arc';\nvar CLS_SPINLABEL = 'e-spin-label';\nvar CLS_SPINTEMPLATE = 'e-spin-template';\n/**\n * Create a spinner for the specified target element.\n * ```\n * E.g : createSpinner({ target: targetElement, width: '34px', label: 'Loading..' });\n * ```\n * @param args\n * @private\n */\nexport function createSpinner(args, internalCreateElement) {\n    var radius;\n    var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n    var container = create_spinner_container(args.target, makeElement);\n    if (!isNullOrUndefined(args.cssClass)) {\n        container.wrap.classList.add(args.cssClass);\n    }\n    if (!isNullOrUndefined(args.template) || !isNullOrUndefined(spinTemplate)) {\n        var template = !isNullOrUndefined(args.template) ? args.template : spinTemplate;\n        container.wrap.classList.add(CLS_SPINTEMPLATE);\n        replaceContent(container.wrap, template, spinCSSClass);\n    }\n    else {\n        var theme = !isNullOrUndefined(args.type) ? args.type : getTheme(container.wrap);\n        var width = !isNullOrUndefined(args.width) ? args.width : undefined;\n        radius = calculateRadius(width, theme);\n        setTheme(theme, container.wrap, radius, makeElement);\n        if (!isNullOrUndefined(args.label)) {\n            createLabel(container.inner_wrap, args.label, makeElement);\n        }\n    }\n    container.wrap.classList.add(CLS_HIDESPIN);\n    container = null;\n}\nfunction createLabel(container, label, makeElement) {\n    var labelEle = makeElement('div', {});\n    labelEle.classList.add(CLS_SPINLABEL);\n    labelEle.textContent = label;\n    container.appendChild(labelEle);\n    return labelEle;\n}\nfunction createMaterialSpinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Material', radius: radius };\n    create_material_element(container, uniqueID, makeElement);\n    mat_calculate_attributes(radius, container);\n}\nfunction startMatAnimate(container, uniqueID, radius) {\n    var globalObject = {};\n    var timeOutVar = 0;\n    globalTimeOut[uniqueID].timeOut = 0;\n    globalObject[uniqueID] = globalVariables(uniqueID, radius, 0, 0);\n    var spinnerInfo = { uniqueID: uniqueID, container: container, globalInfo: globalObject, timeOutVar: timeOutVar };\n    animateMaterial(spinnerInfo);\n}\nfunction createFabricSpinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Fabric', radius: radius };\n    create_fabric_element(container, uniqueID, CLS_FABRICSPIN, makeElement);\n    fb_calculate_attributes(radius, container, CLS_FABRICSPIN);\n}\nfunction createHighContrastSpinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'HighContrast', radius: radius };\n    create_fabric_element(container, uniqueID, CLS_HIGHCONTRASTSPIN, makeElement);\n    fb_calculate_attributes(radius, container, CLS_HIGHCONTRASTSPIN);\n}\nfunction getTheme(container) {\n    var theme = window.getComputedStyle(container, ':after').getPropertyValue('content');\n    return theme.replace(/['\"]+/g, '');\n}\nfunction setTheme(theme, container, radius, makeElement) {\n    var innerContainer = container.querySelector('.' + CLS_SPININWRAP);\n    var svg = innerContainer.querySelector('svg');\n    if (!isNullOrUndefined(svg)) {\n        innerContainer.removeChild(svg);\n    }\n    switch (theme) {\n        case 'Material':\n            createMaterialSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'Fabric':\n            createFabricSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'Bootstrap':\n            createBootstrapSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'HighContrast':\n            createHighContrastSpinner(innerContainer, radius, makeElement);\n            break;\n    }\n}\nfunction createBootstrapSpinner(innerContainer, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Bootstrap', radius: radius };\n    create_bootstrap_element(innerContainer, uniqueID, makeElement);\n    boot_calculate_attributes(innerContainer, radius);\n}\nfunction create_bootstrap_element(innerContainer, uniqueID, makeElement) {\n    var svgBoot = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    var viewBoxValue = 64;\n    var trans = 32;\n    var defaultRadius = 2;\n    svgBoot.setAttribute('id', uniqueID);\n    svgBoot.setAttribute('class', CLS_BOOTSPIN);\n    svgBoot.setAttribute('viewBox', '0 0 ' + viewBoxValue + ' ' + viewBoxValue);\n    innerContainer.insertBefore(svgBoot, innerContainer.firstChild);\n    for (var item = 0; item <= 7; item++) {\n        var bootCircle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n        bootCircle.setAttribute('class', CLS_SPINCIRCLE + '_' + item);\n        bootCircle.setAttribute('r', defaultRadius + '');\n        bootCircle.setAttribute('transform', 'translate(' + trans + ',' + trans + ')');\n        svgBoot.appendChild(bootCircle);\n    }\n}\nfunction boot_calculate_attributes(innerContainer, radius) {\n    var svg = innerContainer.querySelector('svg.e-spin-bootstrap');\n    svg.style.width = svg.style.height = radius + 'px';\n    var x = 0;\n    var y = 0;\n    var rad = 24;\n    var startArc = 90;\n    for (var item = 0; item <= 7; item++) {\n        var start = defineArcPoints(x, y, rad, startArc);\n        var circleEle = svg.querySelector('.' + CLS_SPINCIRCLE + '_' + item);\n        circleEle.setAttribute('cx', start.x + '');\n        circleEle.setAttribute('cy', start.y + '');\n        startArc = startArc >= 360 ? 0 : startArc;\n        startArc = startArc + 45;\n    }\n}\nfunction generateSeries(begin, stop) {\n    var series = [];\n    var start = begin;\n    var end = stop;\n    var increment = false;\n    var count = 1;\n    formSeries(start);\n    function formSeries(i) {\n        series.push(i);\n        if (i !== end || count === 1) {\n            if (i <= start && i > 1 && !increment) {\n                i = parseFloat((i - 0.2).toFixed(2));\n            }\n            else if (i === 1) {\n                i = 7;\n                i = parseFloat((i + 0.2).toFixed(2));\n                increment = true;\n            }\n            else if (i < 8 && increment) {\n                i = parseFloat((i + 0.2).toFixed(2));\n                if (i === 8) {\n                    increment = false;\n                }\n            }\n            else if (i <= 8 && !increment) {\n                i = parseFloat((i - 0.2).toFixed(2));\n            }\n            ++count;\n            formSeries(i);\n        }\n    }\n    return series;\n}\nfunction animateBootstrap(innerContainer) {\n    var svg = innerContainer.querySelector('svg.e-spin-bootstrap');\n    var id = svg.getAttribute('id');\n    for (var i = 1; i <= 8; i++) {\n        var circleEle = (innerContainer.getElementsByClassName('e-path-circle_' +\n            (i === 8 ? 0 : i))[0]);\n        rotation(circleEle, i, i, generateSeries(i, i), id);\n    }\n    function rotation(circle, start, end, series, id) {\n        var count = 0;\n        boot_animate(start);\n        function boot_animate(radius) {\n            if (globalTimeOut[id].isAnimate) {\n                ++count;\n                circle.setAttribute('r', radius + '');\n                if (count >= series.length) {\n                    count = 0;\n                }\n                globalTimeOut[id].timeOut = setTimeout(boot_animate.bind(null, series[count]), 18);\n            }\n        }\n    }\n}\nfunction replaceContent(container, template, cssClass) {\n    if (!isNullOrUndefined(cssClass)) {\n        container.classList.add(cssClass);\n    }\n    var inner = container.querySelector('.e-spinner-inner');\n    inner.innerHTML = template;\n}\nfunction calculateRadius(width, theme) {\n    var defaultSize = theme === 'Material' ? DEFT_MAT_WIDTH : theme === 'Fabric' ? DEFT_FAB_WIDTH : DEFT_BOOT_WIDTH;\n    width = width ? parseFloat(width + '') : defaultSize;\n    return theme === 'Bootstrap' ? width : width / 2;\n}\nfunction globalVariables(id, radius, count, previousId) {\n    return {\n        radius: radius,\n        count: count,\n        previousId: previousId\n    };\n}\nfunction random_generator() {\n    var random = '';\n    var combine = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    for (var i = 0; i < 5; i++) {\n        random += combine.charAt(Math.floor(Math.random() * combine.length));\n    }\n    return random;\n}\nfunction create_fabric_element(innerCon, uniqueID, themeClass, makeElement) {\n    var svgFabric = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    svgFabric.setAttribute('id', uniqueID);\n    svgFabric.setAttribute('class', themeClass);\n    var fabricCirclePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    fabricCirclePath.setAttribute('class', CLS_SPINCIRCLE);\n    var fabricCircleArc = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    fabricCircleArc.setAttribute('class', CLS_SPINARC);\n    innerCon.insertBefore(svgFabric, innerCon.firstChild);\n    svgFabric.appendChild(fabricCirclePath);\n    svgFabric.appendChild(fabricCircleArc);\n}\nfunction create_material_element(innerContainer, uniqueID, makeElement) {\n    var svgMaterial = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    svgMaterial.setAttribute('class', CLS_MATERIALSPIN);\n    svgMaterial.setAttribute('id', uniqueID);\n    var matCirclePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    matCirclePath.setAttribute('class', CLS_SPINCIRCLE);\n    innerContainer.insertBefore(svgMaterial, innerContainer.firstChild);\n    svgMaterial.appendChild(matCirclePath);\n}\nfunction create_spinner_container(target, makeElement) {\n    var spinnerContainer = makeElement('div', {});\n    spinnerContainer.classList.add(CLS_SPINWRAP);\n    var spinnerInnerContainer = makeElement('div', {});\n    spinnerInnerContainer.classList.add(CLS_SPININWRAP);\n    target.appendChild(spinnerContainer);\n    spinnerContainer.appendChild(spinnerInnerContainer);\n    return { wrap: spinnerContainer, inner_wrap: spinnerInnerContainer };\n}\nfunction animateMaterial(spinnerInfo) {\n    var start = 1;\n    var end = 149;\n    var duration = 1333;\n    var max = 75;\n    createCircle(start, end, easeAnimation, duration, spinnerInfo.globalInfo[spinnerInfo.uniqueID].count, max, spinnerInfo);\n    spinnerInfo.globalInfo[spinnerInfo.uniqueID].count = ++spinnerInfo.globalInfo[spinnerInfo.uniqueID].count % 4;\n}\nfunction createCircle(start, end, easing, duration, count, max, spinnerInfo) {\n    var id = ++spinnerInfo.globalInfo[spinnerInfo.uniqueID].previousId;\n    var startTime = new Date().getTime();\n    var change = end - start;\n    var diameter = getSize((spinnerInfo.globalInfo[spinnerInfo.uniqueID].radius * 2) + '');\n    var strokeSize = getStrokeSize(diameter);\n    var rotate = -90 * (spinnerInfo.globalInfo[spinnerInfo.uniqueID].count || 0);\n    mat_animation(spinnerInfo);\n    function mat_animation(spinnerInfo) {\n        var currentTime = Math.max(0, Math.min(new Date().getTime() - startTime, duration));\n        updatePath(easing(currentTime, start, change, duration), spinnerInfo.container);\n        if (id === spinnerInfo.globalInfo[spinnerInfo.uniqueID].previousId && currentTime < duration) {\n            globalTimeOut[spinnerInfo.uniqueID].timeOut = setTimeout(mat_animation.bind(null, spinnerInfo), 1);\n        }\n        else {\n            animateMaterial(spinnerInfo);\n        }\n    }\n    function updatePath(value, container) {\n        if ((!isNullOrUndefined(container.querySelector('svg.e-spin-material')))\n            && (!isNullOrUndefined(container.querySelector('svg.e-spin-material').querySelector('path.e-path-circle')))) {\n            var svg = container.querySelector('svg.e-spin-material');\n            var path = svg.querySelector('path.e-path-circle');\n            path.setAttribute('stroke-dashoffset', getDashOffset(diameter, strokeSize, value, max) + '');\n            path.setAttribute('transform', 'rotate(' + (rotate) + ' ' + diameter / 2 + ' ' + diameter / 2 + ')');\n        }\n    }\n}\nfunction mat_calculate_attributes(radius, container) {\n    var diameter = radius * 2;\n    var svg = container.querySelector('svg.e-spin-material');\n    var path = svg.querySelector('path.e-path-circle');\n    var strokeSize = getStrokeSize(diameter);\n    var transformOrigin = (diameter / 2) + 'px';\n    svg.setAttribute('viewBox', '0 0 ' + diameter + ' ' + diameter);\n    svg.style.width = svg.style.height = diameter + 'px';\n    svg.style.transformOrigin = transformOrigin + ' ' + transformOrigin + ' ' + transformOrigin;\n    path.setAttribute('stroke-width', strokeSize + '');\n    path.setAttribute('d', drawArc(diameter, strokeSize));\n    path.setAttribute('stroke-dasharray', ((diameter - strokeSize) * Math.PI * 0.75) + '');\n    path.setAttribute('stroke-dashoffset', getDashOffset(diameter, strokeSize, 1, 75) + '');\n}\nfunction getSize(value) {\n    var parsed = parseFloat(value);\n    return parsed;\n}\nfunction drawArc(diameter, strokeSize) {\n    var radius = diameter / 2;\n    var offset = strokeSize / 2;\n    return 'M' + radius + ',' + offset\n        + 'A' + (radius - offset) + ',' + (radius - offset) + ' 0 1 1 ' + offset + ',' + radius;\n}\nfunction getStrokeSize(diameter) {\n    return 10 / 100 * diameter;\n}\nfunction getDashOffset(diameter, strokeSize, value, max) {\n    return (diameter - strokeSize) * Math.PI * ((3 * (max) / 100) - (value / 100));\n}\nfunction easeAnimation(current, start, change, duration) {\n    var timestamp = (current /= duration) * current;\n    var timecount = timestamp * current;\n    return start + change * (6 * timecount * timestamp + -15 * timestamp * timestamp + 10 * timecount);\n}\nfunction fb_calculate_attributes(radius, innerConainer, trgClass) {\n    var centerX = radius;\n    var centerY = radius;\n    var diameter = radius * 2;\n    var startArc = 315;\n    var endArc = 45;\n    var svg = innerConainer.querySelector('.' + trgClass);\n    var circle = svg.querySelector('.e-path-circle');\n    var path = svg.querySelector('.e-path-arc');\n    var transformOrigin = (diameter / 2) + 'px';\n    circle.setAttribute('d', defineCircle(centerX, centerY, radius));\n    path.setAttribute('d', defineArc(centerX, centerY, radius, startArc, endArc));\n    svg.setAttribute('viewBox', '0 0 ' + diameter + ' ' + diameter);\n    svg.style.transformOrigin = transformOrigin + ' ' + transformOrigin + ' ' + transformOrigin;\n    svg.style.width = svg.style.height = diameter + 'px';\n}\nfunction defineArcPoints(centerX, centerY, radius, angle) {\n    var radians = (angle - 90) * Math.PI / 180.0;\n    return {\n        x: centerX + (radius * Math.cos(radians)),\n        y: centerY + (radius * Math.sin(radians))\n    };\n}\nfunction defineArc(x, y, radius, startArc, endArc) {\n    var start = defineArcPoints(x, y, radius, endArc);\n    var end = defineArcPoints(x, y, radius, startArc);\n    var d = [\n        'M', start.x, start.y,\n        'A', radius, radius, 0, 0, 0, end.x, end.y\n    ].join(' ');\n    return d;\n}\nfunction defineCircle(x, y, radius) {\n    var d = [\n        'M', x, y,\n        'm', -radius, 0,\n        'a', radius, radius, 0, 1, 0, radius * 2, 0,\n        'a', radius, radius, 0, 1, 0, -radius * 2, 0,\n    ].join(' ');\n    return d;\n}\n/**\n * Function to show the Spinner.\n * @param container - Specify the target of the Spinner.\n * @private\n */\nexport function showSpinner(container) {\n    showHideSpinner(container, false);\n    container = null;\n}\nfunction showHideSpinner(container, isHide) {\n    var spinnerWrap = container.classList.contains(CLS_SPINWRAP) ? container :\n        container.querySelector('.' + CLS_SPINWRAP);\n    var inner = spinnerWrap.querySelector('.' + CLS_SPININWRAP);\n    var spinCheck;\n    spinCheck = isHide ? !spinnerWrap.classList.contains(CLS_SPINTEMPLATE) && !spinnerWrap.classList.contains(CLS_HIDESPIN) :\n        !spinnerWrap.classList.contains(CLS_SPINTEMPLATE) && !spinnerWrap.classList.contains(CLS_SHOWSPIN);\n    if (spinCheck) {\n        var svgEle = spinnerWrap.querySelector('svg');\n        if (isNullOrUndefined(svgEle)) {\n            return;\n        }\n        var id = svgEle.getAttribute('id');\n        globalTimeOut[id].isAnimate = !isHide;\n        switch (globalTimeOut[id].type) {\n            case 'Material':\n                isHide ? clearTimeout(globalTimeOut[id].timeOut) : startMatAnimate(inner, id, globalTimeOut[id].radius);\n                break;\n            case 'Bootstrap':\n                isHide ? clearTimeout(globalTimeOut[id].timeOut) : animateBootstrap(inner);\n                break;\n        }\n    }\n    isHide ? classList(spinnerWrap, [CLS_HIDESPIN], [CLS_SHOWSPIN]) : classList(spinnerWrap, [CLS_SHOWSPIN], [CLS_HIDESPIN]);\n    container = null;\n}\n/**\n * Function to hide the Spinner.\n * @param container - Specify the target of the Spinner.\n * @private\n */\nexport function hideSpinner(container) {\n    showHideSpinner(container, true);\n    container = null;\n}\n/**\n * Function to change the Spinners in a page globally from application end.\n * ```\n * E.g : setSpinner({ cssClass: 'custom-css'; type: 'Material' });\n * ```\n * @param args\n * @private\n */\nexport function setSpinner(args, internalCreateElement) {\n    var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n    if (args.template !== undefined) {\n        spinTemplate = args.template;\n        if (args.template !== undefined) {\n            spinCSSClass = args.cssClass;\n        }\n    }\n    var container = document.querySelectorAll('.' + CLS_SPINWRAP);\n    for (var index = 0; index < container.length; index++) {\n        ensureTemplate(args.template, container[index], args.type, args.cssClass, makeElement);\n    }\n}\nfunction ensureTemplate(template, container, theme, cssClass, makeEle) {\n    if (isNullOrUndefined(template) && !container.classList.contains(CLS_SPINTEMPLATE)) {\n        replaceTheme(container, theme, cssClass, makeEle);\n        if (container.classList.contains(CLS_SHOWSPIN)) {\n            container.classList.remove(CLS_SHOWSPIN);\n            showSpinner(container);\n        }\n        else {\n            container.classList.remove(CLS_HIDESPIN);\n            hideSpinner(container);\n        }\n    }\n    else {\n        spinTemplate = template;\n        if (!isNullOrUndefined(cssClass)) {\n            spinCSSClass = cssClass;\n        }\n    }\n}\nfunction replaceTheme(container, theme, cssClass, makeEle) {\n    if (!isNullOrUndefined(cssClass)) {\n        container.classList.add(cssClass);\n    }\n    var svgElement = container.querySelector('svg');\n    var radius = theme === 'Bootstrap' ? parseFloat(svgElement.style.height) : parseFloat(svgElement.style.height) / 2;\n    var classNames = svgElement.getAttribute('class');\n    var svgClassList = classNames.split(/\\s/);\n    if (svgClassList.indexOf('e-spin-material') >= 0) {\n        var id = svgElement.getAttribute('id');\n        clearTimeout(globalTimeOut[id].timeOut);\n    }\n    setTheme(theme, container, radius, makeEle);\n}\n","/**\n * MaskedTextBox base module\n */\nimport { EventHandler, isNullOrUndefined, merge, attributes, addClass, removeClass, Browser, extend } from '@syncfusion/ej2-base';\nimport { Input } from '../../input/input';\nvar ERROR = 'e-error';\nvar INPUTGROUP = 'e-input-group';\nvar FLOATINPUT = 'e-float-input';\nvar UTILMASK = 'e-utility-mask';\nvar TOPLABEL = 'e-label-top';\nvar BOTTOMLABEL = 'e-label-bottom';\n/**\n * @hidden\n * Built-in masking elements collection.\n */\nexport var regularExpressions = {\n    '0': '[0-9]',\n    '9': '[0-9 ]',\n    '#': '[0-9 +-]',\n    'L': '[A-Za-z]',\n    '?': '[A-Za-z ]',\n    '&': '[^\\x7f ]+',\n    'C': '[^\\x7f]+',\n    'A': '[A-Za-z0-9]',\n    'a': '[A-Za-z0-9 ]',\n};\n/**\n * @hidden\n * Generate required masking elements to the MaskedTextBox from user mask input.\n */\nexport function createMask() {\n    attributes(this.element, {\n        'role': 'textbox', 'autocomplete': 'off', 'autocorrect': 'off', 'autocapitalize': 'off',\n        'spellcheck': 'false', 'aria-live': 'assertive', 'aria-valuenow': ''\n    });\n    if (this.mask) {\n        var splitMask = this.mask.split(']');\n        for (var i = 0; i < splitMask.length; i++) {\n            if (splitMask[i][splitMask[i].length - 1] === '\\\\') {\n                splitMask[i] = splitMask[i] + ']';\n                var splitInnerMask = splitMask[i].split('[');\n                for (var j = 0; j < splitInnerMask.length; j++) {\n                    if (splitInnerMask[j][splitInnerMask[j].length - 1] === '\\\\') {\n                        splitInnerMask[j] = splitInnerMask[j] + '[';\n                    }\n                    pushIntoRegExpCollec.call(this, splitInnerMask[j]);\n                }\n            }\n            else {\n                var splitInnerMask = splitMask[i].split('[');\n                if (splitInnerMask.length > 1) {\n                    var chkSpace = false;\n                    for (var j = 0; j < splitInnerMask.length; j++) {\n                        if (splitInnerMask[j] === '\\\\') {\n                            this.customRegExpCollec.push('[');\n                            this.hiddenMask += splitInnerMask[j] + '[';\n                        }\n                        else if (splitInnerMask[j] === '') {\n                            chkSpace = true;\n                        }\n                        else if ((splitInnerMask[j] !== '' && chkSpace) || j === splitInnerMask.length - 1) {\n                            this.customRegExpCollec.push('[' + splitInnerMask[j] + ']');\n                            this.hiddenMask += this.promptChar;\n                            chkSpace = false;\n                        }\n                        else {\n                            pushIntoRegExpCollec.call(this, splitInnerMask[j]);\n                        }\n                    }\n                }\n                else {\n                    pushIntoRegExpCollec.call(this, splitInnerMask[0]);\n                }\n            }\n        }\n        this.escapeMaskValue = this.hiddenMask;\n        this.promptMask = this.hiddenMask.replace(/[09?LCAa#&]/g, this.promptChar);\n        if (!isNullOrUndefined(this.customCharacters)) {\n            for (var i = 0; i < this.promptMask.length; i++) {\n                if (!isNullOrUndefined(this.customCharacters[this.promptMask[i]])) {\n                    this.promptMask = this.promptMask.replace(new RegExp(this.promptMask[i], 'g'), this.promptChar);\n                }\n            }\n        }\n        var escapeNumber = 0;\n        if (this.hiddenMask.match(new RegExp(/\\\\/))) {\n            for (var i = 0; i < this.hiddenMask.length; i++) {\n                var j = 0;\n                if (i >= 2) {\n                    j = i;\n                }\n                escapeNumber = this.hiddenMask.length - this.promptMask.length;\n                j = j - escapeNumber;\n                if ((i > 0 && this.hiddenMask[i - 1] !== '\\\\') && (this.hiddenMask[i] === '>' ||\n                    this.hiddenMask[i] === '<' || this.hiddenMask[i] === '|')) {\n                    this.promptMask = this.promptMask.substring(0, j) +\n                        this.promptMask.substring((i + 1) - escapeNumber, this.promptMask.length);\n                    this.escapeMaskValue = this.escapeMaskValue.substring(0, j) +\n                        this.escapeMaskValue.substring((i + 1) - escapeNumber, this.escapeMaskValue.length);\n                }\n                if (this.hiddenMask[i] === '\\\\') {\n                    this.promptMask = this.promptMask.substring(0, j) + this.hiddenMask[i + 1] +\n                        this.promptMask.substring((i + 2) - escapeNumber, this.promptMask.length);\n                    this.escapeMaskValue = this.escapeMaskValue.substring(0, j) + this.escapeMaskValue[i + 1] +\n                        this.escapeMaskValue.substring((i + 2) - escapeNumber, this.escapeMaskValue.length);\n                }\n            }\n        }\n        else {\n            this.promptMask = this.promptMask.replace(/[>|<]/g, '');\n            this.escapeMaskValue = this.hiddenMask.replace(/[>|<]/g, '');\n        }\n        attributes(this.element, { 'aria-invalid': 'false' });\n    }\n}\n/**\n * @hidden\n * Apply mask ability with masking elements to the MaskedTextBox.\n */\nexport function applyMask() {\n    setElementValue.call(this, this.promptMask);\n    setMaskValue.call(this, this.value);\n}\n/**\n * @hidden\n * To wire required events to the MaskedTextBox.\n */\nexport function wireEvents() {\n    EventHandler.add(this.element, 'keydown', maskInputKeyDownHandler, this);\n    EventHandler.add(this.element, 'keypress', maskInputKeyPressHandler, this);\n    EventHandler.add(this.element, 'keyup', maskInputKeyUpHandler, this);\n    EventHandler.add(this.element, 'input', maskInputHandler, this);\n    EventHandler.add(this.element, 'focus', maskInputFocusHandler, this);\n    EventHandler.add(this.element, 'blur', maskInputBlurHandler, this);\n    EventHandler.add(this.element, 'paste', maskInputPasteHandler, this);\n    EventHandler.add(this.element, 'cut', maskInputCutHandler, this);\n    EventHandler.add(this.element, 'drop', maskInputDropHandler, this);\n    if (this.enabled) {\n        bindClearEvent.call(this);\n    }\n}\n/**\n * @hidden\n * To unwire events attached to the MaskedTextBox.\n */\nexport function unwireEvents() {\n    EventHandler.remove(this.element, 'keydown', maskInputKeyDownHandler);\n    EventHandler.remove(this.element, 'keypress', maskInputKeyPressHandler);\n    EventHandler.remove(this.element, 'keyup', maskInputKeyUpHandler);\n    EventHandler.remove(this.element, 'input', maskInputHandler);\n    EventHandler.remove(this.element, 'focus', maskInputFocusHandler);\n    EventHandler.remove(this.element, 'blur', maskInputBlurHandler);\n    EventHandler.remove(this.element, 'paste', maskInputPasteHandler);\n    EventHandler.remove(this.element, 'cut', maskInputCutHandler);\n}\n/**\n * @hidden\n * To bind required events to the MaskedTextBox clearButton.\n */\nexport function bindClearEvent() {\n    if (this.showClearButton) {\n        EventHandler.add(this.inputObj.clearButton, 'mousedown touchstart', resetHandler, this);\n    }\n}\nfunction resetHandler(e) {\n    e.preventDefault();\n    if (!this.inputObj.clearButton.classList.contains('e-clear-icon-hide')) {\n        clear.call(this, e);\n    }\n}\nfunction clear(event) {\n    var value = this.element.value;\n    setElementValue.call(this, this.promptMask);\n    this.redoCollec.unshift({\n        value: this.promptMask, startIndex: this.element.selectionStart, endIndex: this.element.selectionEnd\n    });\n    triggerMaskChangeEvent.call(this, event, value);\n    this.element.setSelectionRange(0, 0);\n}\n/**\n * @hidden\n * To get masked value from the MaskedTextBox.\n */\nexport function unstrippedValue(element) {\n    return element.value;\n}\n/**\n * @hidden\n * To extract raw value from the MaskedTextBox.\n */\nexport function strippedValue(element, maskValues) {\n    var value = '';\n    var k = 0;\n    var checkMask = false;\n    var maskValue = (!isNullOrUndefined(maskValues)) ? maskValues : (!isNullOrUndefined(element) &&\n        !isNullOrUndefined(this)) ? element.value : maskValues;\n    if (maskValue !== this.promptMask) {\n        for (var i = 0; i < this.customRegExpCollec.length; i++) {\n            if (checkMask) {\n                checkMask = false;\n            }\n            if (this.customRegExpCollec[k] === '>' || this.customRegExpCollec[k] === '<' ||\n                this.customRegExpCollec[k] === '|' || this.customRegExpCollec[k] === '\\\\') {\n                --i;\n                checkMask = true;\n            }\n            if (!checkMask) {\n                if ((maskValue[i] !== this.promptChar) && (!isNullOrUndefined(this.customRegExpCollec[k]) &&\n                    ((!isNullOrUndefined(this.regExpCollec[this.customRegExpCollec[k]])) ||\n                        (this.customRegExpCollec[k].length > 2 && this.customRegExpCollec[k][0] === '[' &&\n                            this.customRegExpCollec[k][this.customRegExpCollec[k].length - 1] === ']') ||\n                        (!isNullOrUndefined(this.customCharacters) &&\n                            (!isNullOrUndefined(this.customCharacters[this.customRegExpCollec[k]]))))) && (maskValue !== '')) {\n                    value += maskValue[i];\n                }\n            }\n            ++k;\n        }\n    }\n    if (this.mask === null || this.mask === '' && this.value !== undefined) {\n        value = maskValue;\n    }\n    return value;\n}\nfunction pushIntoRegExpCollec(value) {\n    for (var k = 0; k < value.length; k++) {\n        this.hiddenMask += value[k];\n        if (value[k] !== '\\\\') {\n            this.customRegExpCollec.push(value[k]);\n        }\n    }\n}\nexport function maskInputFocusHandler(event) {\n    var _this = this;\n    if (this.promptMask.length > 0) {\n        this.focusEventArgs = { selectionStart: 0, selectionEnd: this.promptMask.length };\n    }\n    else {\n        this.focusEventArgs = { selectionStart: 0, selectionEnd: this.element.value.length };\n    }\n    var eventArgs = {};\n    merge(eventArgs, this.focusEventArgs);\n    this.trigger('focus', eventArgs);\n    this.focusEventArgs = eventArgs;\n    if (this.mask) {\n        this.isFocus = true;\n        if (this.element.value === '') {\n            setElementValue.call(this, this.promptMask);\n        }\n        else {\n            setElementValue.call(this, this.element.value);\n        }\n        if (!Browser.isDevice && Browser.info.version === '11.0') {\n            this.element.setSelectionRange(this.focusEventArgs.selectionStart, this.focusEventArgs.selectionEnd);\n        }\n        else {\n            var delay = (Browser.isDevice && Browser.isIos) ? 450 : 0;\n            setTimeout(function () {\n                _this.element.setSelectionRange(_this.focusEventArgs.selectionStart, _this.focusEventArgs.selectionEnd);\n            }, delay);\n        }\n    }\n}\nexport function maskInputBlurHandler(event) {\n    if (this.mask) {\n        this.isFocus = false;\n        if (this.placeholder && this.element.value === this.promptMask && this.floatLabelType !== 'Always') {\n            setElementValue.call(this, '');\n            var labelElement = this.element.parentNode.querySelector('.e-float-text');\n            if (this.floatLabelType === 'Auto' && !isNullOrUndefined(labelElement) && labelElement.classList.contains(TOPLABEL)) {\n                removeClass([labelElement], TOPLABEL);\n            }\n        }\n    }\n}\nfunction maskInputPasteHandler(event) {\n    var _this = this;\n    if (this.mask) {\n        var sIndex_1 = this.element.selectionStart;\n        var eIndex_1 = this.element.selectionEnd;\n        var oldValue_1 = this.element.value;\n        setElementValue.call(this, '');\n        this._callPasteHandler = true;\n        setTimeout(function () {\n            var value = _this.element.value.replace(/ /g, '');\n            if (_this.redoCollec.length > 0 && _this.redoCollec[0].value === _this.element.value) {\n                value = strippedValue.call(_this, _this.element);\n            }\n            setElementValue.call(_this, oldValue_1);\n            _this.element.selectionStart = sIndex_1;\n            _this.element.selectionEnd = eIndex_1;\n            var i = 0;\n            _this.maskKeyPress = true;\n            do {\n                validateValue.call(_this, value[i], false, null);\n                ++i;\n            } while (i < value.length);\n            _this.maskKeyPress = false;\n            _this._callPasteHandler = false;\n            if (_this.element.value === oldValue_1) {\n                var i_1 = 0;\n                _this.maskKeyPress = true;\n                do {\n                    validateValue.call(_this, value[i_1], false, null);\n                    ++i_1;\n                } while (i_1 < value.length);\n                _this.maskKeyPress = false;\n            }\n            else {\n                triggerMaskChangeEvent.call(_this, event, oldValue_1);\n            }\n        }, 1);\n    }\n}\nfunction maskInputCutHandler(event) {\n    var _this = this;\n    if (this.mask) {\n        var preValue_1 = this.element.value;\n        var sIndex_2 = this.element.selectionStart;\n        var eIndex = this.element.selectionEnd;\n        this.undoCollec.push({ value: this.element.value, startIndex: this.element.selectionStart, endIndex: this.element.selectionEnd });\n        var value_1 = this.element.value.substring(0, sIndex_2) + this.promptMask.substring(sIndex_2, eIndex) +\n            this.element.value.substring(eIndex);\n        setTimeout(function () {\n            setElementValue.call(_this, value_1);\n            _this.element.selectionStart = _this.element.selectionEnd = sIndex_2;\n            if (_this.element.value !== preValue_1) {\n                triggerMaskChangeEvent.call(_this, event, null);\n            }\n        }, 0);\n    }\n}\nexport function maskInputDropHandler(event) {\n    event.preventDefault();\n}\nfunction maskInputHandler(event) {\n    var eventArgs = { ctrlKey: false, keyCode: 229 };\n    // tslint:disable-next-line\n    extend(event, eventArgs);\n    if (this.mask) {\n        if (this.element.value === '') {\n            this.redoCollec.unshift({\n                value: this.promptMask, startIndex: this.element.selectionStart, endIndex: this.element.selectionEnd\n            });\n        }\n        if (this.element.value.length === 1) {\n            this.element.value = this.element.value + this.promptMask;\n            this.element.setSelectionRange(1, 1);\n        }\n        if (!this._callPasteHandler) {\n            removeMaskInputValues.call(this, event);\n        }\n        if (this.element.value.length > this.promptMask.length) {\n            var startIndex = this.element.selectionStart;\n            var addedValues = this.element.value.length - this.promptMask.length;\n            var value = this.element.value.substring(startIndex - addedValues, startIndex);\n            this.maskKeyPress = false;\n            var i = 0;\n            do {\n                validateValue.call(this, value[i], event.ctrlKey, event);\n                ++i;\n            } while (i < value.length);\n            if (this.element.value !== this.preEleVal) {\n                triggerMaskChangeEvent.call(this, event, null);\n            }\n        }\n        var val = strippedValue.call(this, this.element);\n        this.prevValue = val;\n        this.value = val;\n        if (val === '') {\n            setElementValue.call(this, this.promptMask);\n            this.element.setSelectionRange(0, 0);\n        }\n    }\n}\nfunction maskInputKeyDownHandler(event) {\n    if (this.mask) {\n        var value = this;\n        if (event.keyCode !== 229) {\n            if (event.ctrlKey && (event.keyCode === 89 || event.keyCode === 90)) {\n                event.preventDefault();\n            }\n            removeMaskInputValues.call(this, event);\n        }\n        var startValue = this.element.value;\n        if (event.ctrlKey && (event.keyCode === 89 || event.keyCode === 90)) {\n            var collec = void 0;\n            if (event.keyCode === 90 && this.undoCollec.length > 0 && startValue !== this.undoCollec[this.undoCollec.length - 1].value) {\n                collec = this.undoCollec[this.undoCollec.length - 1];\n                this.redoCollec.unshift({\n                    value: this.element.value, startIndex: this.element.selectionStart,\n                    endIndex: this.element.selectionEnd\n                });\n                setElementValue.call(this, collec.value);\n                this.element.selectionStart = collec.startIndex;\n                this.element.selectionEnd = collec.endIndex;\n                this.undoCollec.splice(this.undoCollec.length - 1, 1);\n            }\n            else if (event.keyCode === 89 && this.redoCollec.length > 0 && startValue !== this.redoCollec[0].value) {\n                collec = this.redoCollec[0];\n                this.undoCollec.push({\n                    value: this.element.value, startIndex: this.element.selectionStart,\n                    endIndex: this.element.selectionEnd\n                });\n                setElementValue.call(this, collec.value);\n                this.element.selectionStart = collec.startIndex;\n                this.element.selectionEnd = collec.endIndex;\n                this.redoCollec.splice(0, 1);\n            }\n        }\n    }\n}\nexport function mobileRemoveFunction() {\n    var collec;\n    var sIndex = this.element.selectionStart;\n    var eIndex = this.element.selectionEnd;\n    if (this.redoCollec.length > 0) {\n        collec = this.redoCollec[0];\n        setElementValue.call(this, collec.value);\n        if ((collec.startIndex - sIndex) === 1) {\n            this.element.selectionStart = collec.startIndex;\n            this.element.selectionEnd = collec.endIndex;\n        }\n        else {\n            this.element.selectionStart = sIndex + 1;\n            this.element.selectionEnd = eIndex + 1;\n        }\n    }\n    else {\n        setElementValue.call(this, this.promptMask);\n        this.element.selectionStart = this.element.selectionEnd = sIndex;\n    }\n}\nfunction autoFillMaskInputValues(isRemove, oldEventVal, event) {\n    if (event.type === 'input') {\n        isRemove = false;\n        oldEventVal = this.element.value;\n        setElementValue.call(this, this.promptMask);\n        setMaskValue.call(this, oldEventVal);\n    }\n    return isRemove;\n}\nfunction removeMaskInputValues(event) {\n    var isRemove = false;\n    var oldEventVal;\n    var isDeleted = false;\n    if (this.element.value.length < this.promptMask.length) {\n        isRemove = true;\n        oldEventVal = this.element.value;\n        isRemove = autoFillMaskInputValues.call(this, isRemove, oldEventVal, event);\n        mobileRemoveFunction.call(this);\n    }\n    if (this.element.value.length >= this.promptMask.length && event.type === 'input') {\n        isRemove = autoFillMaskInputValues.call(this, isRemove, oldEventVal, event);\n    }\n    var initStartIndex = this.element.selectionStart;\n    var initEndIndex = this.element.selectionEnd;\n    var startIndex = this.element.selectionStart;\n    var endIndex = this.element.selectionEnd;\n    var maskValue = this.hiddenMask.replace(/[>|\\\\<]/g, '');\n    var curMask = maskValue[startIndex - 1];\n    var parentElement = this.element.parentNode;\n    if (isRemove || event.keyCode === 8 || event.keyCode === 46) {\n        this.undoCollec.push({ value: this.element.value, startIndex: this.element.selectionStart, endIndex: endIndex });\n        var multipleDel = false;\n        var preValue = this.element.value;\n        if (startIndex > 0 || ((event.keyCode === 8 || event.keyCode === 46) && startIndex < this.element.value.length\n            && ((this.element.selectionEnd - startIndex) !== this.element.value.length))) {\n            var index = startIndex;\n            if (startIndex !== endIndex) {\n                startIndex = endIndex;\n                if (event.keyCode === 46) {\n                    multipleDel = true;\n                }\n            }\n            else if (event.keyCode === 46) {\n                ++index;\n            }\n            else {\n                --index;\n            }\n            for (var k = startIndex; (event.keyCode === 8 || isRemove || multipleDel) ? k > index : k < index; (event.keyCode === 8 || isRemove || multipleDel) ? k-- : k++) {\n                for (var i = startIndex; (event.keyCode === 8 || isRemove || multipleDel) ? i > 0 : i < this.element.value.length; (event.keyCode === 8 || isRemove || multipleDel) ? i-- : i++) {\n                    var sIndex = void 0;\n                    if (((event.keyCode === 8 || multipleDel) && ((initStartIndex !== initEndIndex && initStartIndex !== startIndex) ||\n                        (initStartIndex === initEndIndex))) || isRemove) {\n                        curMask = maskValue[i - 1];\n                        sIndex = startIndex - 1;\n                    }\n                    else {\n                        curMask = maskValue[i];\n                        sIndex = startIndex;\n                        ++startIndex;\n                    }\n                    var oldValue = this.element.value[sIndex];\n                    if ((isNullOrUndefined(this.regExpCollec[curMask]) && (!isNullOrUndefined(this.customCharacters)\n                        && isNullOrUndefined(this.customCharacters[curMask]))\n                        && ((this.hiddenMask[sIndex] !== this.promptChar && this.customRegExpCollec[sIndex][0] !== '['\n                            && this.customRegExpCollec[sIndex][this.customRegExpCollec[sIndex].length - 1] !== ']')))\n                        || (this.promptMask[sIndex] !== this.promptChar && isNullOrUndefined(this.customCharacters))) {\n                        this.element.selectionStart = this.element.selectionEnd = sIndex;\n                        event.preventDefault();\n                        if (event.keyCode === 46 && !multipleDel) {\n                            ++this.element.selectionStart;\n                        }\n                    }\n                    else {\n                        var value = this.element.value;\n                        var prompt_1 = this.promptChar;\n                        var elementValue = value.substring(0, sIndex) + prompt_1 + value.substring(startIndex, value.length);\n                        setElementValue.call(this, elementValue);\n                        event.preventDefault();\n                        this.element.selectionStart = this.element.selectionEnd = sIndex;\n                        isDeleted = true;\n                    }\n                    startIndex = this.element.selectionStart;\n                    if ((!isDeleted && event.keyCode === 8) || multipleDel || (!isDeleted && !(event.keyCode === 46))) {\n                        sIndex = startIndex - 1;\n                    }\n                    else {\n                        sIndex = startIndex;\n                        isDeleted = false;\n                    }\n                    oldValue = this.element.value[sIndex];\n                    if (((initStartIndex !== initEndIndex) && (this.element.selectionStart === initStartIndex))\n                        || (this.promptMask[sIndex] === this.promptChar) || ((oldValue !== this.promptMask[sIndex]) &&\n                        (this.promptMask[sIndex] !== this.promptChar) && !isNullOrUndefined(this.customCharacters))) {\n                        break;\n                    }\n                }\n            }\n        }\n        if (this.element.selectionStart === 0 && (this.element.selectionEnd === this.element.value.length)) {\n            setElementValue.call(this, this.promptMask);\n            event.preventDefault();\n            this.element.selectionStart = this.element.selectionEnd = startIndex;\n        }\n        this.redoCollec.unshift({\n            value: this.element.value, startIndex: this.element.selectionStart,\n            endIndex: this.element.selectionEnd\n        });\n        if (this.element.value !== preValue) {\n            triggerMaskChangeEvent.call(this, event, oldEventVal);\n        }\n    }\n}\nfunction maskInputKeyPressHandler(event) {\n    if (this.mask) {\n        var oldValue = this.element.value;\n        if ((!event.ctrlKey) || (event.ctrlKey && event.code !== 'KeyA' && event.code !== 'KeyY'\n            && event.code !== 'KeyZ' && event.code !== 'KeyX' && event.code !== 'KeyC' && event.code !== 'KeyV')) {\n            this.maskKeyPress = true;\n            var key = event.key;\n            if (key === 'Spacebar') {\n                key = String.fromCharCode(event.keyCode);\n            }\n            if (!key) {\n                this.isIosInvalid = true;\n                validateValue.call(this, String.fromCharCode(event.keyCode), event.ctrlKey, event);\n                event.preventDefault();\n                this.isIosInvalid = false;\n            }\n            else if (key && key.length === 1) {\n                validateValue.call(this, key, event.ctrlKey, event);\n                event.preventDefault();\n            }\n        }\n        if (this.element.value !== oldValue) {\n            triggerMaskChangeEvent.call(this, event, oldValue);\n        }\n    }\n}\nfunction triggerMaskChangeEvent(event, oldValue) {\n    if (!isNullOrUndefined(this.changeEventArgs) && !this.isInitial) {\n        var eventArgs = {};\n        this.changeEventArgs = { value: this.element.value, maskedValue: this.element.value, isInteraction: false };\n        if (this.mask) {\n            this.changeEventArgs.value = strippedValue.call(this, this.element);\n        }\n        if (!isNullOrUndefined(event)) {\n            this.changeEventArgs.isInteraction = true;\n            this.changeEventArgs.event = event;\n        }\n        merge(eventArgs, this.changeEventArgs);\n        this.trigger('change', eventArgs);\n    }\n    this.preEleVal = this.element.value;\n    attributes(this.element, { 'aria-valuenow': this.element.value });\n}\nfunction maskInputKeyUpHandler(event) {\n    if (this.mask) {\n        var collec = void 0;\n        if (!this.maskKeyPress && event.keyCode === 229) {\n            var oldEventVal = void 0;\n            if (this.element.value.length === 1) {\n                this.element.value = this.element.value + this.promptMask;\n                this.element.setSelectionRange(1, 1);\n            }\n            if (this.element.value.length > this.promptMask.length) {\n                var startIndex = this.element.selectionStart;\n                var addedValues = this.element.value.length - this.promptMask.length;\n                var val_1 = this.element.value.substring(startIndex - addedValues, startIndex);\n                if (this.undoCollec.length > 0) {\n                    collec = this.undoCollec[this.undoCollec.length - 1];\n                    var startIndex_1 = this.element.selectionStart;\n                    oldEventVal = collec.value;\n                    var oldVal = collec.value.substring(startIndex_1 - addedValues, startIndex_1);\n                    collec = this.redoCollec[0];\n                    val_1 = val_1.trim();\n                    var isSpace = Browser.isAndroid && val_1 === '';\n                    if (!isSpace && oldVal !== val_1 && collec.value.substring(startIndex_1 - addedValues, startIndex_1) !== val_1) {\n                        validateValue.call(this, val_1, event.ctrlKey, event);\n                    }\n                    else if (isSpace) {\n                        preventUnsupportedValues.call(this, event, startIndex_1 - 1, this.element.selectionEnd - 1, val_1, event.ctrlKey, false);\n                    }\n                }\n                else {\n                    oldEventVal = this.promptMask;\n                    validateValue.call(this, val_1, event.ctrlKey, event);\n                }\n                this.maskKeyPress = false;\n                triggerMaskChangeEvent.call(this, event, oldEventVal);\n            }\n        }\n        else {\n            removeMaskError.call(this);\n        }\n        var val = strippedValue.call(this, this.element);\n        if (!((this.element.selectionStart === 0) && (this.promptMask === this.element.value) && val === '')\n            || (val === '' && this.value !== val)) {\n            this.prevValue = val;\n            this.value = val;\n        }\n    }\n    else {\n        triggerMaskChangeEvent.call(this, event);\n        this.value = this.element.value;\n    }\n    if (this.element.selectionStart === 0 && this.element.selectionEnd === 0) {\n        // tslint:disable-next-line\n        var temp_1 = this.element;\n        setTimeout(function () {\n            temp_1.setSelectionRange(0, 0);\n        }, 0);\n    }\n}\nfunction mobileSwipeCheck(key) {\n    if (key.length > 1 && ((this.promptMask.length + key.length) < this.element.value.length)) {\n        var elementValue = this.redoCollec[0].value.substring(0, this.redoCollec[0].startIndex) + key +\n            this.redoCollec[0].value.substring(this.redoCollec[0].startIndex, this.redoCollec[0].value.length);\n        setElementValue.call(this, elementValue);\n        this.element.selectionStart = this.element.selectionEnd = this.redoCollec[0].startIndex + key.length;\n    }\n    this.element.selectionStart = this.element.selectionStart - key.length;\n    this.element.selectionEnd = this.element.selectionEnd - key.length;\n}\nfunction mobileValidation(key) {\n    if (!this.maskKeyPress) {\n        mobileSwipeCheck.call(this, key);\n    }\n}\nfunction validateValue(key, isCtrlKey, event) {\n    mobileValidation.call(this, key);\n    if (isNullOrUndefined(this) || isNullOrUndefined(key)) {\n        return;\n    }\n    var startIndex = this.element.selectionStart;\n    var initStartIndex = startIndex;\n    var endIndex = this.element.selectionEnd;\n    var curMask;\n    var allowText = false;\n    var value = this.element.value;\n    var eventOldVal;\n    var prevSupport = false;\n    var isEqualVal = false;\n    for (var k = 0; k < key.length; k++) {\n        var keyValue = key[k];\n        startIndex = this.element.selectionStart;\n        endIndex = this.element.selectionEnd;\n        if (!this.maskKeyPress && initStartIndex === startIndex) {\n            startIndex = startIndex + k;\n        }\n        if ((!this.maskKeyPress || startIndex < this.promptMask.length)) {\n            for (var i = startIndex; i < this.promptMask.length; i++) {\n                var maskValue = this.escapeMaskValue;\n                curMask = maskValue[startIndex];\n                if (this.hiddenMask[startIndex] === '\\\\' && this.hiddenMask[startIndex + 1] === key) {\n                    isEqualVal = true;\n                }\n                if ((isNullOrUndefined(this.regExpCollec[curMask]) && (isNullOrUndefined(this.customCharacters)\n                    || (!isNullOrUndefined(this.customCharacters) && isNullOrUndefined(this.customCharacters[curMask])))\n                    && ((this.hiddenMask[startIndex] !== this.promptChar && this.customRegExpCollec[startIndex][0] !== '['\n                        && this.customRegExpCollec[startIndex][this.customRegExpCollec[startIndex].length - 1] !== ']')))\n                    || ((this.promptMask[startIndex] !== this.promptChar) && isNullOrUndefined(this.customCharacters))\n                    || (this.promptChar === curMask && this.escapeMaskValue === this.mask)) {\n                    this.element.selectionStart = this.element.selectionEnd = startIndex + 1;\n                    startIndex = this.element.selectionStart;\n                    curMask = this.hiddenMask[startIndex];\n                }\n            }\n            if (!isNullOrUndefined(this.customCharacters) && !isNullOrUndefined(this.customCharacters[curMask])) {\n                var customValStr = this.customCharacters[curMask];\n                var customValArr = customValStr.split(',');\n                for (var i = 0; i < customValArr.length; i++) {\n                    if (keyValue.match(new RegExp('[' + customValArr[i] + ']'))) {\n                        allowText = true;\n                        break;\n                    }\n                }\n            }\n            else if (!isNullOrUndefined(this.regExpCollec[curMask]) && keyValue.match(new RegExp(this.regExpCollec[curMask]))\n                && this.promptMask[startIndex] === this.promptChar) {\n                allowText = true;\n            }\n            else if (this.promptMask[startIndex] === this.promptChar && this.customRegExpCollec[startIndex][0] === '['\n                && this.customRegExpCollec[startIndex][this.customRegExpCollec[startIndex].length - 1] === ']'\n                && keyValue.match(new RegExp(this.customRegExpCollec[startIndex]))) {\n                allowText = true;\n            }\n            if ((!this.maskKeyPress || startIndex < this.hiddenMask.length) && allowText) {\n                if (k === 0) {\n                    if (this.maskKeyPress) {\n                        this.undoCollec.push({ value: value, startIndex: startIndex, endIndex: startIndex });\n                    }\n                    else {\n                        var sIndex = this.element.selectionStart;\n                        var eIndex = this.element.selectionEnd;\n                        if (this.redoCollec.length > 0) {\n                            eventOldVal = this.redoCollec[0].value;\n                            setElementValue.call(this, eventOldVal);\n                            this.undoCollec.push(this.redoCollec[0]);\n                        }\n                        else {\n                            this.undoCollec.push({ value: this.promptMask, startIndex: startIndex, endIndex: startIndex });\n                            eventOldVal = this.promptMask;\n                            setElementValue.call(this, eventOldVal);\n                        }\n                        this.element.selectionStart = sIndex;\n                        this.element.selectionEnd = eIndex;\n                    }\n                }\n                startIndex = this.element.selectionStart;\n                applySupportedValues.call(this, event, startIndex, keyValue, eventOldVal, isEqualVal);\n                prevSupport = true;\n                if (k === key.length - 1) {\n                    this.redoCollec.unshift({\n                        value: this.element.value, startIndex: this.element.selectionStart, endIndex: this.element.selectionEnd\n                    });\n                }\n                allowText = false;\n            }\n            else {\n                startIndex = this.element.selectionStart;\n                preventUnsupportedValues.call(this, event, startIndex, initStartIndex, key, isCtrlKey, prevSupport);\n            }\n            if (k === key.length - 1 && !allowText) {\n                if (!Browser.isAndroid || (Browser.isAndroid && startIndex < this.promptMask.length)) {\n                    this.redoCollec.unshift({\n                        value: this.element.value, startIndex: this.element.selectionStart, endIndex: this.element.selectionEnd\n                    });\n                }\n            }\n        }\n        else {\n            if (key.length === 1 && !isCtrlKey && !isNullOrUndefined(event)) {\n                addMaskErrorClass.call(this);\n            }\n        }\n    }\n}\nfunction applySupportedValues(event, startIndex, keyValue, eventOldVal, isEqualVal) {\n    if (this.hiddenMask.length > this.promptMask.length) {\n        keyValue = changeToLowerUpperCase.call(this, keyValue, this.element.value);\n    }\n    if (!isEqualVal) {\n        var value = this.element.value;\n        var elementValue = value.substring(0, startIndex) + keyValue + value.substring(startIndex + 1, value.length);\n        setElementValue.call(this, elementValue);\n        this.element.selectionStart = this.element.selectionEnd = startIndex + 1;\n    }\n}\nfunction preventUnsupportedValues(event, sIdx, idx, key, ctrl, chkSupport) {\n    if (!this.maskKeyPress) {\n        var eventOldVal = void 0;\n        var value = this.element.value;\n        if (sIdx >= this.promptMask.length) {\n            setElementValue.call(this, value.substring(0, sIdx));\n        }\n        else {\n            if (idx === sIdx) {\n                setElementValue.call(this, value.substring(0, sIdx) + value.substring(sIdx + 1, value.length));\n            }\n            else {\n                if (this.promptMask.length === this.element.value.length) {\n                    setElementValue.call(this, value.substring(0, sIdx) + value.substring(sIdx, value.length));\n                }\n                else {\n                    setElementValue.call(this, value.substring(0, idx) + value.substring(idx + 1, value.length));\n                }\n            }\n            this.element.selectionStart = this.element.selectionEnd = (chkSupport ||\n                this.element.value[idx] !== this.promptChar) ? sIdx : idx;\n        }\n        eventOldVal = this.element.value;\n        addMaskErrorClass.call(this);\n    }\n    if (key.length === 1 && !ctrl && !isNullOrUndefined(event)) {\n        addMaskErrorClass.call(this);\n    }\n}\nfunction addMaskErrorClass() {\n    var _this = this;\n    var parentElement = this.element.parentNode;\n    var timer = 200;\n    if (parentElement.classList.contains(INPUTGROUP) || parentElement.classList.contains(FLOATINPUT)) {\n        addClass([parentElement], ERROR);\n    }\n    else {\n        addClass([this.element], ERROR);\n    }\n    if (this.isIosInvalid === true) {\n        timer = 400;\n    }\n    attributes(this.element, { 'aria-invalid': 'true' });\n    setTimeout(function () {\n        if (!_this.maskKeyPress) {\n            removeMaskError.call(_this);\n        }\n    }, timer);\n}\nfunction removeMaskError() {\n    var parentElement = this.element.parentNode;\n    removeClass([parentElement], ERROR);\n    removeClass([this.element], ERROR);\n    attributes(this.element, { 'aria-invalid': 'false' });\n}\n/**\n * @hidden\n * Validates user input using masking elements '<' , '>' and '|'.\n */\nfunction changeToLowerUpperCase(key, value) {\n    var promptMask;\n    var i;\n    var j = 0;\n    var curVal = value;\n    var caseCount = 0;\n    for (i = 0; i < this.hiddenMask.length; i++) {\n        if (this.hiddenMask[i] === '\\\\') {\n            promptMask = curVal.substring(0, i) + '\\\\' + curVal.substring(i, curVal.length);\n        }\n        if (this.hiddenMask[i] === '>' || this.hiddenMask[i] === '<' || this.hiddenMask[i] === '|') {\n            if (this.hiddenMask[i] !== curVal[i]) {\n                promptMask = curVal.substring(0, i) + this.hiddenMask[i] + curVal.substring(i, curVal.length);\n            }\n            ++caseCount;\n        }\n        if (promptMask) {\n            if (((promptMask[i] === this.promptChar) && (i > this.element.selectionStart)) ||\n                (this.element.value.indexOf(this.promptChar) < 0 && (this.element.selectionStart + caseCount) === i)) {\n                caseCount = 0;\n                break;\n            }\n            curVal = promptMask;\n        }\n    }\n    while (i >= 0 && promptMask) {\n        if (i === 0 || promptMask[i - 1] !== '\\\\') {\n            var val = this.element.value;\n            if (promptMask[i] === '>') {\n                key = key.toUpperCase();\n                break;\n            }\n            else if (promptMask[i] === '<') {\n                key = key.toLowerCase();\n                break;\n            }\n            else if (promptMask[i] === '|') {\n                break;\n            }\n        }\n        --i;\n    }\n    return key;\n}\n/**\n * @hidden\n * To set updated values in the MaskedTextBox.\n */\nexport function setMaskValue(val) {\n    if (this.mask && val !== undefined && (this.prevValue === undefined || this.prevValue !== val)) {\n        this.maskKeyPress = true;\n        setElementValue.call(this, this.promptMask);\n        if (val !== '') {\n            this.element.selectionStart = 0;\n            this.element.selectionEnd = 0;\n        }\n        if (val !== null) {\n            for (var i = 0; i < val.length; i++) {\n                validateValue.call(this, val[i], false, null);\n            }\n        }\n        var newVal = strippedValue.call(this, this.element);\n        this.prevValue = newVal;\n        this.value = newVal;\n        triggerMaskChangeEvent.call(this, null, null);\n        this.maskKeyPress = false;\n        var labelElement = this.element.parentNode.querySelector('.e-float-text');\n        if (this.element.value === this.promptMask && this.floatLabelType === 'Auto' && this.placeholder &&\n            !isNullOrUndefined(labelElement) && labelElement.classList.contains(TOPLABEL) && !this.isFocus) {\n            removeClass([labelElement], TOPLABEL);\n            addClass([labelElement], BOTTOMLABEL);\n            setElementValue.call(this, '');\n        }\n    }\n    if (this.mask === null || this.mask === '' && this.value !== undefined) {\n        setElementValue.call(this, this.value);\n    }\n}\n/**\n * @hidden\n * To set updated values in the input element.\n */\nexport function setElementValue(val, element) {\n    if (!this.isFocus && this.floatLabelType === 'Auto' && this.placeholder && isNullOrUndefined(this.value)) {\n        val = '';\n    }\n    var value = strippedValue.call(this, (element ? element : this.element), val);\n    if (value === null || value === '') {\n        Input.setValue(val, (element ? element : this.element), this.floatLabelType, false);\n        if (this.showClearButton) {\n            this.inputObj.clearButton.classList.add('e-clear-icon-hide');\n        }\n    }\n    else {\n        Input.setValue(val, (element ? element : this.element), this.floatLabelType, this.showClearButton);\n    }\n}\n/**\n * @hidden\n * Provide mask support to input textbox through utility method.\n */\nexport function maskInput(args) {\n    var inputEle = getMaskInput(args);\n    applyMask.call(inputEle);\n    var val = strippedValue.call(this, this.element);\n    this.prevValue = val;\n    this.value = val;\n    if (args.mask) {\n        unwireEvents.call(inputEle);\n        wireEvents.call(inputEle);\n    }\n}\nfunction getMaskInput(args) {\n    addClass([args.element], UTILMASK);\n    var inputEle = {\n        element: args.element,\n        mask: args.mask,\n        promptMask: '',\n        hiddenMask: '',\n        escapeMaskValue: '',\n        promptChar: args.promptChar ? (args.promptChar.length > 1) ? args.promptChar = args.promptChar[0]\n            : args.promptChar : '_',\n        value: args.value ? args.value : null,\n        regExpCollec: regularExpressions,\n        customRegExpCollec: [],\n        customCharacters: args.customCharacters,\n        undoCollec: [],\n        redoCollec: [],\n        maskKeyPress: false,\n        prevValue: ''\n    };\n    createMask.call(inputEle);\n    return inputEle;\n}\n/**\n * @hidden\n * Gets raw value of the textbox which has been masked through utility method.\n */\nexport function getVal(args) {\n    return strippedValue.call(getUtilMaskEle(args), args.element);\n}\n/**\n * @hidden\n * Gets masked value of the textbox which has been masked through utility method.\n */\nexport function getMaskedVal(args) {\n    return unstrippedValue.call(getUtilMaskEle(args), args.element);\n}\nfunction getUtilMaskEle(args) {\n    var value = '';\n    var inputEle;\n    if (!isNullOrUndefined(args) && args.element.classList.contains(UTILMASK)) {\n        inputEle = getMaskInput(args);\n    }\n    return inputEle;\n}\n/**\n * @hidden\n * Arguments to perform undo and redo functionalities.\n */\nvar MaskUndo = /** @class */ (function () {\n    function MaskUndo() {\n    }\n    return MaskUndo;\n}());\nexport { MaskUndo };\nvar maskUndo = new MaskUndo();\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, extend, deleteObject, Property } from '@syncfusion/ej2-base';\n/**\n * @param props\n * @param model\n */\nexport function getModel(props, model) {\n    var obj = extend({}, props);\n    for (var _i = 0, _a = Object.keys(obj); _i < _a.length; _i++) {\n        var prop = _a[_i];\n        if ((model).indexOf(prop) < 0) {\n            deleteObject(obj, prop);\n        }\n    }\n    return obj;\n}\nvar Item = /** @class */ (function (_super) {\n    __extends(Item, _super);\n    function Item() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Item.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"id\", void 0);\n    __decorate([\n        Property(false)\n    ], Item.prototype, \"separator\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"text\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"url\", void 0);\n    return Item;\n}(ChildProperty));\nexport { Item };\n","/**\n * FloatLable Moduel\n * Specifies whether to display the floating label above the input element.\n */\nimport { removeClass, addClass, detach } from '@syncfusion/ej2-base';\nimport { attributes, isNullOrUndefined, createElement } from '@syncfusion/ej2-base';\nvar FLOATLINE = 'e-float-line';\nvar FLOATTEXT = 'e-float-text';\nvar LABELTOP = 'e-label-top';\nvar LABELBOTTOM = 'e-label-bottom';\n/**\n * Function to create Float Label element.\n * @param overAllWrapper - overall wrapper of multiselect.\n * @param element - the given html element.\n * @param inputElement - specify the input wrapper.\n * @param value - Value of the MultiSelect.\n * @param floatLabelType - Specify the FloatLabel Type.\n * @param placeholder - Specify the PlaceHolder text.\n */\nexport function createFloatLabel(overAllWrapper, searchWrapper, element, inputElement, value, floatLabelType, placeholder) {\n    var floatLinelement;\n    var floatLabelElement;\n    floatLinelement = createElement('span', { className: FLOATLINE });\n    floatLabelElement = createElement('label', { className: FLOATTEXT });\n    if (!isNullOrUndefined(element.id) && element.id !== '') {\n        floatLabelElement.id = 'label_' + element.id.replace(/ /g, '_');\n        attributes(element, { 'aria-labelledby': floatLabelElement.id });\n    }\n    if (!isNullOrUndefined(inputElement.placeholder) && inputElement.placeholder !== '') {\n        floatLabelElement.innerHTML = inputElement.placeholder;\n        inputElement.removeAttribute('placeholder');\n    }\n    if (!isNullOrUndefined(placeholder) && placeholder !== '') {\n        floatLabelElement.innerHTML = placeholder;\n    }\n    searchWrapper.appendChild(floatLinelement);\n    searchWrapper.appendChild(floatLabelElement);\n    overAllWrapper.classList.add('e-float-input');\n    updateFloatLabelState(value, floatLabelElement);\n    if (floatLabelType === 'Always') {\n        if (floatLabelElement.classList.contains(LABELBOTTOM)) {\n            removeClass([floatLabelElement], LABELBOTTOM);\n        }\n        addClass([floatLabelElement], LABELTOP);\n    }\n}\n/**\n * Function to update status of the Float Label element.\n * @param value - Value of the MultiSelect.\n * @param label - float label element.\n */\nexport function updateFloatLabelState(value, label) {\n    if (value && value.length > 0) {\n        addClass([label], LABELTOP);\n        removeClass([label], LABELBOTTOM);\n    }\n    else {\n        removeClass([label], LABELTOP);\n        addClass([label], LABELBOTTOM);\n    }\n}\n/**\n * Function to remove Float Label element.\n * @param overAllWrapper - overall wrapper of multiselect.\n * @param componentWrapper - wrapper element of multiselect.\n * @param searchWrapper - search wrapper of multiselect.\n * @param inputElement - specify the input wrapper.\n * @param value - Value of the MultiSelect.\n * @param floatLabelType - Specify the FloatLabel Type.\n * @param placeholder - Specify the PlaceHolder text.\n */\nexport function removeFloating(overAllWrapper, componentWrapper, searchWrapper, inputElement, value, floatLabelType, placeholder) {\n    var placeholderElement = componentWrapper.querySelector('.' + FLOATTEXT);\n    var floatLine = componentWrapper.querySelector('.' + FLOATLINE);\n    var placeholderText;\n    if (!isNullOrUndefined(placeholderElement)) {\n        placeholderText = placeholderElement.innerText;\n        detach(searchWrapper.querySelector('.' + FLOATTEXT));\n        setPlaceHolder(value, inputElement, placeholderText);\n        if (!isNullOrUndefined(floatLine)) {\n            detach(searchWrapper.querySelector('.' + FLOATLINE));\n        }\n    }\n    else {\n        placeholderText = (placeholder !== null) ? placeholder : '';\n        setPlaceHolder(value, inputElement, placeholderText);\n    }\n    overAllWrapper.classList.remove('e-float-input');\n}\n/**\n * Function to set the placeholder to the element.\n * @param value - Value of the MultiSelect.\n * @param inputElement - specify the input wrapper.\n * @param placeholder - Specify the PlaceHolder text.\n */\nexport function setPlaceHolder(value, inputElement, placeholder) {\n    if (value && value.length) {\n        inputElement.placeholder = '';\n    }\n    else {\n        inputElement.placeholder = placeholder;\n    }\n}\n/**\n * Function for focusing the Float Element.\n * @param overAllWrapper - overall wrapper of multiselect.\n * @param componentWrapper - wrapper element of multiselect.\n */\nexport function floatLabelFocus(overAllWrapper, componentWrapper) {\n    overAllWrapper.classList.add('e-input-focus');\n    var label = componentWrapper.querySelector('.' + FLOATTEXT);\n    if (!isNullOrUndefined(label)) {\n        addClass([label], LABELTOP);\n        if (label.classList.contains(LABELBOTTOM)) {\n            removeClass([label], LABELBOTTOM);\n        }\n    }\n}\n/**\n * Function to focus the Float Label element.\n * @param overAllWrapper - overall wrapper of multiselect.\n * @param componentWrapper - wrapper element of multiselect.\n * @param value - Value of the MultiSelect.\n * @param floatLabelType - Specify the FloatLabel Type.\n * @param placeholder - Specify the PlaceHolder text.\n */\nexport function floatLabelBlur(overAllWrapper, componentWrapper, value, floatLabelType, placeholder) {\n    overAllWrapper.classList.remove('e-input-focus');\n    var label = componentWrapper.querySelector('.' + FLOATTEXT);\n    if (value && value.length <= 0 && floatLabelType === 'Auto' && !isNullOrUndefined(label)) {\n        if (label.classList.contains(LABELTOP)) {\n            removeClass([label], LABELTOP);\n        }\n        addClass([label], LABELBOTTOM);\n    }\n}\n","import { isNullOrUndefined, merge } from './util';\nvar headerRegex = /^(.*?):[ \\t]*([^\\r\\n]*)$/gm;\nvar defaultType = 'GET';\n/**\n * Ajax class provides ability to make asynchronous HTTP request to the server\n * ```typescript\n *   var ajax = new Ajax(\"index.html\", \"GET\", true);\n *   ajax.send().then(\n *               function (value) {\n *                   console.log(value);\n *               },\n *               function (reason) {\n *                   console.log(reason);\n *               });\n * ```\n */\nvar Ajax = /** @class */ (function () {\n    /**\n     * Constructor for Ajax class\n     * @param  {string|Object} options?\n     * @param  {string} type?\n     * @param  {boolean} async?\n     * @returns defaultType\n     */\n    function Ajax(options, type, async, contentType) {\n        /**\n         * A boolean value indicating whether the request should be sent asynchronous or not.\n         * @default true\n         */\n        this.mode = true;\n        /**\n         * A boolean value indicating whether to ignore the promise reject.\n         * @private\n         * @default true\n         */\n        this.emitError = true;\n        this.options = {};\n        if (typeof options === 'string') {\n            this.url = options;\n            this.type = type ? type.toUpperCase() : defaultType;\n            this.mode = !isNullOrUndefined(async) ? async : true;\n        }\n        else if (typeof options === 'object') {\n            this.options = options;\n            merge(this, this.options);\n        }\n        this.type = this.type ? this.type.toUpperCase() : defaultType;\n        this.contentType = (this.contentType !== undefined) ? this.contentType : contentType;\n    }\n    /**\n     * Send the request to server.\n     * @param {any} data - To send the user data\n     * @return {Promise}\n     */\n    Ajax.prototype.send = function (data) {\n        var _this = this;\n        this.data = isNullOrUndefined(data) ? this.data : data;\n        var eventArgs = {\n            cancel: false\n        };\n        var promise = new Promise(function (resolve, reject) {\n            _this.httpRequest = new XMLHttpRequest();\n            _this.httpRequest.onreadystatechange = function () { _this.stateChange(resolve, reject); };\n            if (!isNullOrUndefined(_this.onLoad)) {\n                _this.httpRequest.onload = _this.onLoad;\n            }\n            if (!isNullOrUndefined(_this.onProgress)) {\n                _this.httpRequest.onprogress = _this.onProgress;\n            }\n            /* istanbul ignore next */\n            if (!isNullOrUndefined(_this.onAbort)) {\n                _this.httpRequest.onabort = _this.onAbort;\n            }\n            /* istanbul ignore next */\n            if (!isNullOrUndefined(_this.onError)) {\n                _this.httpRequest.onerror = _this.onError;\n            }\n            //** Upload Events **/\n            /* istanbul ignore next */\n            if (!isNullOrUndefined(_this.onUploadProgress)) {\n                _this.httpRequest.upload.onprogress = _this.onUploadProgress;\n            }\n            _this.httpRequest.open(_this.type, _this.url, _this.mode);\n            // Set default headers\n            if (!isNullOrUndefined(_this.data) && _this.contentType !== null) {\n                _this.httpRequest.setRequestHeader('Content-Type', _this.contentType || 'application/json; charset=utf-8');\n            }\n            if (_this.beforeSend) {\n                _this.beforeSend(eventArgs);\n            }\n            if (!eventArgs.cancel) {\n                _this.httpRequest.send(!isNullOrUndefined(_this.data) ? _this.data : null);\n            }\n        });\n        return promise;\n    };\n    Ajax.prototype.successHandler = function (data) {\n        if (this.onSuccess) {\n            this.onSuccess(data, this);\n        }\n        return data;\n    };\n    Ajax.prototype.failureHandler = function (reason) {\n        if (this.onFailure) {\n            this.onFailure(this.httpRequest);\n        }\n        return reason;\n    };\n    Ajax.prototype.stateChange = function (resolve, reject) {\n        var data = this.httpRequest.responseText;\n        if (this.dataType && this.dataType.toLowerCase() === 'json') {\n            if (data === '') {\n                data = undefined;\n            }\n            else {\n                try {\n                    data = JSON.parse(data);\n                }\n                catch (error) {\n                    // no exception handle\n                }\n            }\n        }\n        if (this.httpRequest.readyState === 4) {\n            //success range should be 200 to 299\n            if ((this.httpRequest.status >= 200 && this.httpRequest.status <= 299) || this.httpRequest.status === 304) {\n                resolve(this.successHandler(data));\n            }\n            else {\n                if (this.emitError) {\n                    reject(new Error(this.failureHandler(this.httpRequest.statusText)));\n                }\n                else {\n                    resolve();\n                }\n            }\n        }\n    };\n    /**\n     * To get the response header from XMLHttpRequest\n     * @param  {string} key Key to search in the response header\n     * @returns {string}\n     */\n    Ajax.prototype.getResponseHeader = function (key) {\n        var responseHeaders;\n        var header;\n        responseHeaders = {};\n        var headers = headerRegex.exec(this.httpRequest.getAllResponseHeaders());\n        while (headers) {\n            responseHeaders[headers[1].toLowerCase()] = headers[2];\n            headers = headerRegex.exec(this.httpRequest.getAllResponseHeaders());\n        }\n        header = responseHeaders[key.toLowerCase()];\n        return isNullOrUndefined(header) ? null : header;\n    };\n    return Ajax;\n}());\nexport { Ajax };\n","import { debounce, extend } from './util';\n/**\n * EventHandler class provides option to add, remove, clear and trigger events to a HTML DOM element\n * @private\n * ```html\n * <div id=\"Eventdiv\">  </div>\n * <script>\n *   let node: HTMLElement = document.querySelector(\"#Eventdiv\");\n *   EventHandler.addEventListener(node, \"click\", function(){\n *       // click handler function code\n *   });\n *   EventHandler.addEventListener(node, \"onmouseover\", function(){\n *       // mouseover handler function code\n *   });\n *   EventHandler.removeEventListener(node, \"click\", function(){\n *       // click handler function code\n *   });\n *   eventObj.clearEvents();\n * </script>\n * ```\n */\nvar EventHandler = /** @class */ (function () {\n    function EventHandler() {\n    }\n    // to get the event data based on element\n    EventHandler.addOrGetEventData = function (element) {\n        if ('__eventList' in element) {\n            return element.__eventList.events;\n        }\n        else {\n            element.__eventList = {};\n            return element.__eventList.events = [];\n        }\n    };\n    /**\n     * Add an event to the specified DOM element.\n     * @param {any} element - Target HTML DOM element\n     * @param {string} eventName - A string that specifies the name of the event\n     * @param {Function} listener - Specifies the function to run when the event occurs\n     * @param {Object} bindTo - A object that binds 'this' variable in the event handler\n     * @param {number} debounce - Specifies at what interval given event listener should be triggered.\n     * @return {Function}\n     */\n    EventHandler.add = function (element, eventName, listener, bindTo, intDebounce) {\n        var eventData = EventHandler.addOrGetEventData(element);\n        var debounceListener;\n        if (intDebounce) {\n            debounceListener = debounce(listener, intDebounce);\n        }\n        else {\n            debounceListener = listener;\n        }\n        if (bindTo) {\n            debounceListener = debounceListener.bind(bindTo);\n        }\n        var event = eventName.split(' ');\n        for (var i = 0; i < event.length; i++) {\n            eventData.push({\n                name: event[i],\n                listener: listener,\n                debounce: debounceListener\n            });\n            element.addEventListener(event[i], debounceListener);\n        }\n        return debounceListener;\n    };\n    /**\n     * Remove an event listener that has been attached before.\n     * @param {any} element - Specifies the target html element to remove the event\n     * @param {string} eventName - A string that specifies the name of the event to remove\n     * @param {Function} listener - Specifies the function to remove\n     * @return {void}\n     */\n    EventHandler.remove = function (element, eventName, listener) {\n        var eventData = EventHandler.addOrGetEventData(element);\n        var event = eventName.split(' ');\n        var _loop_1 = function (j) {\n            var index = -1;\n            var debounceListener;\n            if (eventData && eventData.length !== 0) {\n                eventData.some(function (x, i) {\n                    return x.name === event[j] && x.listener === listener ?\n                        (index = i, debounceListener = x.debounce, true) : false;\n                });\n            }\n            if (index !== -1) {\n                eventData.splice(index, 1);\n            }\n            if (debounceListener) {\n                element.removeEventListener(event[j], debounceListener);\n            }\n        };\n        for (var j = 0; j < event.length; j++) {\n            _loop_1(j);\n        }\n    };\n    /**\n     * Clear all the event listeners that has been previously attached to the element.\n     * @param {any} element - Specifies the target html element to clear the events\n     * @return {void}\n     */\n    EventHandler.clearEvents = function (element) {\n        var eventData;\n        var copyData;\n        eventData = EventHandler.addOrGetEventData(element);\n        copyData = extend([], copyData, eventData);\n        for (var i = 0; i < copyData.length; i++) {\n            element.removeEventListener(copyData[i].name, copyData[i].debounce);\n            eventData.shift();\n        }\n    };\n    /**\n     * Trigger particular event of the element.\n     * @param {any} element - Specifies the target html element to trigger the events\n     * @param {string} eventName - Specifies the event to trigger for the specified element.\n     * Can be a custom event, or any of the standard events.\n     * @param {any} eventProp - Additional parameters to pass on to the event properties\n     * @return {void}\n     */\n    EventHandler.trigger = function (element, eventName, eventProp) {\n        var eventData = EventHandler.addOrGetEventData(element);\n        var fn = null;\n        for (var _i = 0, eventData_1 = eventData; _i < eventData_1.length; _i++) {\n            var event_1 = eventData_1[_i];\n            if (event_1.name === eventName) {\n                event_1.debounce.call(this, eventProp);\n            }\n        }\n    };\n    return EventHandler;\n}());\nexport { EventHandler };\n","import { isNullOrUndefined, getValue } from './util';\nvar Observer = /** @class */ (function () {\n    function Observer(context) {\n        this.ranArray = [];\n        this.boundedEvents = {};\n        if (isNullOrUndefined(context)) {\n            return;\n        }\n        this.context = context;\n    }\n    ;\n    /**\n     * To attach handler for given property in current context.\n     * @param {string} property - specifies the name of the event.\n     * @param {Function} handler - Specifies the handler function to be called while event notified.\n     * @param {Object} context - Specifies the context binded to the handler.\n     * @param {string} id - specifies the random generated id.\n     * @return {void}\n     */\n    Observer.prototype.on = function (property, handler, context, id) {\n        if (isNullOrUndefined(handler)) {\n            return;\n        }\n        var cntxt = context || this.context;\n        if (this.notExist(property)) {\n            this.boundedEvents[property] = [{ handler: handler, context: cntxt }];\n            return;\n        }\n        if (!isNullOrUndefined(id)) {\n            if (this.ranArray.indexOf(id) === -1) {\n                this.ranArray.push(id);\n                this.boundedEvents[property].push({ handler: handler, context: cntxt, id: id });\n            }\n        }\n        else if (!this.isHandlerPresent(this.boundedEvents[property], handler)) {\n            this.boundedEvents[property].push({ handler: handler, context: cntxt });\n        }\n    };\n    /**\n     * To remove handlers from a event attached using on() function.\n     * @param {string} eventName - specifies the name of the event.\n     * @param {Function} handler - Optional argument specifies the handler function to be called while event notified.\n     * @param {string} id - specifies the random generated id.\n     * @return {void}\n     */\n    Observer.prototype.off = function (property, handler, id) {\n        if (this.notExist(property)) {\n            return;\n        }\n        var curObject = getValue(property, this.boundedEvents);\n        if (handler) {\n            for (var i = 0; i < curObject.length; i++) {\n                if (id) {\n                    curObject.splice(i, 1);\n                    var indexLocation = this.ranArray.indexOf(id);\n                    if (indexLocation !== -1) {\n                        this.ranArray.splice(indexLocation, 1);\n                    }\n                    break;\n                }\n                else if (handler === curObject[i].handler) {\n                    curObject.splice(i, 1);\n                    break;\n                }\n            }\n        }\n        else {\n            delete this.boundedEvents[property];\n        }\n    };\n    /**\n     * To notify the handlers in the specified event.\n     * @param {string} property - Specifies the event to be notify.\n     *  @param {Object} args - Additional parameters to pass while calling the handler.\n     * @return {void}\n     */\n    Observer.prototype.notify = function (property, argument) {\n        if (this.notExist(property)) {\n            return;\n        }\n        if (argument) {\n            argument.name = property;\n        }\n        var curObject = getValue(property, this.boundedEvents).slice(0);\n        for (var _i = 0, curObject_1 = curObject; _i < curObject_1.length; _i++) {\n            var cur = curObject_1[_i];\n            cur.handler.call(cur.context, argument);\n        }\n    };\n    /**\n     * To destroy handlers in the event\n     */\n    Observer.prototype.destroy = function () {\n        this.boundedEvents = this.context = undefined;\n    };\n    /**\n     * Returns if the property exists.\n     */\n    Observer.prototype.notExist = function (prop) {\n        return this.boundedEvents.hasOwnProperty(prop) === false;\n    };\n    /**\n     * Returns if the handler is present.\n     */\n    Observer.prototype.isHandlerPresent = function (boundedEvents, handler) {\n        for (var _i = 0, boundedEvents_1 = boundedEvents; _i < boundedEvents_1.length; _i++) {\n            var cur = boundedEvents_1[_i];\n            if (cur.handler === handler) {\n                return true;\n            }\n        }\n        return false;\n    };\n    return Observer;\n}());\nexport { Observer };\n","import { isUndefined } from './util';\nvar REGX_MOBILE = /android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i;\nvar REGX_IE = /msie|trident/i;\nvar REGX_IE11 = /Trident\\/7\\./;\nvar REGX_IOS = /(ipad|iphone|ipod touch)/i;\nvar REGX_IOS7 = /(ipad|iphone|ipod touch);.*os 7_\\d|(ipad|iphone|ipod touch);.*os 8_\\d/i;\nvar REGX_ANDROID = /android/i;\nvar REGX_WINDOWS = /trident|windows phone|edge/i;\nvar REGX_VERSION = /(version)[ \\/]([\\w.]+)/i;\nvar REGX_BROWSER = {\n    OPERA: /(opera|opr)(?:.*version|)[ \\/]([\\w.]+)/i,\n    EDGE: /(edge)(?:.*version|)[ \\/]([\\w.]+)/i,\n    CHROME: /(chrome|crios)[ \\/]([\\w.]+)/i,\n    PANTHOMEJS: /(phantomjs)[ \\/]([\\w.]+)/i,\n    SAFARI: /(safari)[ \\/]([\\w.]+)/i,\n    WEBKIT: /(webkit)[ \\/]([\\w.]+)/i,\n    MSIE: /(msie|trident) ([\\w.]+)/i,\n    MOZILLA: /(mozilla)(?:.*? rv:([\\w.]+)|)/i\n};\n/* istanbul ignore else  */\nif (typeof window !== 'undefined') {\n    window.browserDetails = window.browserDetails || {};\n}\n/**\n * Get configuration details for Browser\n * @private\n */\nvar Browser = /** @class */ (function () {\n    function Browser() {\n    }\n    Browser.extractBrowserDetail = function () {\n        var browserInfo = { culture: {} };\n        var keys = Object.keys(REGX_BROWSER);\n        var clientInfo = [];\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            clientInfo = Browser.userAgent.match(REGX_BROWSER[key]);\n            if (clientInfo) {\n                browserInfo.name = (clientInfo[1].toLowerCase() === 'opr' ? 'opera' : clientInfo[1].toLowerCase());\n                browserInfo.name = (clientInfo[1].toLowerCase() === 'crios' ? 'chrome' : browserInfo.name);\n                browserInfo.version = clientInfo[2];\n                browserInfo.culture.name = browserInfo.culture.language = navigator.language;\n                if (!!Browser.userAgent.match(REGX_IE11)) {\n                    browserInfo.name = 'msie';\n                    break;\n                }\n                var version = Browser.userAgent.match(REGX_VERSION);\n                if (browserInfo.name === 'safari' && version) {\n                    browserInfo.version = version[2];\n                }\n                break;\n            }\n        }\n        return browserInfo;\n    };\n    /**\n     * To get events from the browser\n     * @param {string} event - type of event triggered.\n     * @returns {Boolean}\n     */\n    Browser.getEvent = function (event) {\n        // tslint:disable-next-line:no-any\n        var events = {\n            start: {\n                isPointer: 'pointerdown', isTouch: 'touchstart', isDevice: 'mousedown'\n            },\n            move: {\n                isPointer: 'pointermove', isTouch: 'touchmove', isDevice: 'mousemove'\n            },\n            end: {\n                isPointer: 'pointerup', isTouch: 'touchend', isDevice: 'mouseup'\n            },\n            cancel: {\n                isPointer: 'pointercancel', isTouch: 'touchcancel', isDevice: 'mouseleave'\n            }\n        };\n        return (Browser.isPointer ? events[event].isPointer :\n            (Browser.isTouch ? events[event].isTouch + (!Browser.isDevice ? ' ' + events[event].isDevice : '')\n                : events[event].isDevice));\n    };\n    /**\n     * To get the Touch start event from browser\n     * @returns {string}\n     */\n    Browser.getTouchStartEvent = function () {\n        return Browser.getEvent('start');\n    };\n    /**\n     * To get the Touch end event from browser\n     * @returns {string}\n     */\n    Browser.getTouchEndEvent = function () {\n        return Browser.getEvent('end');\n    };\n    /**\n     * To get the Touch move event from browser\n     * @returns {string}\n     */\n    Browser.getTouchMoveEvent = function () {\n        return Browser.getEvent('move');\n    };\n    /**\n     * To cancel the touch event from browser\n     * @returns {string}\n     */\n    Browser.getTouchCancelEvent = function () {\n        return Browser.getEvent('cancel');\n    };\n    /**\n     * To get the value based on provided key and regX\n     * @param {string} key\n     * @param {RegExp} regX\n     * @returns {Object}\n     */\n    Browser.getValue = function (key, regX) {\n        var browserDetails = window.browserDetails;\n        if ('undefined' === typeof browserDetails[key]) {\n            return browserDetails[key] = regX.test(Browser.userAgent);\n        }\n        return browserDetails[key];\n    };\n    Object.defineProperty(Browser, \"userAgent\", {\n        get: function () {\n            return Browser.uA;\n        },\n        //Properties \n        /**\n         * Property specifies the userAgent of the browser. Default userAgent value is based on the browser.\n         * Also we can set our own userAgent.\n         */\n        set: function (uA) {\n            Browser.uA = uA;\n            window.browserDetails = {};\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"info\", {\n        //Read Only Properties\n        /**\n         * Property is to get the browser information like Name, Version and Language\n         * @returns BrowserInfo\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.info)) {\n                return window.browserDetails.info = Browser.extractBrowserDetail();\n            }\n            return window.browserDetails.info;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isIE\", {\n        /**\n         * Property is to get whether the userAgent is based IE.\n         */\n        get: function () {\n            return Browser.getValue('isIE', REGX_IE);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isTouch\", {\n        /**\n         * Property is to get whether the browser has touch support.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isTouch)) {\n                return window.browserDetails.isTouch = ('ontouchstart' in window);\n            }\n            return window.browserDetails.isTouch;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isPointer\", {\n        /**\n         * Property is to get whether the browser has Pointer support.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isPointer)) {\n                return window.browserDetails.isPointer = ('pointerEnabled' in window.navigator);\n            }\n            return window.browserDetails.isPointer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isMSPointer\", {\n        /**\n         * Property is to get whether the browser has MSPointer support.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isMSPointer)) {\n                return window.browserDetails.isMSPointer = ('msPointerEnabled' in window.navigator);\n            }\n            return window.browserDetails.isMSPointer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isDevice\", {\n        /**\n         * Property is to get whether the userAgent is device based.\n         */\n        get: function () {\n            return Browser.getValue('isDevice', REGX_MOBILE);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isIos\", {\n        /**\n         * Property is to get whether the userAgent is IOS.\n         */\n        get: function () {\n            return Browser.getValue('isIos', REGX_IOS);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isIos7\", {\n        /**\n         * Property is to get whether the userAgent is Ios7.\n         */\n        get: function () {\n            return Browser.getValue('isIos7', REGX_IOS7);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isAndroid\", {\n        /**\n         * Property is to get whether the userAgent is Android.\n         */\n        get: function () {\n            return Browser.getValue('isAndroid', REGX_ANDROID);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isWebView\", {\n        /**\n         * Property is to identify whether application ran in web view.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isWebView)) {\n                window.browserDetails.isWebView = !(isUndefined(window.cordova) && isUndefined(window.PhoneGap)\n                    && isUndefined(window.phonegap) && window.forge !== 'object');\n                return window.browserDetails.isWebView;\n            }\n            return window.browserDetails.isWebView;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isWindows\", {\n        /**\n         * Property is to get whether the userAgent is Windows.\n         */\n        get: function () {\n            return Browser.getValue('isWindows', REGX_WINDOWS);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"touchStartEvent\", {\n        /**\n         * Property is to get the touch start event. It returns event name based on browser.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.touchStartEvent)) {\n                return window.browserDetails.touchStartEvent = Browser.getTouchStartEvent();\n            }\n            return window.browserDetails.touchStartEvent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"touchMoveEvent\", {\n        /**\n         * Property is to get the touch move event. It returns event name based on browser.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.touchMoveEvent)) {\n                return window.browserDetails.touchMoveEvent = Browser.getTouchMoveEvent();\n            }\n            return window.browserDetails.touchMoveEvent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"touchEndEvent\", {\n        /**\n         * Property is to get the touch end event. It returns event name based on browser.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.touchEndEvent)) {\n                return window.browserDetails.touchEndEvent = Browser.getTouchEndEvent();\n            }\n            return window.browserDetails.touchEndEvent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"touchCancelEvent\", {\n        /**\n         * Property is to cancel the touch end event.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.touchCancelEvent)) {\n                return window.browserDetails.touchCancelEvent = Browser.getTouchCancelEvent();\n            }\n            return window.browserDetails.touchCancelEvent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /* istanbul ignore next */\n    Browser.uA = typeof navigator !== 'undefined' ? navigator.userAgent : '';\n    return Browser;\n}());\nexport { Browser };\n","import { defaultCurrencyCode } from '../internationalization';\nimport { getValue, isNullOrUndefined, extend } from '../util';\nimport { ParserBase as parser } from './parser-base';\nimport { DateFormat } from './date-formatter';\nimport { NumberFormat } from './number-formatter';\n/**\n * Date base common constants and function for date parser and formatter.\n */\nexport var IntlBase;\n(function (IntlBase) {\n    // tslint:disable-next-line:max-line-length\n    IntlBase.negativeDataRegex = /^(('[^']+'|''|[^*#@0,.E])*)(\\*.)?((([#,]*[0,]*0+)(\\.0*[0-9]*#*)?)|([#,]*@+#*))(E\\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/;\n    IntlBase.customRegex = /^(('[^']+'|''|[^*#@0,.])*)(\\*.)?((([0#,]*[0,]*[0#]*)(\\.[0#]*)?)|([#,]*@+#*))(E\\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/;\n    IntlBase.latnParseRegex = /0|1|2|3|4|5|6|7|8|9/g;\n    var fractionRegex = /[0-9]/g;\n    IntlBase.defaultCurrency = '$';\n    var mapper = ['infinity', 'nan', 'group', 'decimal'];\n    var patternRegex = /G|M|L|H|c|'| a|yy|y|EEEE|E/g;\n    var patternMatch = {\n        'G': '',\n        'M': 'm',\n        'L': 'm',\n        'H': 'h',\n        'c': 'd',\n        '\\'': '\"',\n        ' a': ' AM/PM',\n        'yy': 'yy',\n        'y': 'yyyy',\n        'EEEE': 'dddd',\n        'E': 'ddd'\n    };\n    var defaultFirstDay = 'sun';\n    var firstDayMapper = {\n        'sun': 0,\n        'mon': 1,\n        'tue': 2,\n        'wed': 3,\n        'thu': 4,\n        'fri': 5,\n        'sat': 6\n    };\n    IntlBase.formatRegex = /(^[ncpae]{1})([0-1]?[0-9]|20)?$/i;\n    IntlBase.currencyFormatRegex = /(^[ca]{1})([0-1]?[0-9]|20)?$/i;\n    IntlBase.curWithoutNumberRegex = /(c|a)$/ig;\n    var typeMapper = {\n        '$': 'isCurrency',\n        '%': 'isPercent',\n        '-': 'isNegative',\n        0: 'nlead',\n        1: 'nend'\n    };\n    IntlBase.dateParseRegex = /([a-z])\\1*|'([^']|'')+'|''|./gi;\n    IntlBase.basicPatterns = ['short', 'medium', 'long', 'full'];\n    /* tslint:disable:quotemark */\n    IntlBase.defaultObject = {\n        'dates': {\n            'calendars': {\n                'gregorian': {\n                    'months': {\n                        'stand-alone': {\n                            'abbreviated': {\n                                '1': 'Jan',\n                                '2': 'Feb',\n                                '3': 'Mar',\n                                '4': 'Apr',\n                                '5': 'May',\n                                '6': 'Jun',\n                                '7': 'Jul',\n                                '8': 'Aug',\n                                '9': 'Sep',\n                                '10': 'Oct',\n                                '11': 'Nov',\n                                '12': 'Dec'\n                            },\n                            'narrow': {\n                                '1': 'J',\n                                '2': 'F',\n                                '3': 'M',\n                                '4': 'A',\n                                '5': 'M',\n                                '6': 'J',\n                                '7': 'J',\n                                '8': 'A',\n                                '9': 'S',\n                                '10': 'O',\n                                '11': 'N',\n                                '12': 'D'\n                            },\n                            'wide': {\n                                '1': 'January',\n                                '2': 'February',\n                                '3': 'March',\n                                '4': 'April',\n                                '5': 'May',\n                                '6': 'June',\n                                '7': 'July',\n                                '8': 'August',\n                                '9': 'September',\n                                '10': 'October',\n                                '11': 'November',\n                                '12': 'December'\n                            }\n                        }\n                    },\n                    \"days\": {\n                        \"stand-alone\": {\n                            \"abbreviated\": {\n                                \"sun\": \"Sun\",\n                                \"mon\": \"Mon\",\n                                \"tue\": \"Tue\",\n                                \"wed\": \"Wed\",\n                                \"thu\": \"Thu\",\n                                \"fri\": \"Fri\",\n                                \"sat\": \"Sat\"\n                            },\n                            \"narrow\": {\n                                \"sun\": \"S\",\n                                \"mon\": \"M\",\n                                \"tue\": \"T\",\n                                \"wed\": \"W\",\n                                \"thu\": \"T\",\n                                \"fri\": \"F\",\n                                \"sat\": \"S\"\n                            },\n                            \"short\": {\n                                \"sun\": \"Su\",\n                                \"mon\": \"Mo\",\n                                \"tue\": \"Tu\",\n                                \"wed\": \"We\",\n                                \"thu\": \"Th\",\n                                \"fri\": \"Fr\",\n                                \"sat\": \"Sa\"\n                            },\n                            \"wide\": {\n                                \"sun\": \"Sunday\",\n                                \"mon\": \"Monday\",\n                                \"tue\": \"Tuesday\",\n                                \"wed\": \"Wednesday\",\n                                \"thu\": \"Thursday\",\n                                \"fri\": \"Friday\",\n                                \"sat\": \"Saturday\"\n                            }\n                        }\n                    },\n                    \"dayPeriods\": {\n                        \"format\": {\n                            \"wide\": {\n                                \"am\": \"AM\",\n                                \"pm\": \"PM\"\n                            }\n                        }\n                    },\n                    'eras': {\n                        'eraNames': {\n                            '0': 'Before Christ',\n                            '0-alt-variant': 'Before Common Era',\n                            '1': 'Anno Domini',\n                            \"1-alt-variant\": \"Common Era\"\n                        },\n                        'eraAbbr': {\n                            '0': 'BC',\n                            '0-alt-variant': 'BCE',\n                            '1': 'AD',\n                            '1-alt-variant': 'CE'\n                        },\n                        'eraNarrow': {\n                            '0': 'B',\n                            '0-alt-variant': 'BCE',\n                            '1': 'A',\n                            '1-alt-variant': 'CE'\n                        }\n                    },\n                    'dateFormats': {\n                        'full': 'EEEE, MMMM d, y',\n                        'long': 'MMMM d, y',\n                        'medium': 'MMM d, y',\n                        'short': 'M/d/yy'\n                    },\n                    'timeFormats': {\n                        'full': 'h:mm:ss a zzzz',\n                        'long': 'h:mm:ss a z',\n                        'medium': 'h:mm:ss a',\n                        'short': 'h:mm a'\n                    },\n                    'dateTimeFormats': {\n                        'full': \"{1} 'at' {0}\",\n                        'long': \"{1} 'at' {0}\",\n                        'medium': '{1}, {0}',\n                        'short': '{1}, {0}',\n                        'availableFormats': {\n                            'd': 'd',\n                            'E': 'ccc',\n                            'Ed': 'd E',\n                            'Ehm': 'E h:mm a',\n                            'EHm': 'E HH:mm',\n                            'Ehms': 'E h:mm:ss a',\n                            'EHms': 'E HH:mm:ss',\n                            'Gy': 'y G',\n                            'GyMMM': 'MMM y G',\n                            'GyMMMd': 'MMM d, y G',\n                            'GyMMMEd': 'E, MMM d, y G',\n                            'h': 'h a',\n                            'H': 'HH',\n                            'hm': 'h:mm a',\n                            'Hm': 'HH:mm',\n                            'hms': 'h:mm:ss a',\n                            'Hms': 'HH:mm:ss',\n                            'hmsv': 'h:mm:ss a v',\n                            'Hmsv': 'HH:mm:ss v',\n                            'hmv': 'h:mm a v',\n                            'Hmv': 'HH:mm v',\n                            'M': 'L',\n                            'Md': 'M/d',\n                            'MEd': 'E, M/d',\n                            'MMM': 'LLL',\n                            'MMMd': 'MMM d',\n                            'MMMEd': 'E, MMM d',\n                            'MMMMd': 'MMMM d',\n                            'ms': 'mm:ss',\n                            'y': 'y',\n                            'yM': 'M/y',\n                            'yMd': 'M/d/y',\n                            'yMEd': 'E, M/d/y',\n                            'yMMM': 'MMM y',\n                            'yMMMd': 'MMM d, y',\n                            'yMMMEd': 'E, MMM d, y',\n                            'yMMMM': 'MMMM y',\n                        },\n                    }\n                }\n            },\n            'timeZoneNames': {\n                \"hourFormat\": \"+HH:mm;-HH:mm\",\n                \"gmtFormat\": \"GMT{0}\",\n                \"gmtZeroFormat\": \"GMT\",\n            }\n        },\n        'numbers': {\n            'currencies': {\n                'USD': {\n                    'displayName': 'US Dollar',\n                    'symbol': '$',\n                    'symbol-alt-narrow': '$'\n                },\n                'EUR': {\n                    'displayName': 'Euro',\n                    'symbol': '€',\n                    'symbol-alt-narrow': '€'\n                },\n                'GBP': {\n                    'displayName': 'British Pound',\n                    'symbol-alt-narrow': '£'\n                },\n            },\n            'defaultNumberingSystem': 'latn',\n            'minimumGroupingDigits': '1',\n            'symbols-numberSystem-latn': {\n                'decimal': '.',\n                'group': ',',\n                'list': ';',\n                'percentSign': '%',\n                'plusSign': '+',\n                'minusSign': '-',\n                'exponential': 'E',\n                'superscriptingExponent': '×',\n                'perMille': '‰',\n                'infinity': '∞',\n                'nan': 'NaN',\n                'timeSeparator': ':'\n            },\n            'decimalFormats-numberSystem-latn': {\n                'standard': '#,##0.###',\n            },\n            'percentFormats-numberSystem-latn': {\n                'standard': '#,##0%'\n            },\n            'currencyFormats-numberSystem-latn': {\n                'standard': '¤#,##0.00',\n                'accounting': '¤#,##0.00;(¤#,##0.00)'\n            },\n            'scientificFormats-numberSystem-latn': {\n                'standard': '#E0'\n            }\n        }\n    };\n    /* tslint:enable:quotemark */\n    IntlBase.monthIndex = {\n        3: 'abbreviated',\n        4: 'wide',\n        5: 'narrow',\n        1: 'abbreviated'\n    };\n    /**\n     *\n     */\n    IntlBase.month = 'months';\n    IntlBase.days = 'days';\n    /**\n     * Default numerber Object\n     */\n    IntlBase.patternMatcher = {\n        C: 'currency',\n        P: 'percent',\n        N: 'decimal',\n        A: 'currency',\n        E: 'scientific'\n    };\n    /**\n     * Returns the resultant pattern based on the skeleton, dateObject and the type provided\n     * @private\n     * @param {string} skeleton\n     * @param {Object} dateObject\n     * @param {string} type\n     * @returns {string}\n     */\n    function getResultantPattern(skeleton, dateObject, type) {\n        var resPattern;\n        var iType = type || 'date';\n        if (IntlBase.basicPatterns.indexOf(skeleton) !== -1) {\n            resPattern = getValue(iType + 'Formats.' + skeleton, dateObject);\n            if (iType === 'dateTime') {\n                var dPattern = getValue('dateFormats.' + skeleton, dateObject);\n                var tPattern = getValue('timeFormats.' + skeleton, dateObject);\n                resPattern = resPattern.replace('{1}', dPattern).replace('{0}', tPattern);\n            }\n        }\n        else {\n            resPattern = getValue('dateTimeFormats.availableFormats.' + skeleton, dateObject);\n        }\n        return resPattern;\n    }\n    IntlBase.getResultantPattern = getResultantPattern;\n    /**\n     * Returns the dependable object for provided cldr data and culture\n     * @private\n     * @param {Object} cldr\n     * @param {string} culture\n     * @param {boolean} isNumber\n     * @returns {Dependables}\n     */\n    function getDependables(cldr, culture, isNumber) {\n        var ret = {};\n        ret.parserObject = parser.getMainObject(cldr, culture) || IntlBase.defaultObject;\n        if (isNumber) {\n            ret.numericObject = getValue('numbers', ret.parserObject);\n        }\n        else {\n            ret.dateObject = getValue('dates.calendars.gregorian', ret.parserObject);\n        }\n        return ret;\n    }\n    IntlBase.getDependables = getDependables;\n    /**\n     * Returns the symbol pattern for provided parameters\n     * @private\n     * @param {string} type\n     * @param {string} numSystem\n     * @param {Object} obj\n     * @param {boolean} isAccount\n     * @returns {string}\n     */\n    function getSymbolPattern(type, numSystem, obj, isAccount) {\n        return getValue(type + 'Formats-numberSystem-' +\n            numSystem + (isAccount ? '.accounting' : '.standard'), obj) || (isAccount ? getValue(type + 'Formats-numberSystem-' +\n            numSystem + '.standard', obj) : '');\n    }\n    IntlBase.getSymbolPattern = getSymbolPattern;\n    /**\n     * Returns proper numeric skeleton\n     * @private\n     * @param {string} skeleton\n     * @returns {NumericSkeleton}\n     */\n    function getProperNumericSkeleton(skeleton) {\n        var matches = skeleton.match(IntlBase.formatRegex);\n        var ret = {};\n        var pattern = matches[1].toUpperCase();\n        ret.isAccount = (pattern === 'A');\n        /* tslint:disable no-any */\n        ret.type = IntlBase.patternMatcher[pattern];\n        if (skeleton.length > 1) {\n            ret.fractionDigits = parseInt(matches[2], 10);\n        }\n        return ret;\n    }\n    IntlBase.getProperNumericSkeleton = getProperNumericSkeleton;\n    /**\n     * Returns format data for number formatting like minimum fraction, maximum fraction, etc..,\n     * @private\n     * @param {string} pattern\n     * @param {boolean} needFraction\n     * @param {string} cSymbol\n     * @param {boolean} fractionOnly\n     * @returns {NegativeData}\n     */\n    function getFormatData(pattern, needFraction, cSymbol, fractionOnly) {\n        var nData = fractionOnly ? {} : { nlead: '', nend: '' };\n        var match = pattern.match(IntlBase.customRegex);\n        if (match) {\n            if (!fractionOnly) {\n                nData.nlead = changeCurrencySymbol(match[1], cSymbol);\n                nData.nend = changeCurrencySymbol(match[10], cSymbol);\n                nData.groupPattern = match[4];\n            }\n            var fraction = match[7];\n            if (fraction && needFraction) {\n                var fmatch = fraction.match(fractionRegex);\n                if (!isNullOrUndefined(fmatch)) {\n                    nData.minimumFraction = fmatch.length;\n                }\n                else {\n                    nData.minimumFraction = 0;\n                }\n                nData.maximumFraction = fraction.length - 1;\n            }\n        }\n        return nData;\n    }\n    IntlBase.getFormatData = getFormatData;\n    /**\n     * Changes currency symbol\n     * @private\n     * @param {string} val\n     * @param {string} sym\n     * @returns {string}\n     */\n    function changeCurrencySymbol(val, sym) {\n        if (val) {\n            return val.replace(IntlBase.defaultCurrency, sym);\n        }\n        return '';\n    }\n    /**\n     * Returns currency symbol based on currency code\n     * @private\n     * @param {Object} numericObject\n     * @param {string} currencyCode\n     * @returns {string}\n     */\n    function getCurrencySymbol(numericObject, currencyCode) {\n        return getValue('currencies.' + currencyCode + '.symbol', numericObject) || '$';\n    }\n    IntlBase.getCurrencySymbol = getCurrencySymbol;\n    /**\n     * Returns formatting options for custom number format\n     * @private\n     * @param {string} format\n     * @param {CommonOptions} dOptions\n     * @param {Dependables} obj\n     * @returns {GenericFormatOptions}\n     */\n    function customFormat(format, dOptions, obj) {\n        var options = {};\n        var formatSplit = format.split(';');\n        var data = ['pData', 'nData', 'zeroData'];\n        for (var i = 0; i < formatSplit.length; i++) {\n            options[data[i]] = customNumberFormat(formatSplit[i], dOptions, obj);\n        }\n        if (isNullOrUndefined(options.nData)) {\n            options.nData = extend({}, options.pData);\n            options.nData.nlead = isNullOrUndefined(dOptions) ? '-' + options.nData.nlead : dOptions.minusSymbol + options.nData.nlead;\n        }\n        return options;\n    }\n    IntlBase.customFormat = customFormat;\n    /**\n     * Returns custom formatting options\n     * @private\n     * @param {string} format\n     * @param {CommonOptions} dOptions\n     * @param {Object} numObject\n     * @returns {NegativeData}\n     */\n    function customNumberFormat(format, dOptions, numObject) {\n        var cOptions = { type: 'decimal', minimumFractionDigits: 0, maximumFractionDigits: 0 };\n        var pattern = format.match(IntlBase.customRegex);\n        if (isNullOrUndefined(pattern) || (pattern[5] === '' && format !== 'N/A')) {\n            cOptions.type = undefined;\n        }\n        cOptions.nlead = pattern[1];\n        cOptions.nend = pattern[10];\n        var integerPart = pattern[6];\n        cOptions.useGrouping = integerPart.indexOf(',') !== -1;\n        integerPart = integerPart.replace(/,/g, '');\n        var fractionPart = pattern[7];\n        if (integerPart.indexOf('0') !== -1) {\n            cOptions.minimumIntegerDigits = integerPart.length - integerPart.indexOf('0');\n        }\n        if (!isNullOrUndefined(fractionPart)) {\n            cOptions.minimumFractionDigits = fractionPart.lastIndexOf('0');\n            cOptions.maximumFractionDigits = fractionPart.lastIndexOf('#');\n            if (cOptions.minimumFractionDigits === -1) {\n                cOptions.minimumFractionDigits = 0;\n            }\n            if (cOptions.maximumFractionDigits === -1 || cOptions.maximumFractionDigits < cOptions.minimumFractionDigits) {\n                cOptions.maximumFractionDigits = cOptions.minimumFractionDigits;\n            }\n        }\n        if (!isNullOrUndefined(dOptions)) {\n            extend(cOptions, isCurrencyPercent([cOptions.nlead, cOptions.nend], '$', dOptions.currencySymbol));\n            if (!cOptions.isCurrency) {\n                extend(cOptions, isCurrencyPercent([cOptions.nlead, cOptions.nend], '%', dOptions.percentSymbol));\n            }\n        }\n        else {\n            extend(cOptions, isCurrencyPercent([cOptions.nlead, cOptions.nend], '%', '%'));\n        }\n        if (!isNullOrUndefined(numObject)) {\n            var symbolPattern = getSymbolPattern(cOptions.type, dOptions.numberMapper.numberSystem, numObject, false);\n            if (cOptions.useGrouping) {\n                cOptions.groupSeparator = dOptions.numberMapper.numberSymbols[mapper[2]];\n                cOptions.groupData = NumberFormat.getGroupingDetails(symbolPattern.split(';')[0]);\n            }\n            cOptions.nlead = cOptions.nlead.replace(/\\'/g, '');\n            cOptions.nend = cOptions.nend.replace(/\\'/g, '');\n        }\n        return cOptions;\n    }\n    /**\n     * Returns formatting options for currency or percent type\n     * @private\n     * @param {string[]} parts\n     * @param {string} actual\n     * @param {string} symbol\n     * @returns {NegativeData}\n     */\n    function isCurrencyPercent(parts, actual, symbol) {\n        var options = { nlead: parts[0], nend: parts[1] };\n        for (var i = 0; i < 2; i++) {\n            var part = parts[i];\n            var loc = part.indexOf(actual);\n            if ((loc !== -1) && ((loc < part.indexOf('\\'')) || (loc > part.lastIndexOf('\\'')))) {\n                options[typeMapper[i]] = part.substr(0, loc) + symbol + part.substr(loc + 1);\n                options[typeMapper[actual]] = true;\n                options.type = options.isCurrency ? 'currency' : 'percent';\n                break;\n            }\n        }\n        return options;\n    }\n    IntlBase.isCurrencyPercent = isCurrencyPercent;\n    /**\n     * Returns culture based date separator\n     * @private\n     * @param {Object} dateObj\n     * @returns {string}\n     */\n    function getDateSeparator(dateObj) {\n        var value = (getValue('dateFormats.short', dateObj) || '').match(/[d‏M‏]([^d‏M])[d‏M‏]/i);\n        return value ? value[1] : '/';\n    }\n    IntlBase.getDateSeparator = getDateSeparator;\n    /**\n     * Returns Native Date Time pattern\n     * @private\n     * @param {string} culture\n     * @param {DateFormatOptions} options\n     * @param {Object} cldr\n     * @returns {string}\n     */\n    function getActualDateTimeFormat(culture, options, cldr, isExcelFormat) {\n        var dependable = getDependables(cldr, culture);\n        var actualPattern = options.format || getResultantPattern(options.skeleton, dependable.dateObject, options.type);\n        if (isExcelFormat) {\n            actualPattern = actualPattern.replace(patternRegex, function (pattern) {\n                return patternMatch[pattern];\n            });\n            if (actualPattern.indexOf('z') !== -1) {\n                var tLength = actualPattern.match(/z/g).length;\n                var timeZonePattern = void 0;\n                var options_1 = { 'timeZone': {} };\n                options_1.numMapper = parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr));\n                options_1.timeZone = getValue('dates.timeZoneNames', dependable.parserObject);\n                var value = new Date();\n                var timezone = value.getTimezoneOffset();\n                var pattern = (tLength < 4) ? '+H;-H' : options_1.timeZone.hourFormat;\n                pattern = pattern.replace(/:/g, options_1.numMapper.timeSeparator);\n                if (timezone === 0) {\n                    timeZonePattern = options_1.timeZone.gmtZeroFormat;\n                }\n                else {\n                    timeZonePattern = DateFormat.getTimeZoneValue(timezone, pattern);\n                    timeZonePattern = options_1.timeZone.gmtFormat.replace(/\\{0\\}/, timeZonePattern);\n                }\n                actualPattern = actualPattern.replace(/[z]+/, '\"' + timeZonePattern + '\"');\n            }\n            actualPattern = actualPattern.replace(/ $/, '');\n        }\n        return actualPattern;\n    }\n    IntlBase.getActualDateTimeFormat = getActualDateTimeFormat;\n    /**\n     * Returns Native Number pattern\n     * @private\n     * @param {string} culture\n     * @param {NumberFormatOptions} options\n     * @param {Object} cldr\n     * @returns {string}\n     */\n    function getActualNumberFormat(culture, options, cldr) {\n        var dependable = getDependables(cldr, culture, true);\n        var parseOptions = { custom: true };\n        var minFrac;\n        var curObj = {};\n        var curMatch = (options.format || '').match(IntlBase.currencyFormatRegex);\n        if (curMatch) {\n            var dOptions = {};\n            dOptions.numberMapper = parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr), true);\n            var curCode = getCurrencySymbol(dependable.numericObject, options.currency || defaultCurrencyCode);\n            var symbolPattern = getSymbolPattern('currency', dOptions.numberMapper.numberSystem, dependable.numericObject, (/a/i).test(options.format));\n            symbolPattern = symbolPattern.replace(/\\u00A4/g, curCode);\n            var split = symbolPattern.split(';');\n            curObj.hasNegativePattern = (split.length > 1);\n            curObj.nData = getFormatData(split[1] || '-' + split[0], true, curCode);\n            curObj.pData = getFormatData(split[0], false, curCode);\n            if (!curMatch[2] && !options.minimumFractionDigits && !options.maximumFractionDigits) {\n                minFrac = getFormatData(symbolPattern.split(';')[0], true, '', true).minimumFraction;\n            }\n        }\n        var actualPattern;\n        if ((IntlBase.formatRegex.test(options.format)) || !(options.format)) {\n            extend(parseOptions, getProperNumericSkeleton(options.format || 'N'));\n            parseOptions.custom = false;\n            actualPattern = '###0';\n            if (parseOptions.fractionDigits || options.minimumFractionDigits || options.maximumFractionDigits || minFrac) {\n                var defaultMinimum = 0;\n                if (parseOptions.fractionDigits) {\n                    options.minimumFractionDigits = options.maximumFractionDigits = parseOptions.fractionDigits;\n                }\n                actualPattern = fractionDigitsPattern(actualPattern, minFrac || parseOptions.fractionDigits ||\n                    options.minimumFractionDigits || defaultMinimum, options.maximumFractionDigits || defaultMinimum);\n            }\n            if (options.minimumIntegerDigits) {\n                actualPattern = minimumIntegerPattern(actualPattern, options.minimumIntegerDigits);\n            }\n            if (options.useGrouping) {\n                actualPattern = groupingPattern(actualPattern);\n            }\n            if (parseOptions.type === 'currency') {\n                var cPattern = actualPattern;\n                actualPattern = curObj.pData.nlead + cPattern + curObj.pData.nend;\n                if (curObj.hasNegativePattern) {\n                    actualPattern += ';' + curObj.nData.nlead + cPattern + curObj.nData.nend;\n                }\n            }\n            if (parseOptions.type === 'percent') {\n                actualPattern += ' %';\n            }\n        }\n        else {\n            actualPattern = options.format.replace(/\\'/g, '\"');\n        }\n        return actualPattern;\n    }\n    IntlBase.getActualNumberFormat = getActualNumberFormat;\n    function fractionDigitsPattern(pattern, minDigits, maxDigits) {\n        pattern += '.';\n        for (var a = 0; a < minDigits; a++) {\n            pattern += '0';\n        }\n        if (minDigits < maxDigits) {\n            var diff = maxDigits - minDigits;\n            for (var b = 0; b < diff; b++) {\n                pattern += '#';\n            }\n        }\n        return pattern;\n    }\n    function minimumIntegerPattern(pattern, digits) {\n        var temp = pattern.split('.');\n        var integer = '';\n        for (var x = 0; x < digits; x++) {\n            integer += '0';\n        }\n        return temp[1] ? (integer + '.' + temp[1]) : integer;\n    }\n    function groupingPattern(pattern) {\n        var temp = pattern.split('.');\n        var integer = temp[0];\n        var no = 3 - integer.length % 3;\n        var hash = (no && no === 1) ? '#' : (no === 2 ? '##' : '');\n        integer = hash + integer;\n        pattern = '';\n        for (var x = integer.length - 1; x > 0; x = x - 3) {\n            pattern = ',' + integer[x - 2] + integer[x - 1] + integer[x] + pattern;\n        }\n        pattern = pattern.slice(1);\n        return temp[1] ? (pattern + '.' + temp[1]) : pattern;\n    }\n    function getWeekData(culture, cldr) {\n        var firstDay = defaultFirstDay;\n        var mapper = getValue('supplemental.weekData.firstDay', cldr);\n        var iCulture = culture;\n        if ((/en-/).test(iCulture)) {\n            iCulture = iCulture.slice(3);\n        }\n        iCulture = iCulture.slice(0, 2).toUpperCase() + iCulture.substr(2);\n        if (mapper) {\n            firstDay = mapper[iCulture] || defaultFirstDay;\n        }\n        return firstDayMapper[firstDay];\n    }\n    IntlBase.getWeekData = getWeekData;\n})(IntlBase || (IntlBase = {}));\n","/**\n * To import utils\n */\nimport { isNullOrUndefined } from './util';\n/**\n * @private\n */\nvar CanvasRenderer = /** @class */ (function () {\n    /* End-Properties */\n    function CanvasRenderer(rootID) {\n        this.rootId = rootID;\n    }\n    // method to get the attributes value\n    /* tslint:disable */\n    CanvasRenderer.prototype.getOptionValue = function (options, key) {\n        return options[key];\n    };\n    /* tslint:enable */\n    /**\n     * To create a Html5 canvas element\n     * @param {BaseAttibutes} options - Options to create canvas\n     * @return {HTMLCanvasElement}\n     */\n    CanvasRenderer.prototype.createCanvas = function (options) {\n        var canvasObj = document.createElement('canvas');\n        canvasObj.setAttribute('id', this.rootId + '_canvas');\n        this.ctx = canvasObj.getContext('2d');\n        this.canvasObj = canvasObj;\n        this.setCanvasSize(options.width, options.height);\n        return this.canvasObj;\n    };\n    /**\n     * To set the width and height for the Html5 canvas element\n     * @param {number} width - width of the canvas\n     * @param {number} height - height of the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.setCanvasSize = function (width, height) {\n        var element = document.getElementById(this.rootId);\n        var size = !isNullOrUndefined(element) ? element.getBoundingClientRect() : null;\n        if (isNullOrUndefined(this.width)) {\n            this.canvasObj.setAttribute('width', width ? width.toString() : size.width.toString());\n        }\n        else {\n            this.canvasObj.setAttribute('width', this.width.toString());\n        }\n        if (isNullOrUndefined(this.height)) {\n            this.canvasObj.setAttribute('height', height ? height.toString() : '450');\n        }\n        else {\n            this.canvasObj.setAttribute('height', this.height.toString());\n        }\n    };\n    // To set the values to the attributes\n    CanvasRenderer.prototype.setAttributes = function (options) {\n        this.ctx.lineWidth = this.getOptionValue(options, 'stroke-width');\n        var dashArray = this.getOptionValue(options, 'stroke-dasharray');\n        if (!isNullOrUndefined(dashArray)) {\n            var dashArrayString = dashArray.split(',');\n            this.ctx.setLineDash([parseInt(dashArrayString[0], 10), parseInt(dashArrayString[1], 10)]);\n        }\n        this.ctx.strokeStyle = this.getOptionValue(options, 'stroke');\n    };\n    /**\n     * To draw a line\n     * @param {LineAttributes} options - required options to draw a line on the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawLine = function (options) {\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.lineWidth = this.getOptionValue(options, 'stroke-width');\n        this.ctx.strokeStyle = options.stroke;\n        this.ctx.moveTo(options.x1, options.y1);\n        this.ctx.lineTo(options.x2, options.y2);\n        this.ctx.stroke();\n        this.ctx.restore();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw a rectangle\n     * @param {RectAttributes} options - required options to draw a rectangle on the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawRectangle = function (options) {\n        var canvasCtx = this.ctx;\n        var cornerRadius = options.rx;\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.globalAlpha = this.getOptionValue(options, 'opacity');\n        this.setAttributes(options);\n        this.ctx.rect(options.x, options.y, options.width, options.height);\n        if (cornerRadius !== null && cornerRadius >= 0) {\n            this.drawCornerRadius(options);\n        }\n        else {\n            if (options.fill === 'none') {\n                options.fill = 'transparent';\n            }\n            this.ctx.fillStyle = options.fill;\n            this.ctx.fillRect(options.x, options.y, options.width, options.height);\n            this.ctx.stroke();\n        }\n        this.ctx.restore();\n        this.ctx = canvasCtx;\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    // To draw the corner of a rectangle\n    CanvasRenderer.prototype.drawCornerRadius = function (options) {\n        var cornerRadius = options.rx;\n        var x = options.x;\n        var y = options.y;\n        var width = options.width;\n        var height = options.height;\n        if (options.fill === 'none') {\n            options.fill = 'transparent';\n        }\n        this.ctx.fillStyle = options.fill;\n        if (width < 2 * cornerRadius) {\n            cornerRadius = width / 2;\n        }\n        if (height < 2 * cornerRadius) {\n            cornerRadius = height / 2;\n        }\n        this.ctx.beginPath();\n        this.ctx.moveTo(x + width - cornerRadius, y);\n        this.ctx.arcTo(x + width, y, x + width, y + height, cornerRadius);\n        this.ctx.arcTo(x + width, y + height, x, y + height, cornerRadius);\n        this.ctx.arcTo(x, y + height, x, y, cornerRadius);\n        this.ctx.arcTo(x, y, x + width, y, cornerRadius);\n        this.ctx.closePath();\n        this.ctx.fill();\n        this.ctx.stroke();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw a path on the canvas\n     * @param {PathAttributes} options - options needed to draw path\n     * @param {Int32Array} canvasTranslate - Array of numbers to translate the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawPath = function (options, canvasTranslate) {\n        var path = options.d;\n        var dataSplit = path.split(' ');\n        var borderWidth = this.getOptionValue(options, 'stroke-width');\n        var canvasCtx = this.ctx;\n        var flag = true;\n        this.ctx.save();\n        this.ctx.beginPath();\n        if (canvasTranslate) {\n            this.ctx.translate(canvasTranslate[0], canvasTranslate[1]);\n        }\n        this.ctx.globalAlpha = options.opacity ? options.opacity : this.getOptionValue(options, 'fill-opacity');\n        this.setAttributes(options);\n        for (var i = 0; i < dataSplit.length; i = i + 3) {\n            var x1 = parseFloat(dataSplit[i + 1]);\n            var y1 = parseFloat(dataSplit[i + 2]);\n            switch (dataSplit[i]) {\n                case 'M':\n                    if (!options.innerR && !options.cx) {\n                        this.ctx.moveTo(x1, y1);\n                    }\n                    break;\n                case 'L':\n                    if (!options.innerR) {\n                        this.ctx.lineTo(x1, y1);\n                    }\n                    break;\n                case 'C':\n                    var c1 = parseFloat(dataSplit[i + 3]);\n                    var c2 = parseFloat(dataSplit[i + 4]);\n                    var c3 = parseFloat(dataSplit[i + 5]);\n                    var c4 = parseFloat(dataSplit[i + 6]);\n                    this.ctx.bezierCurveTo(x1, y1, c1, c2, c3, c4);\n                    i = i + 4;\n                    break;\n                case 'A':\n                    if (!options.innerR) {\n                        if (options.cx) {\n                            this.ctx.arc(options.cx, options.cy, options.radius, 0, 2 * Math.PI, options.counterClockWise);\n                        }\n                        else {\n                            this.ctx.moveTo(options.x, options.y);\n                            this.ctx.arc(options.x, options.y, options.radius, options.start, options.end, options.counterClockWise);\n                            this.ctx.lineTo(options.x, options.y);\n                        }\n                    }\n                    else if (flag) {\n                        this.ctx.arc(options.x, options.y, options.radius, options.start, options.end, options.counterClockWise);\n                        this.ctx.arc(options.x, options.y, options.innerR, options.end, options.start, !options.counterClockWise);\n                        flag = false;\n                    }\n                    i = i + 5;\n                    break;\n                case 'z':\n                    this.ctx.closePath();\n                    break;\n            }\n        }\n        if (options.fill !== 'none' && options.fill !== undefined) {\n            this.ctx.fillStyle = options.fill;\n            this.ctx.fill();\n        }\n        if (borderWidth > 0) {\n            this.ctx.stroke();\n        }\n        this.ctx.restore();\n        this.ctx = canvasCtx;\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw a text\n     * @param {TextAttributes} options - options required to draw text\n     * @param {string} label - Specifies the text which has to be drawn on the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawText = function (options, label) {\n        var fontWeight = this.getOptionValue(options, 'font-weight');\n        if (!isNullOrUndefined(fontWeight) && fontWeight.toLowerCase() === 'regular') {\n            fontWeight = 'normal';\n        }\n        var fontSize = this.getOptionValue(options, 'font-size');\n        var fontFamily = this.getOptionValue(options, 'font-family');\n        var fontStyle = this.getOptionValue(options, 'font-style').toLowerCase();\n        var font = (fontStyle + ' ' + fontWeight + ' ' + fontSize + ' ' + fontFamily);\n        var anchor = this.getOptionValue(options, 'text-anchor');\n        var opacity = options.opacity !== undefined ? options.opacity : 1;\n        if (anchor === 'middle') {\n            anchor = 'center';\n        }\n        this.ctx.save();\n        this.ctx.fillStyle = options.fill;\n        this.ctx.font = font;\n        this.ctx.textAlign = anchor;\n        this.ctx.globalAlpha = opacity;\n        if (options.baseline) {\n            this.ctx.textBaseline = options.baseline;\n        }\n        var txtlngth = 0;\n        this.ctx.translate(options.x + (txtlngth / 2), options.y);\n        this.ctx.rotate(options.labelRotation * Math.PI / 180);\n        this.ctx.fillText(label, 0, 0);\n        this.ctx.restore();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw circle on the canvas\n     * @param {CircleAttributes} options - required options to draw the circle\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawCircle = function (options) {\n        var canvasCtx = this.ctx;\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.arc(options.cx, options.cy, options.r, 0, 2 * Math.PI);\n        this.ctx.fillStyle = options.fill;\n        this.ctx.globalAlpha = options.opacity;\n        this.ctx.fill();\n        this.setAttributes(options);\n        this.ctx.stroke();\n        this.ctx.restore();\n        this.ctx = canvasCtx;\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw polyline\n     * @param {PolylineAttributes} options - options needed to draw polyline\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawPolyline = function (options) {\n        this.ctx.save();\n        this.ctx.beginPath();\n        var points = options.points.split(' ');\n        for (var i = 0; i < points.length - 1; i++) {\n            var point = points[i].split(',');\n            var x = parseFloat(point[0]);\n            var y = parseFloat(point[1]);\n            if (i === 0) {\n                this.ctx.moveTo(x, y);\n            }\n            else {\n                this.ctx.lineTo(x, y);\n            }\n        }\n        this.ctx.lineWidth = this.getOptionValue(options, 'stroke-width');\n        this.ctx.strokeStyle = options.stroke;\n        this.ctx.stroke();\n        this.ctx.restore();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw an ellipse on the canvas\n     * @param {EllipseAttributes} options - options needed to draw ellipse\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawEllipse = function (options) {\n        var canvasCtx = this.ctx;\n        var circumference = Math.max(options.rx, options.ry);\n        var scaleX = options.rx / circumference;\n        var scaleY = options.ry / circumference;\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.translate(options.cx, options.cy);\n        this.ctx.save();\n        this.ctx.scale(scaleX, scaleY);\n        this.ctx.arc(0, 0, circumference, 0, 2 * Math.PI, false);\n        this.ctx.fillStyle = options.fill;\n        this.ctx.fill();\n        this.ctx.restore();\n        this.ctx.lineWidth = this.getOptionValue(options, 'stroke-width');\n        this.ctx.strokeStyle = options.stroke;\n        this.ctx.stroke();\n        this.ctx.restore();\n        this.ctx = canvasCtx;\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw an image\n     * @param {ImageAttributes} options - options required to draw an image on the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawImage = function (options) {\n        this.ctx.save();\n        var imageObj = new Image();\n        if (!isNullOrUndefined(options.href)) {\n            imageObj.src = options.href;\n            this.ctx.drawImage(imageObj, options.x, options.y, options.width, options.height);\n        }\n        this.ctx.restore();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To create a linear gradient\n     * @param {string[]} colors - Specifies the colors required to create linear gradient\n     * @return {string}\n     */\n    CanvasRenderer.prototype.createLinearGradient = function (colors) {\n        var myGradient;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            myGradient = this.ctx.createLinearGradient(0, 0, 0, this.canvasObj.height);\n        }\n        var color = this.setGradientValues(colors, myGradient);\n        return color;\n    };\n    /**\n     * To create a radial gradient\n     * @param {string[]} colors - Specifies the colors required to create linear gradient\n     * @return {string}\n     */\n    CanvasRenderer.prototype.createRadialGradient = function (colors) {\n        var myGradient;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            myGradient = this.ctx.createRadialGradient(0, 0, 0, 0, 0, this.canvasObj.height);\n        }\n        var colorName = this.setGradientValues(colors, myGradient);\n        return colorName;\n    };\n    // To set the gradient values\n    CanvasRenderer.prototype.setGradientValues = function (colors, myGradient) {\n        var colorName;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            for (var i = 0; i <= colors.length - 1; i++) {\n                var color = colors[i].color;\n                var newColorStop = (colors[i].colorStop).slice(0, -1);\n                var stopColor = parseInt(newColorStop, 10) / 100;\n                myGradient.addColorStop(stopColor, color);\n            }\n            colorName = myGradient.toString();\n        }\n        else {\n            colorName = colors[0].color.toString();\n        }\n        this.dataUrl = this.canvasObj.toDataURL();\n        return colorName;\n    };\n    /**\n     * To set the attributes to the element\n     * @param {SVGCanvasAttributes} options - Attributes to set for the element\n     * @param {HTMLElement} element - The element to which the attributes need to be set\n     * @return {HTMLElement}\n     */\n    CanvasRenderer.prototype.setElementAttributes = function (options, element) {\n        var keys = Object.keys(options);\n        var values = Object.keys(options).map(function (key) { return options[key]; });\n        for (var i = 0; i < keys.length; i++) {\n            element.setAttribute(keys[i], values[i]);\n        }\n        return element;\n    };\n    /**\n     * To update the values of the canvas element attributes\n     * @param {SVGCanvasAttributes} options - Specifies the colors required to create gradient\n     * @return {void}\n     */\n    CanvasRenderer.prototype.updateCanvasAttributes = function (options) {\n        this.setElementAttributes(options, this.canvasObj);\n        var ctx = this.ctx;\n        if (!isNullOrUndefined(this.dataUrl)) {\n            var img_1 = new Image;\n            img_1.onload = function () {\n                ctx.drawImage(img_1, 0, 0);\n            };\n            img_1.src = this.dataUrl;\n        }\n    };\n    return CanvasRenderer;\n}());\nexport { CanvasRenderer };\n","/**\n * Module loading operations\n */\nimport { createInstance, setValue, getValue, deleteObject } from './util';\nvar MODULE_SUFFIX = 'Module';\nvar ModuleLoader = /** @class */ (function () {\n    function ModuleLoader(parent) {\n        this.loadedModules = [];\n        this.parent = parent;\n    }\n    ;\n    /**\n     * Inject required modules in component library\n     * @return {void}\n     * @param {ModuleDeclaration[]} requiredModules - Array of modules to be required\n     * @param {Function[]} moduleList - Array of modules to be injected from sample side\n     */\n    ModuleLoader.prototype.inject = function (requiredModules, moduleList) {\n        var reqLength = requiredModules.length;\n        if (reqLength === 0) {\n            this.clean();\n            return;\n        }\n        if (this.loadedModules.length) {\n            this.clearUnusedModule(requiredModules);\n        }\n        for (var i = 0; i < reqLength; i++) {\n            var modl = requiredModules[i];\n            for (var _i = 0, moduleList_1 = moduleList; _i < moduleList_1.length; _i++) {\n                var module = moduleList_1[_i];\n                var modName = modl.member;\n                if (module.prototype.getModuleName() === modl.member && !this.isModuleLoaded(modName)) {\n                    var moduleObject = createInstance(module, modl.args);\n                    var memberName = this.getMemberName(modName);\n                    if (modl.isProperty) {\n                        setValue(memberName, module, this.parent);\n                    }\n                    else {\n                        setValue(memberName, moduleObject, this.parent);\n                    }\n                    var loadedModule = modl;\n                    loadedModule.member = memberName;\n                    this.loadedModules.push(loadedModule);\n                }\n            }\n        }\n    };\n    /**\n     * To remove the created object while destroying the control\n     * @return {void}\n     */\n    ModuleLoader.prototype.clean = function () {\n        for (var _i = 0, _a = this.loadedModules; _i < _a.length; _i++) {\n            var modules = _a[_i];\n            if (!modules.isProperty) {\n                getValue(modules.member, this.parent).destroy();\n            }\n        }\n        this.loadedModules = [];\n    };\n    /**\n     * Removes all unused modules\n     * @param {ModuleDeclaration[]} moduleList\n     * @returns {void}\n     */\n    ModuleLoader.prototype.clearUnusedModule = function (moduleList) {\n        var _this = this;\n        var usedModules = moduleList.map(function (arg) { return _this.getMemberName(arg.member); });\n        var removableModule = this.loadedModules.filter(function (module) {\n            return usedModules.indexOf(module.member) === -1;\n        });\n        for (var _i = 0, removableModule_1 = removableModule; _i < removableModule_1.length; _i++) {\n            var mod = removableModule_1[_i];\n            if (!mod.isProperty) {\n                getValue(mod.member, this.parent).destroy();\n            }\n            this.loadedModules.splice(this.loadedModules.indexOf(mod), 1);\n            deleteObject(this.parent, mod.member);\n        }\n    };\n    /**\n     * To get the name of the member.\n     * @param {string} name\n     * @returns {string}\n     */\n    ModuleLoader.prototype.getMemberName = function (name) {\n        return name[0].toLowerCase() + name.substring(1) + MODULE_SUFFIX;\n    };\n    /**\n     * Returns boolean based on whether the module specified is loaded or not\n     * @param {string} modName\n     * @returns {boolean}\n     */\n    ModuleLoader.prototype.isModuleLoaded = function (modName) {\n        for (var _i = 0, _a = this.loadedModules; _i < _a.length; _i++) {\n            var mod = _a[_i];\n            if (mod.member === this.getMemberName(modName)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    return ModuleLoader;\n}());\nexport { ModuleLoader };\n","import { getValue, setValue, merge } from './util';\nimport { Base } from './base';\n/**\n * To detect the changes for inner properties.\n * @private\n */\nvar ChildProperty = /** @class */ (function () {\n    function ChildProperty(parent, propName, defaultValue, isArray) {\n        this.properties = {};\n        this.changedProperties = {};\n        this.childChangedProperties = {};\n        this.oldProperties = {};\n        // tslint:disable-next-line:no-empty\n        this.finalUpdate = function () { };\n        this.callChildDataBind = getValue('callChildDataBind', Base);\n        this.parentObj = parent;\n        this.controlParent = this.parentObj.controlParent || this.parentObj;\n        this.propName = propName;\n        this.setProperties(defaultValue, true);\n        this.isParentArray = isArray;\n    }\n    /**\n     * Updates the property changes\n     * @param {boolean} val\n     * @param {string} propName\n     * @returns {void}\n     */\n    ChildProperty.prototype.updateChange = function (val, propName) {\n        if (val === true) {\n            this.parentObj.childChangedProperties[propName] = val;\n        }\n        else {\n            delete this.parentObj.childChangedProperties[propName];\n        }\n        if (this.parentObj.updateChange) {\n            this.parentObj.updateChange(val, this.parentObj.propName);\n        }\n    };\n    /**\n     * Updates time out duration\n     */\n    ChildProperty.prototype.updateTimeOut = function () {\n        if (this.parentObj.updateTimeOut) {\n            this.parentObj.finalUpdate();\n            this.parentObj.updateTimeOut();\n        }\n        else {\n            var changeTime_1 = setTimeout(this.parentObj.dataBind.bind(this.parentObj));\n            var clearUpdate = function () {\n                clearTimeout(changeTime_1);\n            };\n            this.finalUpdate = clearUpdate;\n        }\n    };\n    /**\n     * Clears changed properties\n     */\n    ChildProperty.prototype.clearChanges = function () {\n        this.finalUpdate();\n        this.updateChange(false, this.propName);\n        this.oldProperties = {};\n        this.changedProperties = {};\n    };\n    /**\n     * Set property changes\n     * @param {Object} prop\n     * @param {boolean} muteOnChange\n     * {void}\n     */\n    ChildProperty.prototype.setProperties = function (prop, muteOnChange) {\n        if (muteOnChange === true) {\n            merge(this, prop);\n            this.updateChange(false, this.propName);\n            this.clearChanges();\n        }\n        else {\n            merge(this, prop);\n        }\n    };\n    /**\n     * Binds data\n     */\n    ChildProperty.prototype.dataBind = function () {\n        this.callChildDataBind(this.childChangedProperties, this);\n        if (this.isParentArray) {\n            var curIndex = this.parentObj[this.propName].indexOf(this);\n            if (Object.keys(this.changedProperties).length) {\n                setValue(this.propName + '.' + curIndex, this.changedProperties, this.parentObj.changedProperties);\n                setValue(this.propName + '.' + curIndex, this.oldProperties, this.parentObj.oldProperties);\n            }\n        }\n        else {\n            this.parentObj.changedProperties[this.propName] = this.changedProperties;\n            this.parentObj.oldProperties[this.propName] = this.oldProperties;\n        }\n        this.clearChanges();\n    };\n    /**\n     * Saves changes to newer values\n     * @param {string} key\n     * @param {Object} newValue\n     * @param {Object} oldValue\n     * @returns {void}\n     */\n    ChildProperty.prototype.saveChanges = function (key, newValue, oldValue) {\n        if (this.controlParent.isProtectedOnChange) {\n            return;\n        }\n        this.oldProperties[key] = oldValue;\n        this.changedProperties[key] = newValue;\n        this.updateChange(true, this.propName);\n        this.finalUpdate();\n        this.updateTimeOut();\n    };\n    return ChildProperty;\n}());\nexport { ChildProperty };\n","/**\n * Parser\n */\nvar defaultNumberingSystem = {\n    'latn': {\n        '_digits': '0123456789',\n        '_type': 'numeric'\n    }\n};\nimport { isUndefined, getValue } from '../util';\nvar latnRegex = /^[0-9]*$/;\nvar defaultNumberSymbols = {\n    'decimal': '.',\n    'group': ',',\n    'percentSign': '%',\n    'plusSign': '+',\n    'minusSign': '-',\n    'infinity': '∞',\n    'nan': 'NaN',\n    'exponential': 'E'\n};\nvar latnNumberSystem = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];\n/**\n * Interface for parser base\n * @private\n */\nvar ParserBase = /** @class */ (function () {\n    function ParserBase() {\n    }\n    /**\n     * Returns the cldr object for the culture specifies\n     * @param {Object} obj - Specifies the object from which culture object to be acquired.\n     * @param {string} cName - Specifies the culture name.\n     * @returns {Object}\n     */\n    ParserBase.getMainObject = function (obj, cName) {\n        return getValue('main.' + cName, obj);\n    };\n    /**\n     * Returns the numbering system object from given cldr data.\n     * @param {Object} obj - Specifies the object from which number system is acquired.\n     * @returns {Object}\n     */\n    ParserBase.getNumberingSystem = function (obj) {\n        return getValue('supplemental.numberingSystems', obj) || this.numberingSystems;\n    };\n    /**\n     * Returns the reverse of given object keys or keys specified.\n     * @param {Object} prop - Specifies the object to be reversed.\n     * @param {number[]} keys - Optional parameter specifies the custom keyList for reversal.\n     * @returns {Object}\n     */\n    ParserBase.reverseObject = function (prop, keys) {\n        var propKeys = keys || Object.keys(prop);\n        var res = {};\n        for (var _i = 0, propKeys_1 = propKeys; _i < propKeys_1.length; _i++) {\n            var key = propKeys_1[_i];\n            /* tslint:disable no-any */\n            if (!res.hasOwnProperty(prop[key])) {\n                res[prop[key]] = key;\n            }\n        }\n        return res;\n    };\n    /**\n     * Returns the symbol regex by skipping the escape sequence.\n     * @param {string[]} props - Specifies the array values to be skipped.\n     * @returns {RegExp}\n     */\n    ParserBase.getSymbolRegex = function (props) {\n        var regexStr = props.map(function (str) {\n            return str.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, '\\\\$1');\n        }).join('|');\n        return new RegExp(regexStr, 'g');\n    };\n    ParserBase.getSymbolMatch = function (prop) {\n        var matchKeys = Object.keys(defaultNumberSymbols);\n        var ret = {};\n        for (var _i = 0, matchKeys_1 = matchKeys; _i < matchKeys_1.length; _i++) {\n            var key = matchKeys_1[_i];\n            ret[prop[key]] = defaultNumberSymbols[key];\n        }\n        return ret;\n    };\n    /**\n     * Returns regex string for provided value\n     * @param {string} val\n     * @returns {string}\n     */\n    ParserBase.constructRegex = function (val) {\n        var len = val.length;\n        var ret = '';\n        for (var i = 0; i < len; i++) {\n            if (i !== len - 1) {\n                ret += val[i] + '|';\n            }\n            else {\n                ret += val[i];\n            }\n        }\n        return ret;\n    };\n    /**\n     * Returns the replaced value of matching regex and obj mapper.\n     * @param {string} value - Specifies the  values to be replaced.\n     * @param {RegExp} regex - Specifies the  regex to search.\n     * @param {Object} obj - Specifies the  object matcher to be replace value parts.\n     * @returns {string}\n     */\n    ParserBase.convertValueParts = function (value, regex, obj) {\n        return value.replace(regex, function (str) {\n            return obj[str];\n        });\n    };\n    /**\n     * Returns default numbering system object for formatting from cldr data\n     * @param {Object} obj\n     * @returns {NumericObject}\n     */\n    ParserBase.getDefaultNumberingSystem = function (obj) {\n        var ret = {};\n        ret.obj = getValue('numbers', obj);\n        ret.nSystem = getValue('defaultNumberingSystem', ret.obj);\n        return ret;\n    };\n    /**\n     * Returns the replaced value of matching regex and obj mapper.\n     */\n    ParserBase.getCurrentNumericOptions = function (curObj, numberSystem, needSymbols) {\n        var ret = {};\n        var cur = this.getDefaultNumberingSystem(curObj);\n        if (!isUndefined(cur.nSystem)) {\n            var digits = getValue(cur.nSystem + '._digits', numberSystem);\n            if (!isUndefined(digits)) {\n                ret.numericPair = this.reverseObject(digits, latnNumberSystem);\n                ret.numberParseRegex = new RegExp(this.constructRegex(digits), 'g');\n                ret.numericRegex = '[' + digits[0] + '-' + digits[9] + ']';\n                if (needSymbols) {\n                    ret.numericRegex = digits[0] + '-' + digits[9];\n                    ret.symbolNumberSystem = getValue('symbols-numberSystem-' + cur.nSystem, cur.obj);\n                    ret.symbolMatch = this.getSymbolMatch(ret.symbolNumberSystem);\n                    ret.numberSystem = cur.nSystem;\n                }\n            }\n        }\n        return ret;\n    };\n    /**\n     * Returns number mapper object for the provided cldr data\n     * @param {Object} curObj\n     * @param {Object} numberSystem\n     * @param {boolean} isNumber\n     * @returns {NumberMapper}\n     */\n    ParserBase.getNumberMapper = function (curObj, numberSystem, isNumber) {\n        var ret = { mapper: {} };\n        var cur = this.getDefaultNumberingSystem(curObj);\n        if (!isUndefined(cur.nSystem)) {\n            ret.numberSystem = cur.nSystem;\n            ret.numberSymbols = getValue('symbols-numberSystem-' + cur.nSystem, cur.obj);\n            ret.timeSeparator = getValue('timeSeparator', ret.numberSymbols);\n            var digits = getValue(cur.nSystem + '._digits', numberSystem);\n            if (!isUndefined(digits)) {\n                for (var _i = 0, latnNumberSystem_1 = latnNumberSystem; _i < latnNumberSystem_1.length; _i++) {\n                    var i = latnNumberSystem_1[_i];\n                    ret.mapper[i] = digits[i];\n                }\n            }\n        }\n        return ret;\n    };\n    ParserBase.nPair = 'numericPair';\n    ParserBase.nRegex = 'numericRegex';\n    ParserBase.numberingSystems = defaultNumberingSystem;\n    return ParserBase;\n}());\nexport { ParserBase };\n","import { isUndefined, throwError, isNullOrUndefined, extend } from '../util';\nimport { defaultCurrencyCode } from '../internationalization';\nimport { IntlBase as base } from './intl-base';\nimport { ParserBase as parser } from './parser-base';\nvar errorText = {\n    'ms': 'minimumSignificantDigits',\n    'ls': 'maximumSignificantDigits',\n    'mf': 'minimumFractionDigits',\n    'lf': 'maximumFractionDigits',\n};\nvar integerError = 'minimumIntegerDigits';\nvar percentSign = 'percentSign';\nvar minusSign = 'minusSign';\nvar spaceRegex = /\\s/;\nvar mapper = ['infinity', 'nan', 'group', 'decimal', 'exponential'];\nvar infinity = 'infinity';\nvar nan = 'nan';\n/**\n * Module for number formatting.\n * @private\n */\nvar NumberFormat = /** @class */ (function () {\n    function NumberFormat() {\n    }\n    /**\n     * Returns the formatter function for given skeleton.\n     * @param {string} culture -  Specifies the culture name to be which formatting.\n     * @param {NumberFormatOptions} option - Specific the format in which number  will format.\n     * @param {Object} object- Specifies the global cldr data collection.\n     * @return Function.\n     */\n    NumberFormat.numberFormatter = function (culture, option, cldr) {\n        var _this = this;\n        var fOptions = extend({}, option);\n        var cOptions = {};\n        var dOptions = {};\n        var symbolPattern;\n        var dependable = base.getDependables(cldr, culture, true);\n        dOptions.numberMapper = parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr), true);\n        dOptions.currencySymbol = base.getCurrencySymbol(dependable.numericObject, fOptions.currency || defaultCurrencyCode);\n        /* tslint:disable no-any */\n        dOptions.percentSymbol = dOptions.numberMapper.numberSymbols[percentSign];\n        dOptions.minusSymbol = dOptions.numberMapper.numberSymbols[minusSign];\n        var symbols = dOptions.numberMapper.numberSymbols;\n        if ((option.format) && !(base.formatRegex.test(option.format))) {\n            cOptions = base.customFormat(option.format, dOptions, dependable.numericObject);\n        }\n        else {\n            extend(fOptions, base.getProperNumericSkeleton(option.format || 'N'));\n            fOptions.isCurrency = fOptions.type === 'currency';\n            fOptions.isPercent = fOptions.type === 'percent';\n            symbolPattern = base.getSymbolPattern(fOptions.type, dOptions.numberMapper.numberSystem, dependable.numericObject, fOptions.isAccount);\n            fOptions.groupOne = this.checkValueRange(fOptions.maximumSignificantDigits, fOptions.minimumSignificantDigits, true);\n            this.checkValueRange(fOptions.maximumFractionDigits, fOptions.minimumFractionDigits, false, true);\n            if (!isUndefined(fOptions.fractionDigits)) {\n                fOptions.minimumFractionDigits = fOptions.maximumFractionDigits = fOptions.fractionDigits;\n            }\n            if (isUndefined(fOptions.useGrouping)) {\n                fOptions.useGrouping = true;\n            }\n            if (fOptions.isCurrency) {\n                symbolPattern = symbolPattern.replace(/\\u00A4/g, base.defaultCurrency);\n            }\n            var split = symbolPattern.split(';');\n            cOptions.nData = base.getFormatData(split[1] || '-' + split[0], true, dOptions.currencySymbol);\n            cOptions.pData = base.getFormatData(split[0], false, dOptions.currencySymbol);\n            if (fOptions.useGrouping) {\n                fOptions.groupSeparator = symbols[mapper[2]];\n                fOptions.groupData = this.getGroupingDetails(split[0]);\n            }\n            var minFrac = isUndefined(fOptions.minimumFractionDigits);\n            if (minFrac) {\n                fOptions.minimumFractionDigits = cOptions.nData.minimumFraction;\n            }\n            if (isUndefined(fOptions.maximumFractionDigits)) {\n                var mval = cOptions.nData.maximumFraction;\n                fOptions.maximumFractionDigits = isUndefined(mval) && fOptions.isPercent ? 0 : mval;\n            }\n            var mfrac = fOptions.minimumFractionDigits;\n            var lfrac = fOptions.maximumFractionDigits;\n            if (!isUndefined(mfrac) && !isUndefined(lfrac)) {\n                if (mfrac > lfrac) {\n                    fOptions.maximumFractionDigits = mfrac;\n                }\n            }\n        }\n        extend(cOptions.nData, fOptions);\n        extend(cOptions.pData, fOptions);\n        return function (value) {\n            if (isNaN(value)) {\n                return symbols[mapper[1]];\n            }\n            else if (!isFinite(value)) {\n                return symbols[mapper[0]];\n            }\n            return _this.intNumberFormatter(value, cOptions, dOptions);\n        };\n    };\n    /**\n     * Returns grouping details for the pattern provided\n     * @param {string} pattern\n     * @returns {GroupDetails}\n     */\n    NumberFormat.getGroupingDetails = function (pattern) {\n        var ret = {};\n        var match = pattern.match(base.negativeDataRegex);\n        if (match && match[4]) {\n            var pattern_1 = match[4];\n            var p = pattern_1.lastIndexOf(',');\n            if (p !== -1) {\n                var temp = pattern_1.split('.')[0];\n                ret.primary = (temp.length - p) - 1;\n                var s = pattern_1.lastIndexOf(',', p - 1);\n                if (s !== -1) {\n                    ret.secondary = p - 1 - s;\n                }\n            }\n        }\n        return ret;\n    };\n    /**\n     * Returns if the provided integer range is valid.\n     * @param {number} val1\n     * @param {number} val2\n     * @param {boolean} checkbothExist\n     * @param {boolean} isFraction\n     * @returns {boolean}\n     */\n    NumberFormat.checkValueRange = function (val1, val2, checkbothExist, isFraction) {\n        var decide = isFraction ? 'f' : 's';\n        var dint = 0;\n        var str1 = errorText['l' + decide];\n        var str2 = errorText['m' + decide];\n        if (!isUndefined(val1)) {\n            this.checkRange(val1, str1, isFraction);\n            dint++;\n        }\n        if (!isUndefined(val2)) {\n            this.checkRange(val2, str2, isFraction);\n            dint++;\n        }\n        if (dint === 2) {\n            if (val1 < val2) {\n                throwError(str2 + 'specified must be less than the' + str1);\n            }\n            else {\n                return true;\n            }\n        }\n        else if (checkbothExist && dint === 1) {\n            throwError('Both' + str2 + 'and' + str2 + 'must be present');\n        }\n        return false;\n    };\n    /**\n     * Check if the provided fraction range is valid\n     * @param {number} val\n     * @param {string} text\n     * @param {boolean} isFraction\n     * @returns {void}\n     */\n    NumberFormat.checkRange = function (val, text, isFraction) {\n        var range = isFraction ? [0, 20] : [1, 21];\n        if (val < range[0] || val > range[1]) {\n            throwError(text + 'value must be within the range' + range[0] + 'to' + range[1]);\n        }\n    };\n    /**\n     * Returns formatted numeric string for provided formatting options\n     * @param {number} value\n     * @param {base.GenericFormatOptions} fOptions\n     * @param {CommonOptions} dOptions\n     * @returns {string}\n     */\n    NumberFormat.intNumberFormatter = function (value, fOptions, dOptions) {\n        var curData;\n        if (isUndefined(fOptions.nData.type)) {\n            return undefined;\n        }\n        else {\n            if (value < 0) {\n                value = value * -1;\n                curData = fOptions.nData;\n            }\n            else if (value === 0) {\n                curData = fOptions.zeroData || fOptions.pData;\n            }\n            else {\n                curData = fOptions.pData;\n            }\n            var fValue = '';\n            if (curData.isPercent) {\n                value = value * 100;\n            }\n            if (curData.groupOne) {\n                fValue = this.processSignificantDigits(value, curData.minimumSignificantDigits, curData.maximumSignificantDigits);\n            }\n            else {\n                fValue = this.processFraction(value, curData.minimumFractionDigits, curData.maximumFractionDigits);\n                if (curData.minimumIntegerDigits) {\n                    fValue = this.processMinimumIntegers(fValue, curData.minimumIntegerDigits);\n                }\n            }\n            if (curData.type === 'scientific') {\n                fValue = value.toExponential(curData.maximumFractionDigits);\n                fValue = fValue.replace('e', dOptions.numberMapper.numberSymbols[mapper[4]]);\n            }\n            fValue = fValue.replace('.', dOptions.numberMapper.numberSymbols[mapper[3]]);\n            if (curData.useGrouping) {\n                fValue = this.groupNumbers(fValue, curData.groupData.primary, curData.groupSeparator || ',', dOptions.numberMapper.numberSymbols[mapper[3]] || '.', curData.groupData.secondary);\n            }\n            fValue = parser.convertValueParts(fValue, base.latnParseRegex, dOptions.numberMapper.mapper);\n            if (curData.nlead === 'N/A') {\n                return curData.nlead;\n            }\n            else {\n                return curData.nlead + fValue + curData.nend;\n            }\n        }\n    };\n    /**\n     * Returns significant digits processed numeric string\n     * @param {number} value\n     * @param {number} min\n     * @param {number} max\n     * @returns {string}\n     */\n    NumberFormat.processSignificantDigits = function (value, min, max) {\n        var temp = value + '';\n        var tn;\n        var length = temp.length;\n        if (length < min) {\n            return value.toPrecision(min);\n        }\n        else {\n            temp = value.toPrecision(max);\n            tn = +temp;\n            return tn + '';\n        }\n    };\n    /**\n     * Returns grouped numeric string\n     * @param {string} val\n     * @param {number} level1\n     * @param {string} sep\n     * @param {string} decimalSymbol\n     * @param {number} level2\n     * @returns {string}\n     */\n    NumberFormat.groupNumbers = function (val, level1, sep, decimalSymbol, level2) {\n        var flag = !isNullOrUndefined(level2) && level2 !== 0;\n        var split = val.split(decimalSymbol);\n        var prefix = split[0];\n        var length = prefix.length;\n        var str = '';\n        while (length > level1) {\n            str = prefix.slice(length - level1, length) + (str.length ?\n                (sep + str) : '');\n            length -= level1;\n            if (flag) {\n                level1 = level2;\n                flag = false;\n            }\n        }\n        split[0] = prefix.slice(0, length) + (str.length ? sep : '') + str;\n        return split.join(decimalSymbol);\n    };\n    /**\n     * Returns fraction processed numeric string\n     * @param {number} value\n     * @param {number} min\n     * @param {number} max\n     * @returns {string}\n     */\n    NumberFormat.processFraction = function (value, min, max) {\n        var temp = (value + '').split('.')[1];\n        var length = temp ? temp.length : 0;\n        if (min && length < min) {\n            var ret = '';\n            if (length === 0) {\n                ret = value.toFixed(min);\n            }\n            else {\n                ret += value;\n                for (var j = 0; j < min - length; j++) {\n                    ret += '0';\n                }\n                return ret;\n            }\n            return value.toFixed(min);\n        }\n        else if (!isNullOrUndefined(max) && (length > max || max === 0)) {\n            return value.toFixed(max);\n        }\n        return value + '';\n    };\n    /**\n     * Returns integer processed numeric string\n     * @param {string} value\n     * @param {number} min\n     * @returns {string}\n     */\n    NumberFormat.processMinimumIntegers = function (value, min) {\n        var temp = value.split('.');\n        var lead = temp[0];\n        var len = lead.length;\n        if (len < min) {\n            for (var i = 0; i < min - len; i++) {\n                lead = '0' + lead;\n            }\n            temp[0] = lead;\n        }\n        return temp.join('.');\n    };\n    return NumberFormat;\n}());\nexport { NumberFormat };\n","import { ParserBase as parser } from './parser-base';\nimport { IntlBase as base } from './intl-base';\nimport { isUndefined, throwError, getValue } from '../util';\nvar abbreviateRegexGlobal = /\\/MMMMM|MMMM|MMM|a|LLL|EEEEE|EEEE|E|K|ccc|G+|z+/gi;\nvar standalone = 'stand-alone';\nvar weekdayKey = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\nexport var basicPatterns = ['short', 'medium', 'long', 'full'];\nvar timeSetter = {\n    m: 'getMinutes',\n    h: 'getHours',\n    H: 'getHours',\n    s: 'getSeconds',\n    d: 'getDate',\n};\nexport var datePartMatcher = {\n    'M': 'month',\n    'd': 'day',\n    'E': 'weekday',\n    'c': 'weekday',\n    'y': 'year',\n    'm': 'minute',\n    'h': 'hour',\n    'H': 'hour',\n    's': 'second',\n    'L': 'month',\n    'a': 'designator',\n    'z': 'timeZone',\n    'Z': 'timeZone',\n    'G': 'era'\n};\nvar timeSeparator = 'timeSeparator';\n/**\n * Date Format is a framework provides support for date formatting.\n * @private\n */\nvar DateFormat = /** @class */ (function () {\n    function DateFormat() {\n    }\n    /**\n     * Returns the formatter function for given skeleton.\n     * @param {string} -  Specifies the culture name to be which formatting.\n     * @param {DateFormatOptions} - Specific the format in which date  will format.\n     * @param {cldr} - Specifies the global cldr data collection.\n     * @return Function.\n     */\n    DateFormat.dateFormat = function (culture, option, cldr) {\n        var _this = this;\n        var dependable = base.getDependables(cldr, culture);\n        var formatOptions = {};\n        var resPattern = option.format || base.getResultantPattern(option.skeleton, dependable.dateObject, option.type);\n        formatOptions.dateSeperator = base.getDateSeparator(dependable.dateObject);\n        if (isUndefined(resPattern)) {\n            throwError('Format options or type given must be invalid');\n        }\n        else {\n            formatOptions.pattern = resPattern;\n            formatOptions.numMapper = parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr));\n            var patternMatch = resPattern.match(abbreviateRegexGlobal) || [];\n            for (var _i = 0, patternMatch_1 = patternMatch; _i < patternMatch_1.length; _i++) {\n                var str = patternMatch_1[_i];\n                var len = str.length;\n                var char = str[0];\n                if (char === 'K') {\n                    char = 'h';\n                }\n                /* tslint:disable no-any */\n                var charKey = datePartMatcher[char];\n                switch (char) {\n                    case 'E':\n                    case 'c':\n                        formatOptions.weekday = dependable.dateObject[base.days][standalone][base.monthIndex[len]];\n                        break;\n                    case 'M':\n                    case 'L':\n                        formatOptions.month = dependable.dateObject[base.month][standalone][base.monthIndex[len]];\n                        break;\n                    case 'a':\n                        formatOptions.designator = getValue('dayPeriods.format.wide', dependable.dateObject);\n                        break;\n                    case 'G':\n                        var eText = (len <= 3) ? 'eraAbbr' : (len === 4) ? 'eraNames' : 'eraNarrow';\n                        formatOptions.era = getValue('eras.' + eText, dependable.dateObject);\n                        break;\n                    case 'z':\n                        formatOptions.timeZone = getValue('dates.timeZoneNames', dependable.parserObject);\n                        break;\n                }\n            }\n        }\n        return function (value) {\n            if (isNaN(value.getDate())) {\n                return null;\n            }\n            return _this.intDateFormatter(value, formatOptions);\n        };\n    };\n    /**\n     * Returns formatted date string based on options passed.\n     * @param {Date} value\n     * @param {FormatOptions} options\n     */\n    DateFormat.intDateFormatter = function (value, options) {\n        var pattern = options.pattern;\n        var ret = '';\n        var matches = pattern.match(base.dateParseRegex);\n        for (var _i = 0, matches_1 = matches; _i < matches_1.length; _i++) {\n            var match = matches_1[_i];\n            var length_1 = match.length;\n            var char = match[0];\n            if (char === 'K') {\n                char = 'h';\n            }\n            var curval = void 0;\n            var isNumber = void 0;\n            var processNumber = void 0;\n            var curstr = '';\n            switch (char) {\n                case 'M':\n                case 'L':\n                    curval = value.getMonth() + 1;\n                    if (length_1 > 2) {\n                        ret += options.month[curval];\n                    }\n                    else {\n                        isNumber = true;\n                    }\n                    break;\n                case 'E':\n                case 'c':\n                    ret += options.weekday[weekdayKey[value.getDay()]];\n                    break;\n                case 'H':\n                case 'h':\n                case 'm':\n                case 's':\n                case 'd':\n                    isNumber = true;\n                    curval = value[timeSetter[char]]();\n                    if (char === 'h') {\n                        curval = curval % 12 || 12;\n                    }\n                    break;\n                case 'y':\n                    processNumber = true;\n                    curstr += value.getFullYear();\n                    if (length_1 === 2) {\n                        curstr = curstr.substr(curstr.length - 2);\n                    }\n                    break;\n                case 'a':\n                    var desig = value.getHours() < 12 ? 'am' : 'pm';\n                    ret += options.designator[desig];\n                    break;\n                case 'G':\n                    var dec = value.getFullYear() < 0 ? 0 : 1;\n                    ret += options.era[dec];\n                    break;\n                case '\\'':\n                    ret += (match === '\\'\\'') ? '\\'' : match.replace(/\\'/g, '');\n                    break;\n                case 'z':\n                    var timezone = value.getTimezoneOffset();\n                    var pattern_1 = (length_1 < 4) ? '+H;-H' : options.timeZone.hourFormat;\n                    pattern_1 = pattern_1.replace(/:/g, options.numMapper.timeSeparator);\n                    if (timezone === 0) {\n                        ret += options.timeZone.gmtZeroFormat;\n                    }\n                    else {\n                        processNumber = true;\n                        curstr = this.getTimeZoneValue(timezone, pattern_1);\n                    }\n                    curstr = options.timeZone.gmtFormat.replace(/\\{0\\}/, curstr);\n                    break;\n                case ':':\n                    ret += options.numMapper.numberSymbols[timeSeparator];\n                    /* tslint:enable no-any */\n                    break;\n                case '/':\n                    ret += options.dateSeperator;\n                    break;\n                default:\n                    ret += match;\n            }\n            if (isNumber) {\n                processNumber = true;\n                curstr = this.checkTwodigitNumber(curval, length_1);\n            }\n            if (processNumber) {\n                ret += parser.convertValueParts(curstr, base.latnParseRegex, options.numMapper.mapper);\n            }\n        }\n        return ret;\n    };\n    /**\n     * Returns two digit numbers for given value and length\n     */\n    DateFormat.checkTwodigitNumber = function (val, len) {\n        var ret = val + '';\n        if (len === 2 && ret.length !== 2) {\n            return '0' + ret;\n        }\n        return ret;\n    };\n    /**\n     * Returns the value of the Time Zone.\n     * @param {number} tVal\n     * @param {string} pattern\n     * @private\n     */\n    DateFormat.getTimeZoneValue = function (tVal, pattern) {\n        var _this = this;\n        var splt = pattern.split(';');\n        var curPattern = splt[tVal > 0 ? 1 : 0];\n        var no = Math.abs(tVal);\n        return curPattern = curPattern.replace(/HH?|mm/g, function (str) {\n            var len = str.length;\n            var ishour = str.indexOf('H') !== -1;\n            return _this.checkTwodigitNumber(Math.floor(ishour ? (no / 60) : (no % 60)), len);\n        });\n    };\n    return DateFormat;\n}());\nexport { DateFormat };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { isUndefined, getValue, isNullOrUndefined, setValue, uniqueID } from './util';\nimport { ModuleLoader } from './module-loader';\nimport { Base } from './base';\nimport { Observer } from './observer';\nimport { ChildProperty } from './child-property';\nimport { Property, NotifyPropertyChanges } from './notify-property-change';\nimport { onIntlChange, rightToLeft, defaultCulture } from './internationalization';\nimport { createElement } from './dom';\nvar componentCount = 0;\nvar lastPageID;\nvar lastHistoryLen = 0;\n/**\n * Base class for all Essential JavaScript components\n */\nvar Component = /** @class */ (function (_super) {\n    __extends(Component, _super);\n    /**\n     * Initialize the constructor for component base\n     */\n    function Component(options, selector) {\n        var _this = _super.call(this, options, selector) || this;\n        _this.randomId = uniqueID();\n        _this.needsID = false;\n        /**\n         * This is a instance method to create an element.\n         * @private\n         */\n        _this.createElement = createElement;\n        if (isNullOrUndefined(_this.enableRtl)) {\n            _this.setProperties({ 'enableRtl': rightToLeft }, true);\n        }\n        if (isNullOrUndefined(_this.locale)) {\n            _this.setProperties({ 'locale': defaultCulture }, true);\n        }\n        _this.moduleLoader = new ModuleLoader(_this);\n        _this.localObserver = new Observer(_this);\n        // tslint:disable-next-line:no-function-constructor-with-string-args\n        _this.detectFunction = new Function('args', 'var prop = Object.keys(args); if(prop.length){this[prop[0]] = args[prop[0]];}');\n        onIntlChange.on('notifyExternalChange', _this.detectFunction, _this, _this.randomId);\n        if (!isUndefined(selector)) {\n            _this.appendTo();\n        }\n        return _this;\n    }\n    Component.prototype.requiredModules = function () {\n        return [];\n    };\n    ;\n    /**\n     * Destroys the sub modules while destroying the widget\n     */\n    Component.prototype.destroy = function () {\n        if (this.isDestroyed) {\n            return;\n        }\n        if (this.enablePersistence) {\n            this.setPersistData();\n        }\n        this.localObserver.destroy();\n        if (this.refreshing) {\n            return;\n        }\n        this.trigger('destroyed', { cancel: false });\n        _super.prototype.destroy.call(this);\n        this.moduleLoader.clean();\n        onIntlChange.off('notifyExternalChange', this.detectFunction, this.randomId);\n    };\n    /**\n     * Applies all the pending property changes and render the component again.\n     */\n    Component.prototype.refresh = function () {\n        this.refreshing = true;\n        this.moduleLoader.clean();\n        this.destroy();\n        this.clearChanges();\n        this.localObserver = new Observer(this);\n        this.preRender();\n        this.injectModules();\n        this.render();\n        this.refreshing = false;\n    };\n    /**\n     * Appends the control within the given HTML element\n     * @param {string | HTMLElement} selector - Target element where control needs to be appended\n     */\n    Component.prototype.appendTo = function (selector) {\n        if (!isNullOrUndefined(selector) && typeof (selector) === 'string') {\n            this.element = document.querySelector(selector);\n        }\n        else if (!isNullOrUndefined(selector)) {\n            this.element = selector;\n        }\n        if (!isNullOrUndefined(this.element)) {\n            this.isProtectedOnChange = false;\n            if (this.needsID && !this.element.id) {\n                this.element.id = this.getUniqueID(this.getModuleName());\n            }\n            if (this.enablePersistence) {\n                this.mergePersistData();\n                window.addEventListener('unload', this.setPersistData.bind(this));\n            }\n            var inst = getValue('ej2_instances', this.element);\n            if (!inst || inst.indexOf(this) === -1) {\n                _super.prototype.addInstance.call(this);\n            }\n            this.preRender();\n            this.injectModules();\n            this.render();\n            this.trigger('created');\n        }\n    };\n    /**\n     * When invoked, applies the pending property changes immediately to the component.\n     */\n    Component.prototype.dataBind = function () {\n        this.injectModules();\n        _super.prototype.dataBind.call(this);\n    };\n    ;\n    /**\n     * Attach one or more  event handler to the current component context.\n     * It is used for internal handling event internally within the component only.\n     * @param {BoundOptions[]| string} event - It is  optional type either to  Set the collection of event list or the eventName.\n     * @param {Function} handler - optional parameter Specifies the handler to run when the event occurs\n     * @param {Object} context - optional parameter Specifies the context to be bind in the handler.\n     * @return {void}\n     * @private\n     */\n    Component.prototype.on = function (event, handler, context) {\n        if (typeof event === 'string') {\n            this.localObserver.on(event, handler, context);\n        }\n        else {\n            for (var _i = 0, event_1 = event; _i < event_1.length; _i++) {\n                var arg = event_1[_i];\n                this.localObserver.on(arg.event, arg.handler, arg.context);\n            }\n        }\n    };\n    /**\n     * To remove one or more event handler that has been attached with the on() method.\n     * @param {BoundOptions[]| string} event - It is  optional type either to  Set the collection of event list or the eventName.\n     * @param {Function} handler - optional parameter Specifies the function to run when the event occurs\n     * @return {void}\n     * @private\n     */\n    Component.prototype.off = function (event, handler) {\n        if (typeof event === 'string') {\n            this.localObserver.off(event, handler);\n        }\n        else {\n            for (var _i = 0, event_2 = event; _i < event_2.length; _i++) {\n                var arg = event_2[_i];\n                this.localObserver.off(arg.event, arg.handler);\n            }\n        }\n    };\n    /**\n     * To notify the handlers in the specified event.\n     * @param {string} property - Specifies the event to be notify.\n     * @param {Object} argument - Additional parameters to pass while calling the handler.\n     * @return {void}\n     * @private\n     */\n    Component.prototype.notify = function (property, argument) {\n        if (this.isDestroyed !== true) {\n            this.localObserver.notify(property, argument);\n        }\n    };\n    /**\n     * Get injected modules\n     * @private\n     */\n    Component.prototype.getInjectedModules = function () {\n        return this.injectedModules;\n    };\n    ;\n    /**\n     * Dynamically injects the required modules to the component.\n     */\n    Component.Inject = function () {\n        var moduleList = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            moduleList[_i] = arguments[_i];\n        }\n        if (!this.prototype.injectedModules) {\n            this.prototype.injectedModules = [];\n        }\n        for (var i = 0; i < moduleList.length; i++) {\n            if (this.prototype.injectedModules.indexOf(moduleList[i]) === -1) {\n                this.prototype.injectedModules.push(moduleList[i]);\n            }\n        }\n    };\n    Component.prototype.injectModules = function () {\n        if (this.injectedModules && this.injectedModules.length) {\n            this.moduleLoader.inject(this.requiredModules(), this.injectedModules);\n        }\n    };\n    Component.prototype.mergePersistData = function () {\n        var data = window.localStorage.getItem(this.getModuleName() + this.element.id);\n        if (!(isNullOrUndefined(data) || (data === ''))) {\n            this.setProperties(JSON.parse(data), true);\n        }\n    };\n    Component.prototype.setPersistData = function () {\n        if (!this.isDestroyed) {\n            window.localStorage.setItem(this.getModuleName() + this.element.id, this.getPersistData());\n        }\n    };\n    Component.prototype.clearTemplate = function (templateName) {\n        //No Code\n    };\n    Component.prototype.getUniqueID = function (definedName) {\n        if (this.isHistoryChanged()) {\n            componentCount = 0;\n        }\n        lastPageID = this.pageID(location.href);\n        lastHistoryLen = history.length;\n        return definedName + '_' + lastPageID + '_' + componentCount++;\n    };\n    Component.prototype.pageID = function (url) {\n        var hash = 0;\n        if (url.length === 0) {\n            return hash;\n        }\n        for (var i = 0; i < url.length; i++) {\n            var char = url.charCodeAt(i);\n            hash = ((hash << 5) - hash) + char;\n            hash = hash & hash; // Convert to 32bit integer\n        }\n        return Math.abs(hash);\n    };\n    Component.prototype.isHistoryChanged = function () {\n        return lastPageID !== this.pageID(location.href) || lastHistoryLen !== history.length;\n    };\n    Component.prototype.addOnPersist = function (options) {\n        var _this = this;\n        var persistObj = {};\n        for (var _i = 0, options_1 = options; _i < options_1.length; _i++) {\n            var key = options_1[_i];\n            var objValue = void 0;\n            objValue = getValue(key, this);\n            if (!isUndefined(objValue)) {\n                setValue(key, this.getActualProperties(objValue), persistObj);\n            }\n        }\n        return JSON.stringify(persistObj, function (key, value) {\n            return _this.getActualProperties(value);\n        });\n    };\n    Component.prototype.getActualProperties = function (obj) {\n        if (obj instanceof ChildProperty) {\n            return getValue('properties', obj);\n        }\n        else {\n            return obj;\n        }\n    };\n    Component.prototype.ignoreOnPersist = function (options) {\n        return JSON.stringify(this.iterateJsonProperties(this.properties, options));\n    };\n    Component.prototype.iterateJsonProperties = function (obj, ignoreList) {\n        var newObj = {};\n        var _loop_1 = function (key) {\n            if (ignoreList.indexOf(key) === -1) {\n                // tslint:disable-next-line:no-any\n                var value = obj[key];\n                if (typeof value === 'object' && !(value instanceof Array)) {\n                    var newList = ignoreList.filter(function (str) {\n                        return new RegExp(key + '.').test(str);\n                    }).map(function (str) {\n                        return str.replace(key + '.', '');\n                    });\n                    newObj[key] = this_1.iterateJsonProperties(this_1.getActualProperties(value), newList);\n                }\n                else {\n                    newObj[key] = value;\n                }\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = Object.keys(obj); _i < _a.length; _i++) {\n            var key = _a[_i];\n            _loop_1(key);\n        }\n        return newObj;\n    };\n    __decorate([\n        Property(false)\n    ], Component.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property()\n    ], Component.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property()\n    ], Component.prototype, \"locale\", void 0);\n    Component = __decorate([\n        NotifyPropertyChanges\n    ], Component);\n    return Component;\n}(Base));\nexport { Component };\n//Function handling for page navigation detection \n/* istanbul ignore next */\n(function () {\n    if (typeof window !== 'undefined') {\n        window.addEventListener('popstate', \n        /* istanbul ignore next */\n        function () {\n            componentCount = 0;\n        });\n    }\n})();\n","import { IntlBase as base } from './intl-base';\nimport { ParserBase as parser } from './parser-base';\nimport { isUndefined, throwError, getValue, isNullOrUndefined } from '../util';\nimport { datePartMatcher } from './date-formatter';\nvar number = 'numbers';\nvar defNoSystem = 'defaultNumberingSystem';\nvar noSystem = 'numberingSystem';\nvar standalone = 'stand-alone';\nvar curWeekDay = 'curWeekDay';\nvar latnRegex = /^[0-9]*$/;\nvar abbreviateRegex = /\\/MMMMM|MMMM|MMM|a|LLL|EEEEE|EEEE|E|ccc/;\nvar timeSetter = {\n    minute: 'setMinutes',\n    hour: 'setHours',\n    second: 'setSeconds',\n    day: 'setDate',\n    month: 'setMonth'\n};\nvar month = 'months';\n/* tslint:disable no-any */\n/**\n * Date Parser.\n * @private\n */\nvar DateParser = /** @class */ (function () {\n    function DateParser() {\n    }\n    /**\n     * Returns the parser function for given skeleton.\n     * @param {string} -  Specifies the culture name to be which formatting.\n     * @param {DateFormatOptions} - Specific the format in which string date  will be parsed.\n     * @param {cldr} - Specifies the global cldr data collection.\n     *  @return Function.\n     */\n    // tslint:disable-next-line:max-func-body-length\n    DateParser.dateParser = function (culture, option, cldr) {\n        var _this = this;\n        var dependable = base.getDependables(cldr, culture);\n        var numOptions = parser.getCurrentNumericOptions(dependable.parserObject, parser.getNumberingSystem(cldr));\n        var parseOptions = {};\n        var resPattern = option.format || base.getResultantPattern(option.skeleton, dependable.dateObject, option.type);\n        var regexString = '';\n        var hourOnly;\n        if (isUndefined(resPattern)) {\n            throwError('Format options or type given must be invalid');\n        }\n        else {\n            parseOptions = { pattern: resPattern, evalposition: {} };\n            var patternMatch = resPattern.match(base.dateParseRegex) || [];\n            var length_1 = patternMatch.length;\n            var gmtCorrection = 0;\n            var zCorrectTemp = 0;\n            var isgmtTraversed = false;\n            var nRegx = numOptions.numericRegex;\n            for (var i = 0; i < length_1; i++) {\n                var str = patternMatch[i];\n                var len = str.length;\n                var char = (str[0] === 'K') ? 'h' : str[0];\n                var isNumber = void 0;\n                var canUpdate = void 0;\n                var charKey = datePartMatcher[char];\n                var optional = (len === 2) ? '' : '?';\n                if (isgmtTraversed) {\n                    gmtCorrection = zCorrectTemp;\n                    isgmtTraversed = false;\n                }\n                switch (char) {\n                    case 'E':\n                    case 'c':\n                        // tslint:disable-next-line\n                        var weekObject = parser.reverseObject(dependable.dateObject[base.days][standalone][base.monthIndex[len]]);\n                        regexString += '(' + Object.keys(weekObject).join('|') + ')';\n                        break;\n                    case 'M':\n                    case 'L':\n                    case 'd':\n                    case 'm':\n                    case 's':\n                    case 'h':\n                    case 'H':\n                        canUpdate = true;\n                        if ((char === 'M' || char === 'L') && len > 2) {\n                            // tslint:disable-next-line\n                            parseOptions[charKey] = parser.reverseObject(dependable.dateObject[month][standalone][base.monthIndex[len]]);\n                            /* tslint:disable no-any */\n                            regexString += '(' + Object.keys(parseOptions[charKey]).join('|') + ')';\n                        }\n                        else {\n                            isNumber = true;\n                            regexString += '(' + nRegx + nRegx + optional + ')';\n                        }\n                        if (char === 'h') {\n                            parseOptions.hour12 = true;\n                        }\n                        break;\n                    case 'y':\n                        canUpdate = isNumber = true;\n                        if (len === 2) {\n                            regexString += '(' + nRegx + nRegx + ')';\n                        }\n                        else {\n                            regexString += '(' + nRegx + '{' + len + ',})';\n                        }\n                        break;\n                    case 'a':\n                        canUpdate = true;\n                        parseOptions[charKey] = parser.reverseObject(getValue('dayPeriods.format.wide', dependable.dateObject));\n                        regexString += '(' + Object.keys(parseOptions[charKey]).join('|') + ')';\n                        break;\n                    case 'G':\n                        canUpdate = true;\n                        var eText = (len <= 3) ? 'eraAbbr' : (len === 4) ? 'eraNames' : 'eraNarrow';\n                        parseOptions[charKey] = parser.reverseObject(getValue('eras.' + eText, dependable.dateObject));\n                        regexString += '(' + Object.keys(parseOptions[charKey]).join('|') + '?)';\n                        break;\n                    case 'z':\n                        var tval = new Date().getTimezoneOffset();\n                        canUpdate = (tval !== 0);\n                        parseOptions[charKey] = getValue('dates.timeZoneNames', dependable.parserObject);\n                        var tzone = parseOptions[charKey];\n                        hourOnly = (len < 4);\n                        var hpattern = hourOnly ? '+H;-H' : tzone.hourFormat;\n                        regexString += '(' + this.parseTimeZoneRegx(hpattern, tzone, nRegx) + ')?';\n                        isgmtTraversed = true;\n                        zCorrectTemp = hourOnly ? 6 : 12;\n                        break;\n                    case '\\'':\n                        var iString = str.replace(/\\'/g, '');\n                        regexString += '(' + iString + ')?';\n                        break;\n                    default:\n                        regexString += '([\\\\D])';\n                        break;\n                }\n                if (canUpdate) {\n                    parseOptions.evalposition[charKey] = { isNumber: isNumber, pos: i + 1 + gmtCorrection, hourOnly: hourOnly };\n                }\n                if (i === length_1 - 1 && !isNullOrUndefined(regexString)) {\n                    parseOptions.parserRegex = new RegExp('^' + regexString + '$');\n                }\n            }\n        }\n        return function (value) {\n            var parsedDateParts = _this.internalDateParse(value, parseOptions, numOptions);\n            if (isNullOrUndefined(parsedDateParts) || !Object.keys(parsedDateParts).length) {\n                return null;\n            }\n            return _this.getDateObject(parsedDateParts);\n        };\n    };\n    /**\n     * Returns date object for provided date options\n     * @param {DateParts} options\n     * @param {Date} value\n     * @returns {Date}\n     */\n    DateParser.getDateObject = function (options, value) {\n        var res = value || new Date();\n        res.setMilliseconds(0);\n        var tKeys = ['hour', 'minute', 'second', 'month', 'day'];\n        var y = options.year;\n        var desig = options.designator;\n        var tzone = options.timeZone;\n        if (!isUndefined(y)) {\n            var len = (y + '').length;\n            if (len <= 2) {\n                var century = Math.floor(res.getFullYear() / 100) * 100;\n                y += century;\n            }\n            res.setFullYear(y);\n        }\n        for (var _i = 0, tKeys_1 = tKeys; _i < tKeys_1.length; _i++) {\n            var key = tKeys_1[_i];\n            var tValue = options[key];\n            if (!isUndefined(tValue)) {\n                if (key === 'month') {\n                    tValue -= 1;\n                    if (tValue < 0 || tValue > 11) {\n                        return new Date('invalid');\n                    }\n                    var pDate = res.getDate();\n                    res.setDate(1);\n                    res[timeSetter[key]](tValue);\n                    var lDate = new Date(res.getFullYear(), tValue + 1, 0).getDate();\n                    res.setDate(pDate < lDate ? pDate : lDate);\n                }\n                else {\n                    if (key === 'day') {\n                        var lastDay = new Date(res.getFullYear(), res.getMonth() + 1, 0).getDate();\n                        if ((tValue < 1 || tValue > lastDay)) {\n                            return null;\n                        }\n                    }\n                    res[timeSetter[key]](tValue);\n                }\n            }\n        }\n        if (!isUndefined(desig)) {\n            var hour = res.getHours();\n            if (desig === 'pm') {\n                res.setHours(hour + (hour === 12 ? 0 : 12));\n            }\n            else if (hour === 12) {\n                res.setHours(0);\n            }\n        }\n        if (!isUndefined(tzone)) {\n            var tzValue = tzone - res.getTimezoneOffset();\n            if (tzValue !== 0) {\n                res.setMinutes(res.getMinutes() + tzValue);\n            }\n        }\n        return res;\n    };\n    /**\n     * Returns date parsing options for provided value along with parse and numeric options\n     * @param {string} value\n     * @param {ParseOptions} parseOptions\n     * @param {NumericOptions} num\n     * @returns {DateParts}\n     */\n    DateParser.internalDateParse = function (value, parseOptions, num) {\n        var matches = value.match(parseOptions.parserRegex);\n        var retOptions = { 'hour': 0, 'minute': 0, 'second': 0 };\n        var nRegx = num.numericRegex;\n        if (isNullOrUndefined(matches)) {\n            return null;\n        }\n        else {\n            var props = Object.keys(parseOptions.evalposition);\n            for (var _i = 0, props_1 = props; _i < props_1.length; _i++) {\n                var prop = props_1[_i];\n                var curObject = parseOptions.evalposition[prop];\n                var matchString = matches[curObject.pos];\n                if (curObject.isNumber) {\n                    retOptions[prop] = this.internalNumberParser(matchString, num);\n                }\n                else {\n                    if (prop === 'timeZone' && !isUndefined(matchString)) {\n                        var pos = curObject.pos;\n                        var val = void 0;\n                        var tmatch = matches[pos + 1];\n                        var flag = !isUndefined(tmatch);\n                        if (curObject.hourOnly) {\n                            val = this.getZoneValue(flag, tmatch, matches[pos + 4], num) * 60;\n                        }\n                        else {\n                            val = this.getZoneValue(flag, tmatch, matches[pos + 7], num) * 60;\n                            val += this.getZoneValue(flag, matches[pos + 4], matches[pos + 10], num);\n                        }\n                        if (!isNullOrUndefined(val)) {\n                            retOptions[prop] = val;\n                        }\n                    }\n                    else {\n                        retOptions[prop] = parseOptions[prop][matchString];\n                    }\n                }\n            }\n            if (parseOptions.hour12) {\n                retOptions.hour12 = true;\n            }\n        }\n        return retOptions;\n    };\n    /**\n     * Returns parsed number for provided Numeric string and Numeric Options\n     * @param {string} value\n     * @param {NumericOptions} option\n     * @returns {number}\n     */\n    DateParser.internalNumberParser = function (value, option) {\n        value = parser.convertValueParts(value, option.numberParseRegex, option.numericPair);\n        if (latnRegex.test(value)) {\n            return +value;\n        }\n        return null;\n    };\n    /**\n     * Returns parsed time zone RegExp for provided hour format and time zone\n     * @param {string} hourFormat\n     * @param {base.TimeZoneOptions} tZone\n     * @param {string} nRegex\n     * @returns {string}\n     */\n    DateParser.parseTimeZoneRegx = function (hourFormat, tZone, nRegex) {\n        var pattern = tZone.gmtFormat;\n        var ret;\n        var result;\n        var cRegex = '(' + nRegex + ')' + '(' + nRegex + ')';\n        var splitStr;\n        ret = hourFormat.replace('+', '\\\\+');\n        if (hourFormat.indexOf('HH') !== -1) {\n            ret = ret.replace(/HH|mm/g, '(' + cRegex + ')');\n        }\n        else {\n            ret = ret.replace(/H|m/g, '(' + cRegex + '?)');\n        }\n        splitStr = (ret.split(';').map(function (str) {\n            return pattern.replace('{0}', str);\n        }));\n        ret = splitStr.join('|') + '|' + tZone.gmtZeroFormat;\n        return ret;\n    };\n    /**\n     * Returns zone based value.\n     * @param {boolean} flag\n     * @param {string} val1\n     * @param {string} val2\n     * @param {NumericOptions} num\n     * @returns {number}\n     */\n    DateParser.getZoneValue = function (flag, val1, val2, num) {\n        var ival = flag ? val1 : val2;\n        if (!ival) {\n            return 0;\n        }\n        var value = this.internalNumberParser(ival, num);\n        if (flag) {\n            return -value;\n        }\n        return value;\n    };\n    return DateParser;\n}());\nexport { DateParser };\n","import { extend, isNullOrUndefined } from '../util';\nimport { ParserBase as parser } from './parser-base';\nimport { IntlBase as base } from './intl-base';\nvar formatRegex = /(^[ncpa]{1})([0-1]?[0-9]|20)?$/i;\nvar parseRegex = /^([^0-9]*)(([0-9,]*[0-9]+)(\\.[0-9]+)?)([Ee][+-]?[0-9]+)?([^0-9]*)$/;\nvar groupRegex = /,/g;\nvar latnDecimalRegex = /^[0-9]*(\\.[0-9]+)?$/;\nvar keys = ['minusSign', 'infinity'];\n/**\n * Module for Number Parser.\n * @private\n */\nvar NumberParser = /** @class */ (function () {\n    function NumberParser() {\n    }\n    /**\n     * Returns the parser function for given skeleton.\n     * @param {string} -  Specifies the culture name to be which formatting.\n     * @param {NumberFormatOptions} - Specific the format in which number  will parsed.\n     * @param {cldr} - Specifies the global cldr data collection.\n     * @return Function.\n     */\n    NumberParser.numberParser = function (culture, option, cldr) {\n        var _this = this;\n        var dependable = base.getDependables(cldr, culture, true);\n        var parseOptions = { custom: true };\n        var numOptions;\n        if ((base.formatRegex.test(option.format)) || !(option.format)) {\n            extend(parseOptions, base.getProperNumericSkeleton(option.format || 'N'));\n            parseOptions.custom = false;\n        }\n        else {\n            extend(parseOptions, base.customFormat(option.format, null, null));\n        }\n        numOptions = parser.getCurrentNumericOptions(dependable.parserObject, parser.getNumberingSystem(cldr), true);\n        parseOptions.symbolRegex = parser.getSymbolRegex(Object.keys(numOptions.symbolMatch));\n        // tslint:disable-next-line:no-any\n        parseOptions.infinity = numOptions.symbolNumberSystem[keys[1]];\n        var symbolpattern = base.getSymbolPattern(parseOptions.type, numOptions.numberSystem, dependable.numericObject, parseOptions.isAccount);\n        if (symbolpattern) {\n            symbolpattern = symbolpattern.replace(/\\u00A4/g, base.defaultCurrency);\n            var split = symbolpattern.split(';');\n            parseOptions.nData = base.getFormatData(split[1] || '-' + split[0], true, '');\n            parseOptions.pData = base.getFormatData(split[0], true, '');\n        }\n        return function (value) {\n            return _this.getParsedNumber(value, parseOptions, numOptions);\n        };\n    };\n    /**\n     * Returns parsed number for the provided formatting options\n     * @param {string} value\n     * @param {NumericParts} options\n     * @param {NumericOptions} numOptions\n     * @returns {number}\n     */\n    NumberParser.getParsedNumber = function (value, options, numOptions) {\n        var isNegative;\n        var isPercent;\n        var tempValue;\n        var lead;\n        var end;\n        var ret;\n        if (value.indexOf(options.infinity) !== -1) {\n            return Infinity;\n        }\n        else {\n            value = parser.convertValueParts(value, options.symbolRegex, numOptions.symbolMatch);\n            value = parser.convertValueParts(value, numOptions.numberParseRegex, numOptions.numericPair);\n            if (value.indexOf('.') === 0) {\n                value = '0' + value;\n            }\n            var matches = value.match(parseRegex);\n            if (isNullOrUndefined(matches)) {\n                return NaN;\n            }\n            lead = matches[1];\n            tempValue = matches[2];\n            var exponent = matches[5];\n            end = matches[6];\n            isNegative = options.custom ? ((lead === options.nData.nlead) && (end === options.nData.nend)) :\n                ((lead.indexOf(options.nData.nlead) !== -1) && (end.indexOf(options.nData.nend) !== -1));\n            isPercent = isNegative ?\n                options.nData.isPercent :\n                options.pData.isPercent;\n            tempValue = tempValue.replace(groupRegex, '');\n            if (exponent) {\n                tempValue += exponent;\n            }\n            ret = +tempValue;\n            if (options.type === 'percent' || isPercent) {\n                ret = ret / 100;\n            }\n            if (options.custom || options.fractionDigits) {\n                ret = parseFloat(ret.toFixed(options.custom ?\n                    (isNegative ? options.nData.maximumFractionDigits : options.pData.maximumFractionDigits) : options.fractionDigits));\n            }\n            if (isNegative) {\n                ret *= -1;\n            }\n            return ret;\n        }\n    };\n    return NumberParser;\n}());\nexport { NumberParser };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Base } from './base';\nimport { Browser } from './browser';\nimport { isVisible } from './dom';\nimport { Property, Complex, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { EventHandler } from './event-handler';\nimport { ChildProperty } from './child-property';\nimport { select, closest, setStyleAttribute, addClass, createElement } from './dom';\nimport { extend, isUndefined, isNullOrUndefined, compareElementParent } from './util';\nvar defaultPosition = { left: 0, top: 0, bottom: 0, right: 0 };\nvar positionProp = ['offsetLeft', 'offsetTop'];\nvar axisMapper = ['x', 'y'];\nvar axisValueMapper = ['left', 'top'];\n/**\n * Specifies the position coordinates\n */\nvar Position = /** @class */ (function (_super) {\n    __extends(Position, _super);\n    function Position() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0)\n    ], Position.prototype, \"left\", void 0);\n    __decorate([\n        Property(0)\n    ], Position.prototype, \"top\", void 0);\n    return Position;\n}(ChildProperty));\nexport { Position };\n/**\n * Draggable Module provides support to enable draggable functionality in Dom Elements.\n * ```html\n * <div id='drag'>Draggable</div>\n * <script>\n * var ele = document.getElementById('drag');\n * var drag:Draggable = new Draggable(ele,{\n *     clone:false,\n *     drag: function(e) {\n *      //drag handler code.\n *      },\n *     handle:'.class'\n * });\n * </script>\n * ```\n */\nvar Draggable = /** @class */ (function (_super) {\n    __extends(Draggable, _super);\n    function Draggable(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.dragLimit = Draggable_1.getDefaultPosition();\n        _this.borderWidth = Draggable_1.getDefaultPosition();\n        _this.padding = Draggable_1.getDefaultPosition();\n        _this.diffX = 0;\n        _this.diffY = 0;\n        _this.droppables = {};\n        _this.bind();\n        return _this;\n    }\n    Draggable_1 = Draggable;\n    Draggable.prototype.bind = function () {\n        this.toggleEvents();\n        if (Browser.isIE) {\n            addClass([this.element], 'e-block-touch');\n        }\n        this.droppables[this.scope] = {};\n    };\n    Draggable.getDefaultPosition = function () {\n        return extend({}, defaultPosition);\n    };\n    Draggable.prototype.toggleEvents = function (isUnWire) {\n        var ele;\n        if (!isUndefined(this.handle)) {\n            ele = select(this.handle, this.element);\n        }\n        if (isUnWire) {\n            EventHandler.remove(ele || this.element, Browser.touchStartEvent, this.initialize);\n        }\n        else {\n            EventHandler.add(ele || this.element, Browser.touchStartEvent, this.initialize, this);\n        }\n    };\n    Draggable.prototype.initialize = function (evt) {\n        this.target = evt.currentTarget;\n        if (this.abort) {\n            if (!isNullOrUndefined(closest(evt.target, this.abort))) {\n                return;\n            }\n        }\n        if (this.preventDefault && !isUndefined(evt.changedTouches)) {\n            evt.preventDefault();\n        }\n        this.element.setAttribute('aria-grabbed', 'true');\n        var intCoord = this.getCoordinates(evt);\n        this.initialPosition = { x: intCoord.pageX, y: intCoord.pageY };\n        if (!this.clone) {\n            var pos = this.element.getBoundingClientRect();\n            this.relativeXPosition = intCoord.pageX - pos.left;\n            this.relativeYPosition = intCoord.pageY - pos.top;\n        }\n        EventHandler.add(document, Browser.touchMoveEvent, this.intDragStart, this);\n        EventHandler.add(document, Browser.touchEndEvent, this.intDestroy, this);\n        this.toggleEvents(true);\n        document.body.classList.add('e-prevent-select');\n        EventHandler.trigger(document.documentElement, Browser.touchStartEvent, evt);\n    };\n    Draggable.prototype.intDragStart = function (evt) {\n        var isChangeTouch = !isUndefined(evt.changedTouches);\n        if (isChangeTouch && (evt.changedTouches.length !== 1)) {\n            return;\n        }\n        if (isChangeTouch) {\n            evt.preventDefault();\n        }\n        var intCordinate = this.getCoordinates(evt);\n        var pos;\n        var styleProp = getComputedStyle(this.element);\n        this.margin = {\n            left: parseInt(styleProp.marginLeft, 10),\n            top: parseInt(styleProp.marginTop, 10),\n            right: parseInt(styleProp.marginRight, 10),\n            bottom: parseInt(styleProp.marginBottom, 10),\n        };\n        var element = this.element;\n        if (this.clone && this.dragTarget) {\n            var intClosest = closest(evt.target, this.dragTarget);\n            if (!isNullOrUndefined(intClosest)) {\n                element = intClosest;\n            }\n        }\n        this.offset = this.calculateParentPosition(element);\n        this.position = this.getMousePosition(evt);\n        var x = this.initialPosition.x - intCordinate.pageX;\n        var y = this.initialPosition.y - intCordinate.pageY;\n        var distance = Math.sqrt((x * x) + (y * y));\n        if (distance >= this.distance) {\n            var ele = this.getHelperElement(evt);\n            if (!ele || isNullOrUndefined(ele)) {\n                return;\n            }\n            var dragTargetElement = this.helperElement = ele;\n            this.parentClientRect = this.calculateParentPosition(dragTargetElement.offsetParent);\n            if (this.dragStart) {\n                var curTarget = this.getProperTargetElement(evt);\n                this.trigger('dragStart', { event: evt, element: element, target: curTarget });\n            }\n            if (this.dragArea) {\n                this.setDragArea();\n            }\n            else {\n                this.dragLimit = { left: 0, right: 0, bottom: 0, top: 0 };\n                this.borderWidth = { top: 0, left: 0 };\n            }\n            pos = { left: this.position.left - this.parentClientRect.left, top: this.position.top - this.parentClientRect.top };\n            if (this.clone && !this.enableTailMode) {\n                this.diffX = this.position.left - this.offset.left;\n                this.diffY = this.position.top - this.offset.top;\n            }\n            var posValue = this.getProcessedPositionValue({\n                top: (pos.top - this.diffY) + 'px',\n                left: (pos.left - this.diffX) + 'px'\n            });\n            setStyleAttribute(dragTargetElement, this.getDragPosition({ position: 'absolute', left: posValue.left, top: posValue.top }));\n            EventHandler.remove(document, Browser.touchMoveEvent, this.intDragStart);\n            EventHandler.remove(document, Browser.touchEndEvent, this.intDestroy);\n            if (isVisible(dragTargetElement)) {\n                EventHandler.add(document, Browser.touchMoveEvent, this.intDrag, this);\n                EventHandler.add(document, Browser.touchEndEvent, this.intDragStop, this);\n                this.setGlobalDroppables(false, this.element, dragTargetElement);\n            }\n            else {\n                this.toggleEvents();\n                document.body.classList.remove('e-prevent-select');\n            }\n        }\n    };\n    Draggable.prototype.elementInViewport = function (el) {\n        this.top = el.offsetTop;\n        this.left = el.offsetLeft;\n        this.width = el.offsetWidth;\n        this.height = el.offsetHeight;\n        while (el.offsetParent) {\n            el = el.offsetParent;\n            this.top += el.offsetTop;\n            this.left += el.offsetLeft;\n        }\n        return (this.top >= window.pageYOffset &&\n            this.left >= window.pageXOffset &&\n            (this.top + this.height) <= (window.pageYOffset + window.innerHeight) &&\n            (this.left + this.width) <= (window.pageXOffset + window.innerWidth));\n    };\n    Draggable.prototype.getProcessedPositionValue = function (value) {\n        if (this.queryPositionInfo) {\n            return this.queryPositionInfo(value);\n        }\n        return value;\n    };\n    Draggable.prototype.calculateParentPosition = function (ele) {\n        if (isNullOrUndefined(ele)) {\n            return { left: 0, top: 0 };\n        }\n        var rect = ele.getBoundingClientRect();\n        var style = getComputedStyle(ele);\n        return {\n            left: (rect.left + window.pageXOffset) - parseInt(style.marginLeft, 10),\n            top: (rect.top + window.pageYOffset) - parseInt(style.marginTop, 10)\n        };\n    };\n    Draggable.prototype.intDrag = function (evt) {\n        if (!isUndefined(evt.changedTouches) && (evt.changedTouches.length !== 1)) {\n            return;\n        }\n        var left;\n        var top;\n        this.position = this.getMousePosition(evt);\n        var docHeight = this.getDocumentWidthHeight('Height');\n        if (docHeight < this.position.top) {\n            this.position.top = docHeight;\n        }\n        var docWidth = this.getDocumentWidthHeight('Width');\n        if (docWidth < this.position.left) {\n            this.position.left = docWidth;\n        }\n        if (this.drag) {\n            var curTarget = this.getProperTargetElement(evt);\n            this.trigger('drag', { event: evt, element: this.element, target: curTarget });\n        }\n        var eleObj = this.checkTargetElement(evt);\n        if (eleObj.target && eleObj.instance) {\n            /* tslint:disable no-any */\n            eleObj.instance.dragData[this.scope] = this.droppables[this.scope];\n            eleObj.instance.intOver(evt, eleObj.target);\n            this.hoverObject = eleObj;\n        }\n        else if (this.hoverObject) {\n            this.hoverObject.instance.intOut(evt, eleObj.target);\n            this.hoverObject.instance.dragData[this.scope] = null;\n            this.hoverObject = null;\n        }\n        var helperElement = this.droppables[this.scope].helper;\n        this.parentClientRect = this.calculateParentPosition(this.helperElement.offsetParent);\n        var tLeft = this.parentClientRect.left;\n        var tTop = this.parentClientRect.top;\n        var intCoord = this.getCoordinates(evt);\n        var pagex = intCoord.pageX;\n        var pagey = intCoord.pageY;\n        var dLeft = this.position.left - this.diffX;\n        var dTop = this.position.top - this.diffY;\n        if (this.dragArea) {\n            var styles = getComputedStyle(helperElement);\n            if (this.pageX !== pagex || this.skipDistanceCheck) {\n                var helperWidth = helperElement.offsetWidth + (parseFloat(styles.marginLeft)\n                    + parseFloat(styles.marginRight));\n                if (this.dragLimit.left > dLeft) {\n                    left = this.dragLimit.left;\n                }\n                else if (this.dragLimit.right < dLeft + helperWidth) {\n                    left = this.dragLimit.right - helperWidth;\n                }\n                else {\n                    left = dLeft;\n                }\n            }\n            if (this.pageY !== pagey || this.skipDistanceCheck) {\n                var helperHeight = helperElement.offsetHeight + (parseFloat(styles.marginTop)\n                    + parseFloat(styles.marginBottom));\n                if (this.dragLimit.top > dTop) {\n                    top = this.dragLimit.top;\n                }\n                else if (this.dragLimit.bottom < dTop + helperHeight) {\n                    top = this.dragLimit.bottom - helperHeight;\n                }\n                else {\n                    top = dTop;\n                }\n            }\n        }\n        else {\n            left = dLeft;\n            top = dTop;\n        }\n        var iTop = tTop + this.borderWidth.top;\n        var iLeft = tLeft + this.borderWidth.left;\n        var dragValue = this.getProcessedPositionValue({ top: (top - iTop) + 'px', left: (left - iLeft) + 'px' });\n        setStyleAttribute(helperElement, this.getDragPosition(dragValue));\n        if (!this.elementInViewport(helperElement) && this.enableAutoScroll) {\n            this.helperElement.scrollIntoView();\n        }\n        this.position.left = left;\n        this.position.top = top;\n        this.pageX = pagex;\n        this.pageY = pagey;\n    };\n    Draggable.prototype.getDragPosition = function (dragValue) {\n        var temp = extend({}, dragValue);\n        if (this.axis) {\n            if (this.axis === 'x') {\n                delete temp.top;\n            }\n            else if (this.axis === 'y') {\n                delete temp.left;\n            }\n        }\n        return temp;\n    };\n    Draggable.prototype.getDocumentWidthHeight = function (str) {\n        var docBody = document.body;\n        var docEle = document.documentElement;\n        var returnValue = Math.max(docBody['scroll' + str], docEle['scroll' + str], docBody['offset' + str], docEle['offset' + str], docEle['client' + str]);\n        return returnValue;\n    };\n    Draggable.prototype.intDragStop = function (evt) {\n        if (!isUndefined(evt.changedTouches) && (evt.changedTouches.length !== 1)) {\n            return;\n        }\n        var type = ['touchend', 'pointerup', 'mouseup'];\n        if (type.indexOf(evt.type) !== -1) {\n            if (this.dragStop) {\n                var curTarget = this.getProperTargetElement(evt);\n                this.trigger('dragStop', { event: evt, element: this.element, target: curTarget, helper: this.helperElement });\n            }\n            this.intDestroy(evt);\n        }\n        else {\n            this.element.setAttribute('aria-grabbed', 'false');\n        }\n        var eleObj = this.checkTargetElement(evt);\n        if (eleObj.target && eleObj.instance) {\n            eleObj.instance.dragStopCalled = true;\n            eleObj.instance.dragData[this.scope] = this.droppables[this.scope];\n            eleObj.instance.intDrop(evt, eleObj.target);\n        }\n        this.setGlobalDroppables(true);\n        document.body.classList.remove('e-prevent-select');\n    };\n    Draggable.prototype.intDestroy = function (evt) {\n        this.toggleEvents();\n        document.body.classList.remove('e-prevent-select');\n        this.element.setAttribute('aria-grabbed', 'false');\n        EventHandler.remove(document, Browser.touchMoveEvent, this.intDragStart);\n        EventHandler.remove(document, Browser.touchEndEvent, this.intDragStop);\n        EventHandler.remove(document, Browser.touchEndEvent, this.intDestroy);\n        EventHandler.remove(document, Browser.touchMoveEvent, this.intDrag);\n    };\n    // triggers when property changed\n    Draggable.prototype.onPropertyChanged = function (newProp, oldProp) {\n        //No Code to handle\n    };\n    Draggable.prototype.getModuleName = function () {\n        return 'draggable';\n    };\n    Draggable.prototype.setDragArea = function () {\n        var eleWidthBound;\n        var eleHeightBound;\n        var top = 0;\n        var left = 0;\n        var ele;\n        var type = typeof this.dragArea;\n        if (type === 'string') {\n            ele = select(this.dragArea);\n        }\n        else {\n            ele = this.dragArea;\n        }\n        if (ele) {\n            var elementArea = ele.getBoundingClientRect();\n            eleWidthBound = elementArea.width ? elementArea.width : elementArea.right - elementArea.left;\n            eleHeightBound = elementArea.height ? elementArea.height : elementArea.bottom - elementArea.top;\n            var keys = ['Top', 'Left', 'Bottom', 'Right'];\n            var styles = getComputedStyle(ele);\n            for (var i = 0; i < keys.length; i++) {\n                var key = keys[i];\n                var tborder = styles['border' + key + 'Width'];\n                var tpadding = styles['padding' + key];\n                var lowerKey = key.toLowerCase();\n                this.borderWidth[lowerKey] = isNaN(parseFloat(tborder)) ? 0 : parseFloat(tborder);\n                this.padding[lowerKey] = isNaN(parseFloat(tpadding)) ? 0 : parseFloat(tpadding);\n            }\n            top = elementArea.top;\n            left = elementArea.left;\n            this.dragLimit.left = left + this.borderWidth.left + this.padding.left;\n            this.dragLimit.top = top + this.borderWidth.top + this.padding.top;\n            this.dragLimit.right = left + eleWidthBound - (this.borderWidth.right + this.padding.right);\n            this.dragLimit.bottom = top + eleHeightBound - (this.borderWidth.bottom + this.padding.bottom);\n        }\n    };\n    Draggable.prototype.getProperTargetElement = function (evt) {\n        var intCoord = this.getCoordinates(evt);\n        var ele;\n        var prevStyle = this.helperElement.style.display || '';\n        if (compareElementParent(evt.target, this.helperElement) || evt.type.indexOf('touch') !== -1) {\n            this.helperElement.style.display = 'none';\n            ele = document.elementFromPoint(intCoord.clientX, intCoord.clientY);\n            this.helperElement.style.display = prevStyle;\n        }\n        else {\n            ele = evt.target;\n        }\n        return ele;\n    };\n    Draggable.prototype.getMousePosition = function (evt) {\n        var intCoord = this.getCoordinates(evt);\n        var pageX = this.clone ? intCoord.pageX : intCoord.pageX - this.relativeXPosition;\n        var pageY = this.clone ? intCoord.pageY : intCoord.pageY - this.relativeYPosition;\n        return {\n            left: pageX - (this.margin.left + this.cursorAt.left),\n            top: pageY - (this.margin.top + this.cursorAt.top)\n        };\n    };\n    Draggable.prototype.getCoordinates = function (evt) {\n        if (evt.type.indexOf('touch') > -1) {\n            return evt.changedTouches[0];\n        }\n        return evt;\n    };\n    Draggable.prototype.getHelperElement = function (evt) {\n        var element;\n        if (this.clone) {\n            if (this.helper) {\n                element = this.helper({ sender: evt, element: this.target });\n            }\n            else {\n                element = createElement('div', { className: 'e-drag-helper e-block-touch', innerHTML: 'Draggable' });\n                document.body.appendChild(element);\n            }\n        }\n        else {\n            element = this.element;\n        }\n        return element;\n    };\n    Draggable.prototype.setGlobalDroppables = function (reset, drag, helper) {\n        this.droppables[this.scope] = reset ? null : {\n            draggable: drag,\n            helper: helper,\n            draggedElement: this.element\n        };\n    };\n    Draggable.prototype.checkTargetElement = function (evt) {\n        var target = this.getProperTargetElement(evt);\n        var dropIns = this.getDropInstance(target);\n        if (!dropIns && target && !isNullOrUndefined(target.parentNode)) {\n            var parent_1 = closest(target.parentNode, '.e-droppable') || target.parentElement;\n            if (parent_1) {\n                dropIns = this.getDropInstance(parent_1);\n            }\n        }\n        return { target: target, instance: dropIns };\n    };\n    Draggable.prototype.getDropInstance = function (ele) {\n        var name = 'getModuleName';\n        var drop;\n        var eleInst = ele && ele.ej2_instances;\n        if (eleInst) {\n            for (var _i = 0, eleInst_1 = eleInst; _i < eleInst_1.length; _i++) {\n                var inst = eleInst_1[_i];\n                if (inst[name]() === 'droppable') {\n                    drop = inst;\n                    break;\n                }\n            }\n        }\n        return drop;\n    };\n    Draggable.prototype.destroy = function () {\n        this.toggleEvents(true);\n        _super.prototype.destroy.call(this);\n    };\n    __decorate([\n        Complex({}, Position)\n    ], Draggable.prototype, \"cursorAt\", void 0);\n    __decorate([\n        Property(true)\n    ], Draggable.prototype, \"clone\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"dragArea\", void 0);\n    __decorate([\n        Event()\n    ], Draggable.prototype, \"drag\", void 0);\n    __decorate([\n        Event()\n    ], Draggable.prototype, \"dragStart\", void 0);\n    __decorate([\n        Event()\n    ], Draggable.prototype, \"dragStop\", void 0);\n    __decorate([\n        Property(1)\n    ], Draggable.prototype, \"distance\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"handle\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"abort\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"helper\", void 0);\n    __decorate([\n        Property('default')\n    ], Draggable.prototype, \"scope\", void 0);\n    __decorate([\n        Property('')\n    ], Draggable.prototype, \"dragTarget\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"axis\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"queryPositionInfo\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"enableTailMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"skipDistanceCheck\", void 0);\n    __decorate([\n        Property(true)\n    ], Draggable.prototype, \"preventDefault\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"enableAutoScroll\", void 0);\n    Draggable = Draggable_1 = __decorate([\n        NotifyPropertyChanges\n    ], Draggable);\n    return Draggable;\n    var Draggable_1;\n}(Base));\nexport { Draggable };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Base } from './base';\nimport { Browser } from './browser';\nimport { isVisible, matches } from './dom';\nimport { Property, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { EventHandler } from './event-handler';\nimport { compareElementParent } from './util';\n/**\n * Droppable Module provides support to enable droppable functionality in Dom Elements.\n * ```html\n * <div id='drop'>Droppable</div>\n * <script>\n * let ele:HTMLElement = document.getElementById('drop');\n * var drag:Droppable = new Droppable(ele,{\n *     accept:'.drop',\n *     drop: function(e) {\n *      //drop handler code.\n *     }\n * });\n * </script>\n * ```\n */\nvar Droppable = /** @class */ (function (_super) {\n    __extends(Droppable, _super);\n    function Droppable(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.mouseOver = false;\n        _this.dragData = {};\n        _this.dragStopCalled = false;\n        _this.bind();\n        return _this;\n    }\n    Droppable.prototype.bind = function () {\n        this.wireEvents();\n    };\n    Droppable.prototype.wireEvents = function () {\n        EventHandler.add(this.element, Browser.touchEndEvent, this.intDrop, this);\n    };\n    // triggers when property changed\n    Droppable.prototype.onPropertyChanged = function (newProp, oldProp) {\n        //No Code to handle\n    };\n    Droppable.prototype.getModuleName = function () {\n        return 'droppable';\n    };\n    Droppable.prototype.intOver = function (event, element) {\n        if (!this.mouseOver) {\n            var drag = this.dragData[this.scope];\n            this.trigger('over', { event: event, target: element, dragData: drag });\n            this.mouseOver = true;\n        }\n    };\n    Droppable.prototype.intOut = function (event, element) {\n        if (this.mouseOver) {\n            this.trigger('out', { evt: event, target: element });\n            this.mouseOver = false;\n        }\n    };\n    Droppable.prototype.intDrop = function (evt, element) {\n        if (!this.dragStopCalled) {\n            return;\n        }\n        else {\n            this.dragStopCalled = false;\n        }\n        var accept = true;\n        var drag = this.dragData[this.scope];\n        var isDrag = drag ? (drag.helper && isVisible(drag.helper)) : false;\n        var area;\n        if (isDrag) {\n            area = this.isDropArea(evt, drag.helper, element);\n            if (this.accept) {\n                accept = matches(drag.helper, this.accept);\n            }\n        }\n        if (isDrag && this.drop && area.canDrop && accept) {\n            this.trigger('drop', { event: evt, target: area.target, droppedElement: drag.helper, dragData: drag });\n        }\n        this.mouseOver = false;\n    };\n    Droppable.prototype.isDropArea = function (evt, helper, element) {\n        var area = { canDrop: true, target: element || evt.target };\n        var isTouch = evt.type === 'touchend';\n        if (isTouch || area.target === helper) {\n            helper.style.display = 'none';\n            var coord = isTouch ? (evt.changedTouches[0]) : evt;\n            var ele = document.elementFromPoint(coord.clientX, coord.clientY);\n            area.canDrop = false;\n            area.canDrop = compareElementParent(ele, this.element);\n            if (area.canDrop) {\n                area.target = ele;\n            }\n            helper.style.display = '';\n        }\n        return area;\n    };\n    Droppable.prototype.destroy = function () {\n        EventHandler.remove(this.element, Browser.touchEndEvent, this.intDrop);\n        _super.prototype.destroy.call(this);\n    };\n    __decorate([\n        Property()\n    ], Droppable.prototype, \"accept\", void 0);\n    __decorate([\n        Property('default')\n    ], Droppable.prototype, \"scope\", void 0);\n    __decorate([\n        Event()\n    ], Droppable.prototype, \"drop\", void 0);\n    __decorate([\n        Event()\n    ], Droppable.prototype, \"over\", void 0);\n    __decorate([\n        Event()\n    ], Droppable.prototype, \"out\", void 0);\n    Droppable = __decorate([\n        NotifyPropertyChanges\n    ], Droppable);\n    return Droppable;\n}(Base));\nexport { Droppable };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { Base } from './base';\nvar keyCode = {\n    'backspace': 8,\n    'tab': 9,\n    'enter': 13,\n    'shift': 16,\n    'control': 17,\n    'alt': 18,\n    'pause': 19,\n    'capslock': 20,\n    'space': 32,\n    'escape': 27,\n    'pageup': 33,\n    'pagedown': 34,\n    'end': 35,\n    'home': 36,\n    'leftarrow': 37,\n    'uparrow': 38,\n    'rightarrow': 39,\n    'downarrow': 40,\n    'insert': 45,\n    'delete': 46,\n    'f1': 112,\n    'f2': 113,\n    'f3': 114,\n    'f4': 115,\n    'f5': 116,\n    'f6': 117,\n    'f7': 118,\n    'f8': 119,\n    'f9': 120,\n    'f10': 121,\n    'f11': 122,\n    'f12': 123,\n    'semicolon': 186,\n    'plus': 187,\n    'comma': 188,\n    'minus': 189,\n    'dot': 190,\n    'forwardslash': 191,\n    'graveaccent': 192,\n    'openbracket': 219,\n    'backslash': 220,\n    'closebracket': 221,\n    'singlequote': 222\n};\n/**\n * KeyboardEvents class enables you to bind key action desired key combinations for ex., Ctrl+A, Delete, Alt+Space etc.\n * ```html\n * <div id='testEle'>  </div>;\n * <script>\n *   let node: HTMLElement = document.querySelector('#testEle');\n *   let kbInstance = new KeyboardEvents({\n *       element: node,\n *       keyConfigs:{ selectAll : 'ctrl+a' },\n *       keyAction: function (e:KeyboardEvent, action:string) {\n *           // handler function code\n *       }\n *   });\n * </script>\n * ```\n */\nvar KeyboardEvents = /** @class */ (function (_super) {\n    __extends(KeyboardEvents, _super);\n    /**\n     * Initializes the KeyboardEvents\n     * @param {HTMLElement} element\n     * @param {KeyboardEventsModel} options\n     */\n    function KeyboardEvents(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        /**\n         * To handle a key press event returns null\n         */\n        _this.keyPressHandler = function (e) {\n            var isAltKey = e.altKey;\n            var isCtrlKey = e.ctrlKey;\n            var isShiftKey = e.shiftKey;\n            var curkeyCode = e.which;\n            var keys = Object.keys(_this.keyConfigs);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                var configCollection = _this.keyConfigs[key].split(',');\n                for (var _a = 0, configCollection_1 = configCollection; _a < configCollection_1.length; _a++) {\n                    var rconfig = configCollection_1[_a];\n                    var rKeyObj = KeyboardEvents_1.getKeyConfigData(rconfig.trim());\n                    if (isAltKey === rKeyObj.altKey && isCtrlKey === rKeyObj.ctrlKey &&\n                        isShiftKey === rKeyObj.shiftKey && curkeyCode === rKeyObj.keyCode) {\n                        e.action = key;\n                        if (_this.keyAction) {\n                            _this.keyAction(e);\n                        }\n                    }\n                }\n            }\n        };\n        _this.bind();\n        return _this;\n    }\n    KeyboardEvents_1 = KeyboardEvents;\n    /**\n     * Unwire bound events and destroy the instance.\n     * @return {void}\n     */\n    KeyboardEvents.prototype.destroy = function () {\n        this.unwireEvents();\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Function can be used to specify certain action if a property is changed\n     * @param newProp\n     * @param oldProp\n     * @returns {void}\n     * @private\n     */\n    KeyboardEvents.prototype.onPropertyChanged = function (newProp, oldProp) {\n        // No code are needed\n    };\n    ;\n    KeyboardEvents.prototype.bind = function () {\n        this.wireEvents();\n    };\n    /**\n     * To get the module name, returns 'keyboard'.\n     * @private\n     */\n    KeyboardEvents.prototype.getModuleName = function () {\n        return 'keyboard';\n    };\n    /**\n     * Wiring event handlers to events\n     */\n    KeyboardEvents.prototype.wireEvents = function () {\n        this.element.addEventListener(this.eventName, this.keyPressHandler);\n    };\n    /**\n     * Unwiring event handlers to events\n     */\n    KeyboardEvents.prototype.unwireEvents = function () {\n        this.element.removeEventListener(this.eventName, this.keyPressHandler);\n    };\n    /**\n     * To get the key configuration data\n     * @param {string} config - configuration data\n     * returns {KeyData}\n     */\n    KeyboardEvents.getKeyConfigData = function (config) {\n        if (config in this.configCache) {\n            return this.configCache[config];\n        }\n        var keys = config.toLowerCase().split('+');\n        var keyData = {\n            altKey: (keys.indexOf('alt') !== -1 ? true : false),\n            ctrlKey: (keys.indexOf('ctrl') !== -1 ? true : false),\n            shiftKey: (keys.indexOf('shift') !== -1 ? true : false),\n            keyCode: null\n        };\n        if (keys[keys.length - 1].length > 1 && !!Number(keys[keys.length - 1])) {\n            keyData.keyCode = Number(keys[keys.length - 1]);\n        }\n        else {\n            keyData.keyCode = KeyboardEvents_1.getKeyCode(keys[keys.length - 1]);\n        }\n        KeyboardEvents_1.configCache[config] = keyData;\n        return keyData;\n    };\n    // Return the keycode value as string \n    KeyboardEvents.getKeyCode = function (keyVal) {\n        return keyCode[keyVal] || keyVal.toUpperCase().charCodeAt(0);\n    };\n    KeyboardEvents.configCache = {};\n    __decorate([\n        Property({})\n    ], KeyboardEvents.prototype, \"keyConfigs\", void 0);\n    __decorate([\n        Property('keyup')\n    ], KeyboardEvents.prototype, \"eventName\", void 0);\n    __decorate([\n        Event()\n    ], KeyboardEvents.prototype, \"keyAction\", void 0);\n    KeyboardEvents = KeyboardEvents_1 = __decorate([\n        NotifyPropertyChanges\n    ], KeyboardEvents);\n    return KeyboardEvents;\n    var KeyboardEvents_1;\n}(Base));\nexport { KeyboardEvents };\n","import { extend } from './util';\nimport { defaultCulture } from './internationalization';\n/**\n * L10n modules provides localized text for different culture.\n * ```typescript\n * import {setCulture} from '@syncfusion/ts-base-library';\n * //load global locale object common for all components.\n * L10n.load({\n *    'fr-BE': {\n *       'button': {\n *            'check': 'vérifié'\n *        }\n *    }\n * });\n * //set globale default locale culture.\n * setCulture('fr-BE');\n * let instance: L10n = new L10n('button', {\n *    check: 'checked'\n * });\n * //Get locale text for current property.\n * instance.getConstant('check');\n * //Change locale culture in a component.\n * instance.setLocale('en-US');\n * ```\n */\nvar L10n = /** @class */ (function () {\n    /**\n     * Constructor\n     */\n    function L10n(controlName, localeStrings, locale) {\n        this.controlName = controlName;\n        this.localeStrings = localeStrings;\n        this.setLocale(locale || defaultCulture);\n    }\n    /**\n     * Sets the locale text\n     * @param {string} locale\n     * @returns {void}\n     */\n    L10n.prototype.setLocale = function (locale) {\n        var intLocale = this.intGetControlConstant(L10n.locale, locale);\n        this.currentLocale = intLocale || this.localeStrings;\n    };\n    /**\n     * Sets the global locale for all components.\n     * @param {Object} localeObject - specifies the localeObject to be set as global locale.\n     */\n    L10n.load = function (localeObject) {\n        this.locale = extend(this.locale, localeObject, {}, true);\n    };\n    /**\n     * Returns current locale text for the property based on the culture name and control name.\n     * @param {string} propertyName - specifies the property for which localize text to be returned.\n     * @return string\n     */\n    L10n.prototype.getConstant = function (prop) {\n        /* tslint:disable no-any */\n        return this.currentLocale[prop] || this.localeStrings[prop] || '';\n    };\n    /**\n     * Returns the control constant object for current object and the locale specified.\n     * @param {Object} curObject\n     * @param {string} locale\n     * @returns {Object}\n     */\n    L10n.prototype.intGetControlConstant = function (curObject, locale) {\n        if (curObject[locale]) {\n            return curObject[locale][this.controlName];\n        }\n        return null;\n    };\n    L10n.locale = {};\n    return L10n;\n}());\nexport { L10n };\n","/**\n * To import utils\n */\nimport { isNullOrUndefined, } from './util';\nvar SvgRenderer = /** @class */ (function () {\n    /* End-Properties */\n    function SvgRenderer(rootID) {\n        //Internal Variables \n        this.svgLink = 'http://www.w3.org/2000/svg';\n        this.rootId = rootID;\n    }\n    // method to get the attributes value\n    /* tslint:disable */\n    SvgRenderer.prototype.getOptionValue = function (options, key) {\n        return options[key];\n    }; /* tslint:enable */\n    /**\n     * To create a Html5 SVG element\n     * @param {SVGAttributes} options - Options to create SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createSvg = function (options) {\n        if (isNullOrUndefined(options.id)) {\n            options.id = this.rootId + '_svg';\n        }\n        this.svgObj = document.getElementById(options.id);\n        if (isNullOrUndefined(document.getElementById(options.id))) {\n            this.svgObj = document.createElementNS(this.svgLink, 'svg');\n        }\n        this.svgObj = this.setElementAttributes(options, this.svgObj);\n        this.setSVGSize(options.width, options.height);\n        return this.svgObj;\n    };\n    // method to set the height and width for the SVG element\n    SvgRenderer.prototype.setSVGSize = function (width, height) {\n        var element = document.getElementById(this.rootId);\n        var size = !isNullOrUndefined(element) ? element.getBoundingClientRect() : null;\n        if (isNullOrUndefined(this.width) || this.width <= 0) {\n            this.svgObj.setAttribute('width', width ? width.toString() : size.width.toString());\n        }\n        else {\n            this.svgObj.setAttribute('width', this.width.toString());\n        }\n        if (isNullOrUndefined(this.height) || this.height <= 0) {\n            this.svgObj.setAttribute('height', height ? height.toString() : '450');\n        }\n        else {\n            this.svgObj.setAttribute('height', this.height.toString());\n        }\n    };\n    /**\n     * To draw a path\n     * @param {PathAttributes} options - Options to draw a path in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawPath = function (options) {\n        var path = document.getElementById(options.id);\n        if (path === null) {\n            path = document.createElementNS(this.svgLink, 'path');\n        }\n        path = this.setElementAttributes(options, path);\n        return path;\n    };\n    /**\n     * To draw a line\n     * @param {LineAttributes} options - Options to draw a line in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawLine = function (options) {\n        var line = document.getElementById(options.id);\n        if (line === null) {\n            line = document.createElementNS(this.svgLink, 'line');\n        }\n        line = this.setElementAttributes(options, line);\n        return line;\n    };\n    /**\n     * To draw a rectangle\n     * @param {BaseAttibutes} options - Required options to draw a rectangle in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawRectangle = function (options) {\n        var rectangle = document.getElementById(options.id);\n        if (rectangle === null) {\n            rectangle = document.createElementNS(this.svgLink, 'rect');\n        }\n        rectangle = this.setElementAttributes(options, rectangle);\n        return rectangle;\n    };\n    /**\n     * To draw a circle\n     * @param {CircleAttributes} options - Required options to draw a circle in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawCircle = function (options) {\n        var circle = document.getElementById(options.id);\n        if (circle === null) {\n            circle = document.createElementNS(this.svgLink, 'circle');\n        }\n        circle = this.setElementAttributes(options, circle);\n        return circle;\n    };\n    /**\n     * To draw a polyline\n     * @param {PolylineAttributes} options - Options required to draw a polyline\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawPolyline = function (options) {\n        var polyline = document.getElementById(options.id);\n        if (polyline === null) {\n            polyline = document.createElementNS(this.svgLink, 'polyline');\n        }\n        polyline = this.setElementAttributes(options, polyline);\n        return polyline;\n    };\n    /**\n     * To draw an ellipse\n     * @param {EllipseAttributes} options - Options required to draw an ellipse\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawEllipse = function (options) {\n        var ellipse = document.getElementById(options.id);\n        if (ellipse === null) {\n            ellipse = document.createElementNS(this.svgLink, 'ellipse');\n        }\n        ellipse = this.setElementAttributes(options, ellipse);\n        return ellipse;\n    };\n    /**\n     * To draw a polygon\n     * @param {PolylineAttributes} options - Options needed to draw a polygon in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawPolygon = function (options) {\n        var polygon = document.getElementById(options.id);\n        if (polygon === null) {\n            polygon = document.createElementNS(this.svgLink, 'polygon');\n        }\n        polygon = this.setElementAttributes(options, polygon);\n        return polygon;\n    };\n    /**\n     * To draw an image\n     * @param {ImageAttributes} options - Required options to draw an image in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawImage = function (options) {\n        var img = document.createElementNS(this.svgLink, 'image');\n        img.setAttributeNS(null, 'height', options.height.toString());\n        img.setAttributeNS(null, 'width', options.width.toString());\n        img.setAttributeNS('http://www.w3.org/1999/xlink', 'href', options.href);\n        img.setAttributeNS(null, 'x', options.x.toString());\n        img.setAttributeNS(null, 'y', options.y.toString());\n        img.setAttributeNS(null, 'id', options.id);\n        img.setAttributeNS(null, 'visibility', options.visibility);\n        if (!isNullOrUndefined(this.getOptionValue(options, 'clip-path'))) {\n            img.setAttributeNS(null, 'clip-path', this.getOptionValue(options, 'clip-path'));\n        }\n        if (!isNullOrUndefined(options.preserveAspectRatio)) {\n            img.setAttributeNS(null, 'preserveAspectRatio', options.preserveAspectRatio);\n        }\n        return img;\n    };\n    /**\n     * To draw a text\n     * @param {TextAttributes} options - Options needed to draw a text in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createText = function (options, label) {\n        var text = document.createElementNS(this.svgLink, 'text');\n        text = this.setElementAttributes(options, text);\n        if (!isNullOrUndefined(label)) {\n            text.textContent = label;\n        }\n        return text;\n    };\n    /**\n     * To create a tSpan\n     * @param {TextAttributes} options - Options to create tSpan\n     * @param {string} label - The text content which is to be rendered in the tSpan\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createTSpan = function (options, label) {\n        var tSpan = document.createElementNS(this.svgLink, 'tspan');\n        tSpan = this.setElementAttributes(options, tSpan);\n        if (!isNullOrUndefined(label)) {\n            tSpan.textContent = label;\n        }\n        return tSpan;\n    };\n    /**\n     * To create a title\n     * @param {string} text - The text content which is to be rendered in the title\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createTitle = function (text) {\n        var title = document.createElementNS(this.svgLink, 'title');\n        title.textContent = text;\n        return title;\n    };\n    /**\n     * To create defs element in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createDefs = function () {\n        var defs = document.createElementNS(this.svgLink, 'defs');\n        return defs;\n    };\n    /**\n     * To create clip path in SVG\n     * @param {BaseAttibutes} options - Options needed to create clip path\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createClipPath = function (options) {\n        var clipPath = document.createElementNS(this.svgLink, 'clipPath');\n        clipPath = this.setElementAttributes(options, clipPath);\n        return clipPath;\n    };\n    /**\n     * To create foreign object in SVG\n     * @param {BaseAttibutes} options - Options needed to create foreign object\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createForeignObject = function (options) {\n        var foreignObject = document.createElementNS(this.svgLink, 'foreignObject');\n        foreignObject = this.setElementAttributes(options, foreignObject);\n        return foreignObject;\n    };\n    /**\n     * To create group element in SVG\n     * @param {BaseAttibutes} options - Options needed to create group\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createGroup = function (options) {\n        var group = document.createElementNS(this.svgLink, 'g');\n        group = this.setElementAttributes(options, group);\n        return group;\n    };\n    /**\n     * To create pattern in SVG\n     * @param {PatternAttributes} options - Required options to create pattern in SVG\n     * @param {string} type - Specifies the name of the pattern\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createPattern = function (options, element) {\n        var pattern = document.createElementNS(this.svgLink, element);\n        pattern = this.setElementAttributes(options, pattern);\n        return pattern;\n    };\n    /**\n     * To create radial gradient in SVG\n     * @param {string[]} colors - Specifies the colors required to create radial gradient\n     * @param {string[]} colorStop - Specifies the colorstop required to create radial gradient\n     * @param {string} name - Specifies the name of the gradient\n     * @param {RadialGradient} options - value for radial gradient\n     * @return {string}\n     */\n    SvgRenderer.prototype.createRadialGradient = function (colors, name, options) {\n        var colorName;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            var newOptions = {\n                'id': this.rootId + '_' + name + 'radialGradient',\n                'cx': options.cx + '%',\n                'cy': options.cy + '%',\n                'r': options.r + '%',\n                'fx': options.fx + '%',\n                'fy': options.fy + '%'\n            };\n            this.drawGradient('radialGradient', newOptions, colors);\n            colorName = 'url(#' + this.rootId + '_' + name + 'radialGradient)';\n        }\n        else {\n            colorName = colors[0].color.toString();\n        }\n        return colorName;\n    };\n    /**\n     * To create linear gradient in SVG\n     * @param {string[]} colors - Array of string specifies the values for color\n     * @param {string[]} colors - Array of string specifies the values for colorStop\n     * @param {string} name - Specifies the name of the gradient\n     * @param {LinearGradient} options - Specifies the options for gradient\n     * @return {string}\n     */\n    SvgRenderer.prototype.createLinearGradient = function (colors, name, options) {\n        var colorName;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            var newOptions = {\n                'id': this.rootId + '_' + name + 'linearGradient',\n                'x1': options.x1 + '%',\n                'y1': options.y1 + '%',\n                'x2': options.x2 + '%',\n                'y2': options.y2 + '%'\n            };\n            this.drawGradient('linearGradient', newOptions, colors);\n            colorName = 'url(#' + this.rootId + '_' + name + 'linearGradient)';\n        }\n        else {\n            colorName = colors[0].color.toString();\n        }\n        return colorName;\n    };\n    /**\n     * To render the gradient element in SVG\n     * @param {string} gradientType - Specifies the type of the gradient\n     * @param {RadialGradient | LinearGradient} options - Options required to render a gradient\n     * @param {string[]} colors - Array of string specifies the values for color\n     * @param {string[]} colorStop - Array of string specifies the values for colorStop\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawGradient = function (gradientType, options, colors) {\n        var defs = this.createDefs();\n        var gradient = document.createElementNS(this.svgLink, gradientType);\n        gradient = this.setElementAttributes(options, gradient);\n        for (var i = 0; i < colors.length; i++) {\n            var stop_1 = document.createElementNS(this.svgLink, 'stop');\n            stop_1.setAttribute('offset', colors[i].colorStop);\n            stop_1.setAttribute('stop-color', colors[i].color);\n            stop_1.setAttribute('stop-opacity', '1');\n            gradient.appendChild(stop_1);\n        }\n        defs.appendChild(gradient);\n        return defs;\n    };\n    /**\n     * To render a clip path\n     * @param {BaseAttibutes} options - Options required to render a clip path\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawClipPath = function (options) {\n        var defs = this.createDefs();\n        var clipPath = this.createClipPath({ 'id': options.id });\n        var rect = this.drawRectangle(options);\n        clipPath.appendChild(rect);\n        defs.appendChild(clipPath);\n        return defs;\n    };\n    /**\n     * To create circular clip path in SVG\n     * @param {CircleAttributes} options - Options required to create circular clip path\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawCircularClipPath = function (options) {\n        var defs = this.createDefs();\n        var clipPath = this.createClipPath({ 'id': options.id });\n        var circle = this.drawCircle(options);\n        clipPath.appendChild(circle);\n        defs.appendChild(clipPath);\n        return defs;\n    };\n    /**\n     * To set the attributes to the element\n     * @param {SVGCanvasAttributes} options - Attributes to set for the element\n     * @param {Element} element - The element to which the attributes need to be set\n     * @return {Element}\n     */\n    SvgRenderer.prototype.setElementAttributes = function (options, element) {\n        var keys = Object.keys(options);\n        for (var i = 0; i < keys.length; i++) {\n            element.setAttribute(keys[i], options[keys[i]]);\n        }\n        return element;\n    };\n    return SvgRenderer;\n}());\nexport { SvgRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { extend } from './util';\nimport { Property, Complex, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { Browser } from './browser';\nimport { Base } from './base';\nimport { ChildProperty } from './child-property';\nimport { EventHandler } from './event-handler';\n/**\n * SwipeSettings is a framework module that provides support to handle swipe event like swipe up, swipe right, etc..,\n * @private\n */\nvar SwipeSettings = /** @class */ (function (_super) {\n    __extends(SwipeSettings, _super);\n    function SwipeSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(50)\n    ], SwipeSettings.prototype, \"swipeThresholdDistance\", void 0);\n    return SwipeSettings;\n}(ChildProperty));\nexport { SwipeSettings };\nvar swipeRegex = /(Up|Down)/;\n/**\n * Touch class provides support to handle the touch event like tap, double tap, tap hold, etc..,\n * ```typescript\n *    let node: HTMLElement;\n * let touchObj: Touch = new Touch({\n *    element: node,\n *    tap: function (e) {\n *        // tap handler function code\n *    }\n *    tapHold: function (e) {\n *        // tap hold handler function code\n *    }\n *    scroll: function (e) {\n *        // scroll handler function code\n *    }\n *    swipe: function (e) {\n *        // swipe handler function code\n *    }\n * });\n * ```\n */\nvar Touch = /** @class */ (function (_super) {\n    __extends(Touch, _super);\n    /* End-Properties */\n    function Touch(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.touchAction = true;\n        _this.tapCount = 0;\n        _this.startEvent = function (evt) {\n            if (_this.touchAction === true) {\n                var point = (evt.changedTouches ? evt.changedTouches[0] : evt);\n                if (evt.changedTouches !== undefined) {\n                    _this.touchAction = false;\n                }\n                _this.isTouchMoved = false;\n                _this.movedDirection = '';\n                _this.startPoint = _this.lastMovedPoint = { clientX: point.clientX, clientY: point.clientY };\n                _this.startEventData = point;\n                _this.hScrollLocked = _this.vScrollLocked = false;\n                _this.tStampStart = Date.now();\n                _this.timeOutTapHold = setTimeout(function () { _this.tapHoldEvent(evt); }, _this.tapHoldThreshold);\n                EventHandler.add(_this.element, Browser.touchMoveEvent, _this.moveEvent, _this);\n                EventHandler.add(_this.element, Browser.touchEndEvent, _this.endEvent, _this);\n                EventHandler.add(_this.element, Browser.touchCancelEvent, _this.cancelEvent, _this);\n            }\n        };\n        _this.moveEvent = function (evt) {\n            var point = evt.changedTouches ? evt.changedTouches[0] : evt;\n            _this.movedPoint = point;\n            _this.isTouchMoved = !(point.clientX === _this.startPoint.clientX && point.clientY === _this.startPoint.clientY);\n            var eScrollArgs = {};\n            if (_this.isTouchMoved) {\n                clearTimeout(_this.timeOutTapHold);\n                _this.calcScrollPoints(evt);\n                var scrollArg = {\n                    startEvents: _this.startEventData,\n                    originalEvent: evt, startX: _this.startPoint.clientX,\n                    startY: _this.startPoint.clientY, distanceX: _this.distanceX,\n                    distanceY: _this.distanceY, scrollDirection: _this.scrollDirection,\n                    velocity: _this.getVelocity(point)\n                };\n                eScrollArgs = extend(eScrollArgs, {}, scrollArg);\n                _this.trigger('scroll', eScrollArgs);\n                _this.lastMovedPoint = { clientX: point.clientX, clientY: point.clientY };\n            }\n        };\n        _this.cancelEvent = function (evt) {\n            clearTimeout(_this.timeOutTapHold);\n            clearTimeout(_this.timeOutTap);\n            _this.tapCount = 0;\n            _this.swipeFn(evt);\n            EventHandler.remove(_this.element, Browser.touchCancelEvent, _this.cancelEvent);\n        };\n        _this.endEvent = function (evt) {\n            _this.swipeFn(evt);\n            if (!_this.isTouchMoved) {\n                if (typeof _this.tap === 'function') {\n                    _this.trigger('tap', { originalEvent: evt, tapCount: ++_this.tapCount });\n                    _this.timeOutTap = setTimeout(function () {\n                        _this.tapCount = 0;\n                    }, _this.tapThreshold);\n                }\n            }\n            _this.modeclear();\n        };\n        _this.swipeFn = function (evt) {\n            clearTimeout(_this.timeOutTapHold);\n            clearTimeout(_this.timeOutTap);\n            var point = evt;\n            if (evt.changedTouches) {\n                point = evt.changedTouches[0];\n            }\n            var diffX = point.clientX - _this.startPoint.clientX;\n            var diffY = point.clientY - _this.startPoint.clientY;\n            diffX = Math.floor(diffX < 0 ? -1 * diffX : diffX);\n            diffY = Math.floor(diffY < 0 ? -1 * diffY : diffX);\n            _this.isTouchMoved = diffX > 1 || diffY > 1;\n            _this.endPoint = point;\n            _this.calcPoints(evt);\n            var swipeArgs = {\n                originalEvent: evt,\n                startEvents: _this.startEventData,\n                startX: _this.startPoint.clientX,\n                startY: _this.startPoint.clientY,\n                distanceX: _this.distanceX, distanceY: _this.distanceY, swipeDirection: _this.movedDirection,\n                velocity: _this.getVelocity(point)\n            };\n            if (_this.isTouchMoved) {\n                var eSwipeArgs = void 0;\n                var tDistance = _this.swipeSettings.swipeThresholdDistance;\n                eSwipeArgs = extend(eSwipeArgs, _this.defaultArgs, swipeArgs);\n                var canTrigger = false;\n                var ele = _this.element;\n                var scrollBool = _this.isScrollable(ele);\n                var moved = swipeRegex.test(_this.movedDirection);\n                if ((tDistance < _this.distanceX && !moved) || (tDistance < _this.distanceY && moved)) {\n                    if (!scrollBool) {\n                        canTrigger = true;\n                    }\n                    else {\n                        canTrigger = _this.checkSwipe(ele, moved);\n                    }\n                }\n                if (canTrigger) {\n                    _this.trigger('swipe', eSwipeArgs);\n                }\n            }\n            _this.modeclear();\n        };\n        _this.modeclear = function () {\n            _this.modeClear = setTimeout(function () {\n                _this.touchAction = true;\n            }, (typeof _this.tap !== 'function' ? 0 : 10));\n            _this.lastTapTime = new Date().getTime();\n            EventHandler.remove(_this.element, Browser.touchMoveEvent, _this.moveEvent);\n            EventHandler.remove(_this.element, Browser.touchEndEvent, _this.endEvent);\n            EventHandler.remove(_this.element, Browser.touchCancelEvent, _this.cancelEvent);\n        };\n        _this.bind();\n        return _this;\n    }\n    // triggers when property changed \n    /**\n     * @private\n     * @param newProp\n     * @param oldProp\n     */\n    Touch.prototype.onPropertyChanged = function (newProp, oldProp) {\n        //No Code to handle\n    };\n    Touch.prototype.bind = function () {\n        this.wireEvents();\n        if (Browser.isIE) {\n            this.element.classList.add('e-block-touch');\n        }\n    };\n    /**\n     * To destroy the touch instance.\n     * @return {void}\n     */\n    Touch.prototype.destroy = function () {\n        this.unwireEvents();\n        _super.prototype.destroy.call(this);\n    };\n    // Need to changes the event binding once we updated the event handler.\n    Touch.prototype.wireEvents = function () {\n        EventHandler.add(this.element, Browser.touchStartEvent, this.startEvent, this);\n    };\n    Touch.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, Browser.touchStartEvent, this.startEvent);\n    };\n    /**\n     * Returns module name as touch\n     * @returns {string}\n     * @private\n     */\n    Touch.prototype.getModuleName = function () {\n        return 'touch';\n    };\n    /**\n     * Returns if the HTML element is Scrollable.\n     * @param {HTMLElement} element - HTML Element to check if Scrollable.\n     * @returns {boolean}\n     */\n    Touch.prototype.isScrollable = function (element) {\n        var eleStyle = getComputedStyle(element);\n        var style = eleStyle.overflow + eleStyle.overflowX + eleStyle.overflowY;\n        if ((/(auto|scroll)/).test(style)) {\n            return true;\n        }\n        return false;\n    };\n    Touch.prototype.tapHoldEvent = function (evt) {\n        this.tapCount = 0;\n        this.touchAction = true;\n        var eTapArgs;\n        EventHandler.remove(this.element, Browser.touchMoveEvent, this.moveEvent);\n        EventHandler.remove(this.element, Browser.touchEndEvent, this.endEvent);\n        eTapArgs = { originalEvent: evt };\n        this.trigger('tapHold', eTapArgs);\n        EventHandler.remove(this.element, Browser.touchCancelEvent, this.cancelEvent);\n    };\n    Touch.prototype.calcPoints = function (evt) {\n        var point = evt.changedTouches ? evt.changedTouches[0] : evt;\n        this.defaultArgs = { originalEvent: evt };\n        this.distanceX = Math.abs((Math.abs(point.clientX) - Math.abs(this.startPoint.clientX)));\n        this.distanceY = Math.abs((Math.abs(point.clientY) - Math.abs(this.startPoint.clientY)));\n        if (this.distanceX > this.distanceY) {\n            this.movedDirection = (point.clientX > this.startPoint.clientX) ? 'Right' : 'Left';\n        }\n        else {\n            this.movedDirection = (point.clientY < this.startPoint.clientY) ? 'Up' : 'Down';\n        }\n    };\n    Touch.prototype.calcScrollPoints = function (evt) {\n        var point = evt.changedTouches ? evt.changedTouches[0] : evt;\n        this.defaultArgs = { originalEvent: evt };\n        this.distanceX = Math.abs((Math.abs(point.clientX) - Math.abs(this.lastMovedPoint.clientX)));\n        this.distanceY = Math.abs((Math.abs(point.clientY) - Math.abs(this.lastMovedPoint.clientY)));\n        if ((this.distanceX > this.distanceY || this.hScrollLocked === true) && this.vScrollLocked === false) {\n            this.scrollDirection = (point.clientX > this.lastMovedPoint.clientX) ? 'Right' : 'Left';\n            this.hScrollLocked = true;\n        }\n        else {\n            this.scrollDirection = (point.clientY < this.lastMovedPoint.clientY) ? 'Up' : 'Down';\n            this.vScrollLocked = true;\n        }\n    };\n    Touch.prototype.getVelocity = function (pnt) {\n        var newX = pnt.clientX;\n        var newY = pnt.clientY;\n        var newT = Date.now();\n        var xDist = newX - this.startPoint.clientX;\n        var yDist = newY - this.startPoint.clientX;\n        var interval = newT - this.tStampStart;\n        return Math.sqrt(xDist * xDist + yDist * yDist) / interval;\n    };\n    // tslint:disable-next-line:no-any\n    Touch.prototype.checkSwipe = function (ele, flag) {\n        var keys = ['scroll', 'offset'];\n        var temp = flag ? ['Height', 'Top'] : ['Width', 'Left'];\n        if ((ele[keys[0] + temp[0]] <= ele[keys[1] + temp[0]])) {\n            return true;\n        }\n        return (ele[keys[0] + temp[1]] === 0) ||\n            (ele[keys[1] + temp[0]] + ele[keys[0] + temp[1]] >= ele[keys[0] + temp[0]]);\n    };\n    __decorate([\n        Event()\n    ], Touch.prototype, \"tap\", void 0);\n    __decorate([\n        Event()\n    ], Touch.prototype, \"tapHold\", void 0);\n    __decorate([\n        Event()\n    ], Touch.prototype, \"swipe\", void 0);\n    __decorate([\n        Event()\n    ], Touch.prototype, \"scroll\", void 0);\n    __decorate([\n        Property(350)\n    ], Touch.prototype, \"tapThreshold\", void 0);\n    __decorate([\n        Property(750)\n    ], Touch.prototype, \"tapHoldThreshold\", void 0);\n    __decorate([\n        Complex({}, SwipeSettings)\n    ], Touch.prototype, \"swipeSettings\", void 0);\n    Touch = __decorate([\n        NotifyPropertyChanges\n    ], Touch);\n    return Touch;\n}(Base));\nexport { Touch };\n","import { DataUtil } from './util';\n/**\n * Query class is used to build query which is used by the DataManager to communicate with datasource.\n */\nvar Query = /** @class */ (function () {\n    /**\n     * Constructor for Query class.\n     * @param  {string|string[]} from?\n     * @hidden\n     */\n    function Query(from) {\n        /** @hidden */\n        this.subQuery = null;\n        /** @hidden */\n        this.isChild = false;\n        this.queries = [];\n        this.key = '';\n        this.fKey = '';\n        if (typeof from === 'string') {\n            this.fromTable = from;\n        }\n        else if (from && from instanceof Array) {\n            this.lookups = from;\n        }\n        this.expands = [];\n        this.sortedColumns = [];\n        this.groupedColumns = [];\n        this.subQuery = null;\n        this.isChild = false;\n        this.params = [];\n        return this;\n    }\n    /**\n     * Sets the primary key.\n     * @param  {string} field - Defines the column field.\n     */\n    Query.prototype.setKey = function (field) {\n        this.key = field;\n        return this;\n    };\n    /**\n     * Sets default DataManager to execute query.\n     * @param  {DataManager} dataManager - Defines the DataManager.\n     */\n    Query.prototype.using = function (dataManager) {\n        this.dataManager = dataManager;\n        return this;\n    };\n    /**\n     * Executes query with the given DataManager.\n     * @param  {DataManager} dataManager - Defines the DataManager.\n     * @param  {Function} done - Defines the success callback.\n     * @param  {Function} fail - Defines the failure callback.\n     * @param  {Function} always - Defines the callback which will be invoked on either success or failure.\n     *\n     * <pre>\n     * let dataManager: DataManager = new DataManager([{ ID: '10' }, { ID: '2' }, { ID: '1' }, { ID: '20' }]);\n     * let query: Query = new Query();\n     * query.sortBy('ID', (x: string, y: string): number => { return parseInt(x, 10) - parseInt(y, 10) });\n     * let promise: Promise< Object > = query.execute(dataManager);\n     * promise.then((e: { result: Object }) => { });\n     * </pre>\n     */\n    Query.prototype.execute = function (dataManager, done, fail, always) {\n        dataManager = dataManager || this.dataManager;\n        if (dataManager) {\n            return dataManager.executeQuery(this, done, fail, always);\n        }\n        return DataUtil.throwError('Query - execute() : dataManager needs to be is set using \"using\" function or should be passed as argument');\n    };\n    /**\n     * Executes query with the local datasource.\n     * @param  {DataManager} dataManager - Defines the DataManager.\n     */\n    Query.prototype.executeLocal = function (dataManager) {\n        dataManager = dataManager || this.dataManager;\n        if (dataManager) {\n            return dataManager.executeLocal(this);\n        }\n        return DataUtil.throwError('Query - executeLocal() : dataManager needs to be is set using \"using\" function or should be passed as argument');\n    };\n    /**\n     * Creates deep copy of the Query object.\n     */\n    Query.prototype.clone = function () {\n        var cloned = new Query();\n        cloned.queries = this.queries.slice(0);\n        cloned.key = this.key;\n        cloned.isChild = this.isChild;\n        cloned.dataManager = this.dataManager;\n        cloned.fromTable = this.fromTable;\n        cloned.params = this.params.slice(0);\n        cloned.expands = this.expands.slice(0);\n        cloned.sortedColumns = this.sortedColumns.slice(0);\n        cloned.groupedColumns = this.groupedColumns.slice(0);\n        cloned.subQuerySelector = this.subQuerySelector;\n        cloned.subQuery = this.subQuery;\n        cloned.fKey = this.fKey;\n        cloned.isCountRequired = this.isCountRequired;\n        return cloned;\n    };\n    /**\n     * Specifies the name of table to retrieve data in query execution.\n     * @param  {string} tableName - Defines the table name.\n     */\n    Query.prototype.from = function (tableName) {\n        this.fromTable = tableName;\n        return this;\n    };\n    /**\n     * Adds additional parameter which will be sent along with the request which will be generated while DataManager execute.\n     * @param  {string} key - Defines the key of additional parameter.\n     * @param  {Function|string} value - Defines the value for the key.\n     */\n    Query.prototype.addParams = function (key, value) {\n        if (typeof value === 'function') {\n            this.params.push({ key: key, fn: value });\n        }\n        else {\n            this.params.push({ key: key, value: value });\n        }\n        return this;\n    };\n    /**\n     * Expands the related table.\n     * @param  {string|Object[]} tables\n     */\n    Query.prototype.expand = function (tables) {\n        if (typeof tables === 'string') {\n            this.expands = [].slice.call([tables], 0);\n        }\n        else {\n            this.expands = tables.slice(0);\n        }\n        return this;\n    };\n    /**\n     * Filter data with given filter criteria.\n     * @param  {string|Predicate} fieldName - Defines the column field or Predicate.\n     * @param  {string} operator - Defines the operator how to filter data.\n     * @param  {string|number|boolean} value - Defines the values to match with data.\n     * @param  {boolean} ignoreCase - If ignore case set to false, then filter data with exact match or else\n     * filter data with case insensitive.\n     */\n    Query.prototype.where = function (fieldName, operator, value, ignoreCase, ignoreAccent) {\n        operator = operator ? (operator).toLowerCase() : null;\n        var predicate = null;\n        if (typeof fieldName === 'string') {\n            predicate = new Predicate(fieldName, operator, value, ignoreCase, ignoreAccent);\n        }\n        else if (fieldName instanceof Predicate) {\n            predicate = fieldName;\n        }\n        this.queries.push({\n            fn: 'onWhere',\n            e: predicate\n        });\n        return this;\n    };\n    /**\n     * Search data with given search criteria.\n     * @param  {string|number|boolean} searchKey - Defines the search key.\n     * @param  {string|string[]} fieldNames - Defines the collection of column fields.\n     * @param  {string} operator - Defines the operator how to search data.\n     * @param  {boolean} ignoreCase - If ignore case set to false, then filter data with exact match or else\n     * filter data with case insensitive.\n     */\n    Query.prototype.search = function (searchKey, fieldNames, operator, ignoreCase, ignoreAccent) {\n        if (typeof fieldNames === 'string') {\n            fieldNames = [fieldNames];\n        }\n        operator = operator || 'contains';\n        var comparer = DataUtil.fnOperators[operator];\n        this.queries.push({\n            fn: 'onSearch',\n            e: {\n                fieldNames: fieldNames,\n                operator: operator,\n                searchKey: searchKey,\n                ignoreCase: ignoreCase,\n                ignoreAccent: ignoreAccent,\n                comparer: comparer\n            }\n        });\n        return this;\n    };\n    /**\n     * Sort the data with given sort criteria.\n     * By default, sort direction is ascending.\n     * @param  {string|string[]} fieldName - Defines the single or collection of column fields.\n     * @param  {string|Function} comparer - Defines the sort direction or custom sort comparer function.\n     */\n    Query.prototype.sortBy = function (fieldName, comparer, isFromGroup) {\n        var order = 'ascending';\n        var sorts;\n        var temp;\n        if (typeof fieldName === 'string' && DataUtil.endsWith(fieldName.toLowerCase(), ' desc')) {\n            fieldName = fieldName.replace(/ desc$/i, '');\n            comparer = 'descending';\n        }\n        if (!comparer || typeof comparer === 'string') {\n            order = comparer ? comparer.toLowerCase() : 'ascending';\n            comparer = DataUtil.fnSort(comparer);\n        }\n        if (isFromGroup) {\n            sorts = Query.filterQueries(this.queries, 'onSortBy');\n            for (var i = 0; i < sorts.length; i++) {\n                temp = sorts[i].e.fieldName;\n                if (typeof temp === 'string') {\n                    if (temp === fieldName) {\n                        return this;\n                    }\n                }\n                else if (temp instanceof Array) {\n                    for (var j = 0; j < temp.length; j++) {\n                        if (temp[j] === fieldName || fieldName.toLowerCase() === temp[j] + ' desc') {\n                            return this;\n                        }\n                    }\n                }\n            }\n        }\n        this.queries.push({\n            fn: 'onSortBy',\n            e: {\n                fieldName: fieldName,\n                comparer: comparer,\n                direction: order\n            }\n        });\n        return this;\n    };\n    /**\n     * Sorts data in descending order.\n     * @param  {string} fieldName - Defines the column field.\n     */\n    Query.prototype.sortByDesc = function (fieldName) {\n        return this.sortBy(fieldName, 'descending');\n    };\n    /**\n     * Groups data with the given field name.\n     * @param  {string} fieldName - Defines the column field.\n     */\n    Query.prototype.group = function (fieldName, fn, format) {\n        this.sortBy(fieldName, null, true);\n        this.queries.push({\n            fn: 'onGroup',\n            e: {\n                fieldName: fieldName,\n                comparer: fn ? fn : null,\n                format: format ? format : null\n            }\n        });\n        return this;\n    };\n    /**\n     * Gets data based on the given page index and size.\n     * @param  {number} pageIndex - Defines the current page index.\n     * @param  {number} pageSize - Defines the no of records per page.\n     */\n    Query.prototype.page = function (pageIndex, pageSize) {\n        this.queries.push({\n            fn: 'onPage',\n            e: {\n                pageIndex: pageIndex,\n                pageSize: pageSize\n            }\n        });\n        return this;\n    };\n    /**\n     * Gets data based on the given start and end index.\n     * @param  {number} start - Defines the start index of the datasource.\n     * @param  {number} end - Defines the end index of the datasource.\n     */\n    Query.prototype.range = function (start, end) {\n        this.queries.push({\n            fn: 'onRange',\n            e: {\n                start: start,\n                end: end\n            }\n        });\n        return this;\n    };\n    /**\n     * Gets data from the top of the data source based on given number of records count.\n     * @param  {number} nos - Defines the no of records to retrieve from datasource.\n     */\n    Query.prototype.take = function (nos) {\n        this.queries.push({\n            fn: 'onTake',\n            e: {\n                nos: nos\n            }\n        });\n        return this;\n    };\n    /**\n     * Skips data with given number of records count from the top of the data source.\n     * @param  {number} nos - Defines the no of records skip in the datasource.\n     */\n    Query.prototype.skip = function (nos) {\n        this.queries.push({\n            fn: 'onSkip',\n            e: { nos: nos }\n        });\n        return this;\n    };\n    /**\n     * Selects specified columns from the data source.\n     * @param  {string|string[]} fieldNames - Defines the collection of column fields.\n     */\n    Query.prototype.select = function (fieldNames) {\n        if (typeof fieldNames === 'string') {\n            fieldNames = [].slice.call([fieldNames], 0);\n        }\n        this.queries.push({\n            fn: 'onSelect',\n            e: { fieldNames: fieldNames }\n        });\n        return this;\n    };\n    /**\n     * Gets the records in hierarchical relationship from two tables. It requires the foreign key to relate two tables.\n     * @param  {Query} query - Defines the query to relate two tables.\n     * @param  {Function} selectorFn - Defines the custom function to select records.\n     */\n    Query.prototype.hierarchy = function (query, selectorFn) {\n        this.subQuerySelector = selectorFn;\n        this.subQuery = query;\n        return this;\n    };\n    /**\n     * Sets the foreign key which is used to get data from the related table.\n     * @param  {string} key - Defines the foreign key.\n     */\n    Query.prototype.foreignKey = function (key) {\n        this.fKey = key;\n        return this;\n    };\n    /**\n     * It is used to get total number of records in the DataManager execution result.\n     */\n    Query.prototype.requiresCount = function () {\n        this.isCountRequired = true;\n        return this;\n    };\n    //type - sum, avg, min, max\n    /**\n     * Aggregate the data with given type and field name.\n     * @param  {string} type - Defines the aggregate type.\n     * @param  {string} field - Defines the column field to aggregate.\n     */\n    Query.prototype.aggregate = function (type, field) {\n        this.queries.push({\n            fn: 'onAggregates',\n            e: { field: field, type: type }\n        });\n        return this;\n    };\n    /**\n     * Pass array of filterColumn query for performing filter operation.\n     * @param  {QueryOptions[]} queries\n     * @param  {string} name\n     * @hidden\n     */\n    Query.filterQueries = function (queries, name) {\n        return queries.filter(function (q) {\n            return q.fn === name;\n        });\n    };\n    /**\n     * To get the list of queries which is already filtered in current data source.\n     * @param  {Object[]} queries\n     * @param  {string[]} singles\n     * @hidden\n     */\n    Query.filterQueryLists = function (queries, singles) {\n        var filtered = queries.filter(function (q) {\n            return singles.indexOf(q.fn) !== -1;\n        });\n        var res = {};\n        for (var i = 0; i < filtered.length; i++) {\n            if (!res[filtered[i].fn]) {\n                res[filtered[i].fn] = filtered[i].e;\n            }\n        }\n        return res;\n    };\n    return Query;\n}());\nexport { Query };\n/**\n * Predicate class is used to generate complex filter criteria.\n * This will be used by DataManager to perform multiple filtering operation.\n */\nvar Predicate = /** @class */ (function () {\n    /**\n     * Constructor for Predicate class.\n     * @param  {string|Predicate} field\n     * @param  {string} operator\n     * @param  {string|number|boolean|Predicate|Predicate[]} value\n     * @param  {boolean=false} ignoreCase\n     * @hidden\n     */\n    function Predicate(field, operator, value, ignoreCase, ignoreAccent) {\n        if (ignoreCase === void 0) { ignoreCase = false; }\n        /** @hidden */\n        this.ignoreAccent = false;\n        /** @hidden */\n        this.isComplex = false;\n        if (typeof field === 'string') {\n            this.field = field;\n            this.operator = operator.toLowerCase();\n            this.value = value;\n            this.ignoreCase = ignoreCase;\n            this.ignoreAccent = ignoreAccent;\n            this.isComplex = false;\n            this.comparer = DataUtil.fnOperators.processOperator(this.operator);\n        }\n        else if (field instanceof Predicate && value instanceof Predicate || value instanceof Array) {\n            this.isComplex = true;\n            this.condition = operator.toLowerCase();\n            this.predicates = [field];\n            if (value instanceof Array) {\n                [].push.apply(this.predicates, value);\n            }\n            else {\n                this.predicates.push(value);\n            }\n        }\n        return this;\n    }\n    /**\n     * Adds n-number of new predicates on existing predicate with “and” condition.\n     * @param  {Object[]} args - Defines the collection of predicates.\n     */\n    Predicate.and = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return Predicate.combinePredicates([].slice.call(args, 0), 'and');\n    };\n    /**\n     * Adds new predicate on existing predicate with “and” condition.\n     * @param  {string} field - Defines the column field.\n     * @param  {string} operator - Defines the operator how to filter data.\n     * @param  {string} value - Defines the values to match with data.\n     * @param  {boolean} ignoreCase? - If ignore case set to false, then filter data with exact match or else\n     * filter data with case insensitive.\n     */\n    Predicate.prototype.and = function (field, operator, value, ignoreCase, ignoreAccent) {\n        return Predicate.combine(this, field, operator, value, 'and', ignoreCase, ignoreAccent);\n    };\n    /**\n     * Adds n-number of new predicates on existing predicate with “or” condition.\n     * @param  {Object[]} args - Defines the collection of predicates.\n     */\n    Predicate.or = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return Predicate.combinePredicates([].slice.call(args, 0), 'or');\n    };\n    /**\n     * Adds new predicate on existing predicate with “or” condition.\n     * @param  {string} field - Defines the column field.\n     * @param  {string} operator - Defines the operator how to filter data.\n     * @param  {string} value - Defines the values to match with data.\n     * @param  {boolean} ignoreCase? - If ignore case set to false, then filter data with exact match or else\n     * filter data with case insensitive.\n     */\n    Predicate.prototype.or = function (field, operator, value, ignoreCase, ignoreAccent) {\n        return Predicate.combine(this, field, operator, value, 'or', ignoreCase, ignoreAccent);\n    };\n    /**\n     * Converts plain JavaScript object to Predicate object.\n     * @param  {Predicate[]|Predicate} json - Defines single or collection of Predicate.\n     */\n    Predicate.fromJson = function (json) {\n        if (json instanceof Array) {\n            var res = [];\n            for (var i = 0, len = json.length; i < len; i++) {\n                res.push(this.fromJSONData(json[i]));\n            }\n            return res;\n        }\n        var pred = json;\n        return this.fromJSONData(pred);\n    };\n    /**\n     * Validate the record based on the predicates.\n     * @param  {Object} record - Defines the datasource record.\n     */\n    Predicate.prototype.validate = function (record) {\n        var predicate = this.predicates ? this.predicates : [];\n        var isAnd;\n        var ret;\n        if (!this.isComplex && this.comparer) {\n            return this.comparer.call(this, DataUtil.getObject(this.field, record), this.value, this.ignoreCase, this.ignoreAccent);\n        }\n        isAnd = this.condition === 'and';\n        for (var i = 0; i < predicate.length; i++) {\n            ret = predicate[i].validate(record);\n            if (isAnd) {\n                if (!ret) {\n                    return false;\n                }\n            }\n            else {\n                if (ret) {\n                    return true;\n                }\n            }\n        }\n        return isAnd;\n    };\n    /**\n     * Converts predicates to plain JavaScript.\n     * This method is uses Json stringify when serializing Predicate object.\n     */\n    Predicate.prototype.toJson = function () {\n        var predicates;\n        var p;\n        if (this.isComplex) {\n            predicates = [];\n            p = this.predicates;\n            for (var i = 0; i < p.length; i++) {\n                predicates.push(p[i].toJson());\n            }\n        }\n        return {\n            isComplex: this.isComplex,\n            field: this.field,\n            operator: this.operator,\n            value: this.value,\n            ignoreCase: this.ignoreCase,\n            ignoreAccent: this.ignoreAccent,\n            condition: this.condition,\n            predicates: predicates\n        };\n    };\n    Predicate.combinePredicates = function (predicates, operator) {\n        if (predicates.length === 1) {\n            if (!(predicates[0] instanceof Array)) {\n                return predicates[0];\n            }\n            predicates = predicates[0];\n        }\n        return new Predicate(predicates[0], operator, predicates.slice(1));\n    };\n    Predicate.combine = function (pred, field, operator, value, condition, ignoreCase, ignoreAccent) {\n        if (field instanceof Predicate) {\n            return Predicate[condition](pred, field);\n        }\n        if (typeof field === 'string') {\n            return Predicate[condition](pred, new Predicate(field, operator, value, ignoreCase, ignoreAccent));\n        }\n        return DataUtil.throwError('Predicate - ' + condition + ' : invalid arguments');\n    };\n    Predicate.fromJSONData = function (json) {\n        var preds = json.predicates || [];\n        var len = preds.length;\n        var predicates = [];\n        var result;\n        for (var i = 0; i < len; i++) {\n            predicates.push(this.fromJSONData(preds[i]));\n        }\n        if (!json.isComplex) {\n            result = new Predicate(json.field, json.operator, json.value, json.ignoreCase, json.ignoreAccent);\n        }\n        else {\n            result = new Predicate(predicates[0], json.condition, predicates.slice(1));\n        }\n        return result;\n    };\n    return Predicate;\n}());\nexport { Predicate };\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { DataManager } from './manager';\nimport { Query } from './query';\nvar consts = { GroupGuid: '{271bbba0-1ee7}' };\n/**\n * Data manager common utility methods.\n * @hidden\n */\nvar DataUtil = /** @class */ (function () {\n    function DataUtil() {\n    }\n    /**\n     * Returns the value by invoking the provided parameter function.\n     * If the paramater is not of type function then it will be returned as it is.\n     * @param  {Function|string|string[]|number} value\n     * @param  {Object} inst?\n     * @hidden\n     */\n    DataUtil.getValue = function (value, inst) {\n        if (typeof value === 'function') {\n            return value.call(inst || {});\n        }\n        return value;\n    };\n    /**\n     * Returns true if the input string ends with given string.\n     * @param  {string} input\n     * @param  {string} substr\n     */\n    DataUtil.endsWith = function (input, substr) {\n        return input.slice(-substr.length) === substr;\n    };\n    /**\n     * Returns true if the input string starts with given string.\n     * @param  {string} str\n     * @param  {string} startstr\n     */\n    DataUtil.startsWith = function (input, start) {\n        return input.slice(0, start.length) === start;\n    };\n    /**\n     * To return the sorting function based on the string.\n     * @param  {string} order\n     * @hidden\n     */\n    DataUtil.fnSort = function (order) {\n        order = order ? DataUtil.toLowerCase(order) : 'ascending';\n        if (order === 'ascending') {\n            return this.fnAscending;\n        }\n        return this.fnDescending;\n    };\n    /**\n     * Comparer function which is used to sort the data in ascending order.\n     * @param  {string|number} x\n     * @param  {string|number} y\n     * @returns number\n     */\n    DataUtil.fnAscending = function (x, y) {\n        if (y === null || y === undefined) {\n            return -1;\n        }\n        if (typeof x === 'string') {\n            return x.localeCompare(y);\n        }\n        if (x === null || x === undefined) {\n            return 1;\n        }\n        return x - y;\n    };\n    /**\n     * Comparer function which is used to sort the data in descending order.\n     * @param  {string|number} x\n     * @param  {string|number} y\n     * @returns number\n     */\n    DataUtil.fnDescending = function (x, y) {\n        if (y === null || y === undefined) {\n            return 1;\n        }\n        if (typeof x === 'string') {\n            return x.localeCompare(y) * -1;\n        }\n        if (x === null || x === undefined) {\n            return -1;\n        }\n        return y - x;\n    };\n    DataUtil.extractFields = function (obj, fields) {\n        var newObj = {};\n        for (var i = 0; i < fields.length; i++) {\n            newObj = this.setValue(fields[i], this.getObject(fields[i], obj), newObj);\n        }\n        return newObj;\n    };\n    /**\n     * Select objects by given fields from jsonArray.\n     * @param  {Object[]} jsonArray\n     * @param  {string[]} fields\n     */\n    DataUtil.select = function (jsonArray, fields) {\n        var newData = [];\n        for (var i = 0; i < jsonArray.length; i++) {\n            newData.push(this.extractFields(jsonArray[i], fields));\n        }\n        return newData;\n    };\n    /**\n     * Group the input data based on the field name.\n     * It also performs aggregation of the grouped records based on the aggregates paramater.\n     * @param  {Object[]} jsonArray\n     * @param  {string} field?\n     * @param  {Object[]} agg?\n     * @param  {number} level?\n     * @param  {Object[]} groupDs?\n     */\n    DataUtil.group = function (jsonArray, field, aggregates, level, groupDs, format) {\n        level = level || 1;\n        var jsonData = jsonArray;\n        var guid = 'GroupGuid';\n        if (jsonData.GroupGuid === consts[guid]) {\n            var _loop_1 = function (j) {\n                if (!isNullOrUndefined(groupDs)) {\n                    var indx = -1;\n                    var temp = groupDs.filter(function (e) { return e.key === jsonData[j].key; });\n                    indx = groupDs.indexOf(temp[0]);\n                    jsonData[j].items = this_1.group(jsonData[j].items, field, aggregates, jsonData.level + 1, groupDs[indx].items, format);\n                    jsonData[j].count = groupDs[indx].count;\n                }\n                else {\n                    jsonData[j].items = this_1.group(jsonData[j].items, field, aggregates, jsonData.level + 1, null, format);\n                    jsonData[j].count = jsonData[j].items.length;\n                }\n            };\n            var this_1 = this;\n            for (var j = 0; j < jsonData.length; j++) {\n                _loop_1(j);\n            }\n            jsonData.childLevels += 1;\n            return jsonData;\n        }\n        var grouped = {};\n        var groupedArray = [];\n        groupedArray.GroupGuid = consts[guid];\n        groupedArray.level = level;\n        groupedArray.childLevels = 0;\n        groupedArray.records = jsonData;\n        var _loop_2 = function (i) {\n            var val = this_2.getVal(jsonData, i, field);\n            if (!isNullOrUndefined(format)) {\n                val = format(val, field);\n            }\n            if (!grouped[val]) {\n                grouped[val] = {\n                    key: val,\n                    count: 0,\n                    items: [],\n                    aggregates: {},\n                    field: field\n                };\n                groupedArray.push(grouped[val]);\n                if (!isNullOrUndefined(groupDs)) {\n                    var tempObj = groupDs.filter(function (e) { return e.key === grouped[val].key; });\n                    grouped[val].count = tempObj[0].count;\n                }\n            }\n            grouped[val].count = !isNullOrUndefined(groupDs) ? grouped[val].count : grouped[val].count += 1;\n            grouped[val].items.push(jsonData[i]);\n        };\n        var this_2 = this;\n        for (var i = 0; i < jsonData.length; i++) {\n            _loop_2(i);\n        }\n        if (aggregates && aggregates.length) {\n            var _loop_3 = function (i) {\n                var res = {};\n                var fn = void 0;\n                var aggs = aggregates;\n                for (var j = 0; j < aggregates.length; j++) {\n                    fn = DataUtil.aggregates[aggregates[j].type];\n                    if (!isNullOrUndefined(groupDs)) {\n                        var temp = groupDs.filter(function (e) { return e.key === groupedArray[i].key; });\n                        if (fn) {\n                            res[aggs[j].field + ' - ' + aggs[j].type] = fn(temp[0].items, aggs[j].field);\n                        }\n                    }\n                    else {\n                        if (fn) {\n                            res[aggs[j].field + ' - ' + aggs[j].type] = fn(groupedArray[i].items, aggs[j].field);\n                        }\n                    }\n                }\n                groupedArray[i].aggregates = res;\n            };\n            for (var i = 0; i < groupedArray.length; i++) {\n                _loop_3(i);\n            }\n        }\n        return jsonData.length && groupedArray || jsonData;\n    };\n    /**\n     * It is used to categorize the multiple items based on a specific field in jsonArray.\n     * The hierarchical queries are commonly required when you use foreign key binding.\n     * @param  {string} fKey\n     * @param  {string} from\n     * @param  {Object[]} source\n     * @param  {Group} lookup?\n     * @param  {string} pKey?\n     * @hidden\n     */\n    DataUtil.buildHierarchy = function (fKey, from, source, lookup, pKey) {\n        var i;\n        var grp = {};\n        var temp;\n        if (lookup.result) {\n            lookup = lookup.result;\n        }\n        if (lookup.GroupGuid) {\n            this.throwError('DataManager: Do not have support Grouping in hierarchy');\n        }\n        for (i = 0; i < lookup.length; i++) {\n            var fKeyData = this.getObject(fKey, lookup[i]);\n            temp = grp[fKeyData] || (grp[fKeyData] = []);\n            temp.push(lookup[i]);\n        }\n        for (i = 0; i < source.length; i++) {\n            var fKeyData = this.getObject(pKey || fKey, source[i]);\n            source[i][from] = grp[fKeyData];\n        }\n    };\n    /**\n     * The method used to get the field names which started with specified characters.\n     * @param  {Object} obj\n     * @param  {string[]} fields?\n     * @param  {string} prefix?\n     * @hidden\n     */\n    DataUtil.getFieldList = function (obj, fields, prefix) {\n        if (prefix === undefined) {\n            prefix = '';\n        }\n        if (fields === undefined || fields === null) {\n            return this.getFieldList(obj, [], prefix);\n        }\n        var copyObj = obj;\n        var keys = Object.keys(obj);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var prop = keys_1[_i];\n            if (typeof copyObj[prop] === 'object' && !(copyObj[prop] instanceof Array)) {\n                this.getFieldList(copyObj[prop], fields, prefix + prop + '.');\n            }\n            else {\n                fields.push(prefix + prop);\n            }\n        }\n        return fields;\n    };\n    /**\n     * Gets the value of the property in the given object.\n     * The complex object can be accessed by providing the field names concatenated with dot(.).\n     * @param  {string} nameSpace - The name of the property to be accessed.\n     * @param  {Object} from - Defines the source object.\n     */\n    DataUtil.getObject = function (nameSpace, from) {\n        if (!nameSpace) {\n            return from;\n        }\n        if (!from) {\n            return undefined;\n        }\n        if (nameSpace.indexOf('.') === -1) {\n            return from[nameSpace];\n        }\n        var value = from;\n        var splits = nameSpace.split('.');\n        for (var i = 0; i < splits.length; i++) {\n            if (value == null) {\n                break;\n            }\n            value = value[splits[i]];\n        }\n        return value;\n    };\n    /**\n     * To set value for the nameSpace in desired object.\n     * @param {string} nameSpace - String value to the get the inner object.\n     * @param {Object} value - Value that you need to set.\n     * @param {Object} obj - Object to get the inner object value.\n     * @return { [key: string]: Object; } | Object\n     * @hidden\n     */\n    DataUtil.setValue = function (nameSpace, value, obj) {\n        var keys = nameSpace.toString().split('.');\n        var start = obj || {};\n        var fromObj = start;\n        var i;\n        var length = keys.length;\n        var key;\n        for (i = 0; i < length; i++) {\n            key = keys[i];\n            if (i + 1 === length) {\n                fromObj[key] = value === undefined ? undefined : value;\n            }\n            else if (isNullOrUndefined(fromObj[key])) {\n                fromObj[key] = {};\n            }\n            fromObj = fromObj[key];\n        }\n        return start;\n    };\n    /**\n     * Sort the given data based on the field and comparer.\n     * @param  {Object[]} ds - Defines the input data.\n     * @param  {string} field - Defines the field to be sorted.\n     * @param  {Function} comparer - Defines the comparer function used to sort the records.\n     */\n    DataUtil.sort = function (ds, field, comparer) {\n        if (ds.length <= 1) {\n            return ds;\n        }\n        var middle = parseInt((ds.length / 2).toString(), 10);\n        var left = ds.slice(0, middle);\n        var right = ds.slice(middle);\n        left = this.sort(left, field, comparer);\n        right = this.sort(right, field, comparer);\n        return this.merge(left, right, field, comparer);\n    };\n    DataUtil.ignoreDiacritics = function (value) {\n        if (typeof value !== 'string') {\n            return value;\n        }\n        var result = value.split('');\n        var newValue = result.map(function (temp) { return temp in DataUtil.diacritics ? DataUtil.diacritics[temp] : temp; });\n        return newValue.join('');\n    };\n    DataUtil.merge = function (left, right, fieldName, comparer) {\n        var result = [];\n        var current;\n        while (left.length > 0 || right.length > 0) {\n            if (left.length > 0 && right.length > 0) {\n                if (comparer) {\n                    current = comparer(this.getVal(left, 0, fieldName), this.getVal(right, 0, fieldName)) <= 0 ? left : right;\n                }\n                else {\n                    current = left[0][fieldName] < left[0][fieldName] ? left : right;\n                }\n            }\n            else {\n                current = left.length > 0 ? left : right;\n            }\n            result.push(current.shift());\n        }\n        return result;\n    };\n    DataUtil.getVal = function (array, index, field) {\n        return field ? this.getObject(field, array[index]) : array[index];\n    };\n    DataUtil.toLowerCase = function (val) {\n        return val ? typeof val === 'string' ? val.toLowerCase() : val.toString() : (val === 0 || val === false) ? val.toString() : '';\n    };\n    /**\n     * To perform the filter operation with specified adaptor and returns the result.\n     * @param  {Object} adaptor\n     * @param  {string} fnName\n     * @param  {Object} param1?\n     * @param  {Object} param2?\n     * @hidden\n     */\n    DataUtil.callAdaptorFunction = function (adaptor, fnName, param1, param2) {\n        if (fnName in adaptor) {\n            var res = adaptor[fnName](param1, param2);\n            if (!isNullOrUndefined(res)) {\n                param1 = res;\n            }\n        }\n        return param1;\n    };\n    /**\n     * Checks wheather the given input is a plain object or not.\n     * @param  {Object|Object[]} obj\n     */\n    DataUtil.isPlainObject = function (obj) {\n        return (!!obj) && (obj.constructor === Object);\n    };\n    /**\n     * Returns true when the browser cross origin request.\n     */\n    DataUtil.isCors = function () {\n        var xhr = null;\n        var request = 'XMLHttpRequest';\n        try {\n            xhr = new window[request]();\n        }\n        catch (e) {\n            // No exception handling\n        }\n        return !!xhr && ('withCredentials' in xhr);\n    };\n    /**\n     * Generate random GUID value which will be prefixed with the given value.\n     * @param  {string} prefix\n     */\n    DataUtil.getGuid = function (prefix) {\n        var hexs = '0123456789abcdef';\n        var rand;\n        return (prefix || '') + '00000000-0000-4000-0000-000000000000'.replace(/0/g, function (val, i) {\n            if ('crypto' in window && 'getRandomValues' in crypto) {\n                var arr = new Uint8Array(1);\n                window.crypto.getRandomValues(arr);\n                rand = arr[0] % 16 | 0;\n            }\n            else {\n                rand = Math.random() * 16 | 0;\n            }\n            return hexs[i === 19 ? rand & 0x3 | 0x8 : rand];\n        });\n    };\n    /**\n     * Checks wheather the given value is null or not.\n     * @param  {string|Object} val\n     * @returns boolean\n     */\n    DataUtil.isNull = function (val) {\n        return val === undefined || val === null;\n    };\n    /**\n     * To get the required items from collection of objects.\n     * @param  {Object[]} array\n     * @param  {string} field\n     * @param  {Function} comparer\n     * @returns Object\n     * @hidden\n     */\n    DataUtil.getItemFromComparer = function (array, field, comparer) {\n        var keyVal;\n        var current;\n        var key;\n        var i = 0;\n        var castRequired = typeof DataUtil.getVal(array, 0, field) === 'string';\n        if (array.length) {\n            while (isNullOrUndefined(keyVal) && i < array.length) {\n                keyVal = DataUtil.getVal(array, i, field);\n                key = array[i++];\n            }\n        }\n        for (; i < array.length; i++) {\n            current = DataUtil.getVal(array, i, field);\n            if (isNullOrUndefined(current)) {\n                continue;\n            }\n            if (castRequired) {\n                keyVal = +keyVal;\n                current = +current;\n            }\n            if (comparer(keyVal, current) > 0) {\n                keyVal = current;\n                key = array[i];\n            }\n        }\n        return key;\n    };\n    /**\n     * To get distinct values of Array or Array of Objects.\n     * @param  {Object[]} json\n     * @param  {string} field\n     * @param  {boolean} requiresCompleteRecord\n     * @returns Object[]\n     * * distinct array of objects is return when requiresCompleteRecord set as true.\n     * @hidden\n     */\n    DataUtil.distinct = function (json, fieldName, requiresCompleteRecord) {\n        requiresCompleteRecord = isNullOrUndefined(requiresCompleteRecord) ? false : requiresCompleteRecord;\n        var result = [];\n        var val;\n        var tmp = {};\n        json.forEach(function (data, index) {\n            val = DataUtil.getVal(json, index, fieldName);\n            if (!(val in tmp)) {\n                result.push(!requiresCompleteRecord ? val : json[index]);\n                tmp[val] = 1;\n            }\n        });\n        return result;\n    };\n    /**\n     * Specifies the value which will be used to adjust the date value to server timezone.\n     * @default null\n     */\n    DataUtil.serverTimezoneOffset = null;\n    /**\n     * Throw error with the given string as message.\n     * @param  {string} er\n     */\n    DataUtil.throwError = function (error) {\n        try {\n            throw new Error(error);\n        }\n        catch (e) {\n            throw e.message + '\\n' + e.stack;\n        }\n    };\n    DataUtil.aggregates = {\n        /**\n         * Calculate sum of the given field in the data.\n         * @param  {Object[]} ds\n         * @param  {string} field\n         */\n        sum: function (ds, field) {\n            var result = 0;\n            var val;\n            var castRequired = typeof DataUtil.getVal(ds, 0, field) !== 'number';\n            for (var i = 0; i < ds.length; i++) {\n                val = DataUtil.getVal(ds, i, field);\n                if (!isNaN(val) && val !== null) {\n                    if (castRequired) {\n                        val = +val;\n                    }\n                    result += val;\n                }\n            }\n            return result;\n        },\n        /**\n         * Calculate average value of the given field in the data.\n         * @param  {Object[]} ds\n         * @param  {string} field\n         */\n        average: function (ds, field) {\n            return DataUtil.aggregates.sum(ds, field) / ds.length;\n        },\n        /**\n         * Returns the min value of the data based on the field.\n         * @param  {Object[]} ds\n         * @param  {string|Function} field\n         */\n        min: function (ds, field) {\n            var comparer;\n            if (typeof field === 'function') {\n                comparer = field;\n                field = null;\n            }\n            return DataUtil.getObject(field, DataUtil.getItemFromComparer(ds, field, comparer || DataUtil.fnAscending));\n        },\n        /**\n         * Returns the max value of the data based on the field.\n         * @param  {Object[]} ds\n         * @param  {string} field\n         * @returns number\n         */\n        max: function (ds, field) {\n            var comparer;\n            if (typeof field === 'function') {\n                comparer = field;\n                field = null;\n            }\n            return DataUtil.getObject(field, DataUtil.getItemFromComparer(ds, field, comparer || DataUtil.fnDescending));\n        },\n        /**\n         * Returns the total number of true value present in the data based on the given boolean field name.\n         * @param  {Object[]} ds\n         * @param  {string} field\n         */\n        truecount: function (ds, field) {\n            return new DataManager(ds).executeLocal(new Query().where(field, 'equal', true, true)).length;\n        },\n        /**\n         * Returns the total number of false value present in the data based on the given boolean field name.\n         * @param  {Object[]} ds\n         * @param  {string} field\n         */\n        falsecount: function (ds, field) {\n            return new DataManager(ds).executeLocal(new Query().where(field, 'equal', false, true)).length;\n        },\n        /**\n         * Returns the length of the given data.\n         * @param  {Object[]} ds\n         * @param  {string} field?\n         * @returns number\n         */\n        count: function (ds, field) {\n            return ds.length;\n        }\n    };\n    /**\n     * Specifies the Object with filter operators.\n     */\n    DataUtil.operatorSymbols = {\n        '<': 'lessthan',\n        '>': 'greaterthan',\n        '<=': 'lessthanorequal',\n        '>=': 'greaterthanorequal',\n        '==': 'equal',\n        '!=': 'notequal',\n        '*=': 'contains',\n        '$=': 'endswith',\n        '^=': 'startswith'\n    };\n    /**\n     * Specifies the Object with filter operators which will be used for OData filter query generation.\n     * * It will be used for date/number type filter query.\n     */\n    DataUtil.odBiOperator = {\n        '<': ' lt ',\n        '>': ' gt ',\n        '<=': ' le ',\n        '>=': ' ge ',\n        '==': ' eq ',\n        '!=': ' ne ',\n        'lessthan': ' lt ',\n        'lessthanorequal': ' le ',\n        'greaterthan': ' gt ',\n        'greaterthanorequal': ' ge ',\n        'equal': ' eq ',\n        'notequal': ' ne '\n    };\n    /**\n     * Specifies the Object with filter operators which will be used for OData filter query generation.\n     * It will be used for string type filter query.\n     */\n    DataUtil.odUniOperator = {\n        '$=': 'endswith',\n        '^=': 'startswith',\n        '*=': 'substringof',\n        'endswith': 'endswith',\n        'startswith': 'startswith',\n        'contains': 'substringof'\n    };\n    /**\n     * Specifies the Object with filter operators which will be used for ODataV4 filter query generation.\n     * It will be used for string type filter query.\n     */\n    DataUtil.odv4UniOperator = {\n        '$=': 'endswith',\n        '^=': 'startswith',\n        '*=': 'contains',\n        'endswith': 'endswith',\n        'startswith': 'startswith',\n        'contains': 'contains'\n    };\n    DataUtil.diacritics = {\n        '\\u24B6': 'A',\n        '\\uFF21': 'A',\n        '\\u00C0': 'A',\n        '\\u00C1': 'A',\n        '\\u00C2': 'A',\n        '\\u1EA6': 'A',\n        '\\u1EA4': 'A',\n        '\\u1EAA': 'A',\n        '\\u1EA8': 'A',\n        '\\u00C3': 'A',\n        '\\u0100': 'A',\n        '\\u0102': 'A',\n        '\\u1EB0': 'A',\n        '\\u1EAE': 'A',\n        '\\u1EB4': 'A',\n        '\\u1EB2': 'A',\n        '\\u0226': 'A',\n        '\\u01E0': 'A',\n        '\\u00C4': 'A',\n        '\\u01DE': 'A',\n        '\\u1EA2': 'A',\n        '\\u00C5': 'A',\n        '\\u01FA': 'A',\n        '\\u01CD': 'A',\n        '\\u0200': 'A',\n        '\\u0202': 'A',\n        '\\u1EA0': 'A',\n        '\\u1EAC': 'A',\n        '\\u1EB6': 'A',\n        '\\u1E00': 'A',\n        '\\u0104': 'A',\n        '\\u023A': 'A',\n        '\\u2C6F': 'A',\n        '\\uA732': 'AA',\n        '\\u00C6': 'AE',\n        '\\u01FC': 'AE',\n        '\\u01E2': 'AE',\n        '\\uA734': 'AO',\n        '\\uA736': 'AU',\n        '\\uA738': 'AV',\n        '\\uA73A': 'AV',\n        '\\uA73C': 'AY',\n        '\\u24B7': 'B',\n        '\\uFF22': 'B',\n        '\\u1E02': 'B',\n        '\\u1E04': 'B',\n        '\\u1E06': 'B',\n        '\\u0243': 'B',\n        '\\u0182': 'B',\n        '\\u0181': 'B',\n        '\\u24B8': 'C',\n        '\\uFF23': 'C',\n        '\\u0106': 'C',\n        '\\u0108': 'C',\n        '\\u010A': 'C',\n        '\\u010C': 'C',\n        '\\u00C7': 'C',\n        '\\u1E08': 'C',\n        '\\u0187': 'C',\n        '\\u023B': 'C',\n        '\\uA73E': 'C',\n        '\\u24B9': 'D',\n        '\\uFF24': 'D',\n        '\\u1E0A': 'D',\n        '\\u010E': 'D',\n        '\\u1E0C': 'D',\n        '\\u1E10': 'D',\n        '\\u1E12': 'D',\n        '\\u1E0E': 'D',\n        '\\u0110': 'D',\n        '\\u018B': 'D',\n        '\\u018A': 'D',\n        '\\u0189': 'D',\n        '\\uA779': 'D',\n        '\\u01F1': 'DZ',\n        '\\u01C4': 'DZ',\n        '\\u01F2': 'Dz',\n        '\\u01C5': 'Dz',\n        '\\u24BA': 'E',\n        '\\uFF25': 'E',\n        '\\u00C8': 'E',\n        '\\u00C9': 'E',\n        '\\u00CA': 'E',\n        '\\u1EC0': 'E',\n        '\\u1EBE': 'E',\n        '\\u1EC4': 'E',\n        '\\u1EC2': 'E',\n        '\\u1EBC': 'E',\n        '\\u0112': 'E',\n        '\\u1E14': 'E',\n        '\\u1E16': 'E',\n        '\\u0114': 'E',\n        '\\u0116': 'E',\n        '\\u00CB': 'E',\n        '\\u1EBA': 'E',\n        '\\u011A': 'E',\n        '\\u0204': 'E',\n        '\\u0206': 'E',\n        '\\u1EB8': 'E',\n        '\\u1EC6': 'E',\n        '\\u0228': 'E',\n        '\\u1E1C': 'E',\n        '\\u0118': 'E',\n        '\\u1E18': 'E',\n        '\\u1E1A': 'E',\n        '\\u0190': 'E',\n        '\\u018E': 'E',\n        '\\u24BB': 'F',\n        '\\uFF26': 'F',\n        '\\u1E1E': 'F',\n        '\\u0191': 'F',\n        '\\uA77B': 'F',\n        '\\u24BC': 'G',\n        '\\uFF27': 'G',\n        '\\u01F4': 'G',\n        '\\u011C': 'G',\n        '\\u1E20': 'G',\n        '\\u011E': 'G',\n        '\\u0120': 'G',\n        '\\u01E6': 'G',\n        '\\u0122': 'G',\n        '\\u01E4': 'G',\n        '\\u0193': 'G',\n        '\\uA7A0': 'G',\n        '\\uA77D': 'G',\n        '\\uA77E': 'G',\n        '\\u24BD': 'H',\n        '\\uFF28': 'H',\n        '\\u0124': 'H',\n        '\\u1E22': 'H',\n        '\\u1E26': 'H',\n        '\\u021E': 'H',\n        '\\u1E24': 'H',\n        '\\u1E28': 'H',\n        '\\u1E2A': 'H',\n        '\\u0126': 'H',\n        '\\u2C67': 'H',\n        '\\u2C75': 'H',\n        '\\uA78D': 'H',\n        '\\u24BE': 'I',\n        '\\uFF29': 'I',\n        '\\u00CC': 'I',\n        '\\u00CD': 'I',\n        '\\u00CE': 'I',\n        '\\u0128': 'I',\n        '\\u012A': 'I',\n        '\\u012C': 'I',\n        '\\u0130': 'I',\n        '\\u00CF': 'I',\n        '\\u1E2E': 'I',\n        '\\u1EC8': 'I',\n        '\\u01CF': 'I',\n        '\\u0208': 'I',\n        '\\u020A': 'I',\n        '\\u1ECA': 'I',\n        '\\u012E': 'I',\n        '\\u1E2C': 'I',\n        '\\u0197': 'I',\n        '\\u24BF': 'J',\n        '\\uFF2A': 'J',\n        '\\u0134': 'J',\n        '\\u0248': 'J',\n        '\\u24C0': 'K',\n        '\\uFF2B': 'K',\n        '\\u1E30': 'K',\n        '\\u01E8': 'K',\n        '\\u1E32': 'K',\n        '\\u0136': 'K',\n        '\\u1E34': 'K',\n        '\\u0198': 'K',\n        '\\u2C69': 'K',\n        '\\uA740': 'K',\n        '\\uA742': 'K',\n        '\\uA744': 'K',\n        '\\uA7A2': 'K',\n        '\\u24C1': 'L',\n        '\\uFF2C': 'L',\n        '\\u013F': 'L',\n        '\\u0139': 'L',\n        '\\u013D': 'L',\n        '\\u1E36': 'L',\n        '\\u1E38': 'L',\n        '\\u013B': 'L',\n        '\\u1E3C': 'L',\n        '\\u1E3A': 'L',\n        '\\u0141': 'L',\n        '\\u023D': 'L',\n        '\\u2C62': 'L',\n        '\\u2C60': 'L',\n        '\\uA748': 'L',\n        '\\uA746': 'L',\n        '\\uA780': 'L',\n        '\\u01C7': 'LJ',\n        '\\u01C8': 'Lj',\n        '\\u24C2': 'M',\n        '\\uFF2D': 'M',\n        '\\u1E3E': 'M',\n        '\\u1E40': 'M',\n        '\\u1E42': 'M',\n        '\\u2C6E': 'M',\n        '\\u019C': 'M',\n        '\\u24C3': 'N',\n        '\\uFF2E': 'N',\n        '\\u01F8': 'N',\n        '\\u0143': 'N',\n        '\\u00D1': 'N',\n        '\\u1E44': 'N',\n        '\\u0147': 'N',\n        '\\u1E46': 'N',\n        '\\u0145': 'N',\n        '\\u1E4A': 'N',\n        '\\u1E48': 'N',\n        '\\u0220': 'N',\n        '\\u019D': 'N',\n        '\\uA790': 'N',\n        '\\uA7A4': 'N',\n        '\\u01CA': 'NJ',\n        '\\u01CB': 'Nj',\n        '\\u24C4': 'O',\n        '\\uFF2F': 'O',\n        '\\u00D2': 'O',\n        '\\u00D3': 'O',\n        '\\u00D4': 'O',\n        '\\u1ED2': 'O',\n        '\\u1ED0': 'O',\n        '\\u1ED6': 'O',\n        '\\u1ED4': 'O',\n        '\\u00D5': 'O',\n        '\\u1E4C': 'O',\n        '\\u022C': 'O',\n        '\\u1E4E': 'O',\n        '\\u014C': 'O',\n        '\\u1E50': 'O',\n        '\\u1E52': 'O',\n        '\\u014E': 'O',\n        '\\u022E': 'O',\n        '\\u0230': 'O',\n        '\\u00D6': 'O',\n        '\\u022A': 'O',\n        '\\u1ECE': 'O',\n        '\\u0150': 'O',\n        '\\u01D1': 'O',\n        '\\u020C': 'O',\n        '\\u020E': 'O',\n        '\\u01A0': 'O',\n        '\\u1EDC': 'O',\n        '\\u1EDA': 'O',\n        '\\u1EE0': 'O',\n        '\\u1EDE': 'O',\n        '\\u1EE2': 'O',\n        '\\u1ECC': 'O',\n        '\\u1ED8': 'O',\n        '\\u01EA': 'O',\n        '\\u01EC': 'O',\n        '\\u00D8': 'O',\n        '\\u01FE': 'O',\n        '\\u0186': 'O',\n        '\\u019F': 'O',\n        '\\uA74A': 'O',\n        '\\uA74C': 'O',\n        '\\u01A2': 'OI',\n        '\\uA74E': 'OO',\n        '\\u0222': 'OU',\n        '\\u24C5': 'P',\n        '\\uFF30': 'P',\n        '\\u1E54': 'P',\n        '\\u1E56': 'P',\n        '\\u01A4': 'P',\n        '\\u2C63': 'P',\n        '\\uA750': 'P',\n        '\\uA752': 'P',\n        '\\uA754': 'P',\n        '\\u24C6': 'Q',\n        '\\uFF31': 'Q',\n        '\\uA756': 'Q',\n        '\\uA758': 'Q',\n        '\\u024A': 'Q',\n        '\\u24C7': 'R',\n        '\\uFF32': 'R',\n        '\\u0154': 'R',\n        '\\u1E58': 'R',\n        '\\u0158': 'R',\n        '\\u0210': 'R',\n        '\\u0212': 'R',\n        '\\u1E5A': 'R',\n        '\\u1E5C': 'R',\n        '\\u0156': 'R',\n        '\\u1E5E': 'R',\n        '\\u024C': 'R',\n        '\\u2C64': 'R',\n        '\\uA75A': 'R',\n        '\\uA7A6': 'R',\n        '\\uA782': 'R',\n        '\\u24C8': 'S',\n        '\\uFF33': 'S',\n        '\\u1E9E': 'S',\n        '\\u015A': 'S',\n        '\\u1E64': 'S',\n        '\\u015C': 'S',\n        '\\u1E60': 'S',\n        '\\u0160': 'S',\n        '\\u1E66': 'S',\n        '\\u1E62': 'S',\n        '\\u1E68': 'S',\n        '\\u0218': 'S',\n        '\\u015E': 'S',\n        '\\u2C7E': 'S',\n        '\\uA7A8': 'S',\n        '\\uA784': 'S',\n        '\\u24C9': 'T',\n        '\\uFF34': 'T',\n        '\\u1E6A': 'T',\n        '\\u0164': 'T',\n        '\\u1E6C': 'T',\n        '\\u021A': 'T',\n        '\\u0162': 'T',\n        '\\u1E70': 'T',\n        '\\u1E6E': 'T',\n        '\\u0166': 'T',\n        '\\u01AC': 'T',\n        '\\u01AE': 'T',\n        '\\u023E': 'T',\n        '\\uA786': 'T',\n        '\\uA728': 'TZ',\n        '\\u24CA': 'U',\n        '\\uFF35': 'U',\n        '\\u00D9': 'U',\n        '\\u00DA': 'U',\n        '\\u00DB': 'U',\n        '\\u0168': 'U',\n        '\\u1E78': 'U',\n        '\\u016A': 'U',\n        '\\u1E7A': 'U',\n        '\\u016C': 'U',\n        '\\u00DC': 'U',\n        '\\u01DB': 'U',\n        '\\u01D7': 'U',\n        '\\u01D5': 'U',\n        '\\u01D9': 'U',\n        '\\u1EE6': 'U',\n        '\\u016E': 'U',\n        '\\u0170': 'U',\n        '\\u01D3': 'U',\n        '\\u0214': 'U',\n        '\\u0216': 'U',\n        '\\u01AF': 'U',\n        '\\u1EEA': 'U',\n        '\\u1EE8': 'U',\n        '\\u1EEE': 'U',\n        '\\u1EEC': 'U',\n        '\\u1EF0': 'U',\n        '\\u1EE4': 'U',\n        '\\u1E72': 'U',\n        '\\u0172': 'U',\n        '\\u1E76': 'U',\n        '\\u1E74': 'U',\n        '\\u0244': 'U',\n        '\\u24CB': 'V',\n        '\\uFF36': 'V',\n        '\\u1E7C': 'V',\n        '\\u1E7E': 'V',\n        '\\u01B2': 'V',\n        '\\uA75E': 'V',\n        '\\u0245': 'V',\n        '\\uA760': 'VY',\n        '\\u24CC': 'W',\n        '\\uFF37': 'W',\n        '\\u1E80': 'W',\n        '\\u1E82': 'W',\n        '\\u0174': 'W',\n        '\\u1E86': 'W',\n        '\\u1E84': 'W',\n        '\\u1E88': 'W',\n        '\\u2C72': 'W',\n        '\\u24CD': 'X',\n        '\\uFF38': 'X',\n        '\\u1E8A': 'X',\n        '\\u1E8C': 'X',\n        '\\u24CE': 'Y',\n        '\\uFF39': 'Y',\n        '\\u1EF2': 'Y',\n        '\\u00DD': 'Y',\n        '\\u0176': 'Y',\n        '\\u1EF8': 'Y',\n        '\\u0232': 'Y',\n        '\\u1E8E': 'Y',\n        '\\u0178': 'Y',\n        '\\u1EF6': 'Y',\n        '\\u1EF4': 'Y',\n        '\\u01B3': 'Y',\n        '\\u024E': 'Y',\n        '\\u1EFE': 'Y',\n        '\\u24CF': 'Z',\n        '\\uFF3A': 'Z',\n        '\\u0179': 'Z',\n        '\\u1E90': 'Z',\n        '\\u017B': 'Z',\n        '\\u017D': 'Z',\n        '\\u1E92': 'Z',\n        '\\u1E94': 'Z',\n        '\\u01B5': 'Z',\n        '\\u0224': 'Z',\n        '\\u2C7F': 'Z',\n        '\\u2C6B': 'Z',\n        '\\uA762': 'Z',\n        '\\u24D0': 'a',\n        '\\uFF41': 'a',\n        '\\u1E9A': 'a',\n        '\\u00E0': 'a',\n        '\\u00E1': 'a',\n        '\\u00E2': 'a',\n        '\\u1EA7': 'a',\n        '\\u1EA5': 'a',\n        '\\u1EAB': 'a',\n        '\\u1EA9': 'a',\n        '\\u00E3': 'a',\n        '\\u0101': 'a',\n        '\\u0103': 'a',\n        '\\u1EB1': 'a',\n        '\\u1EAF': 'a',\n        '\\u1EB5': 'a',\n        '\\u1EB3': 'a',\n        '\\u0227': 'a',\n        '\\u01E1': 'a',\n        '\\u00E4': 'a',\n        '\\u01DF': 'a',\n        '\\u1EA3': 'a',\n        '\\u00E5': 'a',\n        '\\u01FB': 'a',\n        '\\u01CE': 'a',\n        '\\u0201': 'a',\n        '\\u0203': 'a',\n        '\\u1EA1': 'a',\n        '\\u1EAD': 'a',\n        '\\u1EB7': 'a',\n        '\\u1E01': 'a',\n        '\\u0105': 'a',\n        '\\u2C65': 'a',\n        '\\u0250': 'a',\n        '\\uA733': 'aa',\n        '\\u00E6': 'ae',\n        '\\u01FD': 'ae',\n        '\\u01E3': 'ae',\n        '\\uA735': 'ao',\n        '\\uA737': 'au',\n        '\\uA739': 'av',\n        '\\uA73B': 'av',\n        '\\uA73D': 'ay',\n        '\\u24D1': 'b',\n        '\\uFF42': 'b',\n        '\\u1E03': 'b',\n        '\\u1E05': 'b',\n        '\\u1E07': 'b',\n        '\\u0180': 'b',\n        '\\u0183': 'b',\n        '\\u0253': 'b',\n        '\\u24D2': 'c',\n        '\\uFF43': 'c',\n        '\\u0107': 'c',\n        '\\u0109': 'c',\n        '\\u010B': 'c',\n        '\\u010D': 'c',\n        '\\u00E7': 'c',\n        '\\u1E09': 'c',\n        '\\u0188': 'c',\n        '\\u023C': 'c',\n        '\\uA73F': 'c',\n        '\\u2184': 'c',\n        '\\u24D3': 'd',\n        '\\uFF44': 'd',\n        '\\u1E0B': 'd',\n        '\\u010F': 'd',\n        '\\u1E0D': 'd',\n        '\\u1E11': 'd',\n        '\\u1E13': 'd',\n        '\\u1E0F': 'd',\n        '\\u0111': 'd',\n        '\\u018C': 'd',\n        '\\u0256': 'd',\n        '\\u0257': 'd',\n        '\\uA77A': 'd',\n        '\\u01F3': 'dz',\n        '\\u01C6': 'dz',\n        '\\u24D4': 'e',\n        '\\uFF45': 'e',\n        '\\u00E8': 'e',\n        '\\u00E9': 'e',\n        '\\u00EA': 'e',\n        '\\u1EC1': 'e',\n        '\\u1EBF': 'e',\n        '\\u1EC5': 'e',\n        '\\u1EC3': 'e',\n        '\\u1EBD': 'e',\n        '\\u0113': 'e',\n        '\\u1E15': 'e',\n        '\\u1E17': 'e',\n        '\\u0115': 'e',\n        '\\u0117': 'e',\n        '\\u00EB': 'e',\n        '\\u1EBB': 'e',\n        '\\u011B': 'e',\n        '\\u0205': 'e',\n        '\\u0207': 'e',\n        '\\u1EB9': 'e',\n        '\\u1EC7': 'e',\n        '\\u0229': 'e',\n        '\\u1E1D': 'e',\n        '\\u0119': 'e',\n        '\\u1E19': 'e',\n        '\\u1E1B': 'e',\n        '\\u0247': 'e',\n        '\\u025B': 'e',\n        '\\u01DD': 'e',\n        '\\u24D5': 'f',\n        '\\uFF46': 'f',\n        '\\u1E1F': 'f',\n        '\\u0192': 'f',\n        '\\uA77C': 'f',\n        '\\u24D6': 'g',\n        '\\uFF47': 'g',\n        '\\u01F5': 'g',\n        '\\u011D': 'g',\n        '\\u1E21': 'g',\n        '\\u011F': 'g',\n        '\\u0121': 'g',\n        '\\u01E7': 'g',\n        '\\u0123': 'g',\n        '\\u01E5': 'g',\n        '\\u0260': 'g',\n        '\\uA7A1': 'g',\n        '\\u1D79': 'g',\n        '\\uA77F': 'g',\n        '\\u24D7': 'h',\n        '\\uFF48': 'h',\n        '\\u0125': 'h',\n        '\\u1E23': 'h',\n        '\\u1E27': 'h',\n        '\\u021F': 'h',\n        '\\u1E25': 'h',\n        '\\u1E29': 'h',\n        '\\u1E2B': 'h',\n        '\\u1E96': 'h',\n        '\\u0127': 'h',\n        '\\u2C68': 'h',\n        '\\u2C76': 'h',\n        '\\u0265': 'h',\n        '\\u0195': 'hv',\n        '\\u24D8': 'i',\n        '\\uFF49': 'i',\n        '\\u00EC': 'i',\n        '\\u00ED': 'i',\n        '\\u00EE': 'i',\n        '\\u0129': 'i',\n        '\\u012B': 'i',\n        '\\u012D': 'i',\n        '\\u00EF': 'i',\n        '\\u1E2F': 'i',\n        '\\u1EC9': 'i',\n        '\\u01D0': 'i',\n        '\\u0209': 'i',\n        '\\u020B': 'i',\n        '\\u1ECB': 'i',\n        '\\u012F': 'i',\n        '\\u1E2D': 'i',\n        '\\u0268': 'i',\n        '\\u0131': 'i',\n        '\\u24D9': 'j',\n        '\\uFF4A': 'j',\n        '\\u0135': 'j',\n        '\\u01F0': 'j',\n        '\\u0249': 'j',\n        '\\u24DA': 'k',\n        '\\uFF4B': 'k',\n        '\\u1E31': 'k',\n        '\\u01E9': 'k',\n        '\\u1E33': 'k',\n        '\\u0137': 'k',\n        '\\u1E35': 'k',\n        '\\u0199': 'k',\n        '\\u2C6A': 'k',\n        '\\uA741': 'k',\n        '\\uA743': 'k',\n        '\\uA745': 'k',\n        '\\uA7A3': 'k',\n        '\\u24DB': 'l',\n        '\\uFF4C': 'l',\n        '\\u0140': 'l',\n        '\\u013A': 'l',\n        '\\u013E': 'l',\n        '\\u1E37': 'l',\n        '\\u1E39': 'l',\n        '\\u013C': 'l',\n        '\\u1E3D': 'l',\n        '\\u1E3B': 'l',\n        '\\u017F': 'l',\n        '\\u0142': 'l',\n        '\\u019A': 'l',\n        '\\u026B': 'l',\n        '\\u2C61': 'l',\n        '\\uA749': 'l',\n        '\\uA781': 'l',\n        '\\uA747': 'l',\n        '\\u01C9': 'lj',\n        '\\u24DC': 'm',\n        '\\uFF4D': 'm',\n        '\\u1E3F': 'm',\n        '\\u1E41': 'm',\n        '\\u1E43': 'm',\n        '\\u0271': 'm',\n        '\\u026F': 'm',\n        '\\u24DD': 'n',\n        '\\uFF4E': 'n',\n        '\\u01F9': 'n',\n        '\\u0144': 'n',\n        '\\u00F1': 'n',\n        '\\u1E45': 'n',\n        '\\u0148': 'n',\n        '\\u1E47': 'n',\n        '\\u0146': 'n',\n        '\\u1E4B': 'n',\n        '\\u1E49': 'n',\n        '\\u019E': 'n',\n        '\\u0272': 'n',\n        '\\u0149': 'n',\n        '\\uA791': 'n',\n        '\\uA7A5': 'n',\n        '\\u01CC': 'nj',\n        '\\u24DE': 'o',\n        '\\uFF4F': 'o',\n        '\\u00F2': 'o',\n        '\\u00F3': 'o',\n        '\\u00F4': 'o',\n        '\\u1ED3': 'o',\n        '\\u1ED1': 'o',\n        '\\u1ED7': 'o',\n        '\\u1ED5': 'o',\n        '\\u00F5': 'o',\n        '\\u1E4D': 'o',\n        '\\u022D': 'o',\n        '\\u1E4F': 'o',\n        '\\u014D': 'o',\n        '\\u1E51': 'o',\n        '\\u1E53': 'o',\n        '\\u014F': 'o',\n        '\\u022F': 'o',\n        '\\u0231': 'o',\n        '\\u00F6': 'o',\n        '\\u022B': 'o',\n        '\\u1ECF': 'o',\n        '\\u0151': 'o',\n        '\\u01D2': 'o',\n        '\\u020D': 'o',\n        '\\u020F': 'o',\n        '\\u01A1': 'o',\n        '\\u1EDD': 'o',\n        '\\u1EDB': 'o',\n        '\\u1EE1': 'o',\n        '\\u1EDF': 'o',\n        '\\u1EE3': 'o',\n        '\\u1ECD': 'o',\n        '\\u1ED9': 'o',\n        '\\u01EB': 'o',\n        '\\u01ED': 'o',\n        '\\u00F8': 'o',\n        '\\u01FF': 'o',\n        '\\u0254': 'o',\n        '\\uA74B': 'o',\n        '\\uA74D': 'o',\n        '\\u0275': 'o',\n        '\\u01A3': 'oi',\n        '\\u0223': 'ou',\n        '\\uA74F': 'oo',\n        '\\u24DF': 'p',\n        '\\uFF50': 'p',\n        '\\u1E55': 'p',\n        '\\u1E57': 'p',\n        '\\u01A5': 'p',\n        '\\u1D7D': 'p',\n        '\\uA751': 'p',\n        '\\uA753': 'p',\n        '\\uA755': 'p',\n        '\\u24E0': 'q',\n        '\\uFF51': 'q',\n        '\\u024B': 'q',\n        '\\uA757': 'q',\n        '\\uA759': 'q',\n        '\\u24E1': 'r',\n        '\\uFF52': 'r',\n        '\\u0155': 'r',\n        '\\u1E59': 'r',\n        '\\u0159': 'r',\n        '\\u0211': 'r',\n        '\\u0213': 'r',\n        '\\u1E5B': 'r',\n        '\\u1E5D': 'r',\n        '\\u0157': 'r',\n        '\\u1E5F': 'r',\n        '\\u024D': 'r',\n        '\\u027D': 'r',\n        '\\uA75B': 'r',\n        '\\uA7A7': 'r',\n        '\\uA783': 'r',\n        '\\u24E2': 's',\n        '\\uFF53': 's',\n        '\\u00DF': 's',\n        '\\u015B': 's',\n        '\\u1E65': 's',\n        '\\u015D': 's',\n        '\\u1E61': 's',\n        '\\u0161': 's',\n        '\\u1E67': 's',\n        '\\u1E63': 's',\n        '\\u1E69': 's',\n        '\\u0219': 's',\n        '\\u015F': 's',\n        '\\u023F': 's',\n        '\\uA7A9': 's',\n        '\\uA785': 's',\n        '\\u1E9B': 's',\n        '\\u24E3': 't',\n        '\\uFF54': 't',\n        '\\u1E6B': 't',\n        '\\u1E97': 't',\n        '\\u0165': 't',\n        '\\u1E6D': 't',\n        '\\u021B': 't',\n        '\\u0163': 't',\n        '\\u1E71': 't',\n        '\\u1E6F': 't',\n        '\\u0167': 't',\n        '\\u01AD': 't',\n        '\\u0288': 't',\n        '\\u2C66': 't',\n        '\\uA787': 't',\n        '\\uA729': 'tz',\n        '\\u24E4': 'u',\n        '\\uFF55': 'u',\n        '\\u00F9': 'u',\n        '\\u00FA': 'u',\n        '\\u00FB': 'u',\n        '\\u0169': 'u',\n        '\\u1E79': 'u',\n        '\\u016B': 'u',\n        '\\u1E7B': 'u',\n        '\\u016D': 'u',\n        '\\u00FC': 'u',\n        '\\u01DC': 'u',\n        '\\u01D8': 'u',\n        '\\u01D6': 'u',\n        '\\u01DA': 'u',\n        '\\u1EE7': 'u',\n        '\\u016F': 'u',\n        '\\u0171': 'u',\n        '\\u01D4': 'u',\n        '\\u0215': 'u',\n        '\\u0217': 'u',\n        '\\u01B0': 'u',\n        '\\u1EEB': 'u',\n        '\\u1EE9': 'u',\n        '\\u1EEF': 'u',\n        '\\u1EED': 'u',\n        '\\u1EF1': 'u',\n        '\\u1EE5': 'u',\n        '\\u1E73': 'u',\n        '\\u0173': 'u',\n        '\\u1E77': 'u',\n        '\\u1E75': 'u',\n        '\\u0289': 'u',\n        '\\u24E5': 'v',\n        '\\uFF56': 'v',\n        '\\u1E7D': 'v',\n        '\\u1E7F': 'v',\n        '\\u028B': 'v',\n        '\\uA75F': 'v',\n        '\\u028C': 'v',\n        '\\uA761': 'vy',\n        '\\u24E6': 'w',\n        '\\uFF57': 'w',\n        '\\u1E81': 'w',\n        '\\u1E83': 'w',\n        '\\u0175': 'w',\n        '\\u1E87': 'w',\n        '\\u1E85': 'w',\n        '\\u1E98': 'w',\n        '\\u1E89': 'w',\n        '\\u2C73': 'w',\n        '\\u24E7': 'x',\n        '\\uFF58': 'x',\n        '\\u1E8B': 'x',\n        '\\u1E8D': 'x',\n        '\\u24E8': 'y',\n        '\\uFF59': 'y',\n        '\\u1EF3': 'y',\n        '\\u00FD': 'y',\n        '\\u0177': 'y',\n        '\\u1EF9': 'y',\n        '\\u0233': 'y',\n        '\\u1E8F': 'y',\n        '\\u00FF': 'y',\n        '\\u1EF7': 'y',\n        '\\u1E99': 'y',\n        '\\u1EF5': 'y',\n        '\\u01B4': 'y',\n        '\\u024F': 'y',\n        '\\u1EFF': 'y',\n        '\\u24E9': 'z',\n        '\\uFF5A': 'z',\n        '\\u017A': 'z',\n        '\\u1E91': 'z',\n        '\\u017C': 'z',\n        '\\u017E': 'z',\n        '\\u1E93': 'z',\n        '\\u1E95': 'z',\n        '\\u01B6': 'z',\n        '\\u0225': 'z',\n        '\\u0240': 'z',\n        '\\u2C6C': 'z',\n        '\\uA763': 'z',\n        '\\u0386': '\\u0391',\n        '\\u0388': '\\u0395',\n        '\\u0389': '\\u0397',\n        '\\u038A': '\\u0399',\n        '\\u03AA': '\\u0399',\n        '\\u038C': '\\u039F',\n        '\\u038E': '\\u03A5',\n        '\\u03AB': '\\u03A5',\n        '\\u038F': '\\u03A9',\n        '\\u03AC': '\\u03B1',\n        '\\u03AD': '\\u03B5',\n        '\\u03AE': '\\u03B7',\n        '\\u03AF': '\\u03B9',\n        '\\u03CA': '\\u03B9',\n        '\\u0390': '\\u03B9',\n        '\\u03CC': '\\u03BF',\n        '\\u03CD': '\\u03C5',\n        '\\u03CB': '\\u03C5',\n        '\\u03B0': '\\u03C5',\n        '\\u03C9': '\\u03C9',\n        '\\u03C2': '\\u03C3'\n    };\n    DataUtil.fnOperators = {\n        /**\n         * Returns true when the actual input is equal to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         * @param  {boolean} ignoreAccent?\n         */\n        equal: function (actual, expected, ignoreCase, ignoreAccent) {\n            if (ignoreAccent) {\n                actual = DataUtil.ignoreDiacritics(actual);\n                expected = DataUtil.ignoreDiacritics(expected);\n            }\n            if (ignoreCase) {\n                return DataUtil.toLowerCase(actual) === DataUtil.toLowerCase(expected);\n            }\n            return actual === expected;\n        },\n        /**\n         * Returns true when the actual input is not equal to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         */\n        notequal: function (actual, expected, ignoreCase, ignoreAccent) {\n            if (ignoreAccent) {\n                actual = DataUtil.ignoreDiacritics(actual);\n                expected = DataUtil.ignoreDiacritics(expected);\n            }\n            return !DataUtil.fnOperators.equal(actual, expected, ignoreCase);\n        },\n        /**\n         * Returns true when the actual input is less than to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         */\n        lessthan: function (actual, expected, ignoreCase) {\n            if (ignoreCase) {\n                return DataUtil.toLowerCase(actual) < DataUtil.toLowerCase(expected);\n            }\n            return actual < expected;\n        },\n        /**\n         * Returns true when the actual input is greater than to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         */\n        greaterthan: function (actual, expected, ignoreCase) {\n            if (ignoreCase) {\n                return DataUtil.toLowerCase(actual) > DataUtil.toLowerCase(expected);\n            }\n            return actual > expected;\n        },\n        /**\n         * Returns true when the actual input is less than or equal to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         */\n        lessthanorequal: function (actual, expected, ignoreCase) {\n            if (ignoreCase) {\n                return DataUtil.toLowerCase(actual) <= DataUtil.toLowerCase(expected);\n            }\n            return actual <= expected;\n        },\n        /**\n         * Returns true when the actual input is greater than or equal to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         */\n        greaterthanorequal: function (actual, expected, ignoreCase) {\n            if (ignoreCase) {\n                return DataUtil.toLowerCase(actual) >= DataUtil.toLowerCase(expected);\n            }\n            return actual >= expected;\n        },\n        /**\n         * Returns true when the actual input contains the given string.\n         * @param  {string|number} actual\n         * @param  {string|number} expected\n         * @param  {boolean} ignoreCase?\n         */\n        contains: function (actual, expected, ignoreCase, ignoreAccent) {\n            if (ignoreAccent) {\n                actual = DataUtil.ignoreDiacritics(actual);\n                expected = DataUtil.ignoreDiacritics(expected);\n            }\n            if (ignoreCase) {\n                return !isNullOrUndefined(actual) && !isNullOrUndefined(expected) &&\n                    DataUtil.toLowerCase(actual).indexOf(DataUtil.toLowerCase(expected)) !== -1;\n            }\n            return !isNullOrUndefined(actual) && !isNullOrUndefined(expected) &&\n                actual.toString().indexOf(expected) !== -1;\n        },\n        /**\n         * Returns true when the given input value is not null.\n         * @param  {string|number} actual\n         * @returns boolean\n         */\n        notnull: function (actual) {\n            return actual !== null;\n        },\n        /**\n         * Returns true when the given input value is null.\n         * @param  {string|number} actual\n         * @returns boolean\n         */\n        isnull: function (actual) {\n            return actual === null;\n        },\n        /**\n         * Returns true when the actual input starts with the given string\n         * @param  {string} actual\n         * @param  {string} expected\n         * @param  {boolean} ignoreCase?\n         */\n        startswith: function (actual, expected, ignoreCase, ignoreAccent) {\n            if (ignoreAccent) {\n                actual = DataUtil.ignoreDiacritics(actual);\n                expected = DataUtil.ignoreDiacritics(expected);\n            }\n            if (ignoreCase) {\n                return actual && expected && DataUtil.startsWith(DataUtil.toLowerCase(actual), DataUtil.toLowerCase(expected));\n            }\n            return actual && expected && DataUtil.startsWith(actual, expected);\n        },\n        /**\n         * Returns true when the actual input ends with the given string.\n         * @param  {string} actual\n         * @param  {string} expected\n         * @param  {boolean} ignoreCase?\n         */\n        endswith: function (actual, expected, ignoreCase, ignoreAccent) {\n            if (ignoreAccent) {\n                actual = DataUtil.ignoreDiacritics(actual);\n                expected = DataUtil.ignoreDiacritics(expected);\n            }\n            if (ignoreCase) {\n                return actual && expected && DataUtil.endsWith(DataUtil.toLowerCase(actual), DataUtil.toLowerCase(expected));\n            }\n            return actual && expected && DataUtil.endsWith(actual, expected);\n        },\n        /**\n         * It will return the filter operator based on the filter symbol.\n         * @param  {string} operator\n         * @hidden\n         */\n        processSymbols: function (operator) {\n            var fnName = DataUtil.operatorSymbols[operator];\n            if (fnName) {\n                var fn = DataUtil.fnOperators[fnName];\n                return fn;\n            }\n            return DataUtil.throwError('Query - Process Operator : Invalid operator');\n        },\n        /**\n         * It will return the valid filter operator based on the specified operators.\n         * @param  {string} operator\n         * @hidden\n         */\n        processOperator: function (operator) {\n            var fn = DataUtil.fnOperators[operator];\n            if (fn) {\n                return fn;\n            }\n            return DataUtil.fnOperators.processSymbols(operator);\n        }\n    };\n    /**\n     * To perform the parse operation on JSON data, like convert to string from JSON or convert to JSON from string.\n     */\n    DataUtil.parse = {\n        /**\n         * Parse the given string to the plain JavaScript object.\n         * @param  {string|Object|Object[]} jsonText\n         */\n        parseJson: function (jsonText) {\n            if (typeof jsonText === 'string') {\n                jsonText = JSON.parse(jsonText, DataUtil.parse.jsonReviver);\n            }\n            else if (jsonText instanceof Array) {\n                DataUtil.parse.iterateAndReviveArray(jsonText);\n            }\n            else if (typeof jsonText === 'object') {\n                DataUtil.parse.iterateAndReviveJson(jsonText);\n            }\n            return jsonText;\n        },\n        /**\n         * It will perform on array of values.\n         * @param  {string[]|Object[]} array\n         * @hidden\n         */\n        iterateAndReviveArray: function (array) {\n            for (var i = 0; i < array.length; i++) {\n                if (typeof array[i] === 'object') {\n                    DataUtil.parse.iterateAndReviveJson(array[i]);\n                }\n                else if (typeof array[i] === 'string' && !/^[\\s]*\\[|^[\\s]*\\{|\\\"/g.test(array[i])) {\n                    array[i] = DataUtil.parse.jsonReviver('', array[i]);\n                }\n                else {\n                    array[i] = DataUtil.parse.parseJson(array[i]);\n                }\n            }\n        },\n        /**\n         * It will perform on JSON values\n         * @param  {JSON} json\n         * @hidden\n         */\n        iterateAndReviveJson: function (json) {\n            var value;\n            var keys = Object.keys(json);\n            for (var _i = 0, keys_2 = keys; _i < keys_2.length; _i++) {\n                var prop = keys_2[_i];\n                if (DataUtil.startsWith(prop, '__')) {\n                    continue;\n                }\n                value = json[prop];\n                if (typeof value === 'object') {\n                    if (value instanceof Array) {\n                        DataUtil.parse.iterateAndReviveArray(value);\n                    }\n                    else if (value) {\n                        DataUtil.parse.iterateAndReviveJson(value);\n                    }\n                }\n                else {\n                    json[prop] = DataUtil.parse.jsonReviver(json[prop], value);\n                }\n            }\n        },\n        /**\n         * It will perform on JSON values\n         * @param  {string} field\n         * @param  {string|Date} value\n         * @hidden\n         */\n        jsonReviver: function (field, value) {\n            var dupValue = value;\n            if (typeof value === 'string') {\n                var ms = /^\\/Date\\(([+-]?[0-9]+)([+-][0-9]{4})?\\)\\/$/.exec(value);\n                if (ms) {\n                    return DataUtil.dateParse.toTimeZone(new Date(parseInt(ms[1], 10)), DataUtil.serverTimezoneOffset, true);\n                }\n                else if (/^(\\d{4}\\-\\d\\d\\-\\d\\d([tT][\\d:\\.]*){1})([zZ]|([+\\-])(\\d\\d):?(\\d\\d))?$/.test(value)) {\n                    var arr = dupValue.split(/[^0-9]/);\n                    value = DataUtil.dateParse\n                        .toTimeZone(new Date(parseInt(arr[0], 10), parseInt(arr[1], 10) - 1, parseInt(arr[2], 10), parseInt(arr[3], 10), parseInt(arr[4], 10), parseInt(arr[5], 10)), DataUtil.serverTimezoneOffset, true);\n                }\n            }\n            return value;\n        },\n        /**\n         * Check wheather the given value is JSON or not.\n         * @param  {Object[]} jsonData\n         */\n        isJson: function (jsonData) {\n            if (typeof jsonData[0] === 'string') {\n                return jsonData;\n            }\n            return DataUtil.parse.parseJson(jsonData);\n        },\n        /**\n         * Checks wheather the given value is GUID or not.\n         * @param  {string} value\n         */\n        isGuid: function (value) {\n            var regex = /[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i;\n            var match = regex.exec(value);\n            return match != null;\n        },\n        /**\n         * The method used to replace the value based on the type.\n         * @param  {Object} value\n         * @param  {boolean} stringify\n         * @hidden\n         */\n        replacer: function (value, stringify) {\n            if (DataUtil.isPlainObject(value)) {\n                return DataUtil.parse.jsonReplacer(value, stringify);\n            }\n            if (value instanceof Array) {\n                return DataUtil.parse.arrayReplacer(value);\n            }\n            if (value instanceof Date) {\n                return DataUtil.parse.jsonReplacer({ val: value }, stringify).val;\n            }\n            return value;\n        },\n        /**\n         * It will replace the JSON value.\n         * @param  {string} key\n         * @param  {Object} val\n         * @hidden\n         */\n        jsonReplacer: function (val, stringify) {\n            var value;\n            var keys = Object.keys(val);\n            for (var _i = 0, keys_3 = keys; _i < keys_3.length; _i++) {\n                var prop = keys_3[_i];\n                value = val[prop];\n                if (!(value instanceof Date)) {\n                    continue;\n                }\n                var d = value;\n                val[prop] = DataUtil.dateParse.toTimeZone(DataUtil.dateParse.addSelfOffset(d), DataUtil.serverTimezoneOffset).toJSON();\n            }\n            return val;\n        },\n        /**\n         * It will replace the Array of value.\n         * @param  {string} key\n         * @param  {Object[]} val\n         * @hidden\n         */\n        arrayReplacer: function (val) {\n            for (var i = 0; i < val.length; i++) {\n                if (DataUtil.isPlainObject(val[i])) {\n                    val[i] = DataUtil.parse.jsonReplacer(val[i]);\n                }\n                else if (val[i] instanceof Date) {\n                    val[i] = DataUtil.parse.jsonReplacer({ date: val[i] }).date;\n                }\n            }\n            return val;\n        }\n    };\n    /**\n     * @hidden\n     */\n    DataUtil.dateParse = {\n        addSelfOffset: function (input) {\n            return new Date(+input - (input.getTimezoneOffset() * 60000));\n        },\n        toUTC: function (input) {\n            return new Date(+input + (input.getTimezoneOffset() * 60000));\n        },\n        toTimeZone: function (input, offset, utc) {\n            if (offset === null) {\n                return input;\n            }\n            var unix = utc ? DataUtil.dateParse.toUTC(input) : input;\n            return new Date(+unix - (offset * 3600000));\n        },\n        toLocalTime: function (input) {\n            var datefn = input;\n            var timeZone = -datefn.getTimezoneOffset();\n            var differenceString = timeZone >= 0 ? '+' : '-';\n            var localtimefn = function (num) {\n                var norm = Math.floor(Math.abs(num));\n                return (norm < 10 ? '0' : '') + norm;\n            };\n            var val = datefn.getFullYear() + '-' + localtimefn(datefn.getMonth() + 1) + '-' + localtimefn(datefn.getDate()) +\n                'T' + localtimefn(datefn.getHours()) +\n                ':' + localtimefn(datefn.getMinutes()) +\n                ':' + localtimefn(datefn.getSeconds()) +\n                differenceString + localtimefn(timeZone / 60) +\n                ':' + localtimefn(timeZone % 60);\n            return val;\n        }\n    };\n    return DataUtil;\n}());\nexport { DataUtil };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { merge, extend, isNullOrUndefined, setValue, getValue } from '@syncfusion/ej2-base';\nimport { DataUtil } from './util';\nimport { Query, Predicate } from './query';\n/**\n * Adaptors are specific data source type aware interfaces that are used by DataManager to communicate with DataSource.\n * This is the base adaptor class that other adaptors can extend.\n * @hidden\n */\nvar Adaptor = /** @class */ (function () {\n    function Adaptor(ds) {\n        // common options for all the adaptors \n        this.options = {\n            from: 'table',\n            requestType: 'json',\n            sortBy: 'sorted',\n            select: 'select',\n            skip: 'skip',\n            group: 'group',\n            take: 'take',\n            search: 'search',\n            count: 'requiresCounts',\n            where: 'where',\n            aggregates: 'aggregates'\n        };\n        /**\n         * Specifies the type of adaptor.\n         * @default Adaptor\n         */\n        this.type = Adaptor;\n        this.dataSource = ds;\n        this.pvt = {};\n    }\n    /**\n     * Returns the data from the query processing.\n     * @param  {Object} data\n     * @param  {DataOptions} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @returns Object\n     */\n    Adaptor.prototype.processResponse = function (data, ds, query, xhr) {\n        return data;\n    };\n    return Adaptor;\n}());\nexport { Adaptor };\n/**\n * JsonAdaptor is used to process JSON data. It contains methods to process the given JSON data based on the queries.\n * @hidden\n */\nvar JsonAdaptor = /** @class */ (function (_super) {\n    __extends(JsonAdaptor, _super);\n    function JsonAdaptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Process the JSON data based on the provided queries.\n     * @param  {DataManager} dataManager\n     * @param  {Query} query\n     * @returns Object\n     */\n    JsonAdaptor.prototype.processQuery = function (dataManager, query) {\n        var result = dataManager.dataSource.json.slice(0);\n        var count = result.length;\n        var countFlg = true;\n        var ret;\n        var key;\n        var agg = {};\n        for (var i = 0; i < query.queries.length; i++) {\n            key = query.queries[i];\n            ret = this[key.fn].call(this, result, key.e, query);\n            if (key.fn === 'onAggregates') {\n                agg[key.e.field + ' - ' + key.e.type] = ret;\n            }\n            else {\n                result = ret !== undefined ? ret : result;\n            }\n            if (key.fn === 'onPage' || key.fn === 'onSkip' || key.fn === 'onTake' || key.fn === 'onRange') {\n                countFlg = false;\n            }\n            if (countFlg) {\n                count = result.length;\n            }\n        }\n        if (query.isCountRequired) {\n            result = {\n                result: result,\n                count: count,\n                aggregates: agg\n            };\n        }\n        return result;\n    };\n    /**\n     * Performs batch update in the JSON array which add, remove and update records.\n     * @param  {DataManager} dm\n     * @param  {CrudOptions} changes\n     * @param  {RemoteArgs} e\n     */\n    JsonAdaptor.prototype.batchRequest = function (dm, changes, e) {\n        var i;\n        for (i = 0; i < changes.addedRecords.length; i++) {\n            this.insert(dm, changes.addedRecords[i]);\n        }\n        for (i = 0; i < changes.changedRecords.length; i++) {\n            this.update(dm, e.key, changes.changedRecords[i]);\n        }\n        for (i = 0; i < changes.deletedRecords.length; i++) {\n            this.remove(dm, e.key, changes.deletedRecords[i]);\n        }\n        return changes;\n    };\n    /**\n     * Performs filter operation with the given data and where query.\n     * @param  {Object[]} ds\n     * @param  {{validate:Function}} e\n     */\n    JsonAdaptor.prototype.onWhere = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return ds.filter(function (obj) {\n            if (e) {\n                return e.validate(obj);\n            }\n        });\n    };\n    /**\n     * Returns aggregate function based on the aggregate type.\n     * @param  {Object[]} ds\n     * @param  {{field:string} e\n     * @param  {string}} type\n     */\n    JsonAdaptor.prototype.onAggregates = function (ds, e) {\n        var fn = DataUtil.aggregates[e.type];\n        if (!ds || !fn || ds.length === 0) {\n            return null;\n        }\n        return fn(ds, e.field);\n    };\n    /**\n     * Performs search operation based on the given query.\n     * @param  {Object[]} ds\n     * @param  {QueryOptions} e\n     */\n    JsonAdaptor.prototype.onSearch = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        if (e.fieldNames.length === 0) {\n            DataUtil.getFieldList(ds[0], e.fieldNames);\n        }\n        return ds.filter(function (obj) {\n            for (var j = 0; j < e.fieldNames.length; j++) {\n                if (e.comparer.call(obj, DataUtil.getObject(e.fieldNames[j], obj), e.searchKey, e.ignoreCase, e.ignoreAccent)) {\n                    return true;\n                }\n            }\n            return false;\n        });\n    };\n    /**\n     * Sort the data with given direction and field.\n     * @param  {Object[]} ds\n     * @param  {{comparer:(a:Object} e\n     * @param  {Object} b\n     */\n    JsonAdaptor.prototype.onSortBy = function (ds, e, query) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        var fnCompare;\n        var field = DataUtil.getValue(e.fieldName, query);\n        if (!field) {\n            return ds.sort(e.comparer);\n        }\n        if (field instanceof Array) {\n            field = field.slice(0);\n            for (var i = field.length - 1; i >= 0; i--) {\n                if (!field[i]) {\n                    continue;\n                }\n                fnCompare = e.comparer;\n                if (DataUtil.endsWith(field[i], ' desc')) {\n                    fnCompare = DataUtil.fnSort('descending');\n                    field[i] = field[i].replace(' desc', '');\n                }\n                ds = DataUtil.sort(ds, field[i], fnCompare);\n            }\n            return ds;\n        }\n        return DataUtil.sort(ds, field, e.comparer);\n    };\n    /**\n     * Group the data based on the given query.\n     * @param  {Object[]} ds\n     * @param  {QueryOptions} e\n     * @param  {Query} query\n     */\n    JsonAdaptor.prototype.onGroup = function (ds, e, query) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        var aggQuery = Query.filterQueries(query.queries, 'onAggregates');\n        var agg = [];\n        if (aggQuery.length) {\n            var tmp = void 0;\n            for (var i = 0; i < aggQuery.length; i++) {\n                tmp = aggQuery[i].e;\n                agg.push({ type: tmp.type, field: DataUtil.getValue(tmp.field, query) });\n            }\n        }\n        return DataUtil.group(ds, DataUtil.getValue(e.fieldName, query), agg, null, null, e.comparer);\n    };\n    /**\n     * Retrieves records based on the given page index and size.\n     * @param  {Object[]} ds\n     * @param  {{pageSize:number} e\n     * @param  {number}} pageIndex\n     * @param  {Query} query\n     */\n    JsonAdaptor.prototype.onPage = function (ds, e, query) {\n        var size = DataUtil.getValue(e.pageSize, query);\n        var start = (DataUtil.getValue(e.pageIndex, query) - 1) * size;\n        var end = start + size;\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return ds.slice(start, end);\n    };\n    /**\n     * Retrieves records based on the given start and end index from query.\n     * @param  {Object[]} ds\n     * @param  {{start:number} e\n     * @param  {number}} end\n     */\n    JsonAdaptor.prototype.onRange = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return ds.slice(DataUtil.getValue(e.start), DataUtil.getValue(e.end));\n    };\n    /**\n     * Picks the given count of records from the top of the datasource.\n     * @param  {Object[]} ds\n     * @param  {{nos:number}} e\n     */\n    JsonAdaptor.prototype.onTake = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return ds.slice(0, DataUtil.getValue(e.nos));\n    };\n    /**\n     * Skips the given count of records from the data source.\n     * @param  {Object[]} ds\n     * @param  {{nos:number}} e\n     */\n    JsonAdaptor.prototype.onSkip = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return ds.slice(DataUtil.getValue(e.nos));\n    };\n    /**\n     * Selects specified columns from the data source.\n     * @param  {Object[]} ds\n     * @param  {{fieldNames:string}} e\n     */\n    JsonAdaptor.prototype.onSelect = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return DataUtil.select(ds, DataUtil.getValue(e.fieldNames));\n    };\n    /**\n     * Inserts new record in the table.\n     * @param  {DataManager} dm\n     * @param  {Object} data\n     * @param  {number} position\n     */\n    JsonAdaptor.prototype.insert = function (dm, data, tableName, query, position) {\n        if (isNullOrUndefined(position)) {\n            return dm.dataSource.json.push(data);\n        }\n        else {\n            return dm.dataSource.json.splice(position, 0, data);\n        }\n    };\n    /**\n     * Remove the data from the dataSource based on the key field value.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName?\n     * @returns null\n     */\n    JsonAdaptor.prototype.remove = function (dm, keyField, value, tableName) {\n        var ds = dm.dataSource.json;\n        var i;\n        if (typeof value === 'object') {\n            value = value[keyField];\n        }\n        for (i = 0; i < ds.length; i++) {\n            if (ds[i][keyField] === value) {\n                break;\n            }\n        }\n        return i !== ds.length ? ds.splice(i, 1) : null;\n    };\n    /**\n     * Updates existing record and saves the changes to the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName?\n     * @returns null\n     */\n    JsonAdaptor.prototype.update = function (dm, keyField, value, tableName) {\n        var ds = dm.dataSource.json;\n        var i;\n        var key = value[keyField];\n        for (i = 0; i < ds.length; i++) {\n            if (ds[i][keyField] === key) {\n                break;\n            }\n        }\n        return i < ds.length ? merge(ds[i], value) : null;\n    };\n    return JsonAdaptor;\n}(Adaptor));\nexport { JsonAdaptor };\n/**\n * URL Adaptor of DataManager can be used when you are required to use remote service to retrieve data.\n * It interacts with server-side for all DataManager Queries and CRUD operations.\n * @hidden\n */\nvar UrlAdaptor = /** @class */ (function (_super) {\n    __extends(UrlAdaptor, _super);\n    function UrlAdaptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Process the query to generate request body.\n     * @param  {DataManager} dm\n     * @param  {Query} query\n     * @param  {Object[]} hierarchyFilters?\n     * @returns p\n     */\n    UrlAdaptor.prototype.processQuery = function (dm, query, hierarchyFilters) {\n        var queries = this.getQueryRequest(query);\n        var singles = Query.filterQueryLists(query.queries, ['onSelect', 'onPage', 'onSkip', 'onTake', 'onRange']);\n        var params = query.params;\n        var url = dm.dataSource.url;\n        var temp;\n        var skip;\n        var take = null;\n        var options = this.options;\n        var request = { sorts: [], groups: [], filters: [], searches: [], aggregates: [] };\n        // calc Paging & Range\n        if ('onPage' in singles) {\n            temp = singles.onPage;\n            skip = DataUtil.getValue(temp.pageIndex, query);\n            take = DataUtil.getValue(temp.pageSize, query);\n            skip = (skip - 1) * take;\n        }\n        else if ('onRange' in singles) {\n            temp = singles.onRange;\n            skip = temp.start;\n            take = temp.end - temp.start;\n        }\n        // Sorting\n        for (var i = 0; i < queries.sorts.length; i++) {\n            temp = DataUtil.getValue(queries.sorts[i].e.fieldName, query);\n            request.sorts.push(DataUtil.callAdaptorFunction(this, 'onEachSort', { name: temp, direction: queries.sorts[i].e.direction }, query));\n        }\n        // hierarchy\n        if (hierarchyFilters) {\n            temp = this.getFiltersFrom(hierarchyFilters, query);\n            if (temp) {\n                request.filters.push(DataUtil.callAdaptorFunction(this, 'onEachWhere', temp.toJson(), query));\n            }\n        }\n        // Filters\n        for (var i = 0; i < queries.filters.length; i++) {\n            request.filters.push(DataUtil.callAdaptorFunction(this, 'onEachWhere', queries.filters[i].e.toJson(), query));\n            var keys_1 = typeof request.filters[i] === 'object' ? Object.keys(request.filters[i]) : [];\n            for (var _i = 0, keys_2 = keys_1; _i < keys_2.length; _i++) {\n                var prop = keys_2[_i];\n                if (DataUtil.isNull((request)[prop])) {\n                    delete request[prop];\n                }\n            }\n        }\n        // Searches\n        for (var i = 0; i < queries.searches.length; i++) {\n            temp = queries.searches[i].e;\n            request.searches.push(DataUtil.callAdaptorFunction(this, 'onEachSearch', {\n                fields: temp.fieldNames,\n                operator: temp.operator,\n                key: temp.searchKey,\n                ignoreCase: temp.ignoreCase\n            }, query));\n        }\n        // Grouping\n        for (var i = 0; i < queries.groups.length; i++) {\n            request.groups.push(DataUtil.getValue(queries.groups[i].e.fieldName, query));\n        }\n        // aggregates\n        for (var i = 0; i < queries.aggregates.length; i++) {\n            temp = queries.aggregates[i].e;\n            request.aggregates.push({ type: temp.type, field: DataUtil.getValue(temp.field, query) });\n        }\n        var req = {};\n        this.getRequestQuery(options, query, singles, request, req);\n        // Params\n        DataUtil.callAdaptorFunction(this, 'addParams', { dm: dm, query: query, params: params, reqParams: req });\n        // cleanup\n        var keys = Object.keys(req);\n        for (var _a = 0, keys_3 = keys; _a < keys_3.length; _a++) {\n            var prop = keys_3[_a];\n            if (DataUtil.isNull(req[prop]) || req[prop] === '' || req[prop].length === 0) {\n                delete req[prop];\n            }\n        }\n        if (!(options.skip in req && options.take in req) && take !== null) {\n            req[options.skip] = DataUtil.callAdaptorFunction(this, 'onSkip', skip, query);\n            req[options.take] = DataUtil.callAdaptorFunction(this, 'onTake', take, query);\n        }\n        var p = this.pvt;\n        this.pvt = {};\n        if (this.options.requestType === 'json') {\n            return {\n                data: JSON.stringify(req),\n                url: url,\n                pvtData: p,\n                type: 'POST',\n                contentType: 'application/json; charset=utf-8'\n            };\n        }\n        temp = this.convertToQueryString(req, query, dm);\n        temp = (dm.dataSource.url.indexOf('?') !== -1 ? '&' : '/') + temp;\n        return {\n            type: 'GET', url: temp.length ? url.replace(/\\/*$/, temp) : url, pvtData: p\n        };\n    };\n    UrlAdaptor.prototype.getRequestQuery = function (options, query, singles, request, request1) {\n        var param = 'param';\n        var req = request1;\n        req[options.from] = query.fromTable;\n        if (options.expand) {\n            req[options.expand] = 'onExpand' in this && 'onSelect' in singles ?\n                DataUtil.callAdaptorFunction(this, 'onExpand', { selects: DataUtil.getValue(singles.onSelect.fieldNames, query), expands: query.expands }, query) : query.expands;\n        }\n        req[options.select] = 'onSelect' in singles ?\n            DataUtil.callAdaptorFunction(this, 'onSelect', DataUtil.getValue(singles.onSelect.fieldNames, query), query) : '';\n        req[options.count] = query.isCountRequired ? DataUtil.callAdaptorFunction(this, 'onCount', query.isCountRequired, query) : '';\n        req[options.search] = request.searches.length ? DataUtil.callAdaptorFunction(this, 'onSearch', request.searches, query) : '';\n        req[options.skip] = 'onSkip' in singles ?\n            DataUtil.callAdaptorFunction(this, 'onSkip', DataUtil.getValue(singles.onSkip.nos, query), query) : '';\n        req[options.take] = 'onTake' in singles ?\n            DataUtil.callAdaptorFunction(this, 'onTake', DataUtil.getValue(singles.onTake.nos, query), query) : '';\n        req[options.where] = request.filters.length || request.searches.length ?\n            DataUtil.callAdaptorFunction(this, 'onWhere', request.filters, query) : '';\n        req[options.sortBy] = request.sorts.length ? DataUtil.callAdaptorFunction(this, 'onSortBy', request.sorts, query) : '';\n        req[options.group] = request.groups.length ? DataUtil.callAdaptorFunction(this, 'onGroup', request.groups, query) : '';\n        req[options.aggregates] = request.aggregates.length ?\n            DataUtil.callAdaptorFunction(this, 'onAggregates', request.aggregates, query) : '';\n        req[param] = [];\n    };\n    /**\n     * Convert the object from processQuery to string which can be added query string.\n     * @param  {Object} req\n     * @param  {Query} query\n     * @param  {DataManager} dm\n     */\n    UrlAdaptor.prototype.convertToQueryString = function (request, query, dm) {\n        return '';\n        // this needs to be overridden\n    };\n    /**\n     * Return the data from the data manager processing.\n     * @param  {DataResult} data\n     * @param  {DataOptions} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @param  {Object} request?\n     * @param  {CrudOptions} changes?\n     */\n    UrlAdaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes) {\n        var requests = request;\n        var pvt = requests.pvtData || {};\n        var groupDs = data.groupDs;\n        if (xhr && xhr.getResponseHeader('Content-Type') &&\n            xhr.getResponseHeader('Content-Type').indexOf('xml') !== -1) {\n            return (query.isCountRequired ? { result: [], count: 0 } : []);\n        }\n        var d = JSON.parse(requests.data);\n        if (d && d.action === 'batch' && data.addedRecords) {\n            changes.addedRecords = data.addedRecords;\n            return changes;\n        }\n        if (data.d) {\n            data = data.d;\n        }\n        var args = {};\n        if ('count' in data) {\n            args.count = data.count;\n        }\n        args.result = data.result ? data.result : data;\n        this.getAggregateResult(pvt, data, args, groupDs, query);\n        return DataUtil.isNull(args.count) ? args.result : { result: args.result, count: args.count, aggregates: args.aggregates };\n    };\n    /**\n     * Add the group query to the adaptor`s option.\n     * @param  {Object[]} e\n     * @returns void\n     */\n    UrlAdaptor.prototype.onGroup = function (e) {\n        this.pvt.groups = e;\n        return e;\n    };\n    /**\n     * Add the aggregate query to the adaptor`s option.\n     * @param  {Aggregates[]} e\n     * @returns void\n     */\n    UrlAdaptor.prototype.onAggregates = function (e) {\n        this.pvt.aggregates = e;\n    };\n    /**\n     * Prepare the request body based on the newly added, removed and updated records.\n     * The result is used by the batch request.\n     * @param  {DataManager} dm\n     * @param  {CrudOptions} changes\n     * @param  {Object} e\n     */\n    UrlAdaptor.prototype.batchRequest = function (dm, changes, e, query, original) {\n        var url;\n        var key;\n        return {\n            type: 'POST',\n            url: dm.dataSource.batchUrl || dm.dataSource.crudUrl || dm.dataSource.removeUrl || dm.dataSource.url,\n            contentType: 'application/json; charset=utf-8',\n            dataType: 'json',\n            data: JSON.stringify({\n                changed: changes.changedRecords,\n                added: changes.addedRecords,\n                deleted: changes.deletedRecords,\n                action: 'batch',\n                table: e[url],\n                key: e[key]\n            })\n        };\n    };\n    /**\n     * Method will trigger before send the request to server side.\n     * Used to set the custom header or modify the request options.\n     * @param  {DataManager} dm\n     * @param  {XMLHttpRequest} request\n     * @returns void\n     */\n    UrlAdaptor.prototype.beforeSend = function (dm, request) {\n        // need to extend this method\n    };\n    /**\n     * Prepare and returns request body which is used to insert a new record in the table.\n     * @param  {DataManager} dm\n     * @param  {Object} data\n     * @param  {string} tableName\n     */\n    UrlAdaptor.prototype.insert = function (dm, data, tableName) {\n        return {\n            url: dm.dataSource.insertUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            data: JSON.stringify({\n                value: data,\n                table: tableName,\n                action: 'insert'\n            })\n        };\n    };\n    /**\n     * Prepare and return request body which is used to remove record from the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {number|string} value\n     * @param  {string} tableName\n     */\n    UrlAdaptor.prototype.remove = function (dm, keyField, value, tableName) {\n        return {\n            type: 'POST',\n            url: dm.dataSource.removeUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            data: JSON.stringify({\n                key: value,\n                keyColumn: keyField,\n                table: tableName,\n                action: 'remove'\n            })\n        };\n    };\n    /**\n     * Prepare and return request body which is used to update record.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName\n     */\n    UrlAdaptor.prototype.update = function (dm, keyField, value, tableName) {\n        return {\n            type: 'POST',\n            url: dm.dataSource.updateUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            data: JSON.stringify({\n                value: value,\n                action: 'update',\n                keyColumn: keyField,\n                key: value[keyField],\n                table: tableName\n            })\n        };\n    };\n    /**\n     * To generate the predicate based on the filtered query.\n     * @param  {Object[]|string[]|number[]} data\n     * @param  {Query} query\n     * @hidden\n     */\n    UrlAdaptor.prototype.getFiltersFrom = function (data, query) {\n        var key = query.fKey;\n        var value;\n        var prop = key;\n        var pKey = query.key;\n        var predicats = [];\n        if (typeof data[0] !== 'object') {\n            prop = null;\n        }\n        for (var i = 0; i < data.length; i++) {\n            if (typeof data[0] === 'object') {\n                value = DataUtil.getObject(pKey || prop, data[i]);\n            }\n            else {\n                value = data[i];\n            }\n            predicats.push(new Predicate(key, 'equal', value));\n        }\n        return Predicate.or(predicats);\n    };\n    UrlAdaptor.prototype.getAggregateResult = function (pvt, data, args, groupDs, query) {\n        var pData = data;\n        if (data && data.result) {\n            pData = data.result;\n        }\n        if (pvt && pvt.aggregates && pvt.aggregates.length) {\n            var agg = pvt.aggregates;\n            var fn = void 0;\n            var aggregateData = pData;\n            var res = {};\n            if (data.aggregate) {\n                aggregateData = data.aggregate;\n            }\n            for (var i = 0; i < agg.length; i++) {\n                fn = DataUtil.aggregates[agg[i].type];\n                if (fn) {\n                    res[agg[i].field + ' - ' + agg[i].type] = fn(aggregateData, agg[i].field);\n                }\n            }\n            args.aggregates = res;\n        }\n        if (pvt && pvt.groups && pvt.groups.length) {\n            var groups = pvt.groups;\n            for (var i = 0; i < groups.length; i++) {\n                var level = null;\n                if (!isNullOrUndefined(groupDs)) {\n                    groupDs = DataUtil.group(groupDs, groups[i]);\n                }\n                var groupQuery = Query.filterQueries(query.queries, 'onGroup')[i].e;\n                pData = DataUtil.group(pData, groups[i], pvt.aggregates, level, groupDs, groupQuery.comparer);\n            }\n            args.result = pData;\n        }\n        return args;\n    };\n    UrlAdaptor.prototype.getQueryRequest = function (query) {\n        var req = { sorts: [], groups: [], filters: [], searches: [], aggregates: [] };\n        req.sorts = Query.filterQueries(query.queries, 'onSortBy');\n        req.groups = Query.filterQueries(query.queries, 'onGroup');\n        req.filters = Query.filterQueries(query.queries, 'onWhere');\n        req.searches = Query.filterQueries(query.queries, 'onSearch');\n        req.aggregates = Query.filterQueries(query.queries, 'onAggregates');\n        return req;\n    };\n    UrlAdaptor.prototype.addParams = function (options) {\n        var req = options.reqParams;\n        if (options.params.length) {\n            req.params = {};\n        }\n        for (var _i = 0, _a = options.params; _i < _a.length; _i++) {\n            var tmp = _a[_i];\n            if (req[tmp.key]) {\n                throw new Error('Query() - addParams: Custom Param is conflicting other request arguments');\n            }\n            req[tmp.key] = tmp.value;\n            if (tmp.fn) {\n                req[tmp.key] = tmp.fn.call(options.query, tmp.key, options.query, options.dm);\n            }\n            req.params[tmp.key] = req[tmp.key];\n        }\n    };\n    return UrlAdaptor;\n}(Adaptor));\nexport { UrlAdaptor };\n/**\n * OData Adaptor that is extended from URL Adaptor, is used for consuming data through OData Service.\n * @hidden\n */\nvar ODataAdaptor = /** @class */ (function (_super) {\n    __extends(ODataAdaptor, _super);\n    function ODataAdaptor(props) {\n        var _this = _super.call(this) || this;\n        // options replaced the default adaptor options\n        _this.options = extend({}, _this.options, {\n            requestType: 'get',\n            accept: 'application/json;odata=light;q=1,application/json;odata=verbose;q=0.5',\n            multipartAccept: 'multipart/mixed',\n            sortBy: '$orderby',\n            select: '$select',\n            skip: '$skip',\n            take: '$top',\n            count: '$inlinecount',\n            where: '$filter',\n            expand: '$expand',\n            batch: '$batch',\n            changeSet: '--changeset_',\n            batchPre: 'batch_',\n            contentId: 'Content-Id: ',\n            batchContent: 'Content-Type: multipart/mixed; boundary=',\n            changeSetContent: 'Content-Type: application/http\\nContent-Transfer-Encoding: binary ',\n            batchChangeSetContentType: 'Content-Type: application/json; charset=utf-8 ',\n            updateType: 'PUT'\n        });\n        _this.getModuleName = getValue('getModulename', _this);\n        extend(_this.options, props || {});\n        return _this;\n    }\n    /**\n     * Generate request string based on the filter criteria from query.\n     * @param  {Predicate} pred\n     * @param  {boolean} requiresCast?\n     */\n    ODataAdaptor.prototype.onPredicate = function (predicate, query, requiresCast) {\n        var returnValue = '';\n        var operator;\n        var guid;\n        var val = predicate.value;\n        var type = typeof val;\n        var field = predicate.field ? ODataAdaptor.getField(predicate.field) : null;\n        if (val instanceof Date) {\n            val = 'datetime\\'' + DataUtil.parse.replacer(val) + '\\'';\n        }\n        if (type === 'string') {\n            val = '\\'' + val + '\\'';\n            if (requiresCast) {\n                field = 'cast(' + field + ', \\'Edm.String\\')';\n            }\n            if (DataUtil.parse.isGuid(val)) {\n                guid = 'guid';\n            }\n            if (predicate.ignoreCase) {\n                if (!guid) {\n                    field = 'tolower(' + field + ')';\n                }\n                val = val.toLowerCase();\n            }\n        }\n        operator = DataUtil.odBiOperator[predicate.operator];\n        if (operator) {\n            returnValue += field;\n            returnValue += operator;\n            if (guid) {\n                returnValue += guid;\n            }\n            return returnValue + val;\n        }\n        if (!isNullOrUndefined(this.getModuleName)) {\n            if (this.getModuleName() === 'ODataV4Adaptor') {\n                operator = DataUtil.odv4UniOperator[predicate.operator];\n            }\n        }\n        else {\n            operator = DataUtil.odUniOperator[predicate.operator];\n        }\n        if (operator === 'substringof') {\n            var temp = val;\n            val = field;\n            field = temp;\n        }\n        returnValue += operator + '(';\n        returnValue += field + ',';\n        if (guid) {\n            returnValue += guid;\n        }\n        returnValue += val + ')';\n        return returnValue;\n    };\n    ODataAdaptor.prototype.addParams = function (options) {\n        _super.prototype.addParams.call(this, options);\n        delete options.reqParams.params;\n    };\n    /**\n     * Generate request string based on the multiple filter criteria from query.\n     * @param  {Predicate} pred\n     * @param  {boolean} requiresCast?\n     */\n    ODataAdaptor.prototype.onComplexPredicate = function (predicate, query, requiresCast) {\n        var res = [];\n        for (var i = 0; i < predicate.predicates.length; i++) {\n            res.push('(' + this.onEachWhere(predicate.predicates[i], query, requiresCast) + ')');\n        }\n        return res.join(' ' + predicate.condition + ' ');\n    };\n    /**\n     * Generate query string based on the multiple filter criteria from query.\n     * @param  {Predicate} filter\n     * @param  {boolean} requiresCast?\n     */\n    ODataAdaptor.prototype.onEachWhere = function (filter, query, requiresCast) {\n        return filter.isComplex ? this.onComplexPredicate(filter, query, requiresCast) : this.onPredicate(filter, query, requiresCast);\n    };\n    /**\n     * Generate query string based on the multiple filter criteria from query.\n     * @param  {string[]} filters\n     */\n    ODataAdaptor.prototype.onWhere = function (filters) {\n        if (this.pvt.search) {\n            filters.push(this.onEachWhere(this.pvt.search, null, true));\n        }\n        return filters.join(' and ');\n    };\n    /**\n     * Generate query string based on the multiple search criteria from query.\n     * @param  {{fields:string[]} e\n     * @param  {string} operator\n     * @param  {string} key\n     * @param  {boolean}} ignoreCase\n     */\n    ODataAdaptor.prototype.onEachSearch = function (e) {\n        if (e.fields && e.fields.length === 0) {\n            DataUtil.throwError('Query() - Search : oData search requires list of field names to search');\n        }\n        var filter = this.pvt.search || [];\n        for (var i = 0; i < e.fields.length; i++) {\n            filter.push(new Predicate(e.fields[i], e.operator, e.key, e.ignoreCase));\n        }\n        this.pvt.search = filter;\n    };\n    /**\n     * Generate query string based on the search criteria from query.\n     * @param  {Object} e\n     */\n    ODataAdaptor.prototype.onSearch = function (e) {\n        this.pvt.search = Predicate.or(this.pvt.search);\n        return '';\n    };\n    /**\n     * Generate query string based on multiple sort criteria from query.\n     * @param  {QueryOptions} e\n     */\n    ODataAdaptor.prototype.onEachSort = function (e) {\n        var res = [];\n        if (e.name instanceof Array) {\n            for (var i = 0; i < e.name.length; i++) {\n                res.push(ODataAdaptor.getField(e.name[i]) + (e.direction === 'descending' ? ' desc' : ''));\n            }\n        }\n        else {\n            res.push(ODataAdaptor.getField(e.name) + (e.direction === 'descending' ? ' desc' : ''));\n        }\n        return res.join(',');\n    };\n    /**\n     * Returns sort query string.\n     * @param  {string[]} e\n     */\n    ODataAdaptor.prototype.onSortBy = function (e) {\n        return e.reverse().join(',');\n    };\n    /**\n     * Adds the group query to the adaptor option.\n     * @param  {Object[]} e\n     * @returns string\n     */\n    ODataAdaptor.prototype.onGroup = function (e) {\n        this.pvt.groups = e;\n        return [];\n    };\n    /**\n     * Returns the select query string.\n     * @param  {string[]} e\n     */\n    ODataAdaptor.prototype.onSelect = function (e) {\n        for (var i = 0; i < e.length; i++) {\n            e[i] = ODataAdaptor.getField(e[i]);\n        }\n        return e.join(',');\n    };\n    /**\n     * Add the aggregate query to the adaptor option.\n     * @param  {Object[]} e\n     * @returns string\n     */\n    ODataAdaptor.prototype.onAggregates = function (e) {\n        this.pvt.aggregates = e;\n        return '';\n    };\n    /**\n     * Returns the query string which requests total count from the data source.\n     * @param  {boolean} e\n     * @returns string\n     */\n    ODataAdaptor.prototype.onCount = function (e) {\n        return e === true ? 'allpages' : '';\n    };\n    /**\n     * Method will trigger before send the request to server side.\n     * Used to set the custom header or modify the request options.\n     * @param  {DataManager} dm\n     * @param  {XMLHttpRequest} request\n     * @param  {Ajax} settings?\n     */\n    ODataAdaptor.prototype.beforeSend = function (dm, request, settings) {\n        if (DataUtil.endsWith(settings.url, this.options.batch) && settings.type.toLowerCase() === 'post') {\n            request.setRequestHeader('Accept', this.options.multipartAccept);\n            request.setRequestHeader('DataServiceVersion', '2.0');\n            request.overrideMimeType('text/plain; charset=x-user-defined');\n        }\n        else {\n            request.setRequestHeader('Accept', this.options.accept);\n        }\n        request.setRequestHeader('DataServiceVersion', '2.0');\n        request.setRequestHeader('MaxDataServiceVersion', '2.0');\n    };\n    /**\n     * Returns the data from the query processing.\n     * @param  {DataResult} data\n     * @param  {DataOptions} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @param  {Ajax} request?\n     * @param  {CrudOptions} changes?\n     * @returns aggregateResult\n     */\n    ODataAdaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes) {\n        var pvtData = 'pvtData';\n        if (!isNullOrUndefined(data.d)) {\n            var dataCopy = ((query && query.isCountRequired) ? data.d.results : data.d);\n            var metaData = '__metadata';\n            if (!isNullOrUndefined(dataCopy)) {\n                for (var i = 0; i < dataCopy.length; i++) {\n                    if (!isNullOrUndefined(dataCopy[i][metaData])) {\n                        delete dataCopy[i][metaData];\n                    }\n                }\n            }\n        }\n        var pvt = request && request[pvtData];\n        var emptyAndBatch = this.processBatchResponse(data, query, xhr, request, changes);\n        if (emptyAndBatch) {\n            return emptyAndBatch;\n        }\n        var versionCheck = xhr && request.getResponseHeader('DataServiceVersion');\n        var count = null;\n        var version = (versionCheck && parseInt(versionCheck, 10)) || 2;\n        if (query && query.isCountRequired) {\n            var oDataCount = '__count';\n            if (data[oDataCount] || data['odata.count']) {\n                count = data[oDataCount] || data['odata.count'];\n            }\n            if (data.d) {\n                data = data.d;\n            }\n            if (data[oDataCount] || data['odata.count']) {\n                count = data[oDataCount] || data['odata.count'];\n            }\n        }\n        if (version === 3 && data.value) {\n            data = data.value;\n        }\n        if (data.d) {\n            data = data.d;\n        }\n        if (version < 3 && data.results) {\n            data = data.results;\n        }\n        var args = {};\n        args.count = count;\n        args.result = data;\n        this.getAggregateResult(pvt, data, args, null, query);\n        return DataUtil.isNull(count) ? args.result : { result: args.result, count: args.count, aggregates: args.aggregates };\n    };\n    /**\n     * Converts the request object to query string.\n     * @param  {Object} req\n     * @param  {Query} query\n     * @param  {DataManager} dm\n     * @returns tableName\n     */\n    ODataAdaptor.prototype.convertToQueryString = function (request, query, dm) {\n        var res = [];\n        var table = 'table';\n        var tableName = request[table] || '';\n        var format = '$format';\n        delete request[table];\n        if (dm.dataSource.requiresFormat) {\n            request[format] = 'json';\n        }\n        var keys = Object.keys(request);\n        for (var _i = 0, keys_4 = keys; _i < keys_4.length; _i++) {\n            var prop = keys_4[_i];\n            res.push(prop + '=' + request[prop]);\n        }\n        res = res.join('&');\n        if (dm.dataSource.url && dm.dataSource.url.indexOf('?') !== -1 && !tableName) {\n            return res;\n        }\n        return res.length ? tableName + '?' + res : tableName || '';\n    };\n    ODataAdaptor.prototype.localTimeReplacer = function (key, convertObj) {\n        for (var _i = 0, _a = !isNullOrUndefined(convertObj) ? Object.keys(convertObj) : []; _i < _a.length; _i++) {\n            var prop = _a[_i];\n            if ((convertObj[prop] instanceof Date)) {\n                convertObj[prop] = DataUtil.dateParse.toLocalTime(convertObj[prop]);\n            }\n        }\n        return convertObj;\n    };\n    /**\n     * Prepare and returns request body which is used to insert a new record in the table.\n     * @param  {DataManager} dm\n     * @param  {Object} data\n     * @param  {string} tableName?\n     */\n    ODataAdaptor.prototype.insert = function (dm, data, tableName) {\n        return {\n            url: dm.dataSource.url.replace(/\\/*$/, tableName ? '/' + tableName : ''),\n            data: JSON.stringify(data, this.options.localTime ? this.localTimeReplacer : null)\n        };\n    };\n    /**\n     * Prepare and return request body which is used to remove record from the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {number} value\n     * @param  {string} tableName?\n     */\n    ODataAdaptor.prototype.remove = function (dm, keyField, value, tableName) {\n        return {\n            type: 'DELETE',\n            url: dm.dataSource.url.replace(/\\/*$/, tableName ? '/' + tableName : '') + '(' + value + ')'\n        };\n    };\n    /**\n     * Updates existing record and saves the changes to the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName?\n     * @returns this\n     */\n    ODataAdaptor.prototype.update = function (dm, keyField, value, tableName, query, original) {\n        if (this.options.updateType === 'PATCH' && !isNullOrUndefined(original)) {\n            value = this.compareAndRemove(value, original, keyField);\n        }\n        return {\n            type: this.options.updateType,\n            url: dm.dataSource.url.replace(/\\/*$/, tableName ? '/' + tableName : '') + '(' + value[keyField] + ')',\n            data: JSON.stringify(value, this.options.localTime ? this.localTimeReplacer : null),\n            accept: this.options.accept\n        };\n    };\n    /**\n     * Prepare the request body based on the newly added, removed and updated records.\n     * The result is used by the batch request.\n     * @param  {DataManager} dm\n     * @param  {CrudOptions} changes\n     * @param  {RemoteArgs} e\n     * @returns {Object}\n     */\n    ODataAdaptor.prototype.batchRequest = function (dm, changes, e, query, original) {\n        var initialGuid = e.guid = DataUtil.getGuid(this.options.batchPre);\n        var url = dm.dataSource.url.replace(/\\/*$/, '/' + this.options.batch);\n        var args = {\n            url: e.url,\n            key: e.key,\n            cid: 1,\n            cSet: DataUtil.getGuid(this.options.changeSet)\n        };\n        var req = '--' + initialGuid + '\\n';\n        req += 'Content-Type: multipart/mixed; boundary=' + args.cSet.replace('--', '') + '\\n';\n        this.pvt.changeSet = 0;\n        req += this.generateInsertRequest(changes.addedRecords, args);\n        req += this.generateUpdateRequest(changes.changedRecords, args, original ? original.changedRecords : []);\n        req += this.generateDeleteRequest(changes.deletedRecords, args);\n        req += args.cSet + '--\\n';\n        req += '--' + initialGuid + '--';\n        return {\n            type: 'POST',\n            url: url,\n            dataType: 'json',\n            contentType: 'multipart/mixed; charset=UTF-8;boundary=' + initialGuid,\n            data: req\n        };\n    };\n    /**\n     * Generate the string content from the removed records.\n     * The result will be send during batch update.\n     * @param  {Object[]} arr\n     * @param  {RemoteArgs} e\n     * @returns this\n     */\n    ODataAdaptor.prototype.generateDeleteRequest = function (arr, e) {\n        if (!arr) {\n            return '';\n        }\n        var req = '';\n        var stat = {\n            'method': 'DELETE ',\n            'url': function (data, i, key) { return '(' + data[i][key] + ')'; },\n            'data': function (data, i) { return ''; }\n        };\n        req = this.generateBodyContent(arr, e, stat);\n        return req + '\\n';\n    };\n    /**\n     * Generate the string content from the inserted records.\n     * The result will be send during batch update.\n     * @param  {Object[]} arr\n     * @param  {RemoteArgs} e\n     */\n    ODataAdaptor.prototype.generateInsertRequest = function (arr, e) {\n        if (!arr) {\n            return '';\n        }\n        var req = '';\n        var stat = {\n            'method': 'POST ',\n            'url': function (data, i, key) { return ''; },\n            'data': function (data, i) { return JSON.stringify(data[i]) + '\\n\\n'; }\n        };\n        req = this.generateBodyContent(arr, e, stat);\n        return req;\n    };\n    /**\n     * Generate the string content from the updated records.\n     * The result will be send during batch update.\n     * @param  {Object[]} arr\n     * @param  {RemoteArgs} e\n     */\n    ODataAdaptor.prototype.generateUpdateRequest = function (arr, e, org) {\n        var _this = this;\n        if (!arr) {\n            return '';\n        }\n        var req = '';\n        arr.forEach(function (change) { return change = _this.compareAndRemove(change, org.filter(function (o) { return DataUtil.getObject(e.key, o) === DataUtil.getObject(e.key, change); })[0], e.key); });\n        var stat = {\n            'method': this.options.updateType + ' ',\n            'url': function (data, i, key) { return '(' + data[i][key] + ')'; },\n            'data': function (data, i) { return JSON.stringify(data[i]) + '\\n\\n'; }\n        };\n        req = this.generateBodyContent(arr, e, stat);\n        return req;\n    };\n    ODataAdaptor.getField = function (prop) {\n        return prop.replace(/\\./g, '/');\n    };\n    ODataAdaptor.prototype.generateBodyContent = function (arr, e, stat) {\n        var req = '';\n        for (var i = 0; i < arr.length; i++) {\n            req += '\\n' + e.cSet + '\\n';\n            req += this.options.changeSetContent + '\\n\\n';\n            req += stat.method;\n            req += e.url + stat.url(arr, i, e.key) + ' HTTP/1.1\\n';\n            req += 'Accept: ' + this.options.accept + '\\n';\n            req += 'Content-Id: ' + this.pvt.changeSet++ + '\\n';\n            req += this.options.batchChangeSetContentType + '\\n';\n            !isNullOrUndefined(arr[i]['@odata.etag']) ? req += 'If-Match: ' + arr[i]['@odata.etag'] + '\\n\\n' : req += '\\n';\n            req += stat.data(arr, i);\n        }\n        return req;\n    };\n    ODataAdaptor.prototype.processBatchResponse = function (data, query, xhr, request, changes) {\n        if (xhr && xhr.getResponseHeader('Content-Type') && xhr.getResponseHeader('Content-Type').indexOf('xml') !== -1) {\n            return (query.isCountRequired ? { result: [], count: 0 } : []);\n        }\n        if (request && this.options.batch && DataUtil.endsWith(request.url, this.options.batch) && request.type.toLowerCase() === 'post') {\n            var guid = xhr.getResponseHeader('Content-Type');\n            var cIdx = void 0;\n            var jsonObj = void 0;\n            var d = data + '';\n            guid = guid.substring(guid.indexOf('=batchresponse') + 1);\n            d = d.split(guid);\n            if (d.length < 2) {\n                return {};\n            }\n            d = d[1];\n            var exVal = /(?:\\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(d);\n            if (exVal) {\n                d.replace(exVal[0], '');\n            }\n            var changeGuid = exVal ? exVal[1] : '';\n            d = d.split(changeGuid);\n            for (var i = d.length; i > -1; i--) {\n                if (!/\\bContent-ID:/i.test(d[i]) || !/\\bHTTP.+201/.test(d[i])) {\n                    continue;\n                }\n                cIdx = parseInt(/\\bContent-ID: (\\d+)/i.exec(d[i])[1], 10);\n                if (changes.addedRecords[cIdx]) {\n                    jsonObj = DataUtil.parse.parseJson(/^\\{.+\\}/m.exec(d[i])[0]);\n                    extend({}, changes.addedRecords[cIdx], this.processResponse(jsonObj));\n                }\n            }\n            return changes;\n        }\n        return null;\n    };\n    ODataAdaptor.prototype.compareAndRemove = function (data, original, key) {\n        var _this = this;\n        if (isNullOrUndefined(original)) {\n            return data;\n        }\n        Object.keys(data).forEach(function (prop) {\n            if (prop !== key) {\n                if (DataUtil.isPlainObject(data[prop])) {\n                    _this.compareAndRemove(data[prop], original[prop]);\n                    if (Object.keys(data[prop]).length === 0) {\n                        delete data[prop];\n                    }\n                }\n                else if (data[prop] === original[prop]) {\n                    delete data[prop];\n                }\n                else if (data[prop] && original[prop] && data[prop].valueOf() === original[prop].valueOf()) {\n                    delete data[prop];\n                }\n            }\n        });\n        return data;\n    };\n    return ODataAdaptor;\n}(UrlAdaptor));\nexport { ODataAdaptor };\n/**\n * The OData v4 is an improved version of OData protocols.\n * The DataManager uses the ODataV4Adaptor to consume OData v4 services.\n * @hidden\n */\nvar ODataV4Adaptor = /** @class */ (function (_super) {\n    __extends(ODataV4Adaptor, _super);\n    function ODataV4Adaptor(props) {\n        var _this = _super.call(this, props) || this;\n        // options replaced the default adaptor options\n        _this.options = extend({}, _this.options, {\n            requestType: 'get',\n            accept: 'application/json, text/javascript, */*; q=0.01',\n            multipartAccept: 'multipart/mixed',\n            sortBy: '$orderby',\n            select: '$select',\n            skip: '$skip',\n            take: '$top',\n            count: '$count',\n            search: '$search',\n            where: '$filter',\n            expand: '$expand',\n            batch: '$batch',\n            changeSet: '--changeset_',\n            batchPre: 'batch_',\n            contentId: 'Content-Id: ',\n            batchContent: 'Content-Type: multipart/mixed; boundary=',\n            changeSetContent: 'Content-Type: application/http\\nContent-Transfer-Encoding: binary ',\n            batchChangeSetContentType: 'Content-Type: application/json; charset=utf-8 ',\n            updateType: 'PATCH',\n            localTime: false\n        });\n        getValue('getModulename', _this.getModulename());\n        extend(_this.options, props || {});\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    ODataV4Adaptor.prototype.getModulename = function () {\n        return 'ODataV4Adaptor';\n    };\n    ;\n    /**\n     * Returns the query string which requests total count from the data source.\n     * @param  {boolean} e\n     * @returns string\n     */\n    ODataV4Adaptor.prototype.onCount = function (e) {\n        return e === true ? 'true' : '';\n    };\n    /**\n     * Generate request string based on the filter criteria from query.\n     * @param  {Predicate} pred\n     * @param  {boolean} requiresCast?\n     */\n    ODataV4Adaptor.prototype.onPredicate = function (predicate, query, requiresCast) {\n        var returnValue = '';\n        var val = predicate.value;\n        var isDate = val instanceof Date;\n        returnValue = _super.prototype.onPredicate.call(this, predicate, query, requiresCast);\n        if (isDate) {\n            returnValue = returnValue.replace(/datetime'(.*)'$/, '$1');\n        }\n        return returnValue;\n    };\n    /**\n     *  Generate query string based on the multiple search criteria from query.\n     * @param  {{fields:string[]} e\n     * @param  {string} operator\n     * @param  {string} key\n     * @param  {boolean}} ignoreCase\n     */\n    ODataV4Adaptor.prototype.onEachSearch = function (e) {\n        var search = this.pvt.searches || [];\n        search.push(e.key);\n        this.pvt.searches = search;\n    };\n    /**\n     *  Generate query string based on the search criteria from query.\n     * @param  {Object} e\n     */\n    ODataV4Adaptor.prototype.onSearch = function (e) {\n        return this.pvt.searches.join(' OR ');\n    };\n    /**\n     * Returns the expand query string.\n     * @param  {string} e\n     */\n    ODataV4Adaptor.prototype.onExpand = function (e) {\n        var _this = this;\n        var selected = {};\n        var expanded = {};\n        var expands = e.expands.slice();\n        var exArr = [];\n        var selects = e.selects.filter(function (item) { return item.indexOf('.') > -1; });\n        selects.forEach(function (select) {\n            var splits = select.split('.');\n            if (!(splits[0] in selected)) {\n                selected[splits[0]] = [];\n            }\n            selected[splits[0]].push(splits[1]);\n        });\n        //Auto expand from select query\n        Object.keys(selected).forEach(function (expand) {\n            if ((expands.indexOf(expand) === -1)) {\n                expands.push(expand);\n            }\n        });\n        expands.forEach(function (expand) {\n            expanded[expand] = expand in selected ? expand + \"(\" + _this.options.select + \"=\" + selected[expand].join(',') + \")\" : expand;\n        });\n        Object.keys(expanded).forEach(function (ex) { return exArr.push(expanded[ex]); });\n        return exArr.join(',');\n    };\n    /**\n     * Returns the select query string.\n     * @param  {string[]} e\n     */\n    ODataV4Adaptor.prototype.onSelect = function (e) {\n        return _super.prototype.onSelect.call(this, e.filter(function (item) { return item.indexOf('.') === -1; }));\n    };\n    /**\n     * Method will trigger before send the request to server side.\n     * Used to set the custom header or modify the request options.\n     * @param  {DataManager} dm\n     * @param  {XMLHttpRequest} request\n     * @param  {Ajax} settings\n     * @returns void\n     */\n    ODataV4Adaptor.prototype.beforeSend = function (dm, request, settings) {\n        if (settings.type === 'POST' || settings.type === 'PUT' || settings.type === 'PATCH') {\n            request.setRequestHeader('Prefer', 'return=representation');\n        }\n        request.setRequestHeader('Accept', this.options.accept);\n    };\n    /**\n     * Returns the data from the query processing.\n     * @param  {DataResult} data\n     * @param  {DataOptions} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @param  {Ajax} request?\n     * @param  {CrudOptions} changes?\n     * @returns aggregateResult\n     */\n    ODataV4Adaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes) {\n        var pvtData = 'pvtData';\n        var pvt = request && request[pvtData];\n        var emptyAndBatch = _super.prototype.processBatchResponse.call(this, data, query, xhr, request, changes);\n        if (emptyAndBatch) {\n            return emptyAndBatch;\n        }\n        var count = null;\n        var dataCount = '@odata.count';\n        if (query && query.isCountRequired) {\n            if (dataCount in data) {\n                count = data[dataCount];\n            }\n        }\n        data = !isNullOrUndefined(data.value) ? data.value : data;\n        var args = {};\n        args.count = count;\n        args.result = data;\n        this.getAggregateResult(pvt, data, args, null, query);\n        return DataUtil.isNull(count) ? args.result : { result: args.result, count: count, aggregates: args.aggregates };\n    };\n    return ODataV4Adaptor;\n}(ODataAdaptor));\nexport { ODataV4Adaptor };\n/**\n * The Web API is a programmatic interface to define the request and response messages system that is mostly exposed in JSON or XML.\n * The DataManager uses the WebApiAdaptor to consume Web API.\n * Since this adaptor is targeted to interact with Web API created using OData endpoint, it is extended from ODataAdaptor\n * @hidden\n */\nvar WebApiAdaptor = /** @class */ (function (_super) {\n    __extends(WebApiAdaptor, _super);\n    function WebApiAdaptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Prepare and returns request body which is used to insert a new record in the table.\n     * @param  {DataManager} dm\n     * @param  {Object} data\n     * @param  {string} tableName?\n     */\n    WebApiAdaptor.prototype.insert = function (dm, data, tableName) {\n        return {\n            type: 'POST',\n            url: dm.dataSource.url,\n            data: JSON.stringify(data)\n        };\n    };\n    /**\n     * Prepare and return request body which is used to remove record from the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {number} value\n     * @param  {string} tableName?\n     */\n    WebApiAdaptor.prototype.remove = function (dm, keyField, value, tableName) {\n        return {\n            type: 'DELETE',\n            url: dm.dataSource.url + '/' + value,\n            data: JSON.stringify(value)\n        };\n    };\n    /**\n     * Prepare and return request body which is used to update record.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName?\n     */\n    WebApiAdaptor.prototype.update = function (dm, keyField, value, tableName) {\n        return {\n            type: 'PUT',\n            url: dm.dataSource.url,\n            data: JSON.stringify(value)\n        };\n    };\n    /**\n     * Method will trigger before send the request to server side.\n     * Used to set the custom header or modify the request options.\n     * @param  {DataManager} dm\n     * @param  {XMLHttpRequest} request\n     * @param  {Ajax} settings\n     * @returns void\n     */\n    WebApiAdaptor.prototype.beforeSend = function (dm, request, settings) {\n        request.setRequestHeader('Accept', 'application/json, text/javascript, */*; q=0.01');\n    };\n    /**\n     * Returns the data from the query processing.\n     * @param  {DataResult} data\n     * @param  {DataOptions} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @param  {Ajax} request?\n     * @param  {CrudOptions} changes?\n     * @returns aggregateResult\n     */\n    WebApiAdaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes) {\n        var pvtData = 'pvtData';\n        var pvt = request && request[pvtData];\n        var count = null;\n        var args = {};\n        if (request && request.type.toLowerCase() !== 'post') {\n            var versionCheck = xhr && request.getResponseHeader('DataServiceVersion');\n            var version = (versionCheck && parseInt(versionCheck, 10)) || 2;\n            if (query && query.isCountRequired) {\n                if (!DataUtil.isNull(data.Count)) {\n                    count = data.Count;\n                }\n            }\n            if (version < 3 && data.Items) {\n                data = data.Items;\n            }\n            args.count = count;\n            args.result = data;\n            this.getAggregateResult(pvt, data, args, null, query);\n        }\n        args.result = args.result || data;\n        return DataUtil.isNull(count) ? args.result : { result: args.result, count: args.count, aggregates: args.aggregates };\n    };\n    return WebApiAdaptor;\n}(ODataAdaptor));\nexport { WebApiAdaptor };\n/**\n * WebMethodAdaptor can be used by DataManager to interact with web method.\n * @hidden\n */\nvar WebMethodAdaptor = /** @class */ (function (_super) {\n    __extends(WebMethodAdaptor, _super);\n    function WebMethodAdaptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Prepare the request body based on the query.\n     * The query information can be accessed at the WebMethod using variable named `value`.\n     * @param  {DataManager} dm\n     * @param  {Query} query\n     * @param  {Object[]} hierarchyFilters?\n     * @returns application\n     */\n    WebMethodAdaptor.prototype.processQuery = function (dm, query, hierarchyFilters) {\n        var obj = new UrlAdaptor().processQuery(dm, query, hierarchyFilters);\n        var getData = 'data';\n        var data = DataUtil.parse.parseJson(obj[getData]);\n        var result = {};\n        var value = 'value';\n        if (data.param) {\n            for (var i = 0; i < data.param.length; i++) {\n                var param = data.param[i];\n                var key = Object.keys(param)[0];\n                result[key] = param[key];\n            }\n        }\n        result[value] = data;\n        var pvtData = 'pvtData';\n        var url = 'url';\n        return {\n            data: JSON.stringify(result),\n            url: obj[url],\n            pvtData: obj[pvtData],\n            type: 'POST',\n            contentType: 'application/json; charset=utf-8'\n        };\n    };\n    return WebMethodAdaptor;\n}(UrlAdaptor));\nexport { WebMethodAdaptor };\n/**\n * RemoteSaveAdaptor, extended from JsonAdaptor and it is used for binding local data and performs all DataManager queries in client-side.\n * It interacts with server-side only for CRUD operations.\n * @hidden\n */\nvar RemoteSaveAdaptor = /** @class */ (function (_super) {\n    __extends(RemoteSaveAdaptor, _super);\n    /**\n     * @hidden\n     */\n    function RemoteSaveAdaptor() {\n        var _this = _super.call(this) || this;\n        setValue('beforeSend', UrlAdaptor.prototype.beforeSend, _this);\n        return _this;\n    }\n    RemoteSaveAdaptor.prototype.insert = function (dm, data, tableName) {\n        this.updateType = 'add';\n        return {\n            url: dm.dataSource.insertUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            data: JSON.stringify({\n                value: data,\n                table: tableName,\n                action: 'insert'\n            })\n        };\n    };\n    RemoteSaveAdaptor.prototype.remove = function (dm, keyField, value, tableName) {\n        _super.prototype.remove.call(this, dm, keyField, value);\n        return {\n            type: 'POST',\n            url: dm.dataSource.removeUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            data: JSON.stringify({\n                key: value,\n                keyColumn: keyField,\n                table: tableName,\n                action: 'remove'\n            })\n        };\n    };\n    RemoteSaveAdaptor.prototype.update = function (dm, keyField, value, tableName) {\n        this.updateType = 'update';\n        this.updateKey = keyField;\n        return {\n            type: 'POST',\n            url: dm.dataSource.updateUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            data: JSON.stringify({\n                value: value,\n                action: 'update',\n                keyColumn: keyField,\n                key: value[keyField],\n                table: tableName\n            })\n        };\n    };\n    RemoteSaveAdaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes, e) {\n        var i;\n        if (this.updateType === 'add') {\n            _super.prototype.insert.call(this, ds, data, null, null, 0);\n        }\n        if (this.updateType === 'update') {\n            _super.prototype.update.call(this, ds, this.updateKey, data);\n        }\n        if (data.added) {\n            for (i = 0; i < data.added.length; i++) {\n                _super.prototype.insert.call(this, ds, data.added[i]);\n            }\n        }\n        if (data.changed) {\n            for (i = 0; i < data.changed.length; i++) {\n                _super.prototype.update.call(this, ds, e.key, data.changed[i]);\n            }\n        }\n        if (data.deleted) {\n            for (i = 0; i < data.deleted.length; i++) {\n                _super.prototype.remove.call(this, ds, e.key, data.deleted[i]);\n            }\n        }\n        return data;\n    };\n    /**\n     * Prepare the request body based on the newly added, removed and updated records.\n     * Also perform the changes in the locally cached data to sync with the remote data.\n     * The result is used by the batch request.\n     * @param  {DataManager} dm\n     * @param  {CrudOptions} changes\n     * @param  {RemoteArgs} e\n     */\n    RemoteSaveAdaptor.prototype.batchRequest = function (dm, changes, e) {\n        return {\n            type: 'POST',\n            url: dm.dataSource.batchUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            contentType: 'application/json; charset=utf-8',\n            dataType: 'json',\n            data: JSON.stringify({\n                changed: changes.changedRecords,\n                added: changes.addedRecords,\n                deleted: changes.deletedRecords,\n                action: 'batch',\n                table: e.url,\n                key: e.key\n            })\n        };\n    };\n    return RemoteSaveAdaptor;\n}(JsonAdaptor));\nexport { RemoteSaveAdaptor };\n/**\n * Cache Adaptor is used to cache the data of the visited pages. It prevents new requests for the previously visited pages.\n * You can configure cache page size and duration of caching by using cachingPageSize and timeTillExpiration properties of the DataManager\n * @hidden\n */\nvar CacheAdaptor = /** @class */ (function (_super) {\n    __extends(CacheAdaptor, _super);\n    /**\n     * Constructor for CacheAdaptor class.\n     * @param  {CacheAdaptor} adaptor?\n     * @param  {number} timeStamp?\n     * @param  {number} pageSize?\n     * @hidden\n     */\n    function CacheAdaptor(adaptor, timeStamp, pageSize) {\n        var _this = _super.call(this) || this;\n        _this.isCrudAction = false;\n        _this.isInsertAction = false;\n        if (!isNullOrUndefined(adaptor)) {\n            _this.cacheAdaptor = adaptor;\n        }\n        _this.pageSize = pageSize;\n        _this.guidId = DataUtil.getGuid('cacheAdaptor');\n        var obj = { keys: [], results: [] };\n        window.localStorage.setItem(_this.guidId, JSON.stringify(obj));\n        var guid = _this.guidId;\n        if (!isNullOrUndefined(timeStamp)) {\n            setInterval(function () {\n                var data;\n                data = DataUtil.parse.parseJson(window.localStorage.getItem(guid));\n                var forDel = [];\n                for (var i = 0; i < data.results.length; i++) {\n                    var currentTime = +new Date();\n                    var requestTime = +new Date(data.results[i].timeStamp);\n                    data.results[i].timeStamp = currentTime - requestTime;\n                    if (currentTime - requestTime > timeStamp) {\n                        forDel.push(i);\n                    }\n                }\n                for (var i = 0; i < forDel.length; i++) {\n                    data.results.splice(forDel[i], 1);\n                    data.keys.splice(forDel[i], 1);\n                }\n                window.localStorage.removeItem(guid);\n                window.localStorage.setItem(guid, JSON.stringify(data));\n            }, timeStamp);\n        }\n        return _this;\n    }\n    /**\n     * It will generate the key based on the URL when we send a request to server.\n     * @param  {string} url\n     * @param  {Query} query?\n     * @hidden\n     */\n    CacheAdaptor.prototype.generateKey = function (url, query) {\n        var queries = this.getQueryRequest(query);\n        var singles = Query.filterQueryLists(query.queries, ['onSelect', 'onPage', 'onSkip', 'onTake', 'onRange']);\n        var key = url;\n        var page = 'onPage';\n        if (page in singles) {\n            key += singles[page].pageIndex;\n        }\n        queries.sorts.forEach(function (obj) {\n            key += obj.e.direction + obj.e.fieldName;\n        });\n        queries.groups.forEach(function (obj) {\n            key += obj.e.fieldName;\n        });\n        queries.searches.forEach(function (obj) {\n            key += obj.e.searchKey;\n        });\n        for (var filter = 0; filter < queries.filters.length; filter++) {\n            var currentFilter = queries.filters[filter];\n            if (currentFilter.e.isComplex) {\n                var newQuery = query.clone();\n                newQuery.queries = [];\n                for (var i = 0; i < currentFilter.e.predicates.length; i++) {\n                    newQuery.queries.push({ fn: 'onWhere', e: currentFilter.e.predicates[i], filter: query.queries.filter });\n                }\n                key += currentFilter.e.condition + this.generateKey(url, newQuery);\n            }\n            else {\n                key += currentFilter.e.field + currentFilter.e.operator + currentFilter.e.value;\n            }\n        }\n        return key;\n    };\n    /**\n     * Process the query to generate request body.\n     * If the data is already cached, it will return the cached data.\n     * @param  {DataManager} dm\n     * @param  {Query} query?\n     * @param  {Object[]} hierarchyFilters?\n     */\n    CacheAdaptor.prototype.processQuery = function (dm, query, hierarchyFilters) {\n        var key = this.generateKey(dm.dataSource.url, query);\n        var cachedItems;\n        cachedItems = DataUtil.parse.parseJson(window.localStorage.getItem(this.guidId));\n        var data = cachedItems ? cachedItems.results[cachedItems.keys.indexOf(key)] : null;\n        if (data != null && !this.isCrudAction && !this.isInsertAction) {\n            return data;\n        }\n        this.isCrudAction = null;\n        this.isInsertAction = null;\n        return this.cacheAdaptor.processQuery.apply(this.cacheAdaptor, [].slice.call(arguments, 0));\n    };\n    /**\n     * Returns the data from the query processing.\n     * It will also cache the data for later usage.\n     * @param  {DataResult} data\n     * @param  {DataManager} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @param  {Ajax} request?\n     * @param  {CrudOptions} changes?\n     */\n    CacheAdaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes) {\n        if (this.isInsertAction || (request && this.cacheAdaptor.options.batch &&\n            DataUtil.endsWith(request.url, this.cacheAdaptor.options.batch) && request.type.toLowerCase() === 'post')) {\n            return this.cacheAdaptor.processResponse(data, ds, query, xhr, request, changes);\n        }\n        data = this.cacheAdaptor.processResponse.apply(this.cacheAdaptor, [].slice.call(arguments, 0));\n        var key = query ? this.generateKey(ds.dataSource.url, query) : ds.dataSource.url;\n        var obj = {};\n        obj = DataUtil.parse.parseJson(window.localStorage.getItem(this.guidId));\n        var index = obj.keys.indexOf(key);\n        if (index !== -1) {\n            obj.results.splice(index, 1);\n            obj.keys.splice(index, 1);\n        }\n        obj.results[obj.keys.push(key) - 1] = { keys: key, result: data.result, timeStamp: new Date(), count: data.count };\n        while (obj.results.length > this.pageSize) {\n            obj.results.splice(0, 1);\n            obj.keys.splice(0, 1);\n        }\n        window.localStorage.setItem(this.guidId, JSON.stringify(obj));\n        return data;\n    };\n    /**\n     * Method will trigger before send the request to server side. Used to set the custom header or modify the request options.\n     * @param  {DataManager} dm\n     * @param  {XMLHttpRequest} request\n     * @param  {Ajax} settings?\n     */\n    CacheAdaptor.prototype.beforeSend = function (dm, request, settings) {\n        if (DataUtil.endsWith(settings.url, this.cacheAdaptor.options.batch) && settings.type.toLowerCase() === 'post') {\n            request.setRequestHeader('Accept', this.cacheAdaptor.options.multipartAccept);\n        }\n        if (!dm.dataSource.crossDomain) {\n            request.setRequestHeader('Accept', this.cacheAdaptor.options.accept);\n        }\n    };\n    /**\n     * Updates existing record and saves the changes to the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName\n     */\n    CacheAdaptor.prototype.update = function (dm, keyField, value, tableName) {\n        this.isCrudAction = true;\n        return this.cacheAdaptor.update(dm, keyField, value, tableName);\n    };\n    /**\n     * Prepare and returns request body which is used to insert a new record in the table.\n     * @param  {DataManager} dm\n     * @param  {Object} data\n     * @param  {string} tableName?\n     */\n    CacheAdaptor.prototype.insert = function (dm, data, tableName) {\n        this.isInsertAction = true;\n        return this.cacheAdaptor.insert(dm, data, tableName);\n    };\n    /**\n     * Prepare and return request body which is used to remove record from the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName?\n     */\n    CacheAdaptor.prototype.remove = function (dm, keyField, value, tableName) {\n        this.isCrudAction = true;\n        return this.cacheAdaptor.remove(dm, keyField, value, tableName);\n    };\n    /**\n     * Prepare the request body based on the newly added, removed and updated records.\n     * The result is used by the batch request.\n     * @param  {DataManager} dm\n     * @param  {CrudOptions} changes\n     * @param  {RemoteArgs} e\n     */\n    CacheAdaptor.prototype.batchRequest = function (dm, changes, e) {\n        return this.cacheAdaptor.batchRequest(dm, changes, e);\n    };\n    return CacheAdaptor;\n}(UrlAdaptor));\nexport { CacheAdaptor };\n","import { Ajax } from '@syncfusion/ej2-base';\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { DataUtil } from './util';\nimport { Query } from './query';\nimport { ODataAdaptor, JsonAdaptor, CacheAdaptor, RemoteSaveAdaptor } from './adaptors';\n/**\n * DataManager is used to manage and manipulate relational data.\n */\nvar DataManager = /** @class */ (function () {\n    /**\n     * Constructor for DataManager class\n     * @param  {DataOptions|JSON[]} dataSource?\n     * @param  {Query} query?\n     * @param  {AdaptorOptions|string} adaptor?\n     * @hidden\n     */\n    function DataManager(dataSource, query, adaptor) {\n        var _this = this;\n        /** @hidden */\n        this.dateParse = true;\n        this.requests = [];\n        if (!dataSource && !this.dataSource) {\n            dataSource = [];\n        }\n        adaptor = adaptor || dataSource.adaptor;\n        var data;\n        if (dataSource instanceof Array) {\n            data = {\n                json: dataSource,\n                offline: true\n            };\n        }\n        else if (typeof dataSource === 'object') {\n            if (!dataSource.json) {\n                dataSource.json = [];\n            }\n            data = {\n                url: dataSource.url,\n                insertUrl: dataSource.insertUrl,\n                removeUrl: dataSource.removeUrl,\n                updateUrl: dataSource.updateUrl,\n                crudUrl: dataSource.crudUrl,\n                batchUrl: dataSource.batchUrl,\n                json: dataSource.json,\n                headers: dataSource.headers,\n                accept: dataSource.accept,\n                data: dataSource.data,\n                timeTillExpiration: dataSource.timeTillExpiration,\n                cachingPageSize: dataSource.cachingPageSize,\n                enableCaching: dataSource.enableCaching,\n                requestType: dataSource.requestType,\n                key: dataSource.key,\n                crossDomain: dataSource.crossDomain,\n                jsonp: dataSource.jsonp,\n                dataType: dataSource.dataType,\n                offline: dataSource.offline !== undefined ? dataSource.offline\n                    : dataSource.adaptor instanceof RemoteSaveAdaptor ? false : dataSource.url ? false : true,\n                requiresFormat: dataSource.requiresFormat\n            };\n        }\n        else {\n            DataUtil.throwError('DataManager: Invalid arguments');\n        }\n        if (data.requiresFormat === undefined && !DataUtil.isCors()) {\n            data.requiresFormat = isNullOrUndefined(data.crossDomain) ? true : data.crossDomain;\n        }\n        if (data.dataType === undefined) {\n            data.dataType = 'json';\n        }\n        this.dataSource = data;\n        this.defaultQuery = query;\n        if (data.url && data.offline && !data.json.length) {\n            this.isDataAvailable = false;\n            this.adaptor = adaptor || new ODataAdaptor();\n            this.dataSource.offline = false;\n            this.ready = this.executeQuery(query || new Query());\n            this.ready.then(function (e) {\n                _this.dataSource.offline = true;\n                _this.isDataAvailable = true;\n                data.json = e.result;\n                _this.adaptor = new JsonAdaptor();\n            });\n        }\n        else {\n            this.adaptor = data.offline ? new JsonAdaptor() : new ODataAdaptor();\n        }\n        if (!data.jsonp && this.adaptor instanceof ODataAdaptor) {\n            data.jsonp = 'callback';\n        }\n        this.adaptor = adaptor || this.adaptor;\n        if (data.enableCaching) {\n            this.adaptor = new CacheAdaptor(this.adaptor, data.timeTillExpiration, data.cachingPageSize);\n        }\n        return this;\n    }\n    /**\n     * Overrides DataManager's default query with given query.\n     * @param  {Query} query - Defines the new default query.\n     */\n    DataManager.prototype.setDefaultQuery = function (query) {\n        this.defaultQuery = query;\n        return this;\n    };\n    /**\n     * Executes the given query with local data source.\n     * @param  {Query} query - Defines the query to retrieve data.\n     */\n    DataManager.prototype.executeLocal = function (query) {\n        if (!this.defaultQuery && !(query instanceof Query)) {\n            DataUtil.throwError('DataManager - executeLocal() : A query is required to execute');\n        }\n        if (!this.dataSource.json) {\n            DataUtil.throwError('DataManager - executeLocal() : Json data is required to execute');\n        }\n        query = query || this.defaultQuery;\n        var result = this.adaptor.processQuery(this, query);\n        if (query.subQuery) {\n            var from = query.subQuery.fromTable;\n            var lookup = query.subQuery.lookups;\n            var res = query.isCountRequired ? result.result :\n                result;\n            if (lookup && lookup instanceof Array) {\n                DataUtil.buildHierarchy(query.subQuery.fKey, from, res, lookup, query.subQuery.key);\n            }\n            for (var j = 0; j < res.length; j++) {\n                if (res[j][from] instanceof Array) {\n                    res[j] = extend({}, {}, res[j]);\n                    res[j][from] = this.adaptor.processResponse(query.subQuery.using(new DataManager(res[j][from].slice(0))).executeLocal(), this, query);\n                }\n            }\n        }\n        return this.adaptor.processResponse(result, this, query);\n    };\n    /**\n     * Executes the given query with either local or remote data source.\n     * It will be executed as asynchronously and returns Promise object which will be resolved or rejected after action completed.\n     * @param  {Query|Function} query - Defines the query to retrieve data.\n     * @param  {Function} done - Defines the callback function and triggers when the Promise is resolved.\n     * @param  {Function} fail - Defines the callback function and triggers when the Promise is rejected.\n     * @param  {Function} always - Defines the callback function and triggers when the Promise is resolved or rejected.\n     */\n    DataManager.prototype.executeQuery = function (query, done, fail, always) {\n        var _this = this;\n        if (typeof query === 'function') {\n            always = fail;\n            fail = done;\n            done = query;\n            query = null;\n        }\n        if (!query) {\n            query = this.defaultQuery;\n        }\n        if (!(query instanceof Query)) {\n            DataUtil.throwError('DataManager - executeQuery() : A query is required to execute');\n        }\n        var deffered = new Deferred();\n        var args = { query: query };\n        if (!this.dataSource.offline && (this.dataSource.url !== undefined && this.dataSource.url !== '')) {\n            var result = this.adaptor.processQuery(this, query);\n            this.makeRequest(result, deffered, args, query);\n        }\n        else {\n            DataManager.nextTick(function () {\n                var res = _this.executeLocal(query);\n                args = DataManager.getDeferedArgs(query, res, args);\n                deffered.resolve(args);\n            });\n        }\n        if (done || fail) {\n            deffered.promise.then(done, fail);\n        }\n        if (always) {\n            deffered.promise.then(always, always);\n        }\n        return deffered.promise;\n    };\n    DataManager.getDeferedArgs = function (query, result, args) {\n        if (query.isCountRequired) {\n            args.result = result.result;\n            args.count = result.count;\n            args.aggregates = result.aggregates;\n        }\n        else {\n            args.result = result;\n        }\n        return args;\n    };\n    DataManager.nextTick = function (fn) {\n        (window.setImmediate || window.setTimeout)(fn, 0);\n    };\n    DataManager.prototype.extendRequest = function (url, fnSuccess, fnFail) {\n        return extend({}, {\n            type: 'GET',\n            dataType: this.dataSource.dataType,\n            crossDomain: this.dataSource.crossDomain,\n            jsonp: this.dataSource.jsonp,\n            cache: true,\n            processData: false,\n            onSuccess: fnSuccess,\n            onFailure: fnFail\n        }, url);\n    };\n    DataManager.prototype.makeRequest = function (url, deffered, args, query) {\n        var _this = this;\n        var isSelector = !!query.subQuerySelector;\n        var fnFail = function (e) {\n            args.error = e;\n            deffered.reject(args);\n        };\n        var process = function (data, count, xhr, request, actual, aggregates, virtualSelectRecords) {\n            args.xhr = xhr;\n            args.count = count ? parseInt(count.toString(), 10) : 0;\n            args.result = data;\n            args.request = request;\n            args.aggregates = aggregates;\n            args.actual = actual;\n            args.virtualSelectRecords = virtualSelectRecords;\n            deffered.resolve(args);\n        };\n        var fnQueryChild = function (data, selector) {\n            var subDeffer = new Deferred();\n            var childArgs = { parent: args };\n            query.subQuery.isChild = true;\n            var subUrl = _this.adaptor.processQuery(_this, query.subQuery, data ? _this.adaptor.processResponse(data) : selector);\n            var childReq = _this.makeRequest(subUrl, subDeffer, childArgs, query.subQuery);\n            if (!isSelector) {\n                subDeffer.then(function (subData) {\n                    if (data) {\n                        DataUtil.buildHierarchy(query.subQuery.fKey, query.subQuery.fromTable, data, subData, query.subQuery.key);\n                        process(data, subData.count, subData.xhr);\n                    }\n                }, fnFail);\n            }\n            return childReq;\n        };\n        var fnSuccess = function (data, request) {\n            if (request.httpRequest.getResponseHeader('Content-Type').indexOf('xml') === -1 && _this.dateParse) {\n                data = DataUtil.parse.parseJson(data);\n            }\n            var result = _this.adaptor.processResponse(data, _this, query, request.httpRequest, request);\n            var count = 0;\n            var aggregates = null;\n            var virtualSelectRecords = 'virtualSelectRecords';\n            var virtualRecords = data[virtualSelectRecords];\n            if (query.isCountRequired) {\n                count = result.count;\n                aggregates = result.aggregates;\n                result = result.result;\n            }\n            if (!query.subQuery) {\n                process(result, count, request.httpRequest, request.type, data, aggregates, virtualRecords);\n                return;\n            }\n            if (!isSelector) {\n                fnQueryChild(result, request);\n            }\n        };\n        var req = this.extendRequest(url, fnSuccess, fnFail);\n        var ajax = new Ajax(req);\n        ajax.beforeSend = function () {\n            _this.beforeSend(ajax.httpRequest, ajax);\n        };\n        req = ajax.send();\n        req.catch(function (e) { return true; }); // to handle failure remote requests.        \n        this.requests.push(ajax);\n        if (isSelector) {\n            var promise = void 0;\n            var res = query.subQuerySelector.call(this, { query: query.subQuery, parent: query });\n            if (res && res.length) {\n                promise = Promise.all([req, fnQueryChild(null, res)]);\n                promise.then(function () {\n                    var args = [];\n                    for (var _i = 0; _i < arguments.length; _i++) {\n                        args[_i] = arguments[_i];\n                    }\n                    var result = args[0];\n                    var pResult = _this.adaptor.processResponse(result[0], _this, query, _this.requests[0].httpRequest, _this.requests[0]);\n                    var count = 0;\n                    if (query.isCountRequired) {\n                        count = pResult.count;\n                        pResult = pResult.result;\n                    }\n                    var cResult = _this.adaptor.processResponse(result[1], _this, query.subQuery, _this.requests[1].httpRequest, _this.requests[1]);\n                    count = 0;\n                    if (query.subQuery.isCountRequired) {\n                        count = cResult.count;\n                        cResult = cResult.result;\n                    }\n                    DataUtil.buildHierarchy(query.subQuery.fKey, query.subQuery.fromTable, pResult, cResult, query.subQuery.key);\n                    isSelector = false;\n                    process(pResult, count, _this.requests[0].httpRequest);\n                });\n            }\n            else {\n                isSelector = false;\n            }\n        }\n        return req;\n    };\n    DataManager.prototype.beforeSend = function (request, settings) {\n        this.adaptor.beforeSend(this, request, settings);\n        var headers = this.dataSource.headers;\n        var props;\n        for (var i = 0; headers && i < headers.length; i++) {\n            props = [];\n            var keys = Object.keys(headers[i]);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var prop = keys_1[_i];\n                props.push(prop);\n                request.setRequestHeader(prop, headers[i][prop]);\n            }\n        }\n    };\n    /**\n     * Save bulk changes to the given table name.\n     * User can add a new record, edit an existing record, and delete a record at the same time.\n     * If the datasource from remote, then updated in a single post.\n     * @param  {Object} changes - Defines the CrudOptions.\n     * @param  {string} key - Defines the column field.\n     * @param  {string|Query} tableName - Defines the table name.\n     * @param  {Query} query - Sets default query for the DataManager.\n     */\n    DataManager.prototype.saveChanges = function (changes, key, tableName, query, original) {\n        var _this = this;\n        if (tableName instanceof Query) {\n            query = tableName;\n            tableName = null;\n        }\n        var args = {\n            url: tableName,\n            key: key || this.dataSource.key\n        };\n        var req = this.adaptor.batchRequest(this, changes, args, query, original);\n        if (this.dataSource.offline) {\n            return req;\n        }\n        var deff = new Deferred();\n        var ajax = new Ajax(req);\n        ajax.beforeSend = function () {\n            _this.beforeSend(ajax.httpRequest, ajax);\n        };\n        ajax.onSuccess = function (data, request) {\n            deff.resolve(_this.adaptor.processResponse(DataUtil.parse.parseJson(data), _this, null, request.httpRequest, request, changes, args));\n        };\n        ajax.onFailure = function (e) {\n            deff.reject([{ error: e }]);\n        };\n        ajax.send().catch(function (e) { return true; }); // to handle the failure requests.        \n        return deff.promise;\n    };\n    /**\n     * Inserts new record in the given table.\n     * @param  {Object} data - Defines the data to insert.\n     * @param  {string|Query} tableName - Defines the table name.\n     * @param  {Query} query - Sets default query for the DataManager.\n     */\n    DataManager.prototype.insert = function (data, tableName, query, position) {\n        if (tableName instanceof Query) {\n            query = tableName;\n            tableName = null;\n        }\n        var req = this.adaptor.insert(this, data, tableName, query, position);\n        if (this.dataSource.offline) {\n            return req;\n        }\n        return this.doAjaxRequest(req);\n    };\n    /**\n     * Removes data from the table with the given key.\n     * @param  {string} keyField - Defines the column field.\n     * @param  {Object} value - Defines the value to find the data in the specified column.\n     * @param  {string|Query} tableName - Defines the table name\n     * @param  {Query} query - Sets default query for the DataManager.\n     */\n    DataManager.prototype.remove = function (keyField, value, tableName, query) {\n        if (typeof value === 'object') {\n            value = value[keyField];\n        }\n        if (tableName instanceof Query) {\n            query = tableName;\n            tableName = null;\n        }\n        var res = this.adaptor.remove(this, keyField, value, tableName, query);\n        if (this.dataSource.offline) {\n            return res;\n        }\n        return this.doAjaxRequest(res);\n    };\n    /**\n     * Updates existing record in the given table.\n     * @param  {string} keyField - Defines the column field.\n     * @param  {Object} value - Defines the value to find the data in the specified column.\n     * @param  {string|Query} tableName - Defines the table name\n     * @param  {Query} query - Sets default query for the DataManager.\n     */\n    DataManager.prototype.update = function (keyField, value, tableName, query, original) {\n        if (tableName instanceof Query) {\n            query = tableName;\n            tableName = null;\n        }\n        var res = this.adaptor.update(this, keyField, value, tableName, query, original);\n        if (this.dataSource.offline) {\n            return res;\n        }\n        return this.doAjaxRequest(res);\n    };\n    DataManager.prototype.doAjaxRequest = function (res) {\n        var _this = this;\n        var defer = new Deferred();\n        res = extend({}, {\n            type: 'POST',\n            contentType: 'application/json; charset=utf-8',\n            processData: false\n        }, res);\n        var ajax = new Ajax(res);\n        ajax.beforeSend = function () {\n            _this.beforeSend(ajax.httpRequest, ajax);\n        };\n        ajax.onSuccess = function (record, request) {\n            try {\n                DataUtil.parse.parseJson(record);\n            }\n            catch (e) {\n                record = [];\n            }\n            record = _this.adaptor.processResponse(DataUtil.parse.parseJson(record), _this, null, request.httpRequest, request);\n            defer.resolve(record);\n        };\n        ajax.onFailure = function (e) {\n            defer.reject([{ error: e }]);\n        };\n        ajax.send().catch(function (e) { return true; }); // to handle the failure requests.\n        return defer.promise;\n    };\n    return DataManager;\n}());\nexport { DataManager };\n/**\n * Deferred is used to handle asynchronous operation.\n */\nvar Deferred = /** @class */ (function () {\n    function Deferred() {\n        var _this = this;\n        /**\n         * Promise is an object that represents a value that may not be available yet, but will be resolved at some point in the future.\n         */\n        this.promise = new Promise(function (resolve, reject) {\n            _this.resolve = resolve;\n            _this.reject = reject;\n        });\n        /**\n         * Defines the callback function triggers when the Deferred object is resolved.\n         */\n        this.then = this.promise.then.bind(this.promise);\n        /**\n         * Defines the callback function triggers when the Deferred object is rejected.\n         */\n        this.catch = this.promise.catch.bind(this.promise);\n    }\n    return Deferred;\n}());\nexport { Deferred };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, NotifyPropertyChanges, Component } from '@syncfusion/ej2-base';\nimport { addClass, detach, removeClass, rippleEffect, EventHandler } from '@syncfusion/ej2-base';\nimport { getTextNode } from '../common/common';\nvar cssClassName = {\n    RTL: 'e-rtl',\n    BUTTON: 'e-btn',\n    PRIMARY: 'e-primary',\n    ICONBTN: 'e-icon-btn'\n};\n/**\n * The Button is a graphical user interface element that triggers an event on its click action. It can contain a text, an image, or both.\n * ```html\n * <button id=\"button\">Button</button>\n * ```\n * ```typescript\n * <script>\n * var btnObj = new Button();\n * btnObj.appendTo(\"#button\");\n * </script>\n * ```\n */\nvar Button = /** @class */ (function (_super) {\n    __extends(Button, _super);\n    /**\n     * Constructor for creating the widget\n     * @param  {ButtonModel} options?\n     * @param  {string|HTMLButtonElement} element?\n     */\n    function Button(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    Button.prototype.preRender = function () {\n        // pre render code snippets\n    };\n    /**\n     * Initialize the control rendering\n     * @returns void\n     * @private\n     */\n    Button.prototype.render = function () {\n        this.initialize();\n    };\n    Button.prototype.initialize = function () {\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n        if (this.isPrimary) {\n            this.element.classList.add(cssClassName.PRIMARY);\n        }\n        if (this.content) {\n            this.element.innerHTML = this.content;\n        }\n        this.setIconCss();\n        if (this.enableRtl) {\n            this.element.classList.add(cssClassName.RTL);\n        }\n        if (this.disabled) {\n            this.controlStatus(this.disabled);\n        }\n        else {\n            this.wireEvents();\n        }\n        this.removeRippleEffect = rippleEffect(this.element, { selector: '.' + cssClassName.BUTTON });\n    };\n    Button.prototype.controlStatus = function (disabled) {\n        this.element.disabled = disabled;\n    };\n    Button.prototype.setIconCss = function () {\n        if (this.iconCss) {\n            var span = this.createElement('span', { className: 'e-btn-icon ' + this.iconCss });\n            if (!this.element.textContent.trim()) {\n                this.element.classList.add(cssClassName.ICONBTN);\n            }\n            else {\n                span.classList.add('e-icon-' + this.iconPosition.toLowerCase());\n            }\n            var node = this.element.childNodes[0];\n            if (node && (this.iconPosition === 'Left')) {\n                this.element.insertBefore(span, node);\n            }\n            else {\n                this.element.appendChild(span);\n            }\n        }\n    };\n    Button.prototype.wireEvents = function () {\n        if (this.isToggle) {\n            EventHandler.add(this.element, 'click', this.btnClickHandler, this);\n        }\n    };\n    Button.prototype.unWireEvents = function () {\n        if (this.isToggle) {\n            EventHandler.remove(this.element, 'click', this.btnClickHandler);\n        }\n    };\n    Button.prototype.btnClickHandler = function () {\n        if (this.element.classList.contains('e-active')) {\n            this.element.classList.remove('e-active');\n        }\n        else {\n            this.element.classList.add('e-active');\n        }\n    };\n    /**\n     * Destroys the widget.\n     * @returns void\n     */\n    Button.prototype.destroy = function () {\n        var span;\n        var element = this.element;\n        _super.prototype.destroy.call(this);\n        removeClass([this.element], [cssClassName.PRIMARY, cssClassName.RTL, cssClassName.ICONBTN, 'e-success',\n            'e-info', 'e-danger', 'e-warning', 'e-flat', 'e-outline', 'e-small', 'e-bigger', 'e-active', 'e-round']);\n        ['e-ripple', 'disabled'].forEach(function (value) {\n            element.removeAttribute(value);\n        });\n        if (this.content) {\n            element.innerHTML = element.innerHTML.replace(this.content, '');\n        }\n        span = element.querySelector('span.e-btn-icon');\n        if (span) {\n            detach(span);\n        }\n        this.unWireEvents();\n        this.removeRippleEffect();\n    };\n    /**\n     * Get component name.\n     * @returns string\n     * @private\n     */\n    Button.prototype.getModuleName = function () {\n        return 'btn';\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @returns string\n     */\n    Button.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @param  {Button} newProp\n     * @param  {Button} oldProp\n     * @returns void\n     * @private\n     */\n    Button.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'isPrimary':\n                    if (newProp.isPrimary) {\n                        this.element.classList.add(cssClassName.PRIMARY);\n                    }\n                    else {\n                        this.element.classList.remove(cssClassName.PRIMARY);\n                    }\n                    break;\n                case 'disabled':\n                    this.controlStatus(newProp.disabled);\n                    this.unWireEvents();\n                    break;\n                case 'iconCss':\n                    var span = this.element.querySelector('span.e-btn-icon');\n                    if (span) {\n                        span.className = 'e-btn-icon ' + newProp.iconCss;\n                        if (this.element.textContent.trim()) {\n                            if (this.iconPosition === 'Left') {\n                                span.classList.add('e-icon-left');\n                            }\n                            else {\n                                span.classList.add('e-icon-right');\n                            }\n                        }\n                    }\n                    else {\n                        this.setIconCss();\n                    }\n                    break;\n                case 'iconPosition':\n                    span = this.element.querySelector('span.e-btn-icon');\n                    if (span) {\n                        detach(span);\n                    }\n                    this.setIconCss();\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([this.element], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([this.element], newProp.cssClass.split(' '));\n                    }\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        this.element.classList.add(cssClassName.RTL);\n                    }\n                    else {\n                        this.element.classList.remove(cssClassName.RTL);\n                    }\n                    break;\n                case 'content':\n                    var node = getTextNode(this.element);\n                    if (!node) {\n                        this.element.classList.remove(cssClassName.ICONBTN);\n                    }\n                    this.element.innerHTML = newProp.content;\n                    this.setIconCss();\n                    break;\n                case 'isToggle':\n                    if (newProp.isToggle) {\n                        EventHandler.add(this.element, 'click', this.btnClickHandler, this);\n                    }\n                    else {\n                        EventHandler.remove(this.element, 'click', this.btnClickHandler);\n                        removeClass([this.element], ['e-active']);\n                    }\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property('Left')\n    ], Button.prototype, \"iconPosition\", void 0);\n    __decorate([\n        Property('')\n    ], Button.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property(false)\n    ], Button.prototype, \"disabled\", void 0);\n    __decorate([\n        Property(false)\n    ], Button.prototype, \"isPrimary\", void 0);\n    __decorate([\n        Property('')\n    ], Button.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], Button.prototype, \"content\", void 0);\n    __decorate([\n        Property(false)\n    ], Button.prototype, \"isToggle\", void 0);\n    Button = __decorate([\n        NotifyPropertyChanges\n    ], Button);\n    return Button;\n}(Component));\nexport { Button };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { Event, EventHandler } from '@syncfusion/ej2-base';\nimport { addClass, detach, getUniqueID, isRippleEnabled, removeClass, rippleEffect } from '@syncfusion/ej2-base';\nimport { wrapperInitialize, rippleMouseHandler } from './../common/common';\nvar CHECK = 'e-check';\nvar DISABLED = 'e-checkbox-disabled';\nvar FRAME = 'e-frame';\nvar INDETERMINATE = 'e-stop';\nvar LABEL = 'e-label';\nvar RIPPLE = 'e-ripple-container';\nvar RIPPLECHECK = 'e-ripple-check';\nvar RIPPLEINDETERMINATE = 'e-ripple-stop';\nvar RTL = 'e-rtl';\nvar WRAPPER = 'e-checkbox-wrapper';\n/**\n * The CheckBox is a graphical user interface element that allows you to select one or more options from the choices.\n * It contains checked, unchecked, and indeterminate states.\n * ```html\n * <input type=\"checkbox\" id=\"checkbox\"/>\n * <script>\n * var checkboxObj = new CheckBox({ label: \"Default\" });\n * checkboxObj.appendTo(\"#checkbox\");\n * </script>\n * ```\n */\nvar CheckBox = /** @class */ (function (_super) {\n    __extends(CheckBox, _super);\n    /**\n     * Constructor for creating the widget\n     * @private\n     */\n    function CheckBox(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isKeyPressed = false;\n        return _this;\n    }\n    CheckBox.prototype.changeState = function (state) {\n        var ariaState;\n        var rippleSpan;\n        var frameSpan = this.getWrapper().getElementsByClassName(FRAME)[0];\n        if (isRippleEnabled) {\n            rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0];\n        }\n        if (state === 'check') {\n            frameSpan.classList.remove(INDETERMINATE);\n            frameSpan.classList.add(CHECK);\n            if (rippleSpan) {\n                rippleSpan.classList.remove(RIPPLEINDETERMINATE);\n                rippleSpan.classList.add(RIPPLECHECK);\n            }\n            ariaState = 'true';\n            this.element.checked = true;\n        }\n        else if (state === 'uncheck') {\n            removeClass([frameSpan], [CHECK, INDETERMINATE]);\n            if (rippleSpan) {\n                removeClass([rippleSpan], [RIPPLECHECK, RIPPLEINDETERMINATE]);\n            }\n            ariaState = 'false';\n            this.element.checked = false;\n        }\n        else {\n            frameSpan.classList.remove(CHECK);\n            frameSpan.classList.add(INDETERMINATE);\n            if (rippleSpan) {\n                rippleSpan.classList.remove(RIPPLECHECK);\n                rippleSpan.classList.add(RIPPLEINDETERMINATE);\n            }\n            ariaState = 'mixed';\n            this.element.indeterminate = true;\n        }\n        this.getWrapper().setAttribute('aria-checked', ariaState);\n    };\n    CheckBox.prototype.clickHandler = function (event) {\n        this.focusOutHandler();\n        if (this.indeterminate) {\n            this.changeState(this.checked ? 'check' : 'uncheck');\n            this.indeterminate = false;\n            this.element.indeterminate = false;\n        }\n        else if (this.checked) {\n            this.changeState('uncheck');\n            this.checked = false;\n        }\n        else {\n            this.changeState('check');\n            this.checked = true;\n        }\n        var changeEventArgs = { checked: this.element.checked, event: event };\n        this.trigger('change', changeEventArgs);\n    };\n    /**\n     * Destroys the widget.\n     * @returns void\n     */\n    CheckBox.prototype.destroy = function () {\n        var _this = this;\n        var wrapper = this.getWrapper();\n        _super.prototype.destroy.call(this);\n        if (!this.disabled) {\n            this.unWireEvents();\n        }\n        if (this.tagName === 'INPUT') {\n            wrapper.parentNode.insertBefore(this.element, wrapper);\n            detach(wrapper);\n            this.element.checked = false;\n            if (this.indeterminate) {\n                this.element.indeterminate = false;\n            }\n            ['name', 'value', 'disabled'].forEach(function (key) {\n                _this.element.removeAttribute(key);\n            });\n        }\n        else {\n            ['role', 'aria-checked', 'class'].forEach(function (key) {\n                wrapper.removeAttribute(key);\n            });\n            if (this.element.id) {\n                wrapper.setAttribute('id', this.element.id);\n            }\n            wrapper.innerHTML = '';\n        }\n    };\n    CheckBox.prototype.focusHandler = function () {\n        if (this.isKeyPressed) {\n            this.getWrapper().classList.add('e-focus');\n        }\n    };\n    CheckBox.prototype.focusOutHandler = function () {\n        this.getWrapper().classList.remove('e-focus');\n    };\n    /**\n     * Gets the module name.\n     * @private\n     */\n    CheckBox.prototype.getModuleName = function () {\n        return 'checkbox';\n    };\n    /**\n     * Gets the properties to be maintained in the persistence state.\n     * @private\n     */\n    CheckBox.prototype.getPersistData = function () {\n        return this.addOnPersist(['checked', 'indeterminate']);\n    };\n    CheckBox.prototype.getWrapper = function () {\n        return this.element.parentElement.parentElement;\n    };\n    CheckBox.prototype.initialize = function () {\n        if (this.name) {\n            this.element.setAttribute('name', this.name);\n        }\n        if (this.value) {\n            this.element.setAttribute('value', this.value);\n        }\n        if (this.checked) {\n            this.changeState('check');\n        }\n        if (this.indeterminate) {\n            this.changeState();\n        }\n        if (this.disabled) {\n            this.setDisabled();\n        }\n    };\n    CheckBox.prototype.initWrapper = function () {\n        var wrapper = this.element.parentElement;\n        if (!wrapper.classList.contains(WRAPPER)) {\n            wrapper = this.createElement('div', {\n                className: WRAPPER, attrs: { 'role': 'checkbox', 'aria-checked': 'false' }\n            });\n            this.element.parentNode.insertBefore(wrapper, this.element);\n        }\n        var label = this.createElement('label', { attrs: { for: this.element.id } });\n        var frameSpan = this.createElement('span', { className: 'e-icons ' + FRAME });\n        if (this.enableRtl) {\n            wrapper.classList.add(RTL);\n        }\n        if (this.cssClass) {\n            addClass([wrapper], this.cssClass.split(' '));\n        }\n        wrapper.appendChild(label);\n        label.appendChild(this.element);\n        label.appendChild(frameSpan);\n        if (isRippleEnabled) {\n            var rippleSpan = this.createElement('span', { className: RIPPLE });\n            if (this.labelPosition === 'Before') {\n                label.appendChild(rippleSpan);\n            }\n            else {\n                label.insertBefore(rippleSpan, frameSpan);\n            }\n            rippleEffect(rippleSpan, { duration: 400, isCenterRipple: true });\n        }\n        if (this.label) {\n            this.setText(this.label);\n        }\n    };\n    CheckBox.prototype.keyDownHandler = function () {\n        this.isKeyPressed = true;\n    };\n    CheckBox.prototype.labelMouseHandler = function (e) {\n        var rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0];\n        rippleMouseHandler(e, rippleSpan);\n    };\n    CheckBox.prototype.mouseDownHandler = function () {\n        this.isKeyPressed = false;\n    };\n    /**\n     * Called internally if any of the property value changes.\n     * @private\n     */\n    CheckBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var wrapper = this.getWrapper();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'checked':\n                    this.indeterminate = false;\n                    this.element.indeterminate = false;\n                    this.changeState(newProp.checked ? 'check' : 'uncheck');\n                    break;\n                case 'indeterminate':\n                    if (newProp.indeterminate) {\n                        this.changeState();\n                    }\n                    else {\n                        this.element.indeterminate = false;\n                        this.changeState(this.checked ? 'check' : 'uncheck');\n                    }\n                    break;\n                case 'disabled':\n                    if (newProp.disabled) {\n                        this.setDisabled();\n                        this.unWireEvents();\n                    }\n                    else {\n                        this.element.disabled = false;\n                        wrapper.classList.remove(DISABLED);\n                        wrapper.setAttribute('aria-disabled', 'false');\n                        this.wireEvents();\n                    }\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        wrapper.classList.remove(oldProp.cssClass);\n                    }\n                    wrapper.classList.add(newProp.cssClass);\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        wrapper.classList.add(RTL);\n                    }\n                    else {\n                        wrapper.classList.remove(RTL);\n                    }\n                    break;\n                case 'label':\n                    this.setText(newProp.label);\n                    break;\n                case 'labelPosition':\n                    var label = wrapper.getElementsByClassName(LABEL)[0];\n                    var labelWrap = wrapper.getElementsByTagName('label')[0];\n                    detach(label);\n                    if (newProp.labelPosition === 'After') {\n                        labelWrap.appendChild(label);\n                    }\n                    else {\n                        labelWrap.insertBefore(label, wrapper.getElementsByClassName(FRAME)[0]);\n                    }\n                    break;\n                case 'name':\n                    this.element.setAttribute('name', newProp.name);\n                    break;\n                case 'value':\n                    this.element.setAttribute('value', newProp.value);\n                    break;\n            }\n        }\n    };\n    /**\n     * Initialize Angular, React and Unique ID support.\n     * @private\n     */\n    CheckBox.prototype.preRender = function () {\n        var element = this.element;\n        this.tagName = this.element.tagName;\n        element = wrapperInitialize(this.createElement, 'EJS-CHECKBOX', 'checkbox', element, WRAPPER, 'checkbox');\n        this.element = element;\n        if (this.element.getAttribute('type') !== 'checkbox') {\n            this.element.setAttribute('type', 'checkbox');\n        }\n        if (!this.element.id) {\n            this.element.id = getUniqueID('e-' + this.getModuleName());\n        }\n    };\n    /**\n     * Initialize the control rendering\n     * @private\n     */\n    CheckBox.prototype.render = function () {\n        this.initWrapper();\n        this.initialize();\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n    };\n    CheckBox.prototype.setDisabled = function () {\n        var wrapper = this.getWrapper();\n        this.element.disabled = true;\n        wrapper.classList.add(DISABLED);\n        wrapper.setAttribute('aria-disabled', 'true');\n    };\n    CheckBox.prototype.setText = function (text) {\n        var label = this.getWrapper().getElementsByClassName(LABEL)[0];\n        if (label) {\n            label.textContent = text;\n        }\n        else {\n            label = this.createElement('span', { className: LABEL, innerHTML: text });\n            var labelWrap = this.getWrapper().getElementsByTagName('label')[0];\n            if (this.labelPosition === 'Before') {\n                labelWrap.insertBefore(label, this.getWrapper().getElementsByClassName(FRAME)[0]);\n            }\n            else {\n                labelWrap.appendChild(label);\n            }\n        }\n    };\n    CheckBox.prototype.unWireEvents = function () {\n        var wrapper = this.getWrapper();\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        EventHandler.remove(document, 'keydown', this.keyDownHandler);\n        EventHandler.remove(wrapper, 'mousedown', this.mouseDownHandler);\n        EventHandler.remove(this.element, 'focus', this.focusHandler);\n        EventHandler.remove(this.element, 'focusout', this.focusOutHandler);\n        var label = wrapper.getElementsByTagName('label')[0];\n        EventHandler.remove(label, 'mousedown', this.labelMouseHandler);\n        EventHandler.remove(label, 'mouseup', this.labelMouseHandler);\n    };\n    CheckBox.prototype.wireEvents = function () {\n        var wrapper = this.getWrapper();\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        EventHandler.add(document, 'keydown', this.keyDownHandler, this);\n        EventHandler.add(wrapper, 'mousedown', this.mouseDownHandler, this);\n        EventHandler.add(this.element, 'focus', this.focusHandler, this);\n        EventHandler.add(this.element, 'focusout', this.focusOutHandler, this);\n        var label = wrapper.getElementsByTagName('label')[0];\n        EventHandler.add(label, 'mousedown', this.labelMouseHandler, this);\n        EventHandler.add(label, 'mouseup', this.labelMouseHandler, this);\n    };\n    __decorate([\n        Event()\n    ], CheckBox.prototype, \"change\", void 0);\n    __decorate([\n        Property(false)\n    ], CheckBox.prototype, \"checked\", void 0);\n    __decorate([\n        Property('')\n    ], CheckBox.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], CheckBox.prototype, \"disabled\", void 0);\n    __decorate([\n        Property(false)\n    ], CheckBox.prototype, \"indeterminate\", void 0);\n    __decorate([\n        Property('')\n    ], CheckBox.prototype, \"label\", void 0);\n    __decorate([\n        Property('After')\n    ], CheckBox.prototype, \"labelPosition\", void 0);\n    __decorate([\n        Property('')\n    ], CheckBox.prototype, \"name\", void 0);\n    __decorate([\n        Property('')\n    ], CheckBox.prototype, \"value\", void 0);\n    CheckBox = __decorate([\n        NotifyPropertyChanges\n    ], CheckBox);\n    return CheckBox;\n}(Component));\nexport { CheckBox };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, rippleEffect, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { addClass, getInstance, getUniqueID, isRippleEnabled, removeClass } from '@syncfusion/ej2-base';\nimport { detach, Event, EventHandler } from '@syncfusion/ej2-base';\nimport { wrapperInitialize, rippleMouseHandler } from './../common/common';\nvar LABEL = 'e-label';\nvar RIPPLE = 'e-ripple-container';\nvar RTL = 'e-rtl';\nvar WRAPPER = 'e-radio-wrapper';\n/**\n * The RadioButton is a graphical user interface element that allows you to select one option from the choices.\n * It contains checked and unchecked states.\n * ```html\n * <input type=\"radio\" id=\"radio\"/>\n * <script>\n * var radioObj = new RadioButton({ label: \"Default\" });\n * radioObj.appendTo(\"#radio\");\n * </script>\n * ```\n */\nvar RadioButton = /** @class */ (function (_super) {\n    __extends(RadioButton, _super);\n    /**\n     * Constructor for creating the widget\n     * @private\n     */\n    function RadioButton(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isKeyPressed = false;\n        return _this;\n    }\n    RadioButton_1 = RadioButton;\n    RadioButton.prototype.changeHandler = function (event) {\n        this.checked = true;\n        this.dataBind();\n        var changeEventArgs = { value: this.value, event: event };\n        this.trigger('change', changeEventArgs);\n    };\n    RadioButton.prototype.updateChange = function (state) {\n        var input;\n        var name = this.element.getAttribute('name');\n        var radioGrp = document.querySelectorAll('input.e-radio[name=\"' + name + '\"]');\n        for (var i = 0; i < radioGrp.length; i++) {\n            input = radioGrp[i];\n            if (input !== this.element) {\n                getInstance(input, RadioButton_1).checked = false;\n            }\n        }\n    };\n    /**\n     * Destroys the widget.\n     * @returns void\n     */\n    RadioButton.prototype.destroy = function () {\n        var _this = this;\n        var radioWrap = this.element.parentElement;\n        _super.prototype.destroy.call(this);\n        if (!this.disabled) {\n            this.unWireEvents();\n        }\n        if (this.tagName === 'INPUT') {\n            radioWrap.parentNode.insertBefore(this.element, radioWrap);\n            detach(radioWrap);\n            this.element.checked = false;\n            ['name', 'value', 'disabled'].forEach(function (key) {\n                _this.element.removeAttribute(key);\n            });\n        }\n        else {\n            ['role', 'aria-checked', 'class'].forEach(function (key) {\n                radioWrap.removeAttribute(key);\n            });\n            if (this.element.id) {\n                radioWrap.setAttribute('id', this.element.id);\n            }\n            radioWrap.innerHTML = '';\n        }\n    };\n    RadioButton.prototype.focusHandler = function () {\n        if (this.isKeyPressed) {\n            this.getLabel().classList.add('e-focus');\n        }\n    };\n    RadioButton.prototype.focusOutHandler = function () {\n        this.getLabel().classList.remove('e-focus');\n    };\n    RadioButton.prototype.getModuleName = function () {\n        return 'radio';\n    };\n    /**\n     * Gets the properties to be maintained in the persistence state.\n     * @private\n     */\n    RadioButton.prototype.getPersistData = function () {\n        return this.addOnPersist(['checked']);\n    };\n    RadioButton.prototype.getLabel = function () {\n        return this.element.nextElementSibling;\n    };\n    RadioButton.prototype.initialize = function () {\n        this.initWrapper();\n        if (this.name) {\n            this.element.setAttribute('name', this.name);\n        }\n        if (this.value) {\n            this.element.setAttribute('value', this.value);\n        }\n        if (this.checked) {\n            this.element.checked = true;\n        }\n        if (this.disabled) {\n            this.setDisabled();\n        }\n    };\n    RadioButton.prototype.initWrapper = function () {\n        var rippleSpan;\n        var wrapper = this.element.parentElement;\n        if (!wrapper.classList.contains(WRAPPER)) {\n            wrapper = this.createElement('div', { className: WRAPPER });\n            this.element.parentNode.insertBefore(wrapper, this.element);\n        }\n        var label = this.createElement('label', { attrs: { for: this.element.id } });\n        wrapper.appendChild(this.element);\n        wrapper.appendChild(label);\n        if (isRippleEnabled) {\n            rippleSpan = this.createElement('span', { className: (RIPPLE) });\n            label.appendChild(rippleSpan);\n            rippleEffect(rippleSpan, {\n                duration: 400,\n                isCenterRipple: true\n            });\n        }\n        if (this.enableRtl) {\n            label.classList.add(RTL);\n        }\n        if (this.cssClass) {\n            addClass([label], this.cssClass.split(' '));\n        }\n        if (this.label) {\n            this.setText(this.label);\n        }\n    };\n    RadioButton.prototype.keyDownHandler = function () {\n        this.isKeyPressed = true;\n    };\n    RadioButton.prototype.labelRippleHandler = function (e) {\n        var ripple = this.getLabel().getElementsByClassName(RIPPLE)[0];\n        rippleMouseHandler(e, ripple);\n    };\n    RadioButton.prototype.mouseDownHandler = function () {\n        this.isKeyPressed = false;\n    };\n    /**\n     * Called internally if any of the property value changes.\n     * @private\n     */\n    RadioButton.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var label = this.getLabel();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'checked':\n                    if (newProp.checked) {\n                        this.updateChange(newProp.checked);\n                    }\n                    this.element.checked = newProp.checked;\n                    break;\n                case 'disabled':\n                    if (newProp.disabled) {\n                        this.setDisabled();\n                        this.unWireEvents();\n                    }\n                    else {\n                        this.element.disabled = false;\n                        this.wireEvents();\n                    }\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([label], oldProp.cssClass.split(' '));\n                    }\n                    addClass([label], newProp.cssClass.split(' '));\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        label.classList.add(RTL);\n                    }\n                    else {\n                        label.classList.remove(RTL);\n                    }\n                    break;\n                case 'label':\n                    this.setText(newProp.label);\n                    break;\n                case 'labelPosition':\n                    if (newProp.labelPosition === 'Before') {\n                        label.classList.add('e-right');\n                    }\n                    else {\n                        label.classList.remove('e-right');\n                    }\n                    break;\n                case 'name':\n                    this.element.setAttribute('name', newProp.name);\n                    break;\n                case 'value':\n                    this.element.setAttribute('value', newProp.value);\n                    break;\n            }\n        }\n    };\n    /**\n     * Initialize checked Property, Angular and React and Unique ID support.\n     * @private\n     */\n    RadioButton.prototype.preRender = function () {\n        var element = this.element;\n        this.tagName = this.element.tagName;\n        element = wrapperInitialize(this.createElement, 'EJS-RADIOBUTTON', 'radio', element, WRAPPER, 'radio');\n        this.element = element;\n        if (this.element.getAttribute('type') !== 'radio') {\n            this.element.setAttribute('type', 'radio');\n        }\n        if (!this.element.id) {\n            this.element.id = getUniqueID('e-' + this.getModuleName());\n        }\n    };\n    /**\n     * Initialize the control rendering\n     * @private\n     */\n    RadioButton.prototype.render = function () {\n        this.initialize();\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n    };\n    RadioButton.prototype.setDisabled = function () {\n        this.element.disabled = true;\n    };\n    RadioButton.prototype.setText = function (text) {\n        var label = this.getLabel();\n        var textLabel = label.getElementsByClassName(LABEL)[0];\n        if (textLabel) {\n            textLabel.textContent = text;\n        }\n        else {\n            textLabel = this.createElement('span', { className: LABEL, innerHTML: text });\n            label.appendChild(textLabel);\n        }\n        if (this.labelPosition === 'Before') {\n            this.getLabel().classList.add('e-right');\n        }\n        else {\n            this.getLabel().classList.remove('e-right');\n        }\n    };\n    RadioButton.prototype.unWireEvents = function () {\n        var label = this.getLabel();\n        EventHandler.remove(this.element, 'change', this.changeHandler);\n        EventHandler.remove(document, 'keydown', this.keyDownHandler);\n        EventHandler.remove(label, 'mousedown', this.mouseDownHandler);\n        EventHandler.remove(this.element, 'focus', this.focusHandler);\n        EventHandler.remove(this.element, 'focusout', this.focusOutHandler);\n        var rippleLabel = label.getElementsByClassName(LABEL)[0];\n        if (rippleLabel) {\n            EventHandler.remove(rippleLabel, 'mousedown', this.labelRippleHandler);\n            EventHandler.remove(rippleLabel, 'mouseup', this.labelRippleHandler);\n        }\n    };\n    RadioButton.prototype.wireEvents = function () {\n        var label = this.getLabel();\n        EventHandler.add(this.element, 'change', this.changeHandler, this);\n        EventHandler.add(document, 'keydown', this.keyDownHandler, this);\n        EventHandler.add(label, 'mousedown', this.mouseDownHandler, this);\n        EventHandler.add(this.element, 'focus', this.focusHandler, this);\n        EventHandler.add(this.element, 'focusout', this.focusOutHandler, this);\n        var rippleLabel = label.getElementsByClassName(LABEL)[0];\n        if (rippleLabel) {\n            EventHandler.add(rippleLabel, 'mousedown', this.labelRippleHandler, this);\n            EventHandler.add(rippleLabel, 'mouseup', this.labelRippleHandler, this);\n        }\n    };\n    __decorate([\n        Event()\n    ], RadioButton.prototype, \"change\", void 0);\n    __decorate([\n        Property(false)\n    ], RadioButton.prototype, \"checked\", void 0);\n    __decorate([\n        Property('')\n    ], RadioButton.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], RadioButton.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('')\n    ], RadioButton.prototype, \"label\", void 0);\n    __decorate([\n        Property('After')\n    ], RadioButton.prototype, \"labelPosition\", void 0);\n    __decorate([\n        Property('')\n    ], RadioButton.prototype, \"name\", void 0);\n    __decorate([\n        Property('')\n    ], RadioButton.prototype, \"value\", void 0);\n    RadioButton = RadioButton_1 = __decorate([\n        NotifyPropertyChanges\n    ], RadioButton);\n    return RadioButton;\n    var RadioButton_1;\n}(Component));\nexport { RadioButton };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { Event, EventHandler } from '@syncfusion/ej2-base';\nimport { addClass, isRippleEnabled, removeClass, rippleEffect } from '@syncfusion/ej2-base';\nimport { rippleMouseHandler, destroy, preRender } from './../common/common';\nvar CHECK = 'e-check';\nvar DISABLED = 'e-switch-disabled';\nvar RIPPLE = 'e-ripple-container';\nvar RIPPLE_CHECK = 'e-ripple-check';\nvar RTL = 'e-rtl';\nvar WRAPPER = 'e-switch-wrapper';\nvar ACTIVE = 'e-switch-active';\n/**\n * The Switch is a graphical user interface element that allows you to toggle between checked and unchecked states.\n * ```html\n * <input type=\"checkbox\" id=\"switch\"/>\n * <script>\n * var switchObj = new Switch({});\n * switchObj.appendTo(\"#switch\");\n * </script>\n * ```\n */\nvar Switch = /** @class */ (function (_super) {\n    __extends(Switch, _super);\n    /**\n     * Constructor for creating the widget.\n     * @private\n     */\n    function Switch(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isKeyPressed = false;\n        _this.isDrag = false;\n        return _this;\n    }\n    Switch.prototype.changeState = function (state) {\n        var ariaState;\n        var rippleSpan;\n        var wrapper = this.getWrapper();\n        var bar = wrapper.querySelector('.e-switch-inner');\n        var handle = wrapper.querySelector('.e-switch-handle');\n        if (isRippleEnabled) {\n            rippleSpan = wrapper.getElementsByClassName(RIPPLE)[0];\n        }\n        if (state) {\n            addClass([bar, handle], ACTIVE);\n            ariaState = 'true';\n            this.element.checked = true;\n            this.checked = true;\n            if (rippleSpan) {\n                addClass([rippleSpan], [RIPPLE_CHECK]);\n            }\n        }\n        else {\n            removeClass([bar, handle], ACTIVE);\n            ariaState = 'false';\n            this.element.checked = false;\n            this.checked = false;\n            if (rippleSpan) {\n                removeClass([rippleSpan], [RIPPLE_CHECK]);\n            }\n        }\n        wrapper.setAttribute('aria-checked', ariaState);\n    };\n    Switch.prototype.clickHandler = function (evt) {\n        this.isDrag = false;\n        this.focusOutHandler();\n        this.changeState(!this.checked);\n        this.element.focus();\n        var changeEventArgs = { checked: this.element.checked, event: evt };\n        this.trigger('change', changeEventArgs);\n    };\n    /**\n     * Destroys the Switch widget.\n     * @returns void\n     */\n    Switch.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        if (!this.disabled) {\n            this.unWireEvents();\n        }\n        destroy(this, this.getWrapper(), this.tagName);\n    };\n    Switch.prototype.focusHandler = function () {\n        if (this.isKeyPressed) {\n            this.getWrapper().classList.add('e-focus');\n        }\n    };\n    Switch.prototype.focusOutHandler = function () {\n        this.getWrapper().classList.remove('e-focus');\n    };\n    /**\n     * Gets the module name.\n     * @private\n     */\n    Switch.prototype.getModuleName = function () {\n        return 'switch';\n    };\n    /**\n     * Gets the properties to be maintained in the persistence state.\n     * @private\n     */\n    Switch.prototype.getPersistData = function () {\n        return this.addOnPersist(['checked']);\n    };\n    Switch.prototype.getWrapper = function () {\n        return this.element.parentElement;\n    };\n    Switch.prototype.initialize = function () {\n        if (this.name) {\n            this.element.setAttribute('name', this.name);\n        }\n        if (this.value) {\n            this.element.setAttribute('value', this.value);\n        }\n        if (this.checked) {\n            this.changeState(true);\n        }\n        if (this.disabled) {\n            this.setDisabled();\n        }\n        if (this.onLabel || this.offLabel) {\n            this.setLabel(this.onLabel, this.offLabel);\n        }\n    };\n    Switch.prototype.initWrapper = function () {\n        var wrapper = this.element.parentElement;\n        if (!wrapper.classList.contains(WRAPPER)) {\n            wrapper = this.createElement('div', {\n                className: WRAPPER, attrs: { 'role': 'switch', 'aria-checked': 'false' }\n            });\n            this.element.parentNode.insertBefore(wrapper, this.element);\n        }\n        var switchInner = this.createElement('span', { className: 'e-switch-inner' });\n        var onLabel = this.createElement('span', { className: 'e-switch-on' });\n        var offLabel = this.createElement('span', { className: 'e-switch-off' });\n        var handle = this.createElement('span', { className: 'e-switch-handle' });\n        wrapper.appendChild(this.element);\n        switchInner.appendChild(onLabel);\n        switchInner.appendChild(offLabel);\n        wrapper.appendChild(switchInner);\n        wrapper.appendChild(handle);\n        if (isRippleEnabled) {\n            var rippleSpan = this.createElement('span', { className: RIPPLE });\n            handle.appendChild(rippleSpan);\n            rippleEffect(rippleSpan, { duration: 400, isCenterRipple: true });\n        }\n        if (this.enableRtl) {\n            wrapper.classList.add(RTL);\n        }\n        if (this.cssClass) {\n            addClass([wrapper], this.cssClass.split(' '));\n        }\n    };\n    /**\n     * Called internally if any of the property value changes.\n     * @private\n     */\n    Switch.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var wrapper = this.getWrapper();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'checked':\n                    this.changeState(newProp.checked);\n                    break;\n                case 'disabled':\n                    if (newProp.disabled) {\n                        this.setDisabled();\n                        this.unWireEvents();\n                    }\n                    else {\n                        this.element.disabled = false;\n                        wrapper.classList.remove(DISABLED);\n                        wrapper.setAttribute('aria-disabled', 'false');\n                        this.wireEvents();\n                    }\n                    break;\n                case 'value':\n                    this.element.setAttribute('value', newProp.value);\n                    break;\n                case 'name':\n                    this.element.setAttribute('name', newProp.name);\n                    break;\n                case 'onLabel':\n                case 'offLabel':\n                    this.setLabel(newProp.onLabel, newProp.offLabel);\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        wrapper.classList.add(RTL);\n                    }\n                    else {\n                        wrapper.classList.remove(RTL);\n                    }\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        wrapper.classList.remove(oldProp.cssClass);\n                    }\n                    wrapper.classList.add(newProp.cssClass);\n                    break;\n            }\n        }\n    };\n    /**\n     * Initialize Angular, React and Unique ID support.\n     * @private\n     */\n    Switch.prototype.preRender = function () {\n        var element = this.element;\n        this.tagName = this.element.tagName;\n        preRender(this, 'EJS-SWITCH', WRAPPER, element, this.getModuleName());\n    };\n    /**\n     * Initialize control rendering.\n     * @private\n     */\n    Switch.prototype.render = function () {\n        this.initWrapper();\n        this.initialize();\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n    };\n    Switch.prototype.rippleHandler = function (e) {\n        var rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0];\n        rippleMouseHandler(e, rippleSpan);\n        if (e.type === 'mousedown' && e.currentTarget.classList.contains('e-switch-wrapper') && e.which === 1) {\n            this.isDrag = true;\n            this.isKeyPressed = false;\n        }\n    };\n    Switch.prototype.rippleTouchHandler = function (eventType) {\n        var rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0];\n        if (rippleSpan) {\n            var event_1 = document.createEvent('MouseEvents');\n            event_1.initEvent(eventType, false, true);\n            rippleSpan.dispatchEvent(event_1);\n        }\n    };\n    Switch.prototype.setDisabled = function () {\n        var wrapper = this.getWrapper();\n        this.element.disabled = true;\n        wrapper.classList.add(DISABLED);\n        wrapper.setAttribute('aria-disabled', 'true');\n    };\n    Switch.prototype.setLabel = function (onText, offText) {\n        var wrapper = this.getWrapper();\n        if (onText) {\n            wrapper.querySelector('.e-switch-on').textContent = onText;\n        }\n        if (offText) {\n            wrapper.querySelector('.e-switch-off').textContent = offText;\n        }\n    };\n    Switch.prototype.switchFocusHandler = function () {\n        this.isKeyPressed = true;\n    };\n    Switch.prototype.switchMouseUp = function (e) {\n        var target = e.target;\n        var rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0];\n        if (e.type === 'touchmove') {\n            e.preventDefault();\n        }\n        if (e.type === 'touchstart') {\n            this.isDrag = true;\n            this.rippleTouchHandler('mousedown');\n        }\n        if (this.isDrag) {\n            if ((e.type === 'mouseup' && target.className.indexOf('e-switch') < 0) || e.type === 'touchend') {\n                this.clickHandler(e);\n                this.rippleTouchHandler('mouseup');\n                e.preventDefault();\n            }\n        }\n    };\n    /**\n     * Toggle the Switch component state into checked/unchecked.\n     * @returns void\n     */\n    Switch.prototype.toggle = function () {\n        this.clickHandler();\n    };\n    Switch.prototype.wireEvents = function () {\n        var wrapper = this.getWrapper();\n        var handle = wrapper.querySelector('.e-switch-handle');\n        EventHandler.add(wrapper, 'click', this.clickHandler, this);\n        EventHandler.add(this.element, 'focus', this.focusHandler, this);\n        EventHandler.add(this.element, 'focusout', this.focusOutHandler, this);\n        EventHandler.add(document, 'mouseup', this.switchMouseUp, this);\n        EventHandler.add(document, 'keydown', this.switchFocusHandler, this);\n        EventHandler.add(wrapper, 'mousedown mouseup', this.rippleHandler, this);\n        EventHandler.add(wrapper, 'touchstart touchmove touchend', this.switchMouseUp, this);\n    };\n    Switch.prototype.unWireEvents = function () {\n        var wrapper = this.getWrapper();\n        var handle = wrapper.querySelector('.e-switch-handle');\n        EventHandler.remove(wrapper, 'click', this.clickHandler);\n        EventHandler.remove(this.element, 'focus', this.focusHandler);\n        EventHandler.remove(this.element, 'focusout', this.focusOutHandler);\n        EventHandler.remove(document, 'mouseup', this.switchMouseUp);\n        EventHandler.remove(document, 'keydown', this.switchFocusHandler);\n        EventHandler.remove(wrapper, 'mousedown mouseup', this.rippleHandler);\n        EventHandler.remove(wrapper, 'touchstart touchmove touchend', this.switchMouseUp);\n    };\n    __decorate([\n        Event()\n    ], Switch.prototype, \"change\", void 0);\n    __decorate([\n        Property(false)\n    ], Switch.prototype, \"checked\", void 0);\n    __decorate([\n        Property('')\n    ], Switch.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], Switch.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('')\n    ], Switch.prototype, \"name\", void 0);\n    __decorate([\n        Property('')\n    ], Switch.prototype, \"onLabel\", void 0);\n    __decorate([\n        Property('')\n    ], Switch.prototype, \"offLabel\", void 0);\n    __decorate([\n        Property('')\n    ], Switch.prototype, \"value\", void 0);\n    Switch = __decorate([\n        NotifyPropertyChanges\n    ], Switch);\n    return Switch;\n}(Component));\nexport { Switch };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { merge, formatUnit, isNullOrUndefined, append, detach } from '@syncfusion/ej2-base';\nimport { attributes, addClass, removeClass, prepend, closest, remove } from '@syncfusion/ej2-base';\nimport { Component, EventHandler, Property, Complex, Event } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty } from '@syncfusion/ej2-base';\nimport { compile } from '@syncfusion/ej2-base';\nimport { Animation, rippleEffect, Touch } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { ListBase, getFieldValues } from '../common/list-base';\n// Effect Configuration Effect[] =  [fromViewBackward,fromViewForward,toViewBackward,toviewForward];\nvar effectsConfig = {\n    'None': [],\n    'SlideLeft': ['SlideRightOut', 'SlideLeftOut', 'SlideLeftIn', 'SlideRightIn'],\n    'SlideDown': ['SlideTopOut', 'SlideBottomOut', 'SlideBottomIn', 'SlideTopIn'],\n    'Zoom': ['FadeOut', 'FadeZoomOut', 'FadeZoomIn', 'FadeIn'],\n    'Fade': ['FadeOut', 'FadeOut', 'FadeIn', 'FadeIn']\n};\nvar effectsRTLConfig = {\n    'None': [],\n    'SlideLeft': ['SlideLeftOut', 'SlideRightOut', 'SlideRightIn', 'SlideLeftIn'],\n    'SlideDown': ['SlideBottomOut', 'SlideTopOut', 'SlideTopIn', 'SlideBottomIn'],\n    'Zoom': ['FadeZoomOut', 'FadeOut', 'FadeIn', 'FadeZoomIn'],\n    'Fade': ['FadeOut', 'FadeOut', 'FadeIn', 'FadeIn']\n};\n// don't use space in classnames.\nexport var classNames = {\n    root: 'e-listview',\n    hover: 'e-hover',\n    selected: 'e-active',\n    focused: 'e-focused',\n    parentItem: 'e-list-parent',\n    listItem: 'e-list-item',\n    listIcon: 'e-list-icon',\n    textContent: 'e-text-content',\n    listItemText: 'e-list-text',\n    groupListItem: 'e-list-group-item',\n    hasChild: 'e-has-child',\n    view: 'e-view',\n    header: 'e-list-header',\n    headerText: 'e-headertext',\n    headerTemplateText: 'e-headertemplate-text',\n    text: 'e-text',\n    disable: 'e-disabled',\n    content: 'e-content',\n    icon: 'e-icons',\n    backIcon: 'e-icon-back',\n    checkboxWrapper: 'e-checkbox-wrapper',\n    checkbox: 'e-checkbox',\n    checked: 'e-check',\n    checklist: 'e-checklist',\n    checkboxIcon: 'e-frame',\n    checkboxRight: 'e-checkbox-right',\n    checkboxLeft: 'e-checkbox-left',\n    listviewCheckbox: 'e-listview-checkbox',\n    itemCheckList: 'e-checklist'\n};\nvar FieldSettings = /** @class */ (function (_super) {\n    __extends(FieldSettings, _super);\n    function FieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('id')\n    ], FieldSettings.prototype, \"id\", void 0);\n    __decorate([\n        Property('text')\n    ], FieldSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property('isChecked')\n    ], FieldSettings.prototype, \"isChecked\", void 0);\n    __decorate([\n        Property('isVisible')\n    ], FieldSettings.prototype, \"isVisible\", void 0);\n    __decorate([\n        Property('enabled')\n    ], FieldSettings.prototype, \"enabled\", void 0);\n    __decorate([\n        Property('iconCss')\n    ], FieldSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('child')\n    ], FieldSettings.prototype, \"child\", void 0);\n    __decorate([\n        Property('tooltip')\n    ], FieldSettings.prototype, \"tooltip\", void 0);\n    __decorate([\n        Property('groupBy')\n    ], FieldSettings.prototype, \"groupBy\", void 0);\n    __decorate([\n        Property('text')\n    ], FieldSettings.prototype, \"sortBy\", void 0);\n    __decorate([\n        Property('htmlAttributes')\n    ], FieldSettings.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('tableName')\n    ], FieldSettings.prototype, \"tableName\", void 0);\n    return FieldSettings;\n}(ChildProperty));\nexport { FieldSettings };\n/**\n * Represents the EJ2 ListView control.\n * ```html\n * <div id=\"listview\">\n * <ul>\n * <li>Favourite</li>\n * <li>Documents</li>\n * <li>Downloads</li>\n * </ul>\n * </div>\n * ```\n * ```typescript\n *   var lvObj = new ListView({});\n *   lvObj.appendTo(\"#listview\");\n * ```\n */\nvar ListView = /** @class */ (function (_super) {\n    __extends(ListView, _super);\n    /**\n     * Constructor for creating the widget\n     */\n    function ListView(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    ListView.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'htmlAttributes':\n                    this.setHTMLAttribute();\n                    break;\n                case 'cssClass':\n                    this.setCSSClass(oldProp.cssClass);\n                    break;\n                case 'enable':\n                    this.setEnable();\n                    break;\n                case 'width':\n                case 'height':\n                    this.setSize();\n                    break;\n                case 'enableRtl':\n                    this.setEnableRTL();\n                    break;\n                case 'fields':\n                    this.listBaseOption.fields = this.fields.properties;\n                    if (this.enableVirtualization) {\n                        this.virtualizationModule.reRenderUiVirtualization();\n                    }\n                    else {\n                        this.reRender();\n                    }\n                    break;\n                case 'headerTitle':\n                    if (!this.curDSLevel.length) {\n                        this.header(this.headerTitle, false);\n                    }\n                    break;\n                case 'showHeader':\n                    this.header(this.headerTitle, false);\n                    break;\n                case 'enableVirtualization':\n                    detach(this.contentContainer);\n                    this.refresh();\n                    break;\n                case 'showCheckBox':\n                case 'checkBoxPosition':\n                    if (this.enableVirtualization) {\n                        this.virtualizationModule.reRenderUiVirtualization();\n                    }\n                    else {\n                        this.setCheckbox();\n                    }\n                    break;\n                case 'dataSource':\n                    if (this.enableVirtualization) {\n                        this.virtualizationModule.reRenderUiVirtualization();\n                    }\n                    else {\n                        this.reRender();\n                    }\n                    break;\n                case 'sortOrder':\n                case 'showIcon':\n                    if (this.enableVirtualization) {\n                        this.virtualizationModule.reRenderUiVirtualization();\n                    }\n                    else {\n                        this.listBaseOption.showIcon = this.showIcon;\n                        this.curViewDS = this.getSubDS();\n                        this.resetCurrentList();\n                    }\n                    break;\n                default:\n                    break;\n            }\n        }\n    };\n    // Model Changes\n    ListView.prototype.setHTMLAttribute = function () {\n        if (Object.keys(this.htmlAttributes).length) {\n            attributes(this.element, this.htmlAttributes);\n        }\n    };\n    ListView.prototype.setCSSClass = function (oldCSSClass) {\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n        if (oldCSSClass) {\n            removeClass([this.element], oldCSSClass.split(' '));\n        }\n    };\n    ListView.prototype.setSize = function () {\n        this.element.style.height = formatUnit(this.height);\n        this.element.style.width = formatUnit(this.width);\n        this.isWindow = this.element.getBoundingClientRect().height ? false : true;\n    };\n    ListView.prototype.setEnable = function () {\n        this.enableElement(this.element, this.enable);\n    };\n    ListView.prototype.setEnableRTL = function () {\n        if (this.enableRtl) {\n            this.element.classList.add('e-rtl');\n        }\n        else {\n            this.element.classList.remove('e-rtl');\n        }\n    };\n    ListView.prototype.enableElement = function (element, isEnabled) {\n        if (isEnabled) {\n            element.classList.remove(classNames.disable);\n        }\n        else {\n            element.classList.add(classNames.disable);\n        }\n    };\n    //Suport Component Functions\n    ListView.prototype.header = function (text, showBack) {\n        if (this.headerEle === undefined && this.showHeader) {\n            this.headerEle = this.createElement('div', { className: classNames.header });\n            var innerHeaderEle = this.createElement('span', { className: classNames.headerText, innerHTML: this.headerTitle });\n            var textEle = this.createElement('div', { className: classNames.text, innerHTML: innerHeaderEle.outerHTML });\n            var hedBackButton = this.createElement('div', {\n                className: classNames.icon + ' ' + classNames.backIcon + ' e-but-back',\n                attrs: { style: 'display:none;' }\n            });\n            this.headerEle.appendChild(hedBackButton);\n            this.headerEle.appendChild(textEle);\n            if (this.headerTemplate) {\n                var compiledString = compile(this.headerTemplate);\n                var headerTemplateEle = this.createElement('div', { className: classNames.headerTemplateText });\n                append(compiledString({}), headerTemplateEle);\n                append([headerTemplateEle], this.headerEle);\n            }\n            if (this.headerTemplate && this.headerTitle) {\n                textEle.classList.add('header');\n            }\n            this.element.classList.add('e-has-header');\n            prepend([this.headerEle], this.element);\n        }\n        else if (this.headerEle) {\n            if (this.showHeader) {\n                this.headerEle.style.display = '';\n                var textEle = this.headerEle.querySelector('.' + classNames.headerText);\n                var hedBackButton = this.headerEle.querySelector('.' + classNames.backIcon);\n                textEle.innerHTML = text;\n                if (this.headerTemplate && showBack) {\n                    textEle.parentElement.classList.remove('header');\n                    this.headerEle.querySelector('.' + classNames.headerTemplateText).classList.add('nested-header');\n                }\n                if (this.headerTemplate && !showBack) {\n                    textEle.parentElement.classList.add('header');\n                    this.headerEle.querySelector('.' + classNames.headerTemplateText).classList.remove('nested-header');\n                    this.headerEle.querySelector('.' + classNames.headerTemplateText).classList.add('header');\n                }\n                if (showBack === true) {\n                    hedBackButton.style.display = '';\n                }\n                else {\n                    hedBackButton.style.display = 'none';\n                }\n            }\n            else {\n                this.headerEle.style.display = 'none';\n            }\n        }\n    };\n    // Animation Related Functions\n    ListView.prototype.switchView = function (fromView, toView, reverse) {\n        var _this = this;\n        if (fromView && toView) {\n            var fPos_1 = fromView.style.position;\n            var overflow_1 = (this.element.style.overflow !== 'hidden') ? this.element.style.overflow : '';\n            fromView.style.position = 'absolute';\n            fromView.classList.add('e-view');\n            var anim = void 0;\n            var duration = this.animation.duration;\n            if (this.animation.effect) {\n                anim = (this.enableRtl ? effectsRTLConfig[this.animation.effect] : effectsConfig[this.animation.effect]);\n            }\n            else {\n                var slideLeft = 'SlideLeft';\n                anim = effectsConfig[slideLeft];\n                reverse = this.enableRtl;\n                duration = 0;\n            }\n            this.element.style.overflow = 'hidden';\n            this.aniObj.animate(fromView, {\n                name: (reverse === true ? anim[0] : anim[1]),\n                duration: duration,\n                timingFunction: this.animation.easing,\n                end: function (model) {\n                    fromView.style.display = 'none';\n                    _this.element.style.overflow = overflow_1;\n                    fromView.style.position = fPos_1;\n                    fromView.classList.remove('e-view');\n                }\n            });\n            toView.style.display = '';\n            this.aniObj.animate(toView, {\n                name: (reverse === true ? anim[2] : anim[3]),\n                duration: duration,\n                timingFunction: this.animation.easing,\n                end: function () {\n                    _this.trigger('actionComplete');\n                }\n            });\n            this.curUL = toView;\n        }\n    };\n    ListView.prototype.preRender = function () {\n        this.listBaseOption = {\n            template: this.template,\n            headerTemplate: this.headerTemplate,\n            groupTemplate: this.groupTemplate, expandCollapse: true, listClass: '',\n            ariaAttributes: {\n                itemRole: 'listitem', listRole: 'list', itemText: '',\n                groupItemRole: 'group', wrapperRole: 'presentation'\n            },\n            fields: this.fields.properties, sortOrder: this.sortOrder, showIcon: this.showIcon,\n            itemCreated: this.renderCheckbox.bind(this)\n        };\n        this.initialization();\n    };\n    ListView.prototype.initialization = function () {\n        this.curDSLevel = [];\n        this.animateOptions = {};\n        this.curViewDS = [];\n        this.currentLiElements = [];\n        this.isNestedList = false;\n        this.selectedData = [];\n        this.selectedId = [];\n        this.aniObj = new Animation(this.animateOptions);\n    };\n    ListView.prototype.renderCheckbox = function (args) {\n        if (args.item.classList.contains(classNames.hasChild)) {\n            this.isNestedList = true;\n        }\n        if (this.showCheckBox && this.isValidLI(args.item)) {\n            var checkboxElement = void 0;\n            var fieldData = void 0;\n            checkboxElement = createCheckBox(this.createElement, false, {\n                checked: false, enableRtl: this.enableRtl,\n                cssClass: classNames.listviewCheckbox\n            });\n            checkboxElement.setAttribute('role', 'checkbox');\n            var frameElement_1 = checkboxElement.querySelector('.' + classNames.checkboxIcon);\n            args.item.classList.add(classNames.itemCheckList);\n            args.item.firstElementChild.classList.add(classNames.checkbox);\n            if (typeof this.dataSource[0] !== 'string' && typeof this.dataSource[0] !== 'number') {\n                fieldData = getFieldValues(args.curData, this.listBaseOption.fields);\n                if (fieldData[this.listBaseOption.fields.isChecked]) {\n                    this.checkInternally(args, checkboxElement);\n                }\n            }\n            else if (((typeof this.dataSource[0] === 'string' ||\n                typeof this.dataSource[0] === 'number') && this.selectedData.indexOf(args.text) !== -1)) {\n                this.checkInternally(args, checkboxElement);\n            }\n            checkboxElement.setAttribute('aria-checked', frameElement_1.classList.contains(classNames.checked) ? 'true' : 'false');\n            if (this.checkBoxPosition === 'Left') {\n                checkboxElement.classList.add(classNames.checkboxLeft);\n                args.item.firstElementChild.classList.add(classNames.checkboxLeft);\n                args.item.firstElementChild.insertBefore(checkboxElement, args.item.firstElementChild.childNodes[0]);\n            }\n            else {\n                checkboxElement.classList.add(classNames.checkboxRight);\n                args.item.firstElementChild.classList.add(classNames.checkboxRight);\n                args.item.firstElementChild.appendChild(checkboxElement);\n            }\n            this.currentLiElements.push(args.item);\n        }\n    };\n    ListView.prototype.checkInternally = function (args, checkboxElement) {\n        args.item.classList.add(classNames.selected);\n        args.item.setAttribute('aria-selected', 'true');\n        checkboxElement.querySelector('.' + classNames.checkboxIcon).classList.add(classNames.checked);\n        checkboxElement.setAttribute('aria-checked', 'true');\n    };\n    /**\n     * It is used to check the checkbox of an item.\n     * @param  {Fields | HTMLElement} item - It accepts Fields or HTML list element as an argument.\n     */\n    ListView.prototype.checkItem = function (item) {\n        this.toggleCheckBase(item, true);\n    };\n    ListView.prototype.toggleCheckBase = function (item, checked) {\n        if (this.showCheckBox) {\n            var liElement = item;\n            if (item instanceof Object && item.constructor !== HTMLLIElement) {\n                liElement = this.getLiFromObjOrElement(item);\n            }\n            if (!isNullOrUndefined(liElement)) {\n                var checkboxIcon = liElement.querySelector('.' + classNames.checkboxIcon);\n                checked ? liElement.classList.add(classNames.selected) : liElement.classList.remove(classNames.selected);\n                liElement.setAttribute('aria-selected', checked ? 'true' : 'false');\n                checked ? checkboxIcon.classList.add(classNames.checked) : checkboxIcon.classList.remove(classNames.checked);\n                checkboxIcon.parentElement.setAttribute('aria-checked', checked ? 'true' : 'false');\n            }\n            this.setSelectedItemData(liElement);\n        }\n    };\n    /**\n     * It is used to uncheck the checkbox of an item.\n     * @param  {Fields | HTMLElement} item - It accepts Fields or HTML list element as an argument.\n     */\n    ListView.prototype.uncheckItem = function (item) {\n        this.toggleCheckBase(item, false);\n    };\n    /**\n     * It is used to check all the items in ListView.\n     */\n    ListView.prototype.checkAllItems = function () {\n        this.toggleAllCheckBase(true);\n    };\n    /**\n     * It is used to un-check all the items in ListView.\n     */\n    ListView.prototype.uncheckAllItems = function () {\n        this.toggleAllCheckBase(false);\n    };\n    ListView.prototype.toggleAllCheckBase = function (checked) {\n        if (this.showCheckBox) {\n            for (var i = 0; i < this.liCollection.length; i++) {\n                var checkIcon = this.liCollection[i].querySelector('.' + classNames.checkboxIcon);\n                if (checkIcon) {\n                    if (checked) {\n                        if (!checkIcon.classList.contains(classNames.checked)) {\n                            this.checkItem(this.liCollection[i]);\n                        }\n                    }\n                    else {\n                        if (checkIcon.classList.contains(classNames.checked)) {\n                            this.uncheckItem(this.liCollection[i]);\n                        }\n                    }\n                }\n            }\n            if (this.enableVirtualization) {\n                this.virtualizationModule.checkedItem(checked);\n            }\n        }\n    };\n    ListView.prototype.setCheckbox = function () {\n        var _this = this;\n        if (this.showCheckBox) {\n            var liCollection = Array.prototype.slice.call(this.element.querySelectorAll('.' + classNames.listItem));\n            var args_1 = {\n                item: undefined, curData: undefined, dataSource: undefined, fields: undefined,\n                options: undefined, text: ''\n            };\n            liCollection.forEach(function (element) {\n                args_1.item = element;\n                args_1.curData = _this.getItemData(element);\n                if (element.querySelector('.' + classNames.checkboxWrapper)) {\n                    _this.removeElement(element.querySelector('.' + classNames.checkboxWrapper));\n                }\n                _this.renderCheckbox(args_1);\n                if (args_1.item.classList.contains(classNames.selected)) {\n                    _this.checkInternally(args_1, args_1.item.querySelector('.' + classNames.checkboxWrapper));\n                }\n            });\n        }\n        else {\n            var liCollection = Array.prototype.slice.call(this.element.querySelectorAll('.' + classNames.itemCheckList));\n            liCollection.forEach(function (element) {\n                element.classList.remove(classNames.selected);\n                element.firstElementChild.classList.remove(classNames.checkbox);\n                _this.removeElement(element.querySelector('.' + classNames.checkboxWrapper));\n            });\n            if (this.selectedItems) {\n                this.selectedItems.item.classList.add(classNames.selected);\n            }\n        }\n    };\n    ListView.prototype.clickHandler = function (e) {\n        var target = e.target;\n        var classList = target.classList;\n        if (classList.contains(classNames.backIcon) || classList.contains(classNames.headerText)) {\n            if (this.showCheckBox && this.curDSLevel[this.curDSLevel.length - 1]) {\n                this.uncheckAllItems();\n            }\n            this.back();\n        }\n        else {\n            var li = closest(target.parentNode, '.' + classNames.listItem);\n            if (li === null) {\n                li = target;\n            }\n            this.removeFocus();\n            if (this.enable && this.showCheckBox && this.isValidLI(li)) {\n                if (e.target.classList.contains(classNames.checkboxIcon)) {\n                    li.classList.add(classNames.focused);\n                    if (isNullOrUndefined(li.querySelector('.' + classNames.checked))) {\n                        var args = {\n                            curData: undefined, dataSource: undefined, fields: undefined, options: undefined,\n                            text: undefined, item: li\n                        };\n                        this.checkInternally(args, args.item.querySelector('.' + classNames.checkboxWrapper));\n                    }\n                    else {\n                        this.uncheckItem(li);\n                        li.classList.add(classNames.focused);\n                    }\n                    if (e) {\n                        var eventArgs = this.selectEventData(li, e);\n                        var checkIcon = li.querySelector('.' + classNames.checkboxIcon);\n                        merge(eventArgs, { isChecked: checkIcon.classList.contains(classNames.checked) });\n                        this.trigger('select', eventArgs);\n                    }\n                }\n                else if (li.classList.contains(classNames.hasChild)) {\n                    this.removeHover();\n                    this.removeSelect();\n                    this.removeSelect(li);\n                    this.setSelectLI(li, e);\n                    li.classList.remove(classNames.selected);\n                }\n                else {\n                    this.setCheckboxLI(li, e);\n                }\n            }\n            else {\n                this.setSelectLI(li, e);\n            }\n        }\n    };\n    ListView.prototype.removeElement = function (element) {\n        return element && element.parentNode && element.parentNode.removeChild(element);\n    };\n    ListView.prototype.hoverHandler = function (e) {\n        var curLi = closest(e.target.parentNode, '.' + classNames.listItem);\n        this.setHoverLI(curLi);\n    };\n    ListView.prototype.leaveHandler = function (e) {\n        this.removeHover();\n    };\n    ;\n    ListView.prototype.homeKeyHandler = function (e, end) {\n        if (Object.keys(this.dataSource).length && this.curUL) {\n            var li = this.curUL.querySelectorAll('.' + classNames.listItem);\n            var focusedElement = this.curUL.querySelector('.' + classNames.focused) ||\n                this.curUL.querySelector('.' + classNames.selected);\n            if (focusedElement) {\n                focusedElement.classList.remove(classNames.focused);\n                if (!this.showCheckBox) {\n                    focusedElement.classList.remove(classNames.selected);\n                }\n            }\n            var index = !end ? 0 : li.length - 1;\n            if (li[index].classList.contains(classNames.hasChild) || this.showCheckBox) {\n                li[index].classList.add(classNames.focused);\n            }\n            else {\n                this.setSelectLI(li[index], e);\n            }\n        }\n    };\n    ListView.prototype.onArrowKeyDown = function (e, prev) {\n        var siblingLI;\n        var li;\n        var hasChild = !isNullOrUndefined(this.curUL.querySelector('.' + classNames.hasChild)) ? true : false;\n        if (hasChild || this.showCheckBox) {\n            li = this.curUL.querySelector('.' + classNames.focused) || this.curUL.querySelector('.' + classNames.selected);\n            siblingLI = ListBase.getSiblingLI(this.curUL.querySelectorAll('.' + classNames.listItem), li, prev);\n            if (!isNullOrUndefined(siblingLI)) {\n                if (li) {\n                    li.classList.remove(classNames.focused);\n                    if (!this.showCheckBox) {\n                        li.classList.remove(classNames.selected);\n                    }\n                }\n                if (siblingLI.classList.contains(classNames.hasChild) || this.showCheckBox) {\n                    siblingLI.classList.add(classNames.focused);\n                }\n                else {\n                    this.setSelectLI(siblingLI, e);\n                }\n            }\n        }\n        else {\n            li = this.curUL.querySelector('.' + classNames.selected);\n            siblingLI = ListBase.getSiblingLI(this.curUL.querySelectorAll('.' + classNames.listItem), li, prev);\n            this.setSelectLI(siblingLI, e);\n        }\n        return siblingLI;\n    };\n    ListView.prototype.arrowKeyHandler = function (e, prev) {\n        var _this = this;\n        if (Object.keys(this.dataSource).length && this.curUL) {\n            var siblingLI = this.onArrowKeyDown(e, prev);\n            var elementTop = this.element.getBoundingClientRect().top;\n            var elementHeight = this.element.getBoundingClientRect().height;\n            var firstItemBounds = this.curUL.querySelector('.' + classNames.listItem).getBoundingClientRect();\n            var heightDiff = void 0;\n            var groupItemBounds = void 0;\n            if (this.fields.groupBy) {\n                groupItemBounds = this.curUL.querySelector('.' + classNames.groupListItem).getBoundingClientRect();\n            }\n            if (siblingLI) {\n                var siblingTop = siblingLI.getBoundingClientRect().top;\n                var siblingHeight = siblingLI.getBoundingClientRect().height;\n                if (!prev) {\n                    var height = this.isWindow ? window.innerHeight : elementHeight;\n                    heightDiff = this.isWindow ? (siblingTop + siblingHeight) :\n                        ((siblingTop - elementTop) + siblingHeight);\n                    if (heightDiff > height) {\n                        this.isWindow ? window.scrollTo(0, pageYOffset + (heightDiff - height)) :\n                            this.element.scrollTo(0, this.element.scrollTop + (heightDiff - height));\n                    }\n                }\n                else {\n                    heightDiff = this.isWindow ? siblingTop : (siblingTop - elementTop);\n                    if (heightDiff < 0) {\n                        this.isWindow ? window.scrollTo(0, pageYOffset + heightDiff) :\n                            this.element.scrollTo(0, this.element.scrollTop + heightDiff);\n                    }\n                }\n            }\n            else if (this.enableVirtualization && prev && this.virtualizationModule.uiFirstIndex) {\n                this.onUIScrolled = function () {\n                    _this.onArrowKeyDown(e, prev);\n                    _this.onUIScrolled = undefined;\n                };\n                heightDiff = this.virtualizationModule.listItemHeight;\n                this.isWindow ? window.scrollTo(0, pageYOffset - heightDiff) :\n                    this.element.scrollTo(0, this.element.scrollTop - heightDiff);\n            }\n            else if (prev) {\n                if (this.showHeader && this.headerEle) {\n                    var topHeight = groupItemBounds ? groupItemBounds.top : firstItemBounds.top;\n                    var headerBounds = this.headerEle.getBoundingClientRect();\n                    heightDiff = headerBounds.top < 0 ? (headerBounds.height - topHeight) : 0;\n                    this.isWindow ? window.scrollTo(0, pageYOffset - heightDiff)\n                        : this.element.scrollTo(0, 0);\n                }\n                else if (this.fields.groupBy) {\n                    heightDiff = this.isWindow ? (groupItemBounds.top < 0 ? groupItemBounds.top : 0) :\n                        (elementTop - firstItemBounds.top) + groupItemBounds.height;\n                    this.isWindow ? window.scrollTo(0, pageYOffset + heightDiff) :\n                        this.element.scrollTo(0, this.element.scrollTop - heightDiff);\n                }\n            }\n        }\n    };\n    ListView.prototype.enterKeyHandler = function (e) {\n        if (Object.keys(this.dataSource).length && this.curUL) {\n            var hasChild = !isNullOrUndefined(this.curUL.querySelector('.' + classNames.hasChild)) ? true : false;\n            var li = this.curUL.querySelector('.' + classNames.focused);\n            if (hasChild && li) {\n                li.classList.remove(classNames.focused);\n                if (this.showCheckBox) {\n                    this.removeSelect();\n                    this.removeSelect(li);\n                    this.removeHover();\n                }\n                this.setSelectLI(li, e);\n            }\n        }\n    };\n    ListView.prototype.spaceKeyHandler = function (e) {\n        if (this.enable && this.showCheckBox && Object.keys(this.dataSource).length && this.curUL) {\n            var li = this.curUL.querySelector('.' + classNames.focused);\n            if (!isNullOrUndefined(li) && isNullOrUndefined(li.querySelector('.' + classNames.checked))) {\n                var args = {\n                    curData: undefined, dataSource: undefined, fields: undefined, options: undefined,\n                    text: undefined, item: li\n                };\n                this.checkInternally(args, args.item.querySelector('.' + classNames.checkboxWrapper));\n            }\n            else {\n                this.uncheckItem(li);\n            }\n        }\n    };\n    ListView.prototype.keyActionHandler = function (e) {\n        e.preventDefault();\n        switch (e.keyCode) {\n            case 36:\n                this.homeKeyHandler(e);\n                break;\n            case 35:\n                this.homeKeyHandler(e, true);\n                break;\n            case 40:\n                this.arrowKeyHandler(e);\n                break;\n            case 38:\n                this.arrowKeyHandler(e, true);\n                break;\n            case 13:\n                this.enterKeyHandler(e);\n                break;\n            case 8:\n                if (this.showCheckBox && this.curDSLevel[this.curDSLevel.length - 1]) {\n                    this.uncheckAllItems();\n                }\n                this.back();\n                break;\n            case 9:\n                this.tabFocus(e);\n                break;\n            case 32:\n                this.spaceKeyHandler(e);\n                break;\n        }\n    };\n    ListView.prototype.swipeActionHandler = function (e) {\n        if (e.swipeDirection === 'Right') {\n            if (this.showCheckBox && this.curDSLevel[this.curDSLevel.length - 1]) {\n                this.uncheckAllItems();\n            }\n            this.back();\n        }\n    };\n    ListView.prototype.focusout = function () {\n        if (Object.keys(this.dataSource).length && this.curUL) {\n            var focusedElement = this.curUL.querySelector('.' + classNames.focused);\n            var activeElement = this.curUL.querySelector('[aria-selected = true]');\n            if (focusedElement && !this.showCheckBox) {\n                focusedElement.classList.remove(classNames.focused);\n                if (activeElement) {\n                    activeElement.classList.add(classNames.selected);\n                }\n            }\n        }\n    };\n    ListView.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'keydown', this.keyActionHandler, this);\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        if (!this.enableVirtualization) {\n            EventHandler.add(this.element, 'mouseover', this.hoverHandler, this);\n            EventHandler.add(this.element, 'mouseout', this.leaveHandler, this);\n        }\n        EventHandler.add(this.element, 'focusout', this.focusout, this);\n        this.touchModule = new Touch(this.element, { swipe: this.swipeActionHandler.bind(this) });\n    };\n    ListView.prototype.unWireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        if (!this.enableVirtualization) {\n            EventHandler.remove(this.element, 'mouseover', this.hoverHandler);\n            EventHandler.remove(this.element, 'mouseout', this.leaveHandler);\n        }\n        EventHandler.remove(this.element, 'mouseover', this.hoverHandler);\n        EventHandler.remove(this.element, 'mouseout', this.leaveHandler);\n        this.touchModule.destroy();\n    };\n    ListView.prototype.tabFocus = function (e) {\n        if (Object.keys(this.dataSource).length && this.curUL) {\n            var selectedList = this.curUL.querySelector('.' + classNames.selected);\n            if ((!selectedList && this.curUL) || this.showCheckBox) {\n                var li = this.curUL.querySelector('.' + classNames.listItem);\n                if (li.classList.contains(classNames.hasChild) || this.showCheckBox) {\n                    var focusedElement = this.curUL.querySelector('.' + classNames.focused);\n                    if (isNullOrUndefined(focusedElement)) {\n                        li.classList.add(classNames.focused);\n                    }\n                }\n                else {\n                    this.setSelectLI(li, e);\n                }\n            }\n        }\n    };\n    ListView.prototype.removeFocus = function () {\n        var focusedLI = this.element.querySelectorAll('.' + classNames.focused);\n        for (var _i = 0, focusedLI_1 = focusedLI; _i < focusedLI_1.length; _i++) {\n            var ele = focusedLI_1[_i];\n            ele.classList.remove(classNames.focused);\n        }\n    };\n    ListView.prototype.removeHover = function () {\n        var hoverLI = this.element.querySelector('.' + classNames.hover);\n        if (hoverLI) {\n            hoverLI.classList.remove(classNames.hover);\n        }\n    };\n    ListView.prototype.removeSelect = function (li) {\n        if (isNullOrUndefined(li)) {\n            var selectedLI = this.element.querySelectorAll('.' + classNames.selected);\n            for (var _i = 0, selectedLI_1 = selectedLI; _i < selectedLI_1.length; _i++) {\n                var ele = selectedLI_1[_i];\n                if (this.showCheckBox && ele.querySelector('.' + classNames.checked)) {\n                    continue;\n                }\n                else {\n                    ele.setAttribute('aria-selected', 'false');\n                    ele.classList.remove(classNames.selected);\n                }\n            }\n        }\n        else {\n            li.classList.remove(classNames.selected);\n            li.setAttribute('aria-selected', 'false');\n        }\n    };\n    ListView.prototype.isValidLI = function (li) {\n        return (li && li.classList.contains(classNames.listItem)\n            && !li.classList.contains(classNames.groupListItem)\n            && !li.classList.contains(classNames.disable));\n    };\n    ListView.prototype.setCheckboxLI = function (li, e) {\n        if (this.isValidLI(li) && this.enable && this.showCheckBox) {\n            if (this.curUL.querySelector('.' + classNames.focused)) {\n                this.curUL.querySelector('.' + classNames.focused).classList.remove(classNames.focused);\n            }\n            li.classList.add(classNames.focused);\n            var checkboxElement = li.querySelector('.' + classNames.checkboxWrapper);\n            var checkIcon = checkboxElement.querySelector('.' + classNames.checkboxIcon + '.' + classNames.icon);\n            this.removeHover();\n            if (!checkIcon.classList.contains(classNames.checked)) {\n                checkIcon.classList.add(classNames.checked);\n                li.classList.add(classNames.selected);\n                li.setAttribute('aria-selected', 'true');\n            }\n            else {\n                checkIcon.classList.remove(classNames.checked);\n                li.classList.remove(classNames.selected);\n                li.setAttribute('aria-selected', 'false');\n            }\n            checkboxElement.setAttribute('aria-checked', checkIcon.classList.contains(classNames.checked) ?\n                'true' : 'false');\n            if (e) {\n                var eventArgs = this.selectEventData(li, e);\n                merge(eventArgs, { isChecked: checkIcon.classList.contains(classNames.checked) });\n                if (this.enableVirtualization) {\n                    this.virtualizationModule.setCheckboxLI(li, e);\n                }\n                this.trigger('select', eventArgs);\n            }\n            this.setSelectedItemData(li);\n            this.renderSubList(li);\n        }\n    };\n    ListView.prototype.selectEventData = function (li, e) {\n        var data = this.getItemData(li);\n        var fieldData = getFieldValues(data, this.listBaseOption.fields);\n        var selectedItem;\n        if (!isNullOrUndefined(data)\n            && typeof this.dataSource[0] === 'string' || typeof this.dataSource[0] === 'number') {\n            selectedItem = { item: li, text: li && li.innerText.trim(), data: this.dataSource };\n        }\n        else {\n            selectedItem = { item: li, text: fieldData && fieldData[this.listBaseOption.fields.text], data: data };\n        }\n        var eventArgs = {};\n        merge(eventArgs, selectedItem);\n        if (e) {\n            merge(eventArgs, { isInteracted: true, event: e, index: Array.prototype.indexOf.call(this.curUL.children, li) });\n        }\n        return eventArgs;\n    };\n    ListView.prototype.setSelectedItemData = function (li) {\n        var data = this.getItemData(li);\n        var fieldData = getFieldValues(data, this.listBaseOption.fields);\n        if (!isNullOrUndefined(data) && ((typeof this.dataSource[0] === 'string') ||\n            (typeof this.dataSource[0] === 'number'))) {\n            this.selectedItems = {\n                item: li,\n                text: li && li.innerText.trim(),\n                data: this.dataSource\n            };\n        }\n        else {\n            this.selectedItems = {\n                item: li,\n                text: fieldData && fieldData[this.listBaseOption.fields.text],\n                data: data\n            };\n        }\n    };\n    ListView.prototype.setSelectLI = function (li, e) {\n        if (this.isValidLI(li) && !li.classList.contains(classNames.selected) && this.enable) {\n            if (!this.showCheckBox) {\n                this.removeSelect();\n            }\n            li.classList.add(classNames.selected);\n            li.setAttribute('aria-selected', 'true');\n            this.removeHover();\n            this.setSelectedItemData(li);\n            if (this.enableVirtualization) {\n                this.virtualizationModule.setSelectLI(li, e);\n            }\n            var eventArgs = this.selectEventData(li, e);\n            this.trigger('select', eventArgs);\n            this.selectedLI = li;\n            this.renderSubList(li);\n        }\n    };\n    ListView.prototype.setHoverLI = function (li) {\n        if (this.isValidLI(li) && !li.classList.contains(classNames.hover) && this.enable) {\n            var lastLi = this.element.querySelectorAll('.' + classNames.hover);\n            if (lastLi && lastLi.length) {\n                removeClass(lastLi, classNames.hover);\n            }\n            if (!li.classList.contains(classNames.selected) || this.showCheckBox) {\n                li.classList.add(classNames.hover);\n            }\n        }\n    };\n    ListView.prototype.hoverSiblingLI = function (prev) {\n        var lastLi = this.curUL.querySelector('.' + classNames.hover);\n        var siblingLI;\n        if (!lastLi) {\n            lastLi = this.curUL.querySelector('.' + classNames.selected);\n        }\n        if (lastLi) {\n            siblingLI = ListBase.getSiblingLI(this.curUL.querySelectorAll('.' + classNames.listItem), lastLi, prev);\n        }\n        else {\n            if (prev) {\n                var curLIs = this.curUL.querySelectorAll('.' + classNames.listItem);\n                siblingLI = curLIs[curLIs.length - 1];\n            }\n            else {\n                siblingLI = this.curUL.querySelector('.' + classNames.listItem);\n            }\n        }\n        this.setHoverLI(siblingLI);\n    };\n    //Data Source Related Functions\n    ListView.prototype.getSubDS = function () {\n        var levelKeys = this.curDSLevel;\n        if (levelKeys.length) {\n            var ds = this.localData;\n            for (var _i = 0, levelKeys_1 = levelKeys; _i < levelKeys_1.length; _i++) {\n                var key = levelKeys_1[_i];\n                var field = {};\n                field[this.fields.id] = key;\n                this.curDSJSON = this.findItemFromDS(ds, field);\n                var fieldData = getFieldValues(this.curDSJSON, this.listBaseOption.fields);\n                ds = this.curDSJSON ? fieldData[this.fields.child] : ds;\n            }\n            return ds;\n        }\n        return this.localData;\n    };\n    ListView.prototype.getItemData = function (li) {\n        var fields = this.getElementUID(li);\n        var curDS;\n        if (isNullOrUndefined(this.curUL.querySelector('.' + classNames.hasChild)) && this.fields.groupBy) {\n            curDS = this.curViewDS;\n        }\n        else {\n            curDS = this.dataSource;\n        }\n        return this.findItemFromDS(curDS, fields);\n    };\n    ListView.prototype.findItemFromDS = function (dataSource, fields, parent) {\n        var _this = this;\n        var resultJSON;\n        if (dataSource && dataSource.length && fields) {\n            dataSource.some(function (data) {\n                var fieldData = getFieldValues(data, _this.listBaseOption.fields);\n                //(!(fid) || id === fid) && (!(ftext) || text === ftext) && (!!fid || !!ftext)\n                if ((fields[_this.fields.id] || fields[_this.fields.text]) &&\n                    (!fields[_this.fields.id] || (!isNullOrUndefined(fieldData[_this.fields.id]) &&\n                        fieldData[_this.fields.id].toString()) === fields[_this.fields.id].toString()) &&\n                    (!fields[_this.fields.text] || fieldData[_this.fields.text] === fields[_this.fields.text])) {\n                    resultJSON = (parent ? dataSource : data);\n                }\n                else if (typeof data !== 'object' && dataSource.indexOf(data) !== -1) {\n                    resultJSON = (parent ? dataSource : data);\n                }\n                else if (!isNullOrUndefined(fields[_this.fields.id]) && isNullOrUndefined(fieldData[_this.fields.id])) {\n                    var li = _this.element.querySelector('[data-uid=\"'\n                        + fields[_this.fields.id] + '\"]');\n                    if (li && li.innerText.trim() === fieldData[_this.fields.text]) {\n                        resultJSON = data;\n                    }\n                }\n                else if (fieldData.hasOwnProperty(_this.fields.child) && fieldData[_this.fields.child].length) {\n                    resultJSON = _this.findItemFromDS(fieldData[_this.fields.child], fields, parent);\n                }\n                return !!resultJSON;\n            });\n        }\n        else {\n            resultJSON = dataSource;\n        }\n        return resultJSON;\n    };\n    ListView.prototype.getQuery = function () {\n        var columns = [];\n        var query = (this.query ? this.query : new Query());\n        if (!this.query) {\n            for (var _i = 0, _a = Object.keys(this.fields.properties); _i < _a.length; _i++) {\n                var column = _a[_i];\n                if (column !== 'tableName' && !!(this.fields[column]) &&\n                    this.fields[column] !==\n                        ListBase.defaultMappedFields[column]\n                    && columns.indexOf(this.fields[column]) === -1) {\n                    columns.push(this.fields[column]);\n                }\n            }\n            query.select(columns);\n            if (this.fields.properties.hasOwnProperty('tableName')) {\n                query.from(this.fields.tableName);\n            }\n        }\n        return query;\n    };\n    ListView.prototype.setViewDataSource = function (dataSource) {\n        if (dataSource === void 0) { dataSource = this.localData; }\n        if (dataSource && this.fields.groupBy) {\n            this.curViewDS = ListBase.groupDataSource(dataSource, this.listBaseOption.fields, this.sortOrder);\n        }\n        else if (dataSource && this.sortOrder !== 'None') {\n            this.curViewDS = ListBase.getDataSource(dataSource, ListBase.addSorting(this.sortOrder, this.fields.sortBy));\n        }\n        else {\n            this.curViewDS = dataSource;\n        }\n    };\n    ListView.prototype.isInAnimation = function () {\n        return this.curUL.classList.contains('.e-animate');\n    };\n    ListView.prototype.setLocalData = function () {\n        var _this = this;\n        this.trigger('actionBegin');\n        if (this.dataSource instanceof DataManager) {\n            this.dataSource.executeQuery(this.getQuery()).then(function (e) {\n                if (_this.isDestroyed) {\n                    return;\n                }\n                _this.localData = e.result;\n                _this.renderList();\n                _this.trigger('actionComplete', e);\n            }).catch(function (e) {\n                if (_this.isDestroyed) {\n                    return;\n                }\n                _this.trigger('actionFailure', e);\n            });\n        }\n        else if (!this.dataSource || !this.dataSource.length) {\n            var ul = this.element.querySelector('ul');\n            if (ul) {\n                remove(ul);\n                this.setProperties({ dataSource: ListBase.createJsonFromElement(ul) }, true);\n                this.localData = this.dataSource;\n                this.renderList();\n                this.trigger('actionComplete', { data: this.localData });\n            }\n        }\n        else {\n            this.localData = this.dataSource;\n            this.renderList();\n            this.trigger('actionComplete', { data: this.localData });\n        }\n    };\n    ListView.prototype.reRender = function () {\n        this.element.innerHTML = '';\n        this.headerEle = this.ulElement = this.liCollection = undefined;\n        this.setLocalData();\n        this.header();\n    };\n    ListView.prototype.resetCurrentList = function () {\n        this.setViewDataSource(this.curViewDS);\n        this.contentContainer.innerHTML = '';\n        this.createList();\n        this.renderIntoDom(this.curUL);\n    };\n    ListView.prototype.createList = function () {\n        this.currentLiElements = [];\n        this.isNestedList = false;\n        this.ulElement = this.curUL = ListBase.createList(this.createElement, this.curViewDS, this.listBaseOption);\n        this.liCollection = this.curUL.querySelectorAll('.' + classNames.listItem);\n    };\n    ListView.prototype.renderSubList = function (li) {\n        var uID = li.getAttribute('data-uid');\n        if (li.classList.contains(classNames.hasChild) && uID) {\n            var ul = closest(li.parentNode, '.' + classNames.parentItem);\n            var ele = this.element.querySelector('[pid=\\'' + uID + '\\']');\n            this.curDSLevel.push(uID);\n            this.setViewDataSource(this.getSubDS());\n            if (!ele) {\n                var data = this.curViewDS;\n                ele = ListBase.createListFromJson(this.createElement, data, this.listBaseOption, this.curDSLevel.length);\n                ele.setAttribute('pID', uID);\n                ele.style.display = 'none';\n                this.renderIntoDom(ele);\n            }\n            this.switchView(ul, ele);\n            this.liCollection = this.curUL.querySelectorAll('.' + classNames.listItem);\n            if (this.selectedItems) {\n                var fieldData = getFieldValues(this.selectedItems.data, this.listBaseOption.fields);\n                this.header((fieldData[this.listBaseOption.fields.text]), true);\n            }\n            this.selectedLI = undefined;\n        }\n    };\n    ListView.prototype.renderIntoDom = function (ele) {\n        this.contentContainer.appendChild(ele);\n    };\n    ListView.prototype.renderList = function (data) {\n        this.setViewDataSource(data);\n        if (this.enableVirtualization && Object.keys(this.dataSource).length) {\n            if (this.template || this.groupTemplate) {\n                this.listBaseOption.template = null;\n                this.listBaseOption.groupTemplate = null;\n                this.listBaseOption.itemCreated = this.virtualizationModule.createUIItem.bind(this.virtualizationModule);\n            }\n            this.virtualizationModule.uiVirtualization();\n        }\n        else {\n            this.createList();\n            this.contentContainer = this.createElement('div', { className: classNames.content });\n            this.element.appendChild(this.contentContainer);\n            this.renderIntoDom(this.ulElement);\n        }\n    };\n    ListView.prototype.getElementUID = function (obj) {\n        var fields = {};\n        if (obj instanceof Element) {\n            fields[this.fields.id] = obj.getAttribute('data-uid');\n        }\n        else {\n            fields = obj;\n        }\n        return fields;\n    };\n    /**\n     * It is used to Initialize the control rendering.\n     */\n    ListView.prototype.render = function () {\n        this.element.classList.add(classNames.root);\n        attributes(this.element, { role: 'list', tabindex: '0' });\n        this.setCSSClass();\n        this.setEnableRTL();\n        this.setEnable();\n        this.setSize();\n        this.wireEvents();\n        this.header();\n        this.setLocalData();\n        this.setHTMLAttribute();\n        this.rippleFn = rippleEffect(this.element, {\n            selector: '.' + classNames.listItem\n        });\n    };\n    /**\n     * It is used to destroy the ListView component.\n     */\n    ListView.prototype.destroy = function () {\n        this.unWireEvents();\n        var classAr = [classNames.root, this.cssClass, classNames.disable, 'e-rtl',\n            'e-has-header', 'e-control'];\n        removeClass([this.element], classAr);\n        this.rippleFn();\n        this.element.removeAttribute('role');\n        this.element.removeAttribute('tabindex');\n        this.element.innerHTML = '';\n        this.curUL = this.ulElement = this.liCollection = this.headerEle = undefined;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * It helps to switch back from navigated sub list.\n     */\n    ListView.prototype.back = function () {\n        var pID = this.curDSLevel[this.curDSLevel.length - 1];\n        if (pID === undefined || this.isInAnimation()) {\n            return;\n        }\n        this.curDSLevel.pop();\n        this.setViewDataSource(this.getSubDS());\n        var toUL = this.element.querySelector('[data-uid=\\'' + pID + '\\']');\n        var fromUL = this.curUL;\n        if (!toUL) {\n            this.createList();\n            this.renderIntoDom(this.ulElement);\n            toUL = this.curUL;\n        }\n        else {\n            toUL = toUL.parentElement;\n        }\n        var fieldData = getFieldValues(this.curDSJSON, this.listBaseOption.fields);\n        var text = fieldData[this.fields.text];\n        this.switchView(fromUL, toUL, true);\n        this.removeFocus();\n        var li = this.element.querySelector('[data-uid=\\'' + pID + '\\']');\n        li.classList.add(classNames.focused);\n        if (this.showCheckBox && li.querySelector('.' + classNames.checkboxIcon).classList.contains(classNames.checked)) {\n            li.setAttribute('aria-selected', 'true');\n        }\n        else {\n            li.classList.remove(classNames.selected);\n            li.setAttribute('aria-selected', 'false');\n        }\n        this.liCollection = this.curUL.querySelectorAll('.' + classNames.listItem);\n        this.header((this.curDSLevel.length ? text : this.headerTitle), (this.curDSLevel.length ? true : false));\n    };\n    /**\n     * It is used to select the list item from the ListView.\n     * @param  {Fields|HTMLElement} obj - We can pass element Object or Fields as Object with ID and Text fields.\n     */\n    ListView.prototype.selectItem = function (obj) {\n        if (!isNullOrUndefined(obj)) {\n            if (this.enableVirtualization) {\n                this.virtualizationModule.selectItem(obj);\n            }\n            else if (this.showCheckBox) {\n                this.setCheckboxLI(this.getLiFromObjOrElement(obj));\n            }\n            else {\n                this.setSelectLI(this.getLiFromObjOrElement(obj));\n            }\n        }\n    };\n    ListView.prototype.getLiFromObjOrElement = function (obj) {\n        var li;\n        if (!isNullOrUndefined(obj)) {\n            if (typeof this.dataSource[0] === 'string' || typeof this.dataSource[0] === 'number') {\n                if (obj instanceof Element) {\n                    var uid = obj.getAttribute('data-uid').toString();\n                    for (var i = 0; i < this.liCollection.length; i++) {\n                        if (this.liCollection[i].getAttribute('data-uid').toString() === uid) {\n                            li = this.liCollection[i];\n                            break;\n                        }\n                    }\n                }\n                else {\n                    Array.prototype.some.call(this.curUL.querySelectorAll('.' + classNames.listItem), function (item) {\n                        if (item.innerText.trim() === obj.toString()) {\n                            li = item;\n                            return true;\n                        }\n                        else {\n                            return false;\n                        }\n                    });\n                }\n            }\n            else {\n                var resultJSON = this.getItemData(obj);\n                var fieldData = getFieldValues(resultJSON, this.listBaseOption.fields);\n                if (resultJSON) {\n                    li = this.element.querySelector('[data-uid=\"'\n                        + fieldData[this.fields.id] + '\"]');\n                    if (isNullOrUndefined(li)) {\n                        var curLi = this.element.querySelectorAll('.' + classNames.listItem);\n                        for (var i = 0; i < curLi.length; i++) {\n                            if (curLi[i].innerText.trim() === resultJSON.text) {\n                                li = curLi[i];\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        return li;\n    };\n    /**\n     * It is used to select multiple list item from the ListView.\n     * @param  {Fields[] | HTMLElement[]} obj - We can pass array of elements or array of field Object with ID and Text fields.\n     */\n    ListView.prototype.selectMultipleItems = function (obj) {\n        if (!isNullOrUndefined(obj)) {\n            for (var i = 0; i < obj.length; i++) {\n                if (!isNullOrUndefined(obj[i])) {\n                    this.selectItem(obj[i]);\n                }\n            }\n        }\n    };\n    ListView.prototype.getParentId = function () {\n        var parentId = [];\n        if (this.isNestedList) {\n            for (var i = this.curDSLevel.length - 1; i >= 0; i--) {\n                parentId.push(this.curDSLevel[i]);\n            }\n        }\n        return parentId;\n    };\n    /**\n     * It is used to get the currently [here](http://ej2.syncfusion.com/documentation/list-view/api-selectedItem.html?lang=typescript)\n     *  item details from the list items.\n     */\n    ListView.prototype.getSelectedItems = function () {\n        this.selectedId = [];\n        if (this.enableVirtualization) {\n            return this.virtualizationModule.getSelectedItems();\n        }\n        else if (this.showCheckBox) {\n            var liCollection = this.curUL.getElementsByClassName(classNames.selected);\n            var liTextCollection = [];\n            var liDataCollection = [];\n            this.selectedId = [];\n            var dataParent = [];\n            for (var i = 0; i < liCollection.length; i++) {\n                if (typeof this.dataSource[0] === 'string' || typeof this.dataSource[0] === 'number') {\n                    liTextCollection.push(liCollection[i].innerText.trim());\n                }\n                else {\n                    var tempData = this.getItemData(liCollection[i]);\n                    var fieldData = getFieldValues(tempData, this.listBaseOption.fields);\n                    if (this.isNestedList) {\n                        dataParent.push({ data: tempData, parentId: this.getParentId() });\n                    }\n                    else {\n                        liDataCollection.push(tempData);\n                    }\n                    if (fieldData) {\n                        liTextCollection.push(fieldData[this.listBaseOption.fields.text]);\n                        this.selectedId.push(fieldData[this.listBaseOption.fields.id]);\n                    }\n                    else {\n                        liTextCollection.push(undefined);\n                        this.selectedId.push(undefined);\n                    }\n                }\n            }\n            if (typeof this.dataSource[0] === 'string' || typeof this.dataSource[0] === 'number') {\n                return { item: liCollection, data: this.dataSource, text: liTextCollection };\n            }\n            if (this.isNestedList) {\n                return { item: liCollection, data: dataParent, text: liTextCollection };\n            }\n            else {\n                return { item: liCollection, data: liDataCollection, text: liTextCollection };\n            }\n        }\n        else {\n            var liElement = this.element.getElementsByClassName(classNames.selected)[0];\n            var fieldData = getFieldValues(this.getItemData(liElement), this.listBaseOption.fields);\n            if (typeof this.dataSource[0] === 'string' || typeof this.dataSource[0] === 'number') {\n                return (!isNullOrUndefined(liElement)) ? {\n                    item: liElement, data: this.dataSource,\n                    text: liElement.innerText.trim()\n                } : undefined;\n            }\n            else {\n                if (isNullOrUndefined(fieldData) || isNullOrUndefined(liElement)) {\n                    return undefined;\n                }\n                else {\n                    this.selectedId.push(fieldData[this.listBaseOption.fields.id]);\n                    return {\n                        text: fieldData[this.listBaseOption.fields.text], item: liElement,\n                        data: this.getItemData(liElement)\n                    };\n                }\n            }\n        }\n    };\n    /**\n     * It is used to find out an item details from the current list.\n     * @param  {Fields|HTMLElement} obj - We can pass element Object or Fields as Object with ID and Text fields.\n     */\n    ListView.prototype.findItem = function (obj) {\n        return this.getItemData(obj);\n    };\n    /**\n     * A function that used to enable the disabled list items based on passed element.\n     * @param  {Fields|HTMLElement} obj - We can pass element Object or Fields as Object with ID and Text fields.\n     */\n    ListView.prototype.enableItem = function (obj) {\n        this.setItemState(obj, true);\n        if (this.enableVirtualization) {\n            this.virtualizationModule.enableItem(obj);\n        }\n    };\n    /**\n     * It is used to disable the list items based on passed element.\n     * @param  {Fields|HTMLElement} obj - We can pass element Object or Fields as Object with ID and Text fields.\n     */\n    ListView.prototype.disableItem = function (obj) {\n        this.setItemState(obj, false);\n        if (this.enableVirtualization) {\n            this.virtualizationModule.disableItem(obj);\n        }\n    };\n    //A function that used to set state of the list item like enable, disable.\n    ListView.prototype.setItemState = function (obj, isEnable) {\n        var resultJSON = this.getItemData(obj);\n        var fieldData = getFieldValues(resultJSON, this.listBaseOption.fields);\n        if (resultJSON) {\n            var li = this.element.querySelector('[data-uid=\"' + fieldData[this.fields.id] + '\"]');\n            if (isEnable) {\n                if (li) {\n                    li.classList.remove(classNames.disable);\n                }\n                delete resultJSON[this.fields.enabled];\n            }\n            else if (!isEnable) {\n                if (li) {\n                    li.classList.add(classNames.disable);\n                }\n                resultJSON[this.fields.enabled] = false;\n            }\n        }\n    };\n    /**\n     * It is used to show an list item from the ListView.\n     * @param  {Fields|HTMLElement} obj - We can pass element Object or Fields as Object with ID and Text fields.\n     */\n    ListView.prototype.showItem = function (obj) {\n        this.showHideItem(obj, false, '');\n        if (this.enableVirtualization) {\n            this.virtualizationModule.showItem(obj);\n        }\n    };\n    /**\n     * It is used to hide an item from the ListView.\n     * @param  {Fields|HTMLElement} obj - We can pass element Object or Fields as Object with ID and Text fields.\n     */\n    ListView.prototype.hideItem = function (obj) {\n        this.showHideItem(obj, true, 'none');\n        if (this.enableVirtualization) {\n            this.virtualizationModule.hideItem(obj);\n        }\n    };\n    ListView.prototype.showHideItem = function (obj, isHide, display) {\n        var resultJSON = this.getItemData(obj);\n        var fieldData = getFieldValues(resultJSON, this.listBaseOption.fields);\n        if (resultJSON) {\n            var li = this.element.querySelector('[data-uid=\"' + fieldData[this.fields.id] + '\"]');\n            if (li) {\n                li.style.display = display;\n            }\n            if (isHide) {\n                resultJSON[this.fields.isVisible] = false;\n            }\n            else {\n                delete resultJSON[this.fields.isVisible];\n            }\n        }\n    };\n    /**\n     * It adds new item to current ListView.\n     * To add a new item in the list view, we need to pass ‘data’ as array or object and ‘fields’ as object.\n     * For example fields: { text: 'Name', tooltip: 'Name', id:'id'}\n     * @param  {{[key:string]:Object}[]} data - Array JSON Data that need to add.\n     * @param  {Fields} fields - Fields as an Object with ID and Text fields.\n     */\n    ListView.prototype.addItem = function (data, fields) {\n        var _this = this;\n        if (fields === void 0) { fields = undefined; }\n        if (data instanceof Array) {\n            if (this.enableVirtualization) {\n                this.virtualizationModule.addItem(data, fields);\n            }\n            else {\n                var ds = this.findItemFromDS(this.dataSource, fields);\n                var fieldData = getFieldValues(ds, this.listBaseOption.fields);\n                var child = fieldData[this.fields.child];\n                if (!child) {\n                    child = [];\n                }\n                child = child.concat(data);\n                if (ds instanceof Array) {\n                    data.forEach(function (dataSource) {\n                        _this.dataSource.push(dataSource);\n                        _this.setViewDataSource(_this.dataSource);\n                        if (_this.ulElement) {\n                            var index = _this.curViewDS.indexOf(dataSource);\n                            _this.addListItem(dataSource, index);\n                            var curViewDS = _this.curViewDS[index - 1];\n                            if (curViewDS && curViewDS.isHeader && curViewDS.items.length === 1) {\n                                _this.addListItem(curViewDS, (index - 1));\n                            }\n                        }\n                        else {\n                            _this.reRender();\n                        }\n                    });\n                    this.liCollection = this.curUL.querySelectorAll('.' + classNames.listItem);\n                }\n                else {\n                    ds[this.fields.child] = child;\n                    this.reRender();\n                }\n            }\n        }\n    };\n    ListView.prototype.addListItem = function (dataSource, index) {\n        var target = this.getLiFromObjOrElement(this.curViewDS[index + 1]) ||\n            this.getLiFromObjOrElement(this.curViewDS[index + 2]) || null;\n        var li = ListBase.createListItemFromJson(this.createElement, [dataSource], this.listBaseOption);\n        this.ulElement.insertBefore(li[0], target);\n    };\n    /**\n     * A function that removes the item from data source based on passed element like fields: { text: 'Name', tooltip: 'Name', id:'id'}\n     * @param  {Fields|HTMLElement} obj - We can pass element Object or Fields as Object with ID and Text fields.\n     */\n    ListView.prototype.removeItem = function (obj) {\n        if (this.enableVirtualization) {\n            this.virtualizationModule.removeItem(obj);\n        }\n        else {\n            this.removeItemFromList(obj);\n        }\n    };\n    ListView.prototype.removeItemFromList = function (obj) {\n        var fields = obj instanceof Element ? this.getElementUID(obj) : obj;\n        var dataSource;\n        dataSource = this.findItemFromDS(this.dataSource, fields, true);\n        if (dataSource) {\n            var data = void 0;\n            data = this.findItemFromDS(dataSource, fields);\n            var index = this.curViewDS.indexOf(data);\n            if (this.fields.groupBy && this.curViewDS[index - 1] &&\n                this.curViewDS[index - 1].isHeader &&\n                (this.curViewDS[index - 1])\n                    .items.length === 1) {\n                detach(this.getLiFromObjOrElement(this.curViewDS[index - 1]));\n            }\n            if (this.getLiFromObjOrElement(obj)) {\n                detach(this.getLiFromObjOrElement(obj));\n            }\n            var dsIndex = dataSource.indexOf(data);\n            dataSource.splice(dsIndex, 1);\n            this.setViewDataSource(this.dataSource);\n            this.liCollection = Array.prototype.slice.call(this.element.querySelectorAll('.' + classNames.listItem));\n        }\n    };\n    /**\n     * A function that removes multiple item from list view based on given input.\n     * @param  {Fields[] | HTMLElement[]} obj - We can pass array of elements or array of field Object with ID and Text fields.\n     */\n    ListView.prototype.removeMultipleItems = function (obj) {\n        if (obj.length) {\n            for (var i = 0; i < obj.length; i++) {\n                if (this.enableVirtualization) {\n                    this.removeItem(obj[i]);\n                }\n                else {\n                    this.removeItemFromList(obj[i]);\n                }\n            }\n        }\n    };\n    // Module Required function\n    ListView.prototype.getModuleName = function () {\n        return 'listview';\n    };\n    ListView.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.enableVirtualization) {\n            modules.push({ args: [this], member: 'virtualization' });\n        }\n        return modules;\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     */\n    ListView.prototype.getPersistData = function () {\n        return this.addOnPersist(['cssClass', 'enableRtl', 'htmlAttributes',\n            'enable', 'fields', 'animation', 'headerTitle',\n            'sortOrder', 'showIcon', 'height', 'width', 'showCheckBox', 'checkBoxPosition']);\n    };\n    __decorate([\n        Property()\n    ], ListView.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], ListView.prototype, \"enableVirtualization\", void 0);\n    __decorate([\n        Property({})\n    ], ListView.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(true)\n    ], ListView.prototype, \"enable\", void 0);\n    __decorate([\n        Property([])\n    ], ListView.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property()\n    ], ListView.prototype, \"query\", void 0);\n    __decorate([\n        Complex(ListBase.defaultMappedFields, FieldSettings)\n    ], ListView.prototype, \"fields\", void 0);\n    __decorate([\n        Property({ effect: 'SlideLeft', duration: 400, easing: 'ease' })\n    ], ListView.prototype, \"animation\", void 0);\n    __decorate([\n        Property('None')\n    ], ListView.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(false)\n    ], ListView.prototype, \"showIcon\", void 0);\n    __decorate([\n        Property(false)\n    ], ListView.prototype, \"showCheckBox\", void 0);\n    __decorate([\n        Property('Left')\n    ], ListView.prototype, \"checkBoxPosition\", void 0);\n    __decorate([\n        Property('')\n    ], ListView.prototype, \"headerTitle\", void 0);\n    __decorate([\n        Property(false)\n    ], ListView.prototype, \"showHeader\", void 0);\n    __decorate([\n        Property('')\n    ], ListView.prototype, \"height\", void 0);\n    __decorate([\n        Property('')\n    ], ListView.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], ListView.prototype, \"template\", void 0);\n    __decorate([\n        Property(null)\n    ], ListView.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], ListView.prototype, \"groupTemplate\", void 0);\n    __decorate([\n        Event()\n    ], ListView.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], ListView.prototype, \"actionBegin\", void 0);\n    __decorate([\n        Event()\n    ], ListView.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], ListView.prototype, \"actionFailure\", void 0);\n    ListView = __decorate([\n        NotifyPropertyChanges\n    ], ListView);\n    return ListView;\n}(Component));\nexport { ListView };\n","import { createElement, attributes, addClass, removeClass, detach, classList, closest, isNullOrUndefined } from '@syncfusion/ej2-base';\nvar CLASSNAMES = {\n    RTL: 'e-rtl',\n    DISABLE: 'e-disabled',\n    INPUT: 'e-input',\n    INPUTGROUP: 'e-input-group',\n    FLOATINPUT: 'e-float-input',\n    FLOATLINE: 'e-float-line',\n    FLOATTEXT: 'e-float-text',\n    CLEARICON: 'e-clear-icon',\n    CLEARICONHIDE: 'e-clear-icon-hide',\n    LABELTOP: 'e-label-top',\n    LABELBOTTOM: 'e-label-bottom',\n    NOFLOATLABEL: 'e-no-float-label',\n    INPUTCUSTOMTAG: 'e-input-custom-tag',\n    FLOATCUSTOMTAG: 'e-float-custom-tag'\n};\n/**\n * Base for Input creation through util methods.\n */\nexport var Input;\n(function (Input) {\n    var privateInputObj = {\n        container: null,\n        buttons: [],\n        clearButton: null\n    };\n    /**\n     * Create a wrapper to input element with multiple span elements and set the basic properties to input based components.\n     * ```\n     * E.g : Input.createInput({ element: element, floatLabelType : \"Auto\", properties: { placeholder: 'Search' } });\n     * ```\n     * @param args\n     */\n    function createInput(args, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var inputObject = { container: null, buttons: [], clearButton: null };\n        if (isNullOrUndefined(args.floatLabelType) || args.floatLabelType === 'Never') {\n            inputObject.container = createInputContainer(args, CLASSNAMES.INPUTGROUP, CLASSNAMES.INPUTCUSTOMTAG, 'span', makeElement);\n            args.element.parentNode.insertBefore(inputObject.container, args.element);\n            addClass([args.element], CLASSNAMES.INPUT);\n            inputObject.container.appendChild(args.element);\n        }\n        else {\n            createFloatingInput(args, inputObject, makeElement);\n        }\n        args.element.addEventListener('focus', function () {\n            var parent = getParentNode(this);\n            if (parent.classList.contains('e-input-group')) {\n                parent.classList.add('e-input-focus');\n            }\n        });\n        args.element.addEventListener('blur', function () {\n            var parent = getParentNode(this);\n            if (parent.classList.contains('e-input-group')) {\n                parent.classList.remove('e-input-focus');\n            }\n        });\n        if (!isNullOrUndefined(args.properties) && !isNullOrUndefined(args.properties.showClearButton) && args.properties.showClearButton) {\n            setClearButton(args.properties.showClearButton, args.element, inputObject, true, makeElement);\n            if (inputObject.container.classList.contains(CLASSNAMES.FLOATINPUT)) {\n                addClass([inputObject.container], CLASSNAMES.INPUTGROUP);\n            }\n        }\n        if (!isNullOrUndefined(args.buttons)) {\n            for (var i = 0; i < args.buttons.length; i++) {\n                inputObject.buttons.push(appendSpan(args.buttons[i], inputObject.container, makeElement));\n            }\n        }\n        inputObject = setPropertyValue(args, inputObject);\n        privateInputObj = inputObject;\n        return inputObject;\n    }\n    Input.createInput = createInput;\n    function _focusFn() {\n        var label = getParentNode(this).getElementsByClassName('e-float-text')[0];\n        addClass([label], CLASSNAMES.LABELTOP);\n        if (label.classList.contains(CLASSNAMES.LABELBOTTOM)) {\n            removeClass([label], CLASSNAMES.LABELBOTTOM);\n        }\n    }\n    function _blurFn() {\n        var parent = getParentNode(this);\n        if (parent.getElementsByTagName('input')[0].value === '') {\n            var label = parent.getElementsByClassName('e-float-text')[0];\n            if (label.classList.contains(CLASSNAMES.LABELTOP)) {\n                removeClass([label], CLASSNAMES.LABELTOP);\n            }\n            addClass([label], CLASSNAMES.LABELBOTTOM);\n        }\n    }\n    function wireFloatingEvents(element) {\n        element.addEventListener('focus', _focusFn);\n        element.addEventListener('blur', _blurFn);\n    }\n    function unwireFloatingEvents(element) {\n        element.removeEventListener('focus', _focusFn);\n        element.removeEventListener('blur', _blurFn);\n    }\n    function createFloatingInput(args, inputObject, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var inputElement;\n        var floatLinelement;\n        var floatLabelElement;\n        if (args.floatLabelType === 'Auto') {\n            wireFloatingEvents(args.element);\n        }\n        if (isNullOrUndefined(inputObject.container)) {\n            inputObject.container = createInputContainer(args, CLASSNAMES.FLOATINPUT, CLASSNAMES.FLOATCUSTOMTAG, 'div', makeElement);\n            args.element.parentNode.insertBefore(inputObject.container, args.element);\n        }\n        else {\n            if (!isNullOrUndefined(args.customTag)) {\n                inputObject.container.classList.add(CLASSNAMES.FLOATCUSTOMTAG);\n            }\n            inputObject.container.classList.add(CLASSNAMES.FLOATINPUT);\n        }\n        floatLinelement = makeElement('span', { className: CLASSNAMES.FLOATLINE });\n        floatLabelElement = makeElement('label', { className: CLASSNAMES.FLOATTEXT });\n        if (!isNullOrUndefined(args.element.id) && args.element.id !== '') {\n            floatLabelElement.id = 'label_' + args.element.id.replace(/ /g, '_');\n            attributes(args.element, { 'aria-labelledby': floatLabelElement.id });\n        }\n        if (!isNullOrUndefined(args.element.placeholder) && args.element.placeholder !== '') {\n            floatLabelElement.innerHTML = args.element.placeholder;\n            args.element.removeAttribute('placeholder');\n        }\n        if (!isNullOrUndefined(args.properties) && !isNullOrUndefined(args.properties.placeholder) &&\n            args.properties.placeholder !== '') {\n            floatLabelElement.innerHTML = args.properties.placeholder;\n        }\n        if (!floatLabelElement.innerHTML) {\n            inputObject.container.classList.add(CLASSNAMES.NOFLOATLABEL);\n        }\n        inputObject.container.appendChild(args.element);\n        inputObject.container.appendChild(floatLinelement);\n        inputObject.container.appendChild(floatLabelElement);\n        updateLabelState(args.element.value, floatLabelElement);\n        if (args.floatLabelType === 'Always') {\n            if (floatLabelElement.classList.contains(CLASSNAMES.LABELBOTTOM)) {\n                removeClass([floatLabelElement], CLASSNAMES.LABELBOTTOM);\n            }\n            addClass([floatLabelElement], CLASSNAMES.LABELTOP);\n        }\n        if (args.floatLabelType === 'Auto') {\n            args.element.addEventListener('input', function (event) {\n                updateLabelState(args.element.value, floatLabelElement);\n            });\n            args.element.addEventListener('blur', function (event) {\n                updateLabelState(args.element.value, floatLabelElement);\n            });\n        }\n    }\n    function setPropertyValue(args, inputObject) {\n        if (!isNullOrUndefined(args.properties)) {\n            for (var _i = 0, _a = Object.keys(args.properties); _i < _a.length; _i++) {\n                var prop = _a[_i];\n                switch (prop) {\n                    case 'cssClass':\n                        setCssClass(args.properties.cssClass, [inputObject.container]);\n                        break;\n                    case 'enabled':\n                        setEnabled(args.properties.enabled, args.element);\n                        break;\n                    case 'enableRtl':\n                        setEnableRtl(args.properties.enableRtl, [inputObject.container]);\n                        break;\n                    case 'placeholder':\n                        setPlaceholder(args.properties.placeholder, args.element);\n                        break;\n                    case 'readonly':\n                        setReadonly(args.properties.readonly, args.element);\n                        break;\n                }\n            }\n        }\n        return inputObject;\n    }\n    function updateIconState(value, button) {\n        if (value) {\n            removeClass([button], CLASSNAMES.CLEARICONHIDE);\n        }\n        else {\n            addClass([button], CLASSNAMES.CLEARICONHIDE);\n        }\n    }\n    function updateLabelState(value, label) {\n        if (value) {\n            addClass([label], CLASSNAMES.LABELTOP);\n            if (label.classList.contains(CLASSNAMES.LABELBOTTOM)) {\n                removeClass([label], CLASSNAMES.LABELBOTTOM);\n            }\n        }\n        else {\n            if (label.classList.contains(CLASSNAMES.LABELTOP)) {\n                removeClass([label], CLASSNAMES.LABELTOP);\n            }\n            addClass([label], CLASSNAMES.LABELBOTTOM);\n        }\n    }\n    function getParentNode(element) {\n        var parentNode = element.parentNode;\n        return parentNode;\n    }\n    /**\n     * To create clear button.\n     */\n    function createClearButton(element, inputObject, initial, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var button = makeElement('span', { className: CLASSNAMES.CLEARICON });\n        var container = inputObject.container;\n        if (!isNullOrUndefined(initial)) {\n            container.appendChild(button);\n        }\n        else {\n            var baseElement = inputObject.container.classList.contains(CLASSNAMES.FLOATINPUT) ?\n                inputObject.container.querySelector('.' + CLASSNAMES.FLOATTEXT) : element;\n            baseElement.insertAdjacentElement('afterend', button);\n        }\n        if (!isNullOrUndefined(container) &&\n            container.classList.contains(CLASSNAMES.FLOATINPUT)) {\n            addClass([container], CLASSNAMES.INPUTGROUP);\n        }\n        addClass([button], CLASSNAMES.CLEARICONHIDE);\n        wireClearBtnEvents(element, button, container);\n        return button;\n    }\n    function wireClearBtnEvents(element, button, container) {\n        button.addEventListener('click', function (event) {\n            if (!(element.classList.contains(CLASSNAMES.DISABLE) || element.readOnly)) {\n                event.preventDefault();\n                if (element !== document.activeElement) {\n                    element.focus();\n                }\n                element.value = '';\n                addClass([button], CLASSNAMES.CLEARICONHIDE);\n            }\n        });\n        element.addEventListener('input', function (event) {\n            updateIconState(element.value, button);\n        });\n        element.addEventListener('focus', function (event) {\n            updateIconState(element.value, button);\n        });\n        element.addEventListener('blur', function (event) {\n            setTimeout(function () { addClass([button], CLASSNAMES.CLEARICONHIDE); }, 200);\n        });\n    }\n    function validateLabel(element, floatLabelType) {\n        var parent = getParentNode(element);\n        if (parent.classList.contains(CLASSNAMES.FLOATINPUT) && floatLabelType === 'Auto') {\n            var label = getParentNode(element).getElementsByClassName('e-float-text')[0];\n            updateLabelState(element.value, label);\n        }\n    }\n    /**\n     * To create input box contianer.\n     */\n    function createInputContainer(args, className, tagClass, tag, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var container;\n        if (!isNullOrUndefined(args.customTag)) {\n            container = makeElement(args.customTag, { className: className });\n            container.classList.add(tagClass);\n        }\n        else {\n            container = makeElement(tag, { className: className });\n        }\n        container.classList.add('e-control-wrapper');\n        return container;\n    }\n    /**\n     * Sets the value to the input element.\n     * ```\n     * E.g : Input.setValue('content', element, \"Auto\", true );\n     * ```\n     * @param value - Specify the value of the input element.\n     * @param element - The element on which the specified value is updated.\n     * @param floatLabelType - Specify the float label type of the input element.\n     * @param clearButton - Boolean value to specify whether the clear icon is enabled / disabled on the input.\n     */\n    function setValue(value, element, floatLabelType, clearButton) {\n        element.value = value;\n        if ((!isNullOrUndefined(floatLabelType)) && floatLabelType === 'Auto') {\n            validateLabel(element, floatLabelType);\n        }\n        if (!isNullOrUndefined(clearButton) && clearButton) {\n            var parentElement = getParentNode(element);\n            var button = parentElement.getElementsByClassName(CLASSNAMES.CLEARICON)[0];\n            if (element.value && parentElement.classList.contains('e-input-focus')) {\n                removeClass([button], CLASSNAMES.CLEARICONHIDE);\n            }\n            else {\n                addClass([button], CLASSNAMES.CLEARICONHIDE);\n            }\n        }\n    }\n    Input.setValue = setValue;\n    /**\n     * Sets the single or multiple cssClass to wrapper of input element.\n     * ```\n     * E.g : Input.setCssClass('e-custom-class', [element]);\n     * ```\n     * @param cssClass - Css class names which are needed to add.\n     * @param elements - The elements which are needed to add / remove classes.\n     * @param oldClass - Css class names which are needed to remove. If old classes are need to remove, can give this optional parameter.\n     */\n    function setCssClass(cssClass, elements, oldClass) {\n        if (!isNullOrUndefined(oldClass) && oldClass !== '') {\n            removeClass(elements, oldClass);\n        }\n        if (!isNullOrUndefined(cssClass) && cssClass !== '') {\n            addClass(elements, cssClass);\n        }\n    }\n    Input.setCssClass = setCssClass;\n    /**\n     * Set the placeholder attribute to the input element.\n     * ```\n     * E.g : Input.setPlaceholder('Search here', element);\n     * ```\n     * @param placeholder - Placeholder value which is need to add.\n     * @param element - The element on which the placeholder is need to add.\n     */\n    function setPlaceholder(placeholder, element) {\n        var parentElement;\n        parentElement = getParentNode(element);\n        if (parentElement.classList.contains(CLASSNAMES.FLOATINPUT)) {\n            if (!isNullOrUndefined(placeholder) && placeholder !== '') {\n                parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = placeholder;\n                parentElement.classList.remove(CLASSNAMES.NOFLOATLABEL);\n            }\n            else {\n                parentElement.classList.add(CLASSNAMES.NOFLOATLABEL);\n                parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = '';\n            }\n        }\n        else {\n            if (!isNullOrUndefined(placeholder) && placeholder !== '') {\n                attributes(element, { 'placeholder': placeholder, 'aria-placeholder': placeholder });\n            }\n            else {\n                element.removeAttribute('placeholder');\n                element.removeAttribute('aria-placeholder');\n            }\n        }\n    }\n    Input.setPlaceholder = setPlaceholder;\n    /**\n     * Set the read only attribute to the input element\n     * ```\n     * E.g : Input.setReadonly(true, element);\n     * ```\n     * @param isReadonly\n     * - Boolean value to specify whether to set read only. Setting \"True\" value enables read only.\n     * @param element\n     * - The element which is need to enable read only.\n     */\n    function setReadonly(isReadonly, element, floatLabelType) {\n        if (isReadonly) {\n            attributes(element, { readonly: '' });\n        }\n        else {\n            element.removeAttribute('readonly');\n        }\n        if (!isNullOrUndefined(floatLabelType)) {\n            validateLabel(element, floatLabelType);\n        }\n    }\n    Input.setReadonly = setReadonly;\n    /**\n     * Displays the element direction from right to left when its enabled.\n     * ```\n     * E.g : Input.setEnableRtl(true, [inputObj.container]);\n     * ```\n     * @param isRtl\n     * - Boolean value to specify whether to set RTL. Setting \"True\" value enables the RTL mode.\n     * @param elements\n     * - The elements that are needed to enable/disable RTL.\n     */\n    function setEnableRtl(isRtl, elements) {\n        if (isRtl) {\n            addClass(elements, CLASSNAMES.RTL);\n        }\n        else {\n            removeClass(elements, CLASSNAMES.RTL);\n        }\n    }\n    Input.setEnableRtl = setEnableRtl;\n    /**\n     * Enables or disables the given input element.\n     * ```\n     * E.g : Input.setEnabled(false, element);\n     * ```\n     * @param isEnable\n     * - Boolean value to specify whether to enable or disable.\n     * @param element\n     * - Element to be enabled or disabled.\n     */\n    function setEnabled(isEnable, element, floatLabelType) {\n        var disabledAttrs = { 'disabled': 'disabled', 'aria-disabled': 'true' };\n        if (isEnable) {\n            element.classList.remove(CLASSNAMES.DISABLE);\n            removeAttributes(disabledAttrs, element);\n        }\n        else {\n            element.classList.add(CLASSNAMES.DISABLE);\n            addAttributes(disabledAttrs, element);\n        }\n        if (!isNullOrUndefined(floatLabelType)) {\n            validateLabel(element, floatLabelType);\n        }\n    }\n    Input.setEnabled = setEnabled;\n    function setClearButton(isClear, element, inputObject, initial, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        if (isClear) {\n            inputObject.clearButton = createClearButton(element, inputObject, initial, makeElement);\n        }\n        else {\n            inputObject.clearButton.remove();\n            inputObject.clearButton = null;\n        }\n    }\n    Input.setClearButton = setClearButton;\n    /**\n     * Removing the multiple attributes from the given element such as \"disabled\",\"id\" , etc.\n     * ```\n     * E.g : Input.removeAttributes({ 'disabled': 'disabled', 'aria-disabled': 'true' }, element);\n     * ```\n     * @param attrs\n     *  - Array of attributes which are need to removed from the element.\n     * @param element\n     *  - Element on which the attributes are needed to be removed.\n     */\n    function removeAttributes(attrs, element) {\n        for (var _i = 0, _a = Object.keys(attrs); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var parentElement = void 0;\n            parentElement = getParentNode(element);\n            if (key === 'disabled') {\n                element.classList.remove(CLASSNAMES.DISABLE);\n            }\n            if (key === 'disabled' && parentElement.classList.contains(CLASSNAMES.INPUTGROUP)) {\n                parentElement.classList.remove(CLASSNAMES.DISABLE);\n            }\n            if (key === 'placeholder' && parentElement.classList.contains(CLASSNAMES.FLOATINPUT)) {\n                parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = '';\n            }\n            else {\n                element.removeAttribute(key);\n            }\n        }\n    }\n    Input.removeAttributes = removeAttributes;\n    /**\n     * Adding the multiple attributes to the given element such as \"disabled\",\"id\" , etc.\n     * ```\n     * E.g : Input.addAttributes({ 'id': 'inputpopup' }, element);\n     * ```\n     * @param attrs\n     * - Array of attributes which is added to element.\n     * @param element\n     * - Element on which the attributes are needed to be added.\n     */\n    function addAttributes(attrs, element) {\n        for (var _i = 0, _a = Object.keys(attrs); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var parentElement = void 0;\n            parentElement = getParentNode(element);\n            if (key === 'disabled') {\n                element.classList.add(CLASSNAMES.DISABLE);\n            }\n            if (key === 'disabled' && parentElement.classList.contains(CLASSNAMES.INPUTGROUP)) {\n                parentElement.classList.add(CLASSNAMES.DISABLE);\n            }\n            if (key === 'placeholder' && parentElement.classList.contains(CLASSNAMES.FLOATINPUT)) {\n                parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = attrs[key];\n            }\n            else {\n                element.setAttribute(key, attrs[key]);\n            }\n        }\n    }\n    Input.addAttributes = addAttributes;\n    function removeFloating(input) {\n        var container = input.container;\n        if (!isNullOrUndefined(container) && container.classList.contains(CLASSNAMES.FLOATINPUT)) {\n            var inputEle = container.querySelector('input');\n            var placeholder = container.querySelector('.' + CLASSNAMES.FLOATTEXT).textContent;\n            var clearButton = container.querySelector('.e-clear-icon') !== null;\n            detach(container.querySelector('.' + CLASSNAMES.FLOATLINE));\n            detach(container.querySelector('.' + CLASSNAMES.FLOATTEXT));\n            classList(container, [CLASSNAMES.INPUTGROUP], [CLASSNAMES.FLOATINPUT]);\n            unwireFloatingEvents(inputEle);\n            attributes(inputEle, { 'placeholder': placeholder });\n            inputEle.classList.add(CLASSNAMES.INPUT);\n            if (!clearButton) {\n                inputEle.removeAttribute('required');\n            }\n        }\n    }\n    Input.removeFloating = removeFloating;\n    function addFloating(input, type, placeholder, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var container = closest(input, '.' + CLASSNAMES.INPUTGROUP);\n        if (type !== 'Never') {\n            var customTag = container.tagName;\n            customTag = customTag !== 'DIV' && customTag !== 'SPAN' ? customTag : null;\n            var args = { element: input, floatLabelType: type, customTag: customTag, properties: { placeholder: placeholder } };\n            var iconEle = container.querySelector('.e-clear-icon');\n            var inputObj = { container: container };\n            input.classList.remove(CLASSNAMES.INPUT);\n            createFloatingInput(args, inputObj, makeElement);\n            if (isNullOrUndefined(iconEle)) {\n                iconEle = container.querySelector('.e-input-group-icon');\n            }\n            if (isNullOrUndefined(iconEle)) {\n                container.classList.remove(CLASSNAMES.INPUTGROUP);\n            }\n            else {\n                var floatLine = container.querySelector('.' + CLASSNAMES.FLOATLINE);\n                var floatText = container.querySelector('.' + CLASSNAMES.FLOATTEXT);\n                container.insertBefore(input, iconEle);\n                container.insertBefore(floatLine, iconEle);\n                container.insertBefore(floatText, iconEle);\n            }\n        }\n    }\n    Input.addFloating = addFloating;\n    /**\n     * Enable or Disable the ripple effect on the icons inside the Input. Ripple effect is only applicable for material theme.\n     * ```\n     * E.g : Input.setRipple(true, [inputObjects]);\n     * ```\n     * @param isRipple\n     * - Boolean value to specify whether to enable the ripple effect.\n     * @param inputObject\n     * - Specify the collection of input objects.\n     */\n    function setRipple(isRipple, inputObj) {\n        for (var i = 0; i < inputObj.length; i++) {\n            _internalRipple(isRipple, inputObj[i].container);\n        }\n    }\n    Input.setRipple = setRipple;\n    function _internalRipple(isRipple, container, button) {\n        var argsButton = [];\n        argsButton.push(button);\n        var buttons = isNullOrUndefined(button) ?\n            container.querySelectorAll('.e-input-group-icon') : argsButton;\n        if (isRipple && buttons.length > 0) {\n            for (var index = 0; index < buttons.length; index++) {\n                buttons[index].addEventListener('mousedown', _onMouseDownRipple, false);\n                buttons[index].addEventListener('mouseup', _onMouseUpRipple, false);\n            }\n        }\n        else if (buttons.length > 0) {\n            for (var index = 0; index < buttons.length; index++) {\n                buttons[index].removeEventListener('mousedown', _onMouseDownRipple, this);\n                buttons[index].removeEventListener('mouseup', _onMouseUpRipple, this);\n            }\n        }\n    }\n    function _onMouseRipple(container, button) {\n        if (!container.classList.contains('e-disabled') && !container.querySelector('input').readOnly) {\n            button.classList.add('e-input-btn-ripple');\n        }\n    }\n    function _onMouseDownRipple() {\n        var ele = this;\n        var parentEle = this.parentElement;\n        while (!parentEle.classList.contains('e-input-group')) {\n            parentEle = parentEle.parentElement;\n        }\n        _onMouseRipple(parentEle, ele);\n    }\n    function _onMouseUpRipple() {\n        var ele = this;\n        setTimeout(function () { ele.classList.remove('e-input-btn-ripple'); }, 500);\n    }\n    /**\n     * Creates a new span element with the given icons added and append it in container element.\n     * ```\n     * E.g : Input.appendSpan('e-icon-spin', inputObj.container);\n     * ```\n     * @param iconClass - Icon classes which are need to add to the span element which is going to created.\n     * Span element acts as icon or button element for input.\n     * @param container - The container on which created span element is going to append.\n     */\n    function appendSpan(iconClass, container, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var button = makeElement('span', { className: iconClass });\n        button.classList.add('e-input-group-icon');\n        container.appendChild(button);\n        if (!container.classList.contains(CLASSNAMES.INPUTGROUP)) {\n            container.classList.add(CLASSNAMES.INPUTGROUP);\n        }\n        _internalRipple(true, container, button);\n        return button;\n    }\n    Input.appendSpan = appendSpan;\n})(Input || (Input = {}));\n","import { classNames } from './list-view';\nimport { EventHandler, append, isNullOrUndefined, detach } from '@syncfusion/ej2-base';\nimport { ListBase } from '../common/list-base';\nvar Virtualization = /** @class */ (function () {\n    function Virtualization(instance) {\n        this.listViewInstance = instance;\n    }\n    Virtualization.prototype.uiVirtualization = function () {\n        var curViewDS = this.listViewInstance.curViewDS;\n        var firstDs = curViewDS.slice(0, 1);\n        this.listViewInstance.ulElement = this.listViewInstance.curUL = ListBase.createList(this.listViewInstance.createElement, firstDs, this.listViewInstance.listBaseOption);\n        this.listViewInstance.contentContainer = this.listViewInstance.createElement('div', { className: classNames.content });\n        this.listViewInstance.element.appendChild(this.listViewInstance.contentContainer);\n        this.listViewInstance.contentContainer.appendChild(this.listViewInstance.ulElement);\n        this.listItemHeight = this.listViewInstance.ulElement.firstElementChild.getBoundingClientRect().height;\n        this.expectedDomItemCount = this.ValidateItemCount(10000);\n        this.domItemCount = this.ValidateItemCount(Object.keys(this.listViewInstance.curViewDS).length);\n        this.uiFirstIndex = 0;\n        this.uiLastIndex = this.domItemCount - 1;\n        this.wireScrollEvent(false);\n        var otherDs = curViewDS.slice(1, this.domItemCount);\n        var listItems = ListBase.createListItemFromJson(this.listViewInstance.createElement, otherDs, this.listViewInstance.listBaseOption);\n        append(listItems, this.listViewInstance.ulElement);\n        this.listViewInstance.liCollection = this.listViewInstance.curUL.querySelectorAll('li');\n        this.topElement = this.listViewInstance.createElement('div');\n        this.listViewInstance.ulElement.insertBefore(this.topElement, this.listViewInstance.ulElement.firstElementChild);\n        this.bottomElement = this.listViewInstance.createElement('div');\n        this.listViewInstance.ulElement.insertBefore(this.bottomElement, null);\n        this.totalHeight = (Object.keys(curViewDS).length * this.listItemHeight) - (this.domItemCount * this.listItemHeight);\n        this.topElement.style.height = 0 + 'px';\n        this.bottomElement.style.height = this.totalHeight + 'px';\n        this.topElementHeight = 0;\n        this.bottomElementHeight = this.totalHeight;\n        this.listDiff = 0;\n        this.uiIndicesInitialization();\n    };\n    Virtualization.prototype.wireScrollEvent = function (destroy) {\n        if (!destroy) {\n            if (this.listViewInstance.isWindow) {\n                this.onVirtualScroll = this.onVirtualUiScroll.bind(this);\n                window.addEventListener('scroll', this.onVirtualScroll);\n            }\n            else {\n                EventHandler.add(this.listViewInstance.element, 'scroll', this.onVirtualUiScroll, this);\n            }\n        }\n        else {\n            this.listViewInstance.isWindow ? window.removeEventListener('scroll', this.onVirtualScroll) :\n                EventHandler.remove(this.listViewInstance.element, 'scroll', this.onVirtualUiScroll);\n        }\n    };\n    Virtualization.prototype.ValidateItemCount = function (dataSourceLength) {\n        var itemCount = this.listViewInstance.isWindow ? Math.round((window.innerHeight / this.listItemHeight) * 3) :\n            Math.round((this.listViewInstance.height / this.listItemHeight) * 1.5);\n        if (itemCount > dataSourceLength) {\n            itemCount = dataSourceLength;\n        }\n        return itemCount;\n    };\n    Virtualization.prototype.uiIndicesInitialization = function () {\n        var _this = this;\n        this.uiIndices = { 'activeIndices': [], 'disabledItemIndices': [], 'hiddenItemIndices': [] };\n        this.listViewInstance.curViewDS.forEach(function (ds, index) {\n            if (_this.listViewInstance.showCheckBox && ds[_this.listViewInstance.fields.isChecked]) {\n                _this.uiIndices.activeIndices.push(index);\n            }\n            if (!isNullOrUndefined(ds[_this.listViewInstance.fields.enabled]) && !ds[_this.listViewInstance.fields.enabled]) {\n                _this.uiIndices.disabledItemIndices.push(index);\n            }\n        });\n    };\n    Virtualization.prototype.getscrollerHeight = function () {\n        return this.listViewInstance.isWindow ? (((pageYOffset - this.startingHeight) <= 0) ? 0 :\n            (pageYOffset - this.startingHeight)) : ((this.listViewInstance.element.scrollTop - this.startingHeight) <= 0) ? 0 :\n            (this.listViewInstance.element.scrollTop - this.startingHeight);\n    };\n    Virtualization.prototype.onVirtualUiScroll = function () {\n        if (isNullOrUndefined(this.startingHeight)) {\n            if (this.listViewInstance.isWindow) {\n                this.startingHeight = document.documentElement.getBoundingClientRect().height -\n                    this.listViewInstance.ulElement.getBoundingClientRect().height;\n            }\n            else {\n                this.startingHeight = this.listViewInstance.headerEle ? this.listViewInstance.headerEle.getBoundingClientRect().height : 0;\n            }\n            this.scrollPosition = 0;\n        }\n        var scroll = this.getscrollerHeight();\n        this.topElementHeight = this.listItemHeight * Math.floor(scroll / this.listItemHeight);\n        this.bottomElementHeight = this.totalHeight - this.topElementHeight;\n        _a = scroll <= this.totalHeight ?\n            [this.topElementHeight, this.bottomElementHeight] : [this.totalHeight, 0], this.topElementHeight = _a[0], this.bottomElementHeight = _a[1];\n        if (this.topElementHeight !== parseFloat(this.topElement.style.height)) {\n            this.topElement.style.height = this.topElementHeight + 'px';\n            this.bottomElement.style.height = this.bottomElementHeight + 'px';\n            if (scroll > this.scrollPosition) {\n                var listDiff = ((this.topElementHeight / this.listItemHeight) - this.listDiff);\n                if (listDiff > (this.expectedDomItemCount + 5)) {\n                    this.onLongScroll(listDiff, true);\n                }\n                else {\n                    this.onNormalScroll(listDiff, true);\n                }\n            }\n            else {\n                var listDiff = (this.listDiff - (this.topElementHeight / this.listItemHeight));\n                if (listDiff > (this.expectedDomItemCount + 5)) {\n                    this.onLongScroll(listDiff, false);\n                }\n                else {\n                    this.onNormalScroll(listDiff, false);\n                }\n            }\n            this.listDiff = this.topElementHeight / this.listItemHeight;\n            if (typeof this.listViewInstance.onUIScrolled === 'function') {\n                this.listViewInstance.onUIScrolled();\n            }\n        }\n        this.scrollPosition = scroll;\n        var _a;\n    };\n    Virtualization.prototype.onLongScroll = function (listDiff, isScrollingDown) {\n        var _this = this;\n        var index = isScrollingDown ? (this.uiFirstIndex + listDiff) : (this.uiFirstIndex - listDiff);\n        Array.prototype.forEach.call(this.listViewInstance.ulElement.querySelectorAll('li'), function (element) {\n            _this.updateUI(element, index);\n            index++;\n        });\n        this.uiLastIndex = isScrollingDown ? (this.uiLastIndex + listDiff) : (this.uiLastIndex - listDiff);\n        this.uiFirstIndex = isScrollingDown ? (this.uiFirstIndex + listDiff) : (this.uiFirstIndex - listDiff);\n    };\n    Virtualization.prototype.onNormalScroll = function (listDiff, isScrollingDown) {\n        if (isScrollingDown) {\n            for (var i = 0; i < listDiff; i++) {\n                var index = ++this.uiLastIndex;\n                this.updateUI(this.topElement.nextElementSibling, index, this.bottomElement);\n                this.uiFirstIndex++;\n            }\n        }\n        else {\n            for (var i = 0; i < listDiff; i++) {\n                var index = --this.uiFirstIndex;\n                var target = this.topElement.nextSibling;\n                this.updateUI(this.bottomElement.previousElementSibling, index, target);\n                this.uiLastIndex--;\n            }\n        }\n    };\n    Virtualization.prototype.updateUiContent = function (element, index) {\n        var curViewDs = this.listViewInstance.curViewDS;\n        if (typeof this.listViewInstance.dataSource[0] === 'string' ||\n            typeof this.listViewInstance.dataSource[0] === 'number') {\n            element.dataset.uid = ListBase.generateId();\n            element.getElementsByClassName(classNames.listItemText)[0].innerHTML =\n                this.listViewInstance.curViewDS[index].toString();\n        }\n        else {\n            element.dataset.uid = curViewDs[index][this.listViewInstance.fields.id] ?\n                curViewDs[index][this.listViewInstance.fields.id].toString() : ListBase.generateId();\n            element.getElementsByClassName(classNames.listItemText)[0].innerHTML =\n                curViewDs[index][this.listViewInstance.fields.text].toString();\n        }\n        if (this.listViewInstance.showIcon) {\n            if (element.querySelector('.' + classNames.listIcon)) {\n                detach(element.querySelector('.' + classNames.listIcon));\n            }\n            if (this.listViewInstance.curViewDS[index][this.listViewInstance.fields.iconCss]) {\n                var textContent = element.querySelector('.' + classNames.textContent);\n                var target = this.listViewInstance.createElement('div', {\n                    className: classNames.listIcon + ' ' +\n                        this.listViewInstance.curViewDS[index][this.listViewInstance.fields.iconCss]\n                });\n                textContent.insertBefore(target, element.querySelector('.' + classNames.listItemText));\n            }\n        }\n        if (this.listViewInstance.showCheckBox && this.listViewInstance.fields.groupBy) {\n            if (!this.checkListWrapper) {\n                this.checkListWrapper = this.listViewInstance.curUL.querySelector('.' + classNames.checkboxWrapper).cloneNode(true);\n            }\n            var textContent = element.querySelector('.' + classNames.textContent);\n            if (this.listViewInstance.curViewDS[index].isHeader) {\n                if (element.querySelector('.' + classNames.checkboxWrapper)) {\n                    element.classList.remove(classNames.checklist);\n                    textContent.classList.remove(classNames.checkbox);\n                    detach(element.querySelector('.' + classNames.checkboxWrapper));\n                }\n            }\n            else {\n                if (!element.querySelector('.' + classNames.checkboxWrapper)) {\n                    element.classList.add(classNames.checklist);\n                    textContent.classList.add(classNames.checkbox);\n                    textContent.insertBefore(this.checkListWrapper.cloneNode(true), element.querySelector('.' + classNames.listItemText));\n                }\n            }\n        }\n    };\n    Virtualization.prototype.changeElementAttributes = function (element, index) {\n        element.classList.remove(classNames.disable);\n        if (this.uiIndices.disabledItemIndices.length && this.uiIndices.disabledItemIndices.indexOf(index) !== -1) {\n            element.classList.add(classNames.disable);\n        }\n        element.style.display = '';\n        if (this.uiIndices.hiddenItemIndices.length && this.uiIndices.hiddenItemIndices.indexOf(index) !== -1) {\n            element.style.display = 'none';\n        }\n        if (this.listViewInstance.showCheckBox) {\n            var checklistElement = element.querySelector('.' + classNames.checkboxWrapper);\n            element.classList.remove(classNames.selected);\n            element.classList.remove(classNames.focused);\n            if (checklistElement) {\n                checklistElement.removeAttribute('aria-checked');\n                checklistElement.firstElementChild.classList.remove(classNames.checked);\n            }\n            if (this.uiIndices.activeIndices.length && this.uiIndices.activeIndices.indexOf(index) !== -1 &&\n                !this.listViewInstance.curUL.querySelector(classNames.selected)) {\n                element.classList.add(classNames.selected);\n                checklistElement.firstElementChild.classList.add(classNames.checked);\n                checklistElement.setAttribute('aria-checked', 'true');\n                if (this.activeIndex === index) {\n                    element.classList.add(classNames.focused);\n                }\n            }\n        }\n        else {\n            element.classList.remove(classNames.selected);\n            element.removeAttribute('aria-selected');\n            if (!isNullOrUndefined(this.activeIndex) && this.activeIndex === index &&\n                !this.listViewInstance.curUL.querySelector(classNames.selected)) {\n                element.classList.add(classNames.selected);\n                element.setAttribute('aria-selected', 'true');\n            }\n        }\n        if (this.listViewInstance.fields.groupBy) {\n            if (this.listViewInstance.curViewDS[index].isHeader) {\n                if (element.classList.contains(classNames.listItem)) {\n                    element.classList.remove(classNames.listItem);\n                    element.setAttribute('role', 'group');\n                    element.classList.add(classNames.groupListItem);\n                }\n            }\n            else {\n                if (element.classList.contains(classNames.groupListItem)) {\n                    element.classList.remove(classNames.groupListItem);\n                    element.setAttribute('role', 'listitem');\n                    element.classList.add(classNames.listItem);\n                }\n            }\n        }\n    };\n    Virtualization.prototype.findDSAndIndexFromId = function (ds, fields) {\n        var _this = this;\n        var resultJSON = {};\n        ds.some(function (data, index) {\n            if ((fields[_this.listViewInstance.fields.id] &&\n                fields[_this.listViewInstance.fields.id].toString()\n                    === (data[_this.listViewInstance.fields.id] && data[_this.listViewInstance.fields.id].toString())) || fields === data) {\n                resultJSON.index = index;\n                resultJSON.data = data;\n                return true;\n            }\n            else {\n                return false;\n            }\n        });\n        return resultJSON;\n    };\n    Virtualization.prototype.getSelectedItems = function () {\n        var _this = this;\n        if (!isNullOrUndefined(this.activeIndex) || (this.listViewInstance.showCheckBox && this.uiIndices.activeIndices.length)) {\n            var dataCollection_1 = [];\n            var textCollection_1 = [];\n            if (typeof this.listViewInstance.dataSource[0] === 'string' ||\n                typeof this.listViewInstance.dataSource[0] === 'number') {\n                var curViewDS_1 = this.listViewInstance.curViewDS;\n                if (this.listViewInstance.showCheckBox) {\n                    this.uiIndices.activeIndices.forEach(function (index) {\n                        dataCollection_1.push(curViewDS_1[index]);\n                    });\n                    return {\n                        text: dataCollection_1,\n                        data: dataCollection_1,\n                        index: this.uiIndices.activeIndices.map(function (index) {\n                            return _this.listViewInstance.dataSource.indexOf(curViewDS_1[index]);\n                        })\n                    };\n                }\n                else {\n                    return {\n                        text: curViewDS_1[this.activeIndex],\n                        data: curViewDS_1[this.activeIndex],\n                        index: this.listViewInstance.dataSource.indexOf(curViewDS_1[this.activeIndex])\n                    };\n                }\n            }\n            else {\n                var curViewDS_2 = this.listViewInstance.curViewDS;\n                var text_1 = this.listViewInstance.fields.text;\n                if (this.listViewInstance.showCheckBox) {\n                    this.uiIndices.activeIndices.forEach(function (index) {\n                        textCollection_1.push(curViewDS_2[index][text_1]);\n                        dataCollection_1.push(curViewDS_2[index]);\n                    });\n                    return {\n                        text: textCollection_1,\n                        data: dataCollection_1,\n                        index: this.uiIndices.activeIndices.map(function (index) {\n                            return (_this.listViewInstance.dataSource).indexOf(curViewDS_2[index]);\n                        })\n                    };\n                }\n                else {\n                    return {\n                        text: curViewDS_2[this.activeIndex][this.listViewInstance.fields.text],\n                        data: curViewDS_2[this.activeIndex],\n                        index: this.listViewInstance.dataSource.indexOf(curViewDS_2[this.activeIndex])\n                    };\n                }\n            }\n        }\n        else {\n            return undefined;\n        }\n    };\n    Virtualization.prototype.selectItem = function (obj) {\n        var resutJSON = this.findDSAndIndexFromId(this.listViewInstance.curViewDS, obj);\n        if (Object.keys(resutJSON).length) {\n            this.activeIndex = resutJSON.index;\n            if (this.listViewInstance.showCheckBox && this.uiIndices.activeIndices.indexOf(resutJSON.index) === -1) {\n                this.uiIndices.activeIndices.push(resutJSON.index);\n            }\n            this.listViewInstance.removeSelect();\n            if (this.listViewInstance.showCheckBox && this.listViewInstance.curUL.querySelector('.' + classNames.focused)) {\n                this.listViewInstance.curUL.querySelector('.' + classNames.focused).classList.remove(classNames.focused);\n            }\n            if (this.listViewInstance.getLiFromObjOrElement(obj)) {\n                if (this.listViewInstance.showCheckBox) {\n                    this.listViewInstance.setCheckboxLI(this.listViewInstance.getLiFromObjOrElement(obj));\n                }\n                else {\n                    this.listViewInstance.setSelectLI(this.listViewInstance.getLiFromObjOrElement(obj));\n                }\n            }\n            else {\n                var eventArgs = void 0;\n                if (typeof this.listViewInstance.dataSource[0] === 'string' ||\n                    typeof this.listViewInstance.dataSource[0] === 'number') {\n                    eventArgs = {\n                        text: this.listViewInstance.curViewDS[this.activeIndex],\n                        data: this.listViewInstance.curViewDS[this.activeIndex],\n                        index: this.activeIndex\n                    };\n                }\n                else {\n                    var curViewDS = this.listViewInstance.curViewDS;\n                    eventArgs = {\n                        text: curViewDS[this.activeIndex][this.listViewInstance.fields.text],\n                        data: curViewDS[this.activeIndex],\n                        index: this.uiIndices.activeIndices\n                    };\n                }\n                this.listViewInstance.trigger('select', eventArgs);\n            }\n        }\n    };\n    Virtualization.prototype.enableItem = function (obj) {\n        var resutJSON = this.findDSAndIndexFromId(this.listViewInstance.curViewDS, obj);\n        if (Object.keys(resutJSON).length) {\n            this.uiIndices.disabledItemIndices.splice(this.uiIndices.disabledItemIndices.indexOf(resutJSON.index), 1);\n        }\n    };\n    Virtualization.prototype.disableItem = function (obj) {\n        var resutJSON = this.findDSAndIndexFromId(this.listViewInstance.curViewDS, obj);\n        if (Object.keys(resutJSON).length && this.uiIndices.disabledItemIndices.indexOf(resutJSON.index) === -1) {\n            this.uiIndices.disabledItemIndices.push(resutJSON.index);\n        }\n    };\n    Virtualization.prototype.showItem = function (obj) {\n        var resutJSON = this.findDSAndIndexFromId(this.listViewInstance.curViewDS, obj);\n        if (Object.keys(resutJSON).length) {\n            this.uiIndices.hiddenItemIndices.splice(this.uiIndices.hiddenItemIndices.indexOf(resutJSON.index), 1);\n        }\n    };\n    Virtualization.prototype.hideItem = function (obj) {\n        var resutJSON = this.findDSAndIndexFromId(this.listViewInstance.curViewDS, obj);\n        if (Object.keys(resutJSON).length && this.uiIndices.hiddenItemIndices.indexOf(resutJSON.index) === -1) {\n            this.uiIndices.hiddenItemIndices.push(resutJSON.index);\n        }\n    };\n    Virtualization.prototype.removeItem = function (obj) {\n        var dataSource;\n        var resutJSON = this.findDSAndIndexFromId(this.listViewInstance.curViewDS, obj);\n        if (Object.keys(resutJSON).length) {\n            dataSource = resutJSON.data;\n            if (this.listViewInstance.curViewDS[resutJSON.index - 1] &&\n                this.listViewInstance.curViewDS[resutJSON.index - 1].isHeader &&\n                (this.listViewInstance.curViewDS[resutJSON.index - 1])\n                    .items.length === 1) {\n                this.removeUiItem(resutJSON.index - 1);\n                this.removeUiItem(resutJSON.index - 1);\n            }\n            else {\n                this.removeUiItem(resutJSON.index);\n            }\n        }\n        var index = this.listViewInstance.dataSource.indexOf(dataSource);\n        if (index !== -1) {\n            this.listViewInstance.dataSource.splice(index, 1);\n            this.listViewInstance.setViewDataSource(this.listViewInstance.dataSource);\n        }\n    };\n    Virtualization.prototype.setCheckboxLI = function (li, e) {\n        var index = Array.prototype.indexOf.call(this.listViewInstance.curUL.querySelectorAll('li'), li) + this.uiFirstIndex;\n        this.activeIndex = Array.prototype.indexOf.call(this.listViewInstance.curUL.querySelectorAll('li'), li) + this.uiFirstIndex;\n        if (li.classList.contains(classNames.selected)) {\n            if (this.uiIndices.activeIndices.indexOf(index) === -1) {\n                this.uiIndices.activeIndices.push(index);\n            }\n        }\n        else {\n            this.uiIndices.activeIndices.splice(this.uiIndices.activeIndices.indexOf(index), 1);\n        }\n    };\n    Virtualization.prototype.setSelectLI = function (li, e) {\n        this.activeIndex = Array.prototype.indexOf.call(this.listViewInstance.curUL.querySelectorAll('li'), li) + this.uiFirstIndex;\n    };\n    Virtualization.prototype.checkedItem = function (checked) {\n        var _this = this;\n        if (checked) {\n            this.uiIndices.activeIndices = [];\n            this.activeIndex = undefined;\n            this.listViewInstance.curViewDS.forEach(function (ds, index) {\n                if (!ds.isHeader) {\n                    _this.uiIndices.activeIndices.push(index);\n                }\n            });\n        }\n        else {\n            this.activeIndex = undefined;\n            this.uiIndices.activeIndices = [];\n        }\n    };\n    Virtualization.prototype.addUiItem = function (index) {\n        var curViewDs = this.listViewInstance.curViewDS;\n        this.changeUiIndices(index, true);\n        if (this.activeIndex && this.activeIndex >= index) {\n            this.activeIndex++;\n        }\n        if (this.listViewInstance.showCheckBox &&\n            curViewDs[index][this.listViewInstance.fields.isChecked]) {\n            this.uiIndices.activeIndices.push(index);\n        }\n        if (!parseFloat(this.bottomElement.style.height) && !parseFloat(this.topElement.style.height)) {\n            this.bottomElement.style.height = parseFloat(this.bottomElement.style.height) + this.listItemHeight + 'px';\n        }\n        if (parseFloat(this.bottomElement.style.height)) {\n            var liItem = this.listViewInstance.curUL.lastElementChild.previousSibling;\n            var target = this.listViewInstance.getLiFromObjOrElement(curViewDs[index + 1]) ||\n                this.listViewInstance.getLiFromObjOrElement(curViewDs[index + 2]);\n            if (target) {\n                this.bottomElement.style.height = parseFloat(this.bottomElement.style.height) + this.listItemHeight + 'px';\n                this.updateUI(liItem, index, target);\n            }\n        }\n        else {\n            var liItem = this.listViewInstance.curUL.firstElementChild.nextSibling;\n            var target = void 0;\n            if ((Object.keys(this.listViewInstance.curViewDS).length - 1) === index) {\n                target = this.listViewInstance.curUL.lastElementChild;\n            }\n            else {\n                target = this.listViewInstance.getLiFromObjOrElement(curViewDs[index + 1]) ||\n                    this.listViewInstance.getLiFromObjOrElement(curViewDs[index + 2]);\n            }\n            this.topElement.style.height = parseFloat(this.topElement.style.height) + this.listItemHeight + 'px';\n            this.uiFirstIndex++;\n            this.uiLastIndex++;\n            if (target) {\n                this.updateUI(liItem, index, target);\n                this.listViewInstance.isWindow ? window.scrollTo(0, (pageYOffset + this.listItemHeight)) :\n                    this.listViewInstance.element.scrollTop += this.listItemHeight;\n            }\n        }\n        this.totalHeight += this.listItemHeight;\n        this.listDiff = parseFloat(this.topElement.style.height) / this.listItemHeight;\n    };\n    Virtualization.prototype.removeUiItem = function (index) {\n        this.totalHeight -= this.listItemHeight;\n        var curViewDS = this.listViewInstance.curViewDS[index];\n        var liItem = this.listViewInstance.getLiFromObjOrElement(curViewDS);\n        this.listViewInstance.curViewDS.splice(index, 1);\n        if (this.activeIndex && this.activeIndex >= index) {\n            this.activeIndex--;\n        }\n        if (liItem) {\n            if (this.domItemCount > Object.keys(this.listViewInstance.curViewDS).length) {\n                detach(liItem);\n                this.domItemCount--;\n                this.uiLastIndex--;\n                this.totalHeight = 0;\n            }\n            else {\n                if (liItem.classList.contains(classNames.disable)) {\n                    liItem.classList.remove(classNames.disable);\n                    this.uiIndices.disabledItemIndices.splice(this.uiIndices.disabledItemIndices.indexOf(index), 1);\n                }\n                if (liItem.style.display === 'none') {\n                    liItem.style.display = '';\n                    this.uiIndices.hiddenItemIndices.splice(this.uiIndices.hiddenItemIndices.indexOf(index), 1);\n                }\n                if (this.listViewInstance.showCheckBox && liItem.classList.contains(classNames.selected)) {\n                    this.listViewInstance.removeSelect();\n                    this.uiIndices.activeIndices.splice(this.uiIndices.activeIndices.indexOf(index), 1);\n                    var checklistElement = liItem.querySelector('.' + classNames.checkboxWrapper);\n                    checklistElement.removeAttribute('aria-checked');\n                    checklistElement.firstElementChild.classList.remove(classNames.checked);\n                    if (liItem.classList.contains(classNames.focused)) {\n                        liItem.classList.remove(classNames.focused);\n                        this.activeIndex = undefined;\n                    }\n                }\n                else if (liItem.classList.contains(classNames.selected)) {\n                    this.listViewInstance.removeSelect();\n                    this.activeIndex = undefined;\n                }\n                if (!parseFloat(this.bottomElement.style.height) && !parseFloat(this.topElement.style.height)) {\n                    this.updateUI(liItem, this.uiLastIndex, this.bottomElement);\n                }\n                else if (parseFloat(this.bottomElement.style.height)) {\n                    this.bottomElement.style.height = parseFloat(this.bottomElement.style.height) - this.listItemHeight + 'px';\n                    this.updateUI(liItem, this.uiLastIndex, this.bottomElement);\n                }\n                else {\n                    this.topElement.style.height = parseFloat(this.topElement.style.height) - this.listItemHeight + 'px';\n                    this.updateUI(liItem, (this.uiFirstIndex - 1), this.topElement.nextSibling);\n                    this.uiLastIndex--;\n                    this.uiFirstIndex--;\n                }\n            }\n        }\n        this.changeUiIndices(index, false);\n        this.listDiff = parseFloat(this.topElement.style.height) / this.listItemHeight;\n    };\n    Virtualization.prototype.changeUiIndices = function (index, increment) {\n        var _this = this;\n        Object.keys(this.uiIndices).forEach(function (key) {\n            _this.uiIndices[key] = _this.uiIndices[key].map(function (i) {\n                if (i >= index) {\n                    return increment ? ++i : --i;\n                }\n                else {\n                    return i;\n                }\n            });\n        });\n    };\n    Virtualization.prototype.addItem = function (data, fields) {\n        var _this = this;\n        data.forEach(function (dataSource) {\n            _this.listViewInstance.dataSource.push(dataSource);\n            _this.listViewInstance.setViewDataSource(_this.listViewInstance.dataSource);\n            if (!_this.domItemCount) {\n                _this.uiVirtualization();\n            }\n            else if (_this.domItemCount < _this.expectedDomItemCount) {\n                _this.wireScrollEvent(true);\n                detach(_this.listViewInstance.contentContainer);\n                _this.uiVirtualization();\n            }\n            else {\n                var index = _this.listViewInstance.curViewDS.indexOf(dataSource);\n                _this.addUiItem(index);\n                var curViewDS = _this.listViewInstance.curViewDS[index - 1];\n                if (curViewDS && curViewDS.isHeader && curViewDS.items.length === 1) {\n                    _this.addUiItem(index - 1);\n                }\n            }\n        });\n    };\n    Virtualization.prototype.createUIItem = function (args) {\n        var template = this.listViewInstance.createElement('div');\n        var commonTemplate = '<div class=\"e-text-content\" role=\"presentation\"> ' +\n            '<span class=\"e-list-text\"> ${' + this.listViewInstance.fields.text + '} </span></div>';\n        template.innerHTML = this.listViewInstance.template || commonTemplate;\n        var templateElements = template.getElementsByTagName('*');\n        var groupTemplate = this.listViewInstance.createElement('div');\n        if (this.listViewInstance.fields.groupBy) {\n            groupTemplate.innerHTML = this.listViewInstance.groupTemplate || commonTemplate;\n        }\n        var groupTemplateElements = groupTemplate.getElementsByTagName('*');\n        if (args.curData.isHeader) {\n            this.headerData = args.curData;\n        }\n        this.templateData = args.curData.isHeader ? args.curData.items[0] :\n            args.curData;\n        args.item.innerHTML = '';\n        args.item.context = { data: args.curData, nodes: { flatTemplateNodes: [], groupTemplateNodes: [] } };\n        for (var i = 0; i < templateElements.length; i++) {\n            this.compileTemplate(templateElements[i], args.item, false);\n        }\n        for (var i = 0; i < groupTemplateElements.length; i++) {\n            this.compileTemplate(groupTemplateElements[i], args.item, true);\n        }\n        args.item.context.template = args.curData.isHeader ? template.firstElementChild :\n            groupTemplate.firstElementChild;\n        args.item.context.type = args.curData.isHeader ? 'flatList' : 'groupList';\n        var element = args.curData.isHeader ? groupTemplate : template;\n        args.item.insertBefore(element.firstElementChild, null);\n    };\n    Virtualization.prototype.compileTemplate = function (element, item, isHeader) {\n        this.textProperty(element, item, isHeader);\n        this.classProperty(element, item, isHeader);\n        this.attributeProperty(element, item, isHeader);\n    };\n    Virtualization.prototype.onChange = function (newData, listElement) {\n        listElement.context.data = newData;\n        var groupTemplateNodes = listElement.context.nodes.groupTemplateNodes;\n        var flatTemplateNodes = listElement.context.nodes.flatTemplateNodes;\n        if (!isNullOrUndefined(newData.isHeader) && newData.isHeader && listElement.context.type === 'groupList') {\n            var element = listElement.firstElementChild;\n            detach(listElement.firstElementChild);\n            listElement.insertBefore(listElement.context.template, null);\n            listElement.context.template = element;\n            listElement.context.type = 'flatList';\n            groupTemplateNodes.forEach(function (node) { return node.onChange(newData); });\n        }\n        else if (!newData.isHeader && listElement.context.type === 'flatList') {\n            var element = listElement.firstElementChild;\n            detach(listElement.firstElementChild);\n            listElement.insertBefore(listElement.context.template, null);\n            listElement.context.template = element;\n            listElement.context.type = 'groupList';\n            flatTemplateNodes.forEach(function (node) { return node.onChange(newData); });\n        }\n        else if (!newData.isHeader) {\n            flatTemplateNodes.forEach(function (node) { return node.onChange(newData); });\n        }\n        else {\n            groupTemplateNodes.forEach(function (node) { return node.onChange(newData); });\n        }\n    };\n    Virtualization.prototype.updateContextData = function (listElement, node, isHeader) {\n        if (isHeader) {\n            listElement.context.nodes.groupTemplateNodes.push(node);\n        }\n        else {\n            listElement.context.nodes.flatTemplateNodes.push(node);\n        }\n    };\n    Virtualization.prototype.classProperty = function (element, listElement, isHeader) {\n        var _this = this;\n        var regex = new RegExp('\\\\${([^}]*)}', 'g');\n        var resultantOutput = [];\n        var regexMatch;\n        while (regexMatch !== null) {\n            var match = regex.exec(element.className);\n            resultantOutput.push(match);\n            regexMatch = match;\n            if (regexMatch === null) {\n                resultantOutput.pop();\n            }\n        }\n        if (resultantOutput && resultantOutput.length) {\n            resultantOutput.forEach(function (classNameMatch) {\n                var classFunction;\n                if (classNameMatch[1].indexOf('?') !== -1 && classNameMatch[1].indexOf(':') !== -1) {\n                    // tslint:disable-next-line:no-function-constructor-with-string-args\n                    classFunction = new Function('data', 'return ' + classNameMatch[1].replace(/\\$/g, 'data.'));\n                }\n                else {\n                    // tslint:disable-next-line:no-function-constructor-with-string-args\n                    classFunction = new Function('data', 'return ' + 'data.' + classNameMatch[1]);\n                }\n                var subNode = {};\n                if (isHeader) {\n                    subNode.bindedvalue = classFunction(_this.headerData);\n                }\n                else {\n                    subNode.bindedvalue = classFunction(_this.templateData);\n                }\n                subNode.onChange = function (value) {\n                    element.classList.remove(subNode.bindedvalue);\n                    element.classList.add(classFunction(value));\n                    subNode.bindedvalue = classFunction(value);\n                };\n                classNameMatch[0].split(' ').forEach(function (className) {\n                    element.classList.remove(className);\n                });\n                element.classList.add(subNode.bindedvalue);\n                _this.updateContextData(listElement, subNode, isHeader);\n            });\n        }\n    };\n    Virtualization.prototype.attributeProperty = function (element, listElement, isHeader) {\n        var _this = this;\n        var attributeNames = [];\n        for (var i = 0; i < element.attributes.length; i++) {\n            attributeNames.push(element.attributes[i].nodeName);\n        }\n        if (attributeNames.indexOf('class') !== -1) {\n            attributeNames.splice(attributeNames.indexOf('class'), 1);\n        }\n        attributeNames.forEach(function (attributeName) {\n            var attrNameMatch = new RegExp('\\\\${([^}]*)}', 'g').exec(attributeName) || [];\n            var attrValueMatch = new RegExp('\\\\${([^}]*)}', 'g').exec(element.getAttribute(attributeName))\n                || [];\n            var attributeNameFunction;\n            var attributeValueFunction;\n            if (attrNameMatch.length || attrValueMatch.length) {\n                if (attrNameMatch[1]) {\n                    // tslint:disable-next-line:no-function-constructor-with-string-args\n                    attributeNameFunction = new Function('data', 'return ' + 'data.' + attrNameMatch[1]);\n                }\n                if (attrValueMatch[1]) {\n                    if (attrValueMatch[1].indexOf('?') !== -1 && attrValueMatch[1].indexOf(':') !== -1) {\n                        // tslint:disable-next-line:no-function-constructor-with-string-args\n                        attributeValueFunction = new Function('data', 'return ' + attrValueMatch[1].replace(/\\$/g, 'data.'));\n                    }\n                    else {\n                        // tslint:disable-next-line:no-function-constructor-with-string-args\n                        attributeValueFunction = new Function('data', 'return ' + 'data.' + attrValueMatch[1]);\n                    }\n                }\n                var subNode_1 = {};\n                if (isHeader) {\n                    subNode_1.bindedvalue = [attrNameMatch[1] === undefined ? undefined : attributeNameFunction(_this.headerData),\n                        attrValueMatch[1] === undefined ? undefined : attributeValueFunction(_this.headerData)];\n                }\n                else {\n                    subNode_1.bindedvalue = [attrNameMatch[1] === undefined ? undefined : attributeNameFunction(_this.templateData),\n                        attrValueMatch[1] === undefined ? undefined : attributeValueFunction(_this.templateData)];\n                }\n                subNode_1.attrName = subNode_1.bindedvalue[0] === undefined ?\n                    attributeName : subNode_1.bindedvalue[0];\n                subNode_1.onChange = function (value) {\n                    var bindedvalue = subNode_1.bindedvalue[1] === undefined ?\n                        element.getAttribute(subNode_1.attrName) : attributeValueFunction(value);\n                    element.removeAttribute(subNode_1.attrName);\n                    subNode_1.attrName = subNode_1.bindedvalue[0] === undefined ? subNode_1.attrName : attributeNameFunction(value);\n                    element.setAttribute(subNode_1.attrName, bindedvalue);\n                    subNode_1.bindedvalue = [subNode_1.bindedvalue[0] === undefined ? undefined : attributeNameFunction(value),\n                        subNode_1.bindedvalue[1] === undefined ? undefined : attributeValueFunction(value)];\n                };\n                var attributeValue = subNode_1.bindedvalue[1] === undefined ? element.getAttribute(attributeName) :\n                    subNode_1.bindedvalue[1];\n                element.removeAttribute(attributeName);\n                element.setAttribute(subNode_1.attrName, attributeValue);\n                _this.updateContextData(listElement, subNode_1, isHeader);\n            }\n        });\n    };\n    Virtualization.prototype.textProperty = function (element, listElement, isHeader) {\n        var _this = this;\n        var regex = new RegExp('\\\\${([^}]*)}', 'g');\n        var resultantOutput = [];\n        var regexMatch;\n        while (regexMatch !== null) {\n            var match = regex.exec(element.innerText);\n            resultantOutput.push(match);\n            regexMatch = match;\n            if (regexMatch === null) {\n                resultantOutput.pop();\n            }\n        }\n        var isChildHasTextContent = Array.prototype.some.call(element.children, function (element) {\n            if (new RegExp('\\\\${([^}]*)}', 'g').exec(element.innerText)) {\n                return true;\n            }\n            else {\n                return false;\n            }\n        });\n        if (resultantOutput && resultantOutput.length && !isChildHasTextContent) {\n            resultantOutput.forEach(function (textPropertyMatch) {\n                var subNode = {};\n                var textFunction;\n                if (textPropertyMatch[1].indexOf('?') !== -1 && textPropertyMatch[1].indexOf(':') !== -1) {\n                    // tslint:disable-next-line:no-function-constructor-with-string-args\n                    textFunction = new Function('data', 'return ' + textPropertyMatch[1].replace(/\\$/g, 'data.'));\n                }\n                else {\n                    // tslint:disable-next-line:no-function-constructor-with-string-args\n                    textFunction = new Function('data', 'return ' + 'data.' + textPropertyMatch[1]);\n                }\n                if (isHeader) {\n                    subNode.bindedvalue = textFunction(_this.headerData);\n                }\n                else {\n                    subNode.bindedvalue = textFunction(_this.templateData);\n                }\n                subNode.onChange = function (value) {\n                    element.innerText = element.innerText.replace(subNode.bindedvalue, textFunction(value));\n                    subNode.bindedvalue = textFunction(value);\n                };\n                element.innerText = element.innerText.replace(textPropertyMatch[0], subNode.bindedvalue);\n                _this.updateContextData(listElement, subNode, isHeader);\n            });\n        }\n    };\n    Virtualization.prototype.reRenderUiVirtualization = function () {\n        this.wireScrollEvent(true);\n        if (this.listViewInstance.contentContainer) {\n            detach(this.listViewInstance.contentContainer);\n        }\n        this.listViewInstance.preRender();\n        this.listViewInstance.localData = this.listViewInstance.dataSource;\n        this.listViewInstance.renderList();\n    };\n    Virtualization.prototype.updateUI = function (element, index, targetElement) {\n        if (this.listViewInstance.template || this.listViewInstance.groupTemplate) {\n            var curViewDS = this.listViewInstance.curViewDS[index];\n            element.dataset.uid = curViewDS[this.listViewInstance.fields.id] ?\n                curViewDS[this.listViewInstance.fields.id].toString() : ListBase.generateId();\n            this.onChange(curViewDS, element);\n        }\n        else {\n            this.updateUiContent(element, index);\n        }\n        this.changeElementAttributes(element, index);\n        if (targetElement) {\n            this.listViewInstance.ulElement.insertBefore(element, targetElement);\n        }\n    };\n    Virtualization.prototype.getModuleName = function () {\n        return 'virtualization';\n    };\n    Virtualization.prototype.destroy = function () {\n        this.wireScrollEvent(true);\n    };\n    return Virtualization;\n}());\nexport { Virtualization };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, addClass, append, Property, Event, L10n, compile } from '@syncfusion/ej2-base';\nimport { setStyleAttribute, extend, removeClass, prepend, isNullOrUndefined, detach, getValue } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, rippleEffect, ChildProperty, Complex } from '@syncfusion/ej2-base';\nimport { DataManager, Query, DataUtil } from '@syncfusion/ej2-data';\nimport { ListBase, cssClass as ListBaseClasses } from '@syncfusion/ej2-lists';\nvar FieldSettings = /** @class */ (function (_super) {\n    __extends(FieldSettings, _super);\n    function FieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"value\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"groupBy\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"htmlAttributes\", void 0);\n    return FieldSettings;\n}(ChildProperty));\nexport { FieldSettings };\nexport var dropDownBaseClasses = {\n    root: 'e-dropdownbase',\n    rtl: 'e-rtl',\n    content: 'e-content',\n    selected: 'e-active',\n    hover: 'e-hover',\n    noData: 'e-nodata',\n    fixedHead: 'e-fixed-head',\n    focus: 'e-item-focus',\n    li: ListBaseClasses.li,\n    group: ListBaseClasses.group,\n    disabled: ListBaseClasses.disabled,\n    grouping: 'e-dd-group'\n};\n/**\n * DropDownBase component will generate the list items based on given data and act as base class to drop-down related components\n */\nvar DropDownBase = /** @class */ (function (_super) {\n    __extends(DropDownBase, _super);\n    /**\n     * * Constructor for DropDownBase class\n     */\n    function DropDownBase(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    ;\n    DropDownBase.prototype.getPropObject = function (prop, newProp, oldProp) {\n        var newProperty = new Object();\n        var oldProperty = new Object();\n        // tslint:disable-next-line:no-function-constructor-with-string-args\n        var propName = new Function('prop', 'return prop');\n        newProperty[propName(prop)] = newProp[propName(prop)];\n        oldProperty[propName(prop)] = oldProp[propName(prop)];\n        var data = new Object();\n        data.newProperty = newProperty;\n        data.oldProperty = oldProperty;\n        return data;\n    };\n    DropDownBase.prototype.getValueByText = function (text, ignoreCase, ignoreAccent) {\n        var value = null;\n        if (!isNullOrUndefined(this.listData)) {\n            if (ignoreCase) {\n                value = this.checkValueCase(text, true, ignoreAccent);\n            }\n            else {\n                value = this.checkValueCase(text, false, ignoreAccent);\n            }\n        }\n        return value;\n    };\n    ;\n    DropDownBase.prototype.checkValueCase = function (text, ignoreCase, ignoreAccent, isTextByValue) {\n        var _this = this;\n        var value = null;\n        if (isTextByValue) {\n            value = text;\n        }\n        var dataSource = this.listData;\n        var fields = this.fields;\n        var type = this.typeOfData(dataSource).typeof;\n        if (type === 'string' || type === 'number' || type === 'boolean') {\n            for (var _i = 0, dataSource_1 = dataSource; _i < dataSource_1.length; _i++) {\n                var item = dataSource_1[_i];\n                if (!isNullOrUndefined(item)) {\n                    if (ignoreAccent) {\n                        value = this.checkingAccent(String(item), text, ignoreCase);\n                    }\n                    else {\n                        if (ignoreCase) {\n                            if (this.checkIgnoreCase(String(item), text)) {\n                                value = this.getItemValue(String(item), text, ignoreCase);\n                            }\n                        }\n                        else {\n                            if (this.checkNonIgnoreCase(String(item), text)) {\n                                value = this.getItemValue(String(item), text, ignoreCase, isTextByValue);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            if (ignoreCase) {\n                dataSource.filter(function (item) {\n                    if (_this.checkIgnoreCase(getValue(fields.text, item).toString(), text)) {\n                        value = getValue(fields.value, item);\n                    }\n                });\n            }\n            else {\n                if (isTextByValue) {\n                    dataSource.filter(function (item) {\n                        var itemValue = getValue(fields.value, item);\n                        if (!isNullOrUndefined(itemValue) && itemValue.toString() === value.toString()) {\n                            value = getValue(fields.text, item);\n                        }\n                    });\n                }\n                else {\n                    dataSource.filter(function (item) {\n                        if (_this.checkNonIgnoreCase(getValue(fields.text, item), text)) {\n                            value = getValue(fields.value, item);\n                        }\n                    });\n                }\n            }\n        }\n        return value;\n    };\n    DropDownBase.prototype.checkingAccent = function (item, text, ignoreCase) {\n        var dataItem = DataUtil.ignoreDiacritics(String(item));\n        var textItem = DataUtil.ignoreDiacritics(text.toString());\n        var value = null;\n        if (ignoreCase) {\n            if (this.checkIgnoreCase(dataItem, textItem)) {\n                value = this.getItemValue(String(item), text, ignoreCase);\n            }\n        }\n        else {\n            if (this.checkNonIgnoreCase(String(item), text)) {\n                value = this.getItemValue(String(item), text, ignoreCase);\n            }\n        }\n        return value;\n    };\n    DropDownBase.prototype.checkIgnoreCase = function (item, text) {\n        return String(item).toLowerCase() === text.toString().toLowerCase() ? true : false;\n    };\n    DropDownBase.prototype.checkNonIgnoreCase = function (item, text) {\n        return String(item) === text.toString() ? true : false;\n    };\n    DropDownBase.prototype.getItemValue = function (dataItem, typedText, ignoreCase, isTextByValue) {\n        var value = null;\n        var dataSource = this.listData;\n        var type = this.typeOfData(dataSource).typeof;\n        if (isTextByValue) {\n            value = dataItem.toString();\n        }\n        else {\n            if (ignoreCase) {\n                value = type === 'string' ? String(dataItem) : this.getFormattedValue(String(dataItem));\n            }\n            else {\n                value = type === 'string' ? typedText : this.getFormattedValue(typedText);\n            }\n        }\n        return value;\n    };\n    DropDownBase.prototype.l10nUpdate = function (actionFailure) {\n        if (this.noRecordsTemplate !== 'No Records Found' || this.actionFailureTemplate !== 'The Request Failed') {\n            var template = actionFailure ? this.actionFailureTemplate : this.noRecordsTemplate;\n            var compiledString = void 0;\n            this.list.innerHTML = '';\n            compiledString = compile(template);\n            for (var _i = 0, _a = compiledString({}); _i < _a.length; _i++) {\n                var item = _a[_i];\n                this.list.appendChild(item);\n            }\n        }\n        else {\n            var l10nLocale = { noRecordsTemplate: 'No Records Found', actionFailureTemplate: 'The Request Failed' };\n            this.l10n = new L10n('dropdowns', l10nLocale, this.locale);\n            this.list.innerHTML = actionFailure ?\n                this.l10n.getConstant('actionFailureTemplate') : this.l10n.getConstant('noRecordsTemplate');\n        }\n    };\n    DropDownBase.prototype.getTextByValue = function (value) {\n        var text;\n        text = this.checkValueCase(value, false, false, true);\n        return text;\n    };\n    DropDownBase.prototype.getFormattedValue = function (value) {\n        if (this.listData && this.listData.length) {\n            var item = this.typeOfData(this.listData);\n            if (typeof getValue((this.fields.value ? this.fields.value : 'value'), item.item) === 'number'\n                || item.typeof === 'number') {\n                return parseInt(value, 10);\n            }\n            if (typeof getValue((this.fields.value ? this.fields.value : 'value'), item.item) === 'boolean'\n                || item.typeof === 'boolean') {\n                return (value === 'true');\n            }\n        }\n        return value;\n    };\n    /**\n     * Sets RTL to dropdownbase wrapper\n     */\n    DropDownBase.prototype.setEnableRtl = function () {\n        if (this.list) {\n            this.enableRtlElements.push(this.list);\n        }\n        this.enableRtl ? addClass(this.enableRtlElements, dropDownBaseClasses.rtl) :\n            removeClass(this.enableRtlElements, dropDownBaseClasses.rtl);\n    };\n    ;\n    /**\n     * Initialize the Component.\n     */\n    DropDownBase.prototype.initialize = function () {\n        this.bindEvent = true;\n        if (this.element.tagName === 'UL') {\n            var jsonElement = ListBase.createJsonFromElement(this.element);\n            this.setProperties({ fields: { text: 'text', value: 'text' } }, true);\n            this.resetList(jsonElement, this.fields);\n        }\n        else if (this.element.tagName === 'SELECT') {\n            var dataSource = this.dataSource instanceof Array ? (this.dataSource.length > 0 ? true : false)\n                : !isNullOrUndefined(this.dataSource) ? true : false;\n            if (!dataSource) {\n                this.renderItemsBySelect();\n            }\n        }\n        else {\n            this.setListData(this.dataSource, this.fields, this.query);\n        }\n    };\n    ;\n    /**\n     * Get the properties to be maintained in persisted state.\n     */\n    DropDownBase.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    ;\n    /**\n     * Sets the enabled state to DropDownBase.\n     */\n    DropDownBase.prototype.setEnabled = function () {\n        if (this.enabled) {\n            this.element.setAttribute('aria-disabled', 'false');\n        }\n        else {\n            this.element.setAttribute('aria-disabled', 'true');\n        }\n    };\n    ;\n    DropDownBase.prototype.renderItemsBySelect = function () {\n        var element = this.element;\n        var fields = { value: 'value', text: 'text' };\n        var jsonElement = [];\n        var group = element.querySelectorAll('select>optgroup');\n        var option = element.querySelectorAll('select>option');\n        this.getJSONfromOption(jsonElement, option, fields);\n        if (group.length) {\n            for (var i = 0; i < group.length; i++) {\n                var item = group[i];\n                var optionGroup = {};\n                optionGroup[fields.text] = item.label;\n                optionGroup.isHeader = true;\n                var child = item.querySelectorAll('option');\n                jsonElement.push(optionGroup);\n                this.getJSONfromOption(jsonElement, child, fields);\n            }\n            var items = element.querySelectorAll('select>option');\n        }\n        this.fields.text = fields.text;\n        this.fields.value = fields.value;\n        this.resetList(jsonElement, fields);\n    };\n    DropDownBase.prototype.getJSONfromOption = function (items, options, fields) {\n        for (var _i = 0, options_1 = options; _i < options_1.length; _i++) {\n            var option = options_1[_i];\n            var json = {};\n            json[fields.text] = option.innerText;\n            json[fields.value] = option.getAttribute(fields.value) ? option.getAttribute(fields.value) : option.innerText;\n            items.push(json);\n        }\n    };\n    /**\n     * Execute before render the list items\n     * @private\n     */\n    DropDownBase.prototype.preRender = function () {\n        // there is no event handler\n        this.scrollTimer = -1;\n        this.enableRtlElements = [];\n        this.isRequested = false;\n    };\n    /**\n     * Creates the list items of DropDownBase component.\n     */\n    DropDownBase.prototype.setListData = function (dataSource, fields, query) {\n        var _this = this;\n        fields = fields ? fields : this.fields;\n        var ulElement;\n        this.isActive = true;\n        var eventArgs = { cancel: false, data: dataSource, query: query };\n        this.trigger('actionBegin', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        this.showSpinner();\n        if (dataSource instanceof DataManager) {\n            this.isRequested = true;\n            eventArgs.data.executeQuery(this.getQuery(eventArgs.query)).then(function (e) {\n                _this.trigger('actionComplete', e);\n                if (e.cancel) {\n                    return;\n                }\n                var listItems = e.result;\n                ulElement = _this.renderItems(listItems, fields);\n                _this.onActionComplete(ulElement, listItems, e);\n                _this.isRequested = false;\n                _this.hideSpinner();\n                _this.trigger('dataBound', { items: listItems, e: e });\n            }).catch(function (e) {\n                _this.isRequested = false;\n                _this.onActionFailure(e);\n                _this.hideSpinner();\n            });\n        }\n        else {\n            var dataManager = new DataManager(eventArgs.data);\n            var listItems = void 0;\n            listItems = (this.getQuery(eventArgs.query)).executeLocal(dataManager);\n            var localDataArgs = { cancel: false, result: listItems };\n            this.trigger('actionComplete', localDataArgs);\n            if (localDataArgs.cancel) {\n                return;\n            }\n            ulElement = this.renderItems(localDataArgs.result, fields);\n            this.onActionComplete(ulElement, localDataArgs.result);\n            this.hideSpinner();\n            this.trigger('dataBound', { items: localDataArgs.result });\n        }\n    };\n    DropDownBase.prototype.showSpinner = function () {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.hideSpinner = function () {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.onActionFailure = function (e) {\n        this.liCollections = [];\n        this.trigger('actionFailure', e);\n        this.l10nUpdate(true);\n        addClass([this.list], dropDownBaseClasses.noData);\n    };\n    DropDownBase.prototype.onActionComplete = function (ulElement, list, e) {\n        this.listData = list;\n        this.list.innerHTML = '';\n        this.list.appendChild(ulElement);\n        this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n        this.ulElement = this.list.querySelector('ul');\n        this.postRender(this.list, list, this.bindEvent);\n    };\n    DropDownBase.prototype.postRender = function (listElement, list, bindEvent) {\n        var focusItem = listElement.querySelector('.' + dropDownBaseClasses.li);\n        var selectedItem = listElement.querySelector('.' + dropDownBaseClasses.selected);\n        if (focusItem && !selectedItem) {\n            addClass([focusItem], dropDownBaseClasses.focus);\n        }\n        if (list.length <= 0) {\n            this.l10nUpdate();\n            addClass([listElement], dropDownBaseClasses.noData);\n        }\n        else {\n            listElement.classList.remove(dropDownBaseClasses.noData);\n        }\n        if (this.groupTemplate) {\n            this.renderGroupTemplate(listElement);\n        }\n    };\n    /**\n     * Get the query to do the data operation before list item generation.\n     */\n    DropDownBase.prototype.getQuery = function (query) {\n        return query ? query : this.query ? this.query : new Query();\n    };\n    /**\n     * To render the template content for group header element.\n     */\n    DropDownBase.prototype.renderGroupTemplate = function (listEle) {\n        if (this.fields.groupBy !== null && this.dataSource || this.element.querySelector('.' + dropDownBaseClasses.group)) {\n            var dataSource = this.dataSource;\n            var headerItems = listEle.querySelectorAll('.' + dropDownBaseClasses.group);\n            var tempHeaders = ListBase.renderGroupTemplate(this.groupTemplate, dataSource, this.fields.properties, headerItems);\n        }\n    };\n    /**\n     * To create the ul li list items\n     */\n    DropDownBase.prototype.createListItems = function (dataSource, fields) {\n        if (dataSource && fields.groupBy || this.element.querySelector('optgroup')) {\n            if (fields.groupBy) {\n                if (this.sortOrder !== 'None') {\n                    dataSource = this.getSortedDataSource(dataSource);\n                }\n                dataSource = ListBase.groupDataSource(dataSource, fields.properties, this.sortOrder);\n            }\n            addClass([this.list], dropDownBaseClasses.grouping);\n        }\n        else {\n            dataSource = this.getSortedDataSource(dataSource);\n        }\n        var options = this.listOption(dataSource, fields);\n        return ListBase.createList(this.createElement, dataSource, options, true);\n    };\n    ;\n    DropDownBase.prototype.listOption = function (dataSource, fields) {\n        var iconCss = isNullOrUndefined(fields.iconCss) ? false : true;\n        var fieldValues = !isNullOrUndefined(fields.properties) ?\n            fields.properties : fields;\n        var options = (fields.text !== null || fields.value !== null) ? {\n            fields: fieldValues,\n            showIcon: iconCss, ariaAttributes: { groupItemRole: 'presentation' }\n        } : { fields: { value: 'text' } };\n        return extend({}, options, fields, true);\n    };\n    ;\n    DropDownBase.prototype.setFloatingHeader = function (e) {\n        if (isNullOrUndefined(this.fixedHeaderElement)) {\n            this.fixedHeaderElement = this.createElement('div', { className: dropDownBaseClasses.fixedHead });\n            if (!this.list.querySelector('li').classList.contains(dropDownBaseClasses.group)) {\n                this.fixedHeaderElement.style.display = 'none';\n            }\n            prepend([this.fixedHeaderElement], this.list);\n            this.setFixedHeader();\n        }\n        if (!isNullOrUndefined(this.fixedHeaderElement) && this.fixedHeaderElement.style.zIndex === '0') {\n            this.setFixedHeader();\n        }\n        this.scrollStop(e);\n    };\n    DropDownBase.prototype.scrollStop = function (e) {\n        var target = e.target;\n        var liHeight = parseInt(getComputedStyle(this.liCollections[0], null).getPropertyValue('height'), 10);\n        var topIndex = Math.round(target.scrollTop / liHeight);\n        var liCollections = this.ulElement.querySelectorAll('li');\n        for (var i = topIndex; i > -1; i--) {\n            if (!isNullOrUndefined(liCollections[i]) && liCollections[i].classList.contains(dropDownBaseClasses.group)) {\n                var currentLi = liCollections[i];\n                this.fixedHeaderElement.innerHTML = currentLi.innerHTML;\n                this.fixedHeaderElement.style.top = e.target.scrollTop + 'px';\n                this.fixedHeaderElement.style.display = 'block';\n                break;\n            }\n            else {\n                this.fixedHeaderElement.style.display = 'none';\n                this.fixedHeaderElement.style.top = 'none';\n            }\n        }\n    };\n    /**\n     * To render the list items\n     */\n    DropDownBase.prototype.renderItems = function (listData, fields) {\n        var ulElement;\n        if (this.itemTemplate && listData) {\n            var dataSource = listData;\n            if (dataSource && fields.groupBy) {\n                if (this.sortOrder !== 'None') {\n                    dataSource = this.getSortedDataSource(dataSource);\n                }\n                dataSource = ListBase.groupDataSource(dataSource, fields.properties, this.sortOrder);\n            }\n            else {\n                dataSource = this.getSortedDataSource(dataSource);\n            }\n            ulElement = this.templateListItem(dataSource, fields);\n        }\n        else {\n            ulElement = this.createListItems(listData, fields);\n        }\n        return ulElement;\n    };\n    ;\n    DropDownBase.prototype.templateListItem = function (dataSource, fields) {\n        var option = this.listOption(dataSource, fields);\n        return ListBase.renderContentTemplate(this.createElement, this.itemTemplate, dataSource, fields.properties, option);\n    };\n    DropDownBase.prototype.typeOfData = function (items) {\n        var item = { typeof: null, item: null };\n        for (var i = 0; (!isNullOrUndefined(items) && i < items.length); i++) {\n            if (!isNullOrUndefined(items[i])) {\n                return item = { typeof: typeof items[i], item: items[i] };\n            }\n        }\n        return item;\n    };\n    DropDownBase.prototype.setFixedHeader = function () {\n        this.list.parentElement.style.display = 'block';\n        var liWidth = this.liCollections[0].offsetWidth;\n        this.fixedHeaderElement.style.width = liWidth.toString() + 'px';\n        setStyleAttribute(this.fixedHeaderElement, { zIndex: 10 });\n        var firstLi = this.ulElement.querySelector('.' + dropDownBaseClasses.group);\n        this.fixedHeaderElement.innerHTML = firstLi.innerHTML;\n    };\n    DropDownBase.prototype.getSortedDataSource = function (dataSource) {\n        if (dataSource && this.sortOrder !== 'None') {\n            var textField = this.fields.text ? this.fields.text : 'text';\n            dataSource = ListBase.getDataSource(dataSource, ListBase.addSorting(this.sortOrder, textField));\n        }\n        return dataSource;\n    };\n    /**\n     * Return the index of item which matched with given value in data source\n     */\n    DropDownBase.prototype.getIndexByValue = function (value) {\n        var index;\n        var listItems = this.getItems();\n        for (var i = 0; i < listItems.length; i++) {\n            if (!isNullOrUndefined(value) && listItems[i].getAttribute('data-value') === value.toString()) {\n                index = i;\n                break;\n            }\n        }\n        return index;\n    };\n    ;\n    /**\n     * To dispatch the event manually\n     */\n    DropDownBase.prototype.dispatchEvent = function (element, type) {\n        var evt = document.createEvent('HTMLEvents');\n        evt.initEvent(type, false, true);\n        element.dispatchEvent(evt);\n    };\n    /**\n     * To set the current fields\n     */\n    DropDownBase.prototype.setFields = function () {\n        var fields = this.fields;\n        if (this.fields.value && !this.fields.text) {\n            this.fields.text = this.fields.value;\n        }\n        else if (!fields.value && fields.text) {\n            this.fields.value = this.fields.text;\n        }\n        else if (!this.fields.value && !this.fields.text) {\n            this.fields.value = this.fields.text = 'text';\n        }\n    };\n    /**\n     * reset the items list.\n     */\n    DropDownBase.prototype.resetList = function (dataSource, fields, query) {\n        if (this.list) {\n            this.setListData(dataSource, fields, query);\n        }\n    };\n    DropDownBase.prototype.updateSelection = function () {\n        // This is for after added the item, need to update the selected index values.\n    };\n    DropDownBase.prototype.renderList = function () {\n        // This is for render the list items.\n        this.render();\n    };\n    DropDownBase.prototype.updateDataSource = function (prop) {\n        this.resetList(this.dataSource);\n    };\n    DropDownBase.prototype.setUpdateInitial = function (props, newProp) {\n        if (!isNullOrUndefined(newProp.fields)) {\n            this.setFields();\n        }\n        for (var j = 0; props.length > j; j++) {\n            if (newProp[props[j]]) {\n                this.updateDataSource(props[j]);\n            }\n        }\n    };\n    /**\n     * When property value changes happened, then onPropertyChanged method will execute the respective changes in this component.\n     * @private\n     */\n    DropDownBase.prototype.onPropertyChanged = function (newProp, oldProp) {\n        this.setUpdateInitial(['query', 'sortOrder', 'dataSource', 'itemTemplate'], newProp);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'query':\n                case 'sortOrder':\n                case 'dataSource':\n                case 'itemTemplate':\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'enabled':\n                    this.setEnabled();\n                    break;\n                case 'groupTemplate':\n                    this.renderGroupTemplate(this.list);\n                    if (this.ulElement && this.fixedHeaderElement) {\n                        var firstLi = this.ulElement.querySelector('.' + dropDownBaseClasses.group);\n                        this.fixedHeaderElement.innerHTML = firstLi.innerHTML;\n                    }\n                    break;\n                case 'locale':\n                    if (this.list && (!isNullOrUndefined(this.liCollections) && this.liCollections.length === 0)) {\n                        this.l10nUpdate();\n                    }\n                    break;\n                case 'zIndex':\n                    this.setProperties({ zIndex: newProp.zIndex }, true);\n                    this.setZIndex();\n                    break;\n            }\n        }\n    };\n    ;\n    /**\n     * Build and render the component\n     * @private\n     */\n    DropDownBase.prototype.render = function (isEmptyData) {\n        this.list = this.createElement('div', { className: dropDownBaseClasses.content, attrs: { 'tabindex': '0' } });\n        this.list.classList.add(dropDownBaseClasses.root);\n        this.setFields();\n        var rippleModel = { duration: 300, selector: '.' + dropDownBaseClasses.li };\n        this.rippleFun = rippleEffect(this.list, rippleModel);\n        var group = this.element.querySelector('select>optgroup');\n        if (this.fields.groupBy || !isNullOrUndefined(group)) {\n            EventHandler.add(this.list, 'scroll', this.setFloatingHeader, this);\n        }\n        if (this.getModuleName() === 'dropdownbase') {\n            if (this.element.getAttribute('tabindex')) {\n                this.list.setAttribute('tabindex', this.element.getAttribute('tabindex'));\n            }\n            removeClass([this.element], dropDownBaseClasses.root);\n            this.element.style.display = 'none';\n            var wrapperElement = this.createElement('div');\n            this.element.parentElement.insertBefore(wrapperElement, this.element);\n            wrapperElement.appendChild(this.element);\n            wrapperElement.appendChild(this.list);\n        }\n        this.setEnableRtl();\n        this.setEnabled();\n        if (!isEmptyData) {\n            this.initialize();\n        }\n    };\n    ;\n    /**\n     * Return the module name of this component.\n     * @private\n     */\n    DropDownBase.prototype.getModuleName = function () {\n        return 'dropdownbase';\n    };\n    ;\n    /**\n     * Gets all the list items bound on this component.\n     * @returns Element[].\n     */\n    DropDownBase.prototype.getItems = function () {\n        return this.ulElement.querySelectorAll('.' + dropDownBaseClasses.li);\n    };\n    ;\n    /**\n     * Adds a new item to the popup list. By default, new item appends to the list as the last item,\n     * but you can insert based on the index parameter.\n     * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\n     * @return {void}.\n     */\n    DropDownBase.prototype.addItem = function (items, itemIndex) {\n        if (!this.list || this.list.textContent === this.noRecordsTemplate) {\n            this.renderList();\n        }\n        var itemsCount = this.getItems().length;\n        var selectedItemValue = this.list.querySelector('.' + dropDownBaseClasses.selected);\n        items = (items instanceof Array ? items : [items]);\n        var index;\n        index = (isNullOrUndefined(itemIndex) || itemIndex < 0 || itemIndex > itemsCount - 1) ? itemsCount : itemIndex;\n        var fields = this.fields;\n        var liCollections = [];\n        for (var i = 0; i < items.length; i++) {\n            var item = items[i];\n            var li = this.createElement('li', { className: dropDownBaseClasses.li, id: 'option-add-' + i });\n            li.setAttribute('data-value', getValue(fields.value, item));\n            li.setAttribute('role', 'option');\n            li.appendChild(document.createTextNode(getValue(fields.text, item)));\n            liCollections.push(li);\n            this.listData.push(item);\n            this.updateActionCompleteData(li, item);\n        }\n        if (itemsCount === 0 && isNullOrUndefined(this.list.querySelector('ul'))) {\n            this.list.innerHTML = '';\n            this.list.appendChild(this.ulElement);\n            append(liCollections, this.ulElement);\n        }\n        else {\n            for (var i = 0; i < items.length; i++) {\n                if (this.liCollections[index]) {\n                    this.liCollections[index].parentNode.insertBefore(liCollections[i], this.liCollections[index]);\n                }\n                else {\n                    this.ulElement.appendChild(liCollections[i]);\n                }\n                var tempLi = [].slice.call(this.liCollections);\n                tempLi.splice(index, 0, liCollections[i]);\n                this.liCollections = tempLi;\n                index += 1;\n            }\n        }\n        if (selectedItemValue || itemIndex === 0) {\n            this.updateSelection();\n        }\n    };\n    DropDownBase.prototype.validationAttribute = function (target, hidden) {\n        var name = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\n        hidden.setAttribute('name', name);\n        target.removeAttribute('name');\n        var attributes = ['required', 'aria-required', 'form'];\n        for (var i = 0; i < attributes.length; i++) {\n            if (!target.getAttribute(attributes[i])) {\n                continue;\n            }\n            var attr = target.getAttribute(attributes[i]);\n            hidden.setAttribute(attributes[i], attr);\n            target.removeAttribute(attributes[i]);\n        }\n    };\n    DropDownBase.prototype.setZIndex = function () {\n        // this is for component wise\n    };\n    DropDownBase.prototype.updateActionCompleteData = function (li, item) {\n        // this is for ComboBox custom value\n    };\n    /**\n     * Gets the data Object that matches the given value.\n     * @param { string | number } value - Specifies the value of the list item.\n     * @returns Object.\n     */\n    DropDownBase.prototype.getDataByValue = function (value) {\n        if (!isNullOrUndefined(this.listData)) {\n            var type = this.typeOfData(this.listData).typeof;\n            if (type === 'string' || type === 'number' || type === 'boolean') {\n                for (var _i = 0, _a = this.listData; _i < _a.length; _i++) {\n                    var item = _a[_i];\n                    if (!isNullOrUndefined(item) && item === value) {\n                        return item;\n                    }\n                }\n            }\n            else {\n                for (var _b = 0, _c = this.listData; _b < _c.length; _b++) {\n                    var item = _c[_b];\n                    if (!isNullOrUndefined(item) && getValue((this.fields.value ? this.fields.value : 'value'), item) === value) {\n                        return item;\n                    }\n                }\n            }\n        }\n        return null;\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. It also removes the attributes and classes.\n     * @method destroy\n     * @return {void}.\n     */\n    DropDownBase.prototype.destroy = function () {\n        if (document.body.contains(this.list)) {\n            EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n            if (!isNullOrUndefined(this.rippleFun)) {\n                this.rippleFun();\n            }\n            detach(this.list);\n        }\n        _super.prototype.destroy.call(this);\n    };\n    ;\n    __decorate([\n        Complex({ text: null, value: null, iconCss: null, groupBy: null }, FieldSettings)\n    ], DropDownBase.prototype, \"fields\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownBase.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownBase.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownBase.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownBase.prototype, \"groupTemplate\", void 0);\n    __decorate([\n        Property('No Records Found')\n    ], DropDownBase.prototype, \"noRecordsTemplate\", void 0);\n    __decorate([\n        Property('The Request Failed')\n    ], DropDownBase.prototype, \"actionFailureTemplate\", void 0);\n    __decorate([\n        Property('None')\n    ], DropDownBase.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownBase.prototype, \"enabled\", void 0);\n    __decorate([\n        Property([])\n    ], DropDownBase.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownBase.prototype, \"query\", void 0);\n    __decorate([\n        Property(1000)\n    ], DropDownBase.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownBase.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"actionBegin\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"destroyed\", void 0);\n    DropDownBase = __decorate([\n        NotifyPropertyChanges\n    ], DropDownBase);\n    return DropDownBase;\n}(Component));\nexport { DropDownBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, Event, Collection, L10n, Browser, Complex, compile } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, detach, attributes, prepend, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit, append } from '@syncfusion/ej2-base';\nimport { EventHandler } from '@syncfusion/ej2-base';\nimport { Draggable } from '@syncfusion/ej2-base';\nimport { Popup, PositionData, getZindexPartial } from '../popup/popup';\nimport { Button } from '@syncfusion/ej2-buttons';\nvar ButtonProps = /** @class */ (function (_super) {\n    __extends(ButtonProps, _super);\n    function ButtonProps() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], ButtonProps.prototype, \"buttonModel\", void 0);\n    __decorate([\n        Property()\n    ], ButtonProps.prototype, \"click\", void 0);\n    return ButtonProps;\n}(ChildProperty));\nexport { ButtonProps };\n/**\n * Configures the animation properties for both open and close the dialog.\n */\nvar AnimationSettings = /** @class */ (function (_super) {\n    __extends(AnimationSettings, _super);\n    function AnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Fade')\n    ], AnimationSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(400)\n    ], AnimationSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property(0)\n    ], AnimationSettings.prototype, \"delay\", void 0);\n    return AnimationSettings;\n}(ChildProperty));\nexport { AnimationSettings };\nvar ROOT = 'e-dialog';\nvar RTL = 'e-rtl';\nvar DLG_HEADER_CONTENT = 'e-dlg-header-content';\nvar DLG_HEADER = 'e-dlg-header';\nvar DLG_FOOTER_CONTENT = 'e-footer-content';\nvar MODAL_DLG = 'e-dlg-modal';\nvar DLG_CONTENT = 'e-dlg-content';\nvar DLG_CLOSE_ICON = 'e-icon-dlg-close';\nvar DLG_OVERLAY = 'e-dlg-overlay';\nvar DLG_CONTAINER = 'e-dlg-container';\nvar SCROLL_DISABLED = 'e-scroll-disabled';\nvar DLG_PRIMARY_BUTTON = 'e-primary';\nvar ICON = 'e-icons';\nvar POPUP_ROOT = 'e-popup';\nvar DEVICE = 'e-device';\nvar FULLSCREEN = 'e-dlg-fullscreen';\nvar DLG_CLOSE_ICON_BTN = 'e-dlg-closeicon-btn';\nvar DLG_HIDE = 'e-popup-close';\nvar DLG_SHOW = 'e-popup-open';\n/**\n * Represents the dialog component that displays the information and get input from the user.\n * Two types of dialog components are `Modal and Modeless (non-modal)` depending on its interaction with parent application.\n * ```html\n * <div id=\"dialog\"></div>\n * ```\n * ```typescript\n * <script>\n *   var dialogObj = new Dialog({ header: 'Dialog' });\n *   dialogObj.appendTo(\"#dialog\");\n * </script>\n * ```\n */\nvar Dialog = /** @class */ (function (_super) {\n    __extends(Dialog, _super);\n    /**\n     * Constructor for creating the widget\n     * @hidden\n     */\n    function Dialog(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the control rendering\n     * @private\n     */\n    Dialog.prototype.render = function () {\n        this.initialize();\n        this.initRender();\n        this.wireEvents();\n    };\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    Dialog.prototype.preRender = function () {\n        var _this = this;\n        this.headerContent = null;\n        var classArray = [];\n        for (var j = 0; j < this.element.classList.length; j++) {\n            if (!isNullOrUndefined(this.element.classList[j].match('e-control')) ||\n                !isNullOrUndefined(this.element.classList[j].match(ROOT))) {\n                classArray.push(this.element.classList[j]);\n            }\n        }\n        removeClass([this.element], classArray);\n        this.clonedEle = this.element.cloneNode(true);\n        this.closeIconClickEventHandler = function (event) {\n            _this.hide(event);\n        };\n        this.dlgOverlayClickEventHandler = function (event) {\n            _this.trigger('overlayClick', event);\n        };\n        var localeText = { close: 'Close' };\n        this.l10n = new L10n('dialog', localeText, this.locale);\n        if (isNullOrUndefined(this.target)) {\n            var prevOnChange = this.isProtectedOnChange;\n            this.isProtectedOnChange = true;\n            this.target = document.body;\n            this.isProtectedOnChange = prevOnChange;\n        }\n    };\n    ;\n    /* istanbul ignore next */\n    Dialog.prototype.keyDown = function (event) {\n        var _this = this;\n        if (event.keyCode === 9) {\n            if (this.isModal) {\n                var buttonObj = void 0;\n                if (!isNullOrUndefined(this.btnObj)) {\n                    buttonObj = this.btnObj[this.btnObj.length - 1];\n                }\n                if (!isNullOrUndefined(buttonObj) && document.activeElement === buttonObj.element && !event.shiftKey) {\n                    event.preventDefault();\n                    this.focusableElements(this.element).focus();\n                }\n                if (document.activeElement === this.focusableElements(this.element) && event.shiftKey) {\n                    event.preventDefault();\n                    if (!isNullOrUndefined(buttonObj)) {\n                        buttonObj.element.focus();\n                    }\n                }\n            }\n        }\n        var element = document.activeElement;\n        var isTagName = (['input', 'textarea'].indexOf(element.tagName.toLowerCase()) > -1);\n        var isContentEdit = false;\n        if (!isTagName) {\n            isContentEdit = element.hasAttribute('contenteditable') && element.getAttribute('contenteditable') === 'true';\n        }\n        if (event.keyCode === 27 && this.closeOnEscape) {\n            this.hide(event);\n        }\n        if ((event.keyCode === 13 && !event.ctrlKey && element.tagName.toLowerCase() !== 'textarea' &&\n            isTagName && !isNullOrUndefined(this.primaryButtonEle)) ||\n            (event.keyCode === 13 && event.ctrlKey && (element.tagName.toLowerCase() === 'textarea' ||\n                isContentEdit)) && !isNullOrUndefined(this.primaryButtonEle)) {\n            var buttonIndex_1;\n            var firstPrimary = this.buttons.some(function (data, index) {\n                buttonIndex_1 = index;\n                var buttonModel = data.buttonModel;\n                return !isNullOrUndefined(buttonModel) && buttonModel.isPrimary === true;\n            });\n            if (firstPrimary && typeof (this.buttons[buttonIndex_1].click) === 'function') {\n                setTimeout(function () {\n                    _this.buttons[buttonIndex_1].click.call(_this, event);\n                });\n            }\n        }\n    };\n    /**\n     * Initialize the control rendering\n     * @private\n     */\n    Dialog.prototype.initialize = function () {\n        if (!isNullOrUndefined(this.target)) {\n            this.targetEle = ((typeof this.target) === 'string') ?\n                document.querySelector(this.target) : this.target;\n        }\n        addClass([this.element], ROOT);\n        if (Browser.isDevice) {\n            addClass([this.element], DEVICE);\n        }\n        this.setCSSClass();\n        this.setMaxHeight();\n    };\n    /**\n     * Initialize the rendering\n     * @private\n     */\n    Dialog.prototype.initRender = function () {\n        var _this = this;\n        this.initialRender = true;\n        attributes(this.element, { role: 'dialog' });\n        if (this.zIndex === 1000) {\n            this.setzIndex(this.element, false);\n            this.calculatezIndex = true;\n        }\n        else {\n            this.calculatezIndex = false;\n        }\n        this.setTargetContent();\n        if (this.header !== '' && !isNullOrUndefined(this.header)) {\n            this.setHeader();\n        }\n        if (this.showCloseIcon) {\n            this.renderCloseIcon();\n        }\n        this.setContent();\n        if (this.footerTemplate !== '' && !isNullOrUndefined(this.footerTemplate)) {\n            this.setFooterTemplate();\n        }\n        else if (!isNullOrUndefined(this.buttons[0].buttonModel)) {\n            this.setButton();\n        }\n        if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n            this.setAllowDragging();\n        }\n        attributes(this.element, { 'aria-modal': (this.isModal ? 'true' : 'false') });\n        if (this.isModal) {\n            this.setIsModal();\n        }\n        if (!isNullOrUndefined(this.targetEle)) {\n            this.isModal ? this.targetEle.appendChild(this.dlgContainer) : this.targetEle.appendChild(this.element);\n        }\n        this.popupObj = new Popup(this.element, {\n            height: this.height,\n            width: this.width,\n            zIndex: this.zIndex,\n            relateTo: this.target,\n            actionOnScroll: 'none',\n            open: function (event) {\n                _this.focusContent();\n                var eventArgs = {\n                    container: _this.isModal ? _this.dlgContainer : _this.element,\n                    element: _this.element,\n                    target: _this.target\n                };\n                _this.trigger('open', eventArgs);\n            },\n            close: function (event) {\n                _this.unBindEvent(_this.element);\n                if (_this.isModal) {\n                    _this.dlgContainer.style.display = 'none';\n                }\n                _this.trigger('close', _this.closeArgs);\n                if (!isNullOrUndefined(_this.storeActiveElement)) {\n                    _this.storeActiveElement.focus();\n                }\n            }\n        });\n        this.positionChange();\n        this.setEnableRTL();\n        addClass([this.element], DLG_HIDE);\n        if (this.isModal) {\n            this.setOverlayZindex();\n        }\n        if (this.visible) {\n            this.show();\n        }\n        else {\n            if (this.isModal) {\n                this.dlgOverlay.style.display = 'none';\n            }\n        }\n        this.initialRender = false;\n    };\n    Dialog.prototype.setOverlayZindex = function (zIndexValue) {\n        var zIndex;\n        if (isNullOrUndefined(zIndexValue)) {\n            zIndex = parseInt(this.element.style.zIndex, 10) ? parseInt(this.element.style.zIndex, 10) : this.zIndex;\n        }\n        else {\n            zIndex = zIndexValue;\n        }\n        this.dlgOverlay.style.zIndex = (zIndex - 1).toString();\n        this.dlgContainer.style.zIndex = zIndex.toString();\n    };\n    Dialog.prototype.positionChange = function () {\n        if (this.isModal) {\n            if (typeof (this.position.X) === 'number' && typeof (this.position.Y) === 'number') {\n                this.setPopupPosition();\n            }\n            else {\n                this.element.style.top = '0px';\n                this.element.style.left = '0px';\n                this.dlgContainer.classList.add('e-dlg-' + this.position.X + '-' + this.position.Y);\n            }\n        }\n        else {\n            this.setPopupPosition();\n        }\n    };\n    Dialog.prototype.setPopupPosition = function () {\n        this.popupObj.setProperties({\n            position: {\n                X: this.position.X, Y: this.position.Y\n            }\n        });\n    };\n    Dialog.prototype.setAllowDragging = function () {\n        var _this = this;\n        var handleContent = '.' + DLG_HEADER_CONTENT;\n        this.dragObj = new Draggable(this.element, {\n            clone: false,\n            abort: '.e-dlg-closeicon-btn',\n            handle: handleContent,\n            dragStart: function (event) {\n                _this.trigger('dragStart', event);\n            },\n            dragStop: function (event) {\n                if (_this.isModal) {\n                    if (!isNullOrUndefined(_this.position)) {\n                        _this.dlgContainer.classList.remove('e-dlg-' + _this.position.X + '-' + _this.position.Y);\n                    }\n                    // Reset the dialog position after drag completion.\n                    _this.element.style.position = 'relative';\n                }\n                _this.trigger('dragStop', event);\n            },\n            drag: function (event) {\n                _this.trigger('drag', event);\n            }\n        });\n        if (!isNullOrUndefined(this.targetEle)) {\n            this.dragObj.dragArea = this.targetEle;\n        }\n    };\n    Dialog.prototype.setButton = function () {\n        this.buttonContent = [];\n        this.btnObj = [];\n        var primaryBtnFlag = true;\n        for (var i = 0; i < this.buttons.length; i++) {\n            var btn = this.createElement('button', { attrs: { type: 'button' } });\n            this.buttonContent.push(btn.outerHTML);\n        }\n        this.setFooterTemplate();\n        for (var i = 0; i < this.buttons.length; i++) {\n            this.btnObj[i] = new Button(this.buttons[i].buttonModel);\n            if (typeof (this.buttons[i].click) === 'function') {\n                EventHandler.add(this.ftrTemplateContent.children[i], 'click', this.buttons[i].click, this);\n            }\n            this.btnObj[i].appendTo(this.ftrTemplateContent.children[i]);\n            this.btnObj[i].element.classList.add('e-flat');\n            this.primaryButtonEle = this.element.getElementsByClassName('e-primary')[0];\n        }\n    };\n    Dialog.prototype.setContent = function () {\n        attributes(this.element, { 'aria-describedby': this.element.id + '_dialog-content' });\n        this.contentEle = this.createElement('div', { className: DLG_CONTENT, id: this.element.id + '_dialog-content' });\n        if (this.innerContentElement) {\n            this.contentEle.appendChild(this.innerContentElement);\n        }\n        else if (!isNullOrUndefined(this.content) && this.content !== '' || !this.initialRender) {\n            if (typeof (this.content) === 'string') {\n                this.contentEle.innerHTML = this.content;\n            }\n            else if (this.content instanceof HTMLElement) {\n                this.contentEle.appendChild(this.content);\n            }\n            else {\n                this.setTemplate(this.content, this.contentEle);\n            }\n        }\n        if (!isNullOrUndefined(this.headerContent)) {\n            this.element.insertBefore(this.contentEle, this.element.children[1]);\n        }\n        else {\n            this.element.insertBefore(this.contentEle, this.element.children[0]);\n        }\n        if (this.height === 'auto') {\n            this.setMaxHeight();\n        }\n    };\n    Dialog.prototype.setTemplate = function (template, toElement) {\n        var templateFn = compile(template);\n        var fromElements = [];\n        for (var _i = 0, _a = templateFn({}); _i < _a.length; _i++) {\n            var item = _a[_i];\n            fromElements.push(item);\n        }\n        append([].slice.call(fromElements), toElement);\n    };\n    Dialog.prototype.setMaxHeight = function () {\n        var display = this.element.style.display;\n        this.element.style.display = 'none';\n        this.element.style.maxHeight = (!isNullOrUndefined(this.target)) ?\n            (this.targetEle.offsetHeight - 20) + 'px' : (window.innerHeight - 20) + 'px';\n        this.element.style.display = display;\n    };\n    Dialog.prototype.setEnableRTL = function () {\n        this.enableRtl ? addClass([this.element], RTL) : removeClass([this.element], RTL);\n    };\n    Dialog.prototype.setTargetContent = function () {\n        if (isNullOrUndefined(this.content) || this.content === '') {\n            var isContent = this.element.innerHTML.replace(/\\s/g, '') !== '';\n            if (this.element.children.length > 0 || isContent) {\n                this.innerContentElement = document.createDocumentFragment();\n                while (this.element.childNodes.length !== 0) {\n                    this.innerContentElement.appendChild(this.element.childNodes[0]);\n                }\n            }\n        }\n    };\n    Dialog.prototype.setHeader = function () {\n        if (this.headerEle) {\n            this.headerEle.innerHTML = '';\n        }\n        else {\n            this.headerEle = this.createElement('div', { id: this.element.id + '_title', className: DLG_HEADER });\n        }\n        this.createHeaderContent();\n        this.headerContent.appendChild(this.headerEle);\n        this.setTemplate(this.header, this.headerEle);\n        attributes(this.element, { 'aria-labelledby': this.element.id + '_title' });\n        this.element.insertBefore(this.headerContent, this.element.children[0]);\n    };\n    Dialog.prototype.setFooterTemplate = function () {\n        if (this.ftrTemplateContent) {\n            this.ftrTemplateContent.innerHTML = '';\n        }\n        else {\n            this.ftrTemplateContent = this.createElement('div', {\n                className: DLG_FOOTER_CONTENT\n            });\n        }\n        if (this.footerTemplate !== '' && !isNullOrUndefined(this.footerTemplate)) {\n            this.setTemplate(this.footerTemplate, this.ftrTemplateContent);\n        }\n        else {\n            this.ftrTemplateContent.innerHTML = this.buttonContent.join('');\n        }\n        this.element.appendChild(this.ftrTemplateContent);\n    };\n    Dialog.prototype.createHeaderContent = function () {\n        if (isNullOrUndefined(this.headerContent)) {\n            this.headerContent = this.createElement('div', { className: DLG_HEADER_CONTENT });\n        }\n    };\n    Dialog.prototype.renderCloseIcon = function () {\n        this.closeIcon = this.createElement('button', { className: DLG_CLOSE_ICON_BTN, attrs: { type: 'button' } });\n        this.closeIconBtnObj = new Button({ cssClass: 'e-flat', iconCss: DLG_CLOSE_ICON + ' ' + ICON });\n        this.closeIconTitle();\n        if (!isNullOrUndefined(this.headerContent)) {\n            prepend([this.closeIcon], this.headerContent);\n        }\n        else {\n            this.createHeaderContent();\n            prepend([this.closeIcon], this.headerContent);\n            this.element.insertBefore(this.headerContent, this.element.children[0]);\n        }\n        this.closeIconBtnObj.appendTo(this.closeIcon);\n    };\n    Dialog.prototype.closeIconTitle = function () {\n        this.l10n.setLocale(this.locale);\n        var closeIconTitle = this.l10n.getConstant('close');\n        this.closeIcon.setAttribute('title', closeIconTitle);\n    };\n    Dialog.prototype.setCSSClass = function (oldCSSClass) {\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n        if (oldCSSClass) {\n            removeClass([this.element], oldCSSClass.split(' '));\n        }\n    };\n    Dialog.prototype.setIsModal = function () {\n        this.dlgContainer = this.createElement('div', { className: DLG_CONTAINER });\n        this.element.classList.remove(DLG_SHOW);\n        this.element.parentNode.insertBefore(this.dlgContainer, this.element);\n        this.dlgContainer.appendChild(this.element);\n        addClass([this.element], MODAL_DLG);\n        this.dlgOverlay = this.createElement('div', { className: DLG_OVERLAY });\n        this.dlgOverlay.style.zIndex = (this.zIndex - 1).toString();\n        this.dlgContainer.appendChild(this.dlgOverlay);\n    };\n    Dialog.prototype.getValidFocusNode = function (items) {\n        var node;\n        for (var u = 0; u < items.length; u++) {\n            node = items[u];\n            if ((node.clientHeight > 0 || (node.tagName.toLowerCase() === 'a' && node.hasAttribute('href'))) && node.tabIndex > -1 &&\n                !node.disabled && !this.disableElement(node, '[disabled],[aria-disabled=\"true\"],[type=\"hidden\"]')) {\n                return node;\n            }\n        }\n        return node;\n    };\n    Dialog.prototype.focusableElements = function (content) {\n        if (!isNullOrUndefined(content)) {\n            var value = 'input,select,textarea,button,a,[contenteditable=\"true\"],[tabindex]';\n            var items = content.querySelectorAll(value);\n            return this.getValidFocusNode(items);\n        }\n        return null;\n    };\n    Dialog.prototype.getAutoFocusNode = function (container) {\n        var node = container.querySelector('.' + DLG_CLOSE_ICON_BTN);\n        var value = '[autofocus]';\n        var items = container.querySelectorAll(value);\n        var validNode = this.getValidFocusNode(items);\n        if (!isNullOrUndefined(validNode)) {\n            node = validNode;\n        }\n        else {\n            validNode = this.focusableElements(this.contentEle);\n            if (!isNullOrUndefined(validNode)) {\n                return node = validNode;\n            }\n            else if (!isNullOrUndefined(this.primaryButtonEle)) {\n                return this.element.querySelector('.' + DLG_PRIMARY_BUTTON);\n            }\n        }\n        return node;\n    };\n    Dialog.prototype.disableElement = function (element, t) {\n        var elementMatch = element ? element.matches || element.webkitMatchesSelector || element.msMatchesSelector : null;\n        if (elementMatch) {\n            for (; element; element = element.parentNode) {\n                if (element instanceof Element && elementMatch.call(element, t)) {\n                    /* istanbul ignore next */\n                    return element;\n                }\n            }\n        }\n        return null;\n    };\n    Dialog.prototype.focusContent = function () {\n        var element = this.getAutoFocusNode(this.element);\n        var node = !isNullOrUndefined(element) ? element : this.element;\n        node.focus();\n        this.bindEvent(this.element);\n    };\n    Dialog.prototype.bindEvent = function (element) {\n        EventHandler.add(element, 'keydown', this.keyDown, this);\n    };\n    Dialog.prototype.unBindEvent = function (element) {\n        EventHandler.remove(element, 'keydown', this.keyDown);\n    };\n    /**\n     * Module required function\n     * @private\n     */\n    Dialog.prototype.getModuleName = function () {\n        return 'dialog';\n    };\n    /**\n     * Called internally if any of the property value changed\n     * @private\n     */\n    Dialog.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'content':\n                    if (!isNullOrUndefined(this.content) && this.content !== '') {\n                        if (!isNullOrUndefined(this.contentEle) && this.contentEle.getAttribute('role') !== 'dialog') {\n                            this.contentEle.innerHTML = '';\n                            typeof (this.content) === 'string' ?\n                                this.contentEle.innerHTML = this.content : this.contentEle.appendChild(this.content);\n                            this.setMaxHeight();\n                        }\n                        else {\n                            this.setContent();\n                        }\n                    }\n                    else if (!isNullOrUndefined(this.contentEle)) {\n                        detach(this.contentEle);\n                        this.contentEle = null;\n                    }\n                    break;\n                case 'header':\n                    if (this.header === '' || isNullOrUndefined(this.header)) {\n                        if (this.headerEle) {\n                            detach(this.headerEle);\n                            this.headerEle = null;\n                        }\n                    }\n                    else {\n                        this.setHeader();\n                    }\n                    break;\n                case 'footerTemplate':\n                    if (this.footerTemplate === '' || isNullOrUndefined(this.footerTemplate)) {\n                        if (!this.ftrTemplateContent) {\n                            return;\n                        }\n                        detach(this.ftrTemplateContent);\n                        this.ftrTemplateContent = null;\n                        this.buttons = [{}];\n                    }\n                    else {\n                        this.setFooterTemplate();\n                        this.buttons = [{}];\n                    }\n                    break;\n                case 'showCloseIcon':\n                    if (this.element.getElementsByClassName(DLG_CLOSE_ICON).length > 0) {\n                        if (!this.showCloseIcon && (this.header === '' || isNullOrUndefined(this.header))) {\n                            detach(this.headerContent);\n                            this.headerContent = null;\n                        }\n                        else if (!this.showCloseIcon) {\n                            detach(this.closeIcon);\n                        }\n                    }\n                    else {\n                        this.renderCloseIcon();\n                        this.wireEvents();\n                    }\n                    break;\n                case 'locale':\n                    if (this.showCloseIcon) {\n                        this.closeIconTitle();\n                    }\n                    break;\n                case 'visible':\n                    this.visible ? this.show() : this.hide();\n                    break;\n                case 'isModal':\n                    this.updateIsModal();\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'width':\n                    setStyleAttribute(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'zIndex':\n                    this.popupObj.zIndex = this.zIndex;\n                    if (this.isModal) {\n                        this.setOverlayZindex(this.zIndex);\n                    }\n                    break;\n                case 'cssClass':\n                    this.setCSSClass(oldProp.cssClass);\n                    break;\n                case 'buttons':\n                    if (!isNullOrUndefined(this.buttons[0].buttonModel)) {\n                        if (!isNullOrUndefined(this.ftrTemplateContent)) {\n                            detach(this.ftrTemplateContent);\n                            this.ftrTemplateContent = null;\n                        }\n                        this.footerTemplate = '';\n                        this.setButton();\n                    }\n                    break;\n                case 'allowDragging':\n                    if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n                        this.setAllowDragging();\n                    }\n                    else {\n                        this.dragObj.destroy();\n                    }\n                    break;\n                case 'target':\n                    this.popupObj.relateTo = newProp.target;\n                    break;\n                case 'position':\n                    if (this.isModal) {\n                        var positionX = isNullOrUndefined(oldProp.position.X) ? this.position.X : oldProp.position.X;\n                        var positionY = isNullOrUndefined(oldProp.position.Y) ? this.position.Y : oldProp.position.Y;\n                        if (this.dlgContainer.classList.contains('e-dlg-' + positionX + '-' + positionY)) {\n                            this.dlgContainer.classList.remove('e-dlg-' + positionX + '-' + positionY);\n                        }\n                    }\n                    this.positionChange();\n                    break;\n                case 'enableRtl':\n                    this.setEnableRTL();\n                    break;\n            }\n        }\n    };\n    Dialog.prototype.updateIsModal = function () {\n        this.element.setAttribute('aria-modal', this.isModal ? 'true' : 'false');\n        if (this.isModal) {\n            this.setIsModal();\n            this.element.style.top = '0px';\n            this.element.style.left = '0px';\n            if (!isNullOrUndefined(this.targetEle)) {\n                this.targetEle.appendChild(this.dlgContainer);\n            }\n        }\n        else {\n            removeClass([this.element], MODAL_DLG);\n            removeClass([document.body], SCROLL_DISABLED);\n            detach(this.dlgOverlay);\n            while (this.dlgContainer.firstChild) {\n                this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild, this.dlgContainer);\n            }\n            this.dlgContainer.parentElement.removeChild(this.dlgContainer);\n        }\n        if (this.visible) {\n            this.show();\n        }\n        this.positionChange();\n    };\n    Dialog.prototype.setzIndex = function (zIndexElement, setPopupZindex) {\n        var prevOnChange = this.isProtectedOnChange;\n        this.isProtectedOnChange = true;\n        this.zIndex = getZindexPartial(zIndexElement);\n        this.isProtectedOnChange = prevOnChange;\n        if (setPopupZindex) {\n            this.popupObj.zIndex = this.zIndex;\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @private\n     */\n    Dialog.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * To destroy the widget\n     * @method destroy\n     * @return {void}\n     * @memberof dialog\n     */\n    Dialog.prototype.destroy = function () {\n        if (this.element.classList.contains(ROOT)) {\n            this.unWireEvents();\n            _super.prototype.destroy.call(this);\n            var classArray = [\n                ROOT, RTL, MODAL_DLG\n            ];\n            removeClass([this.element, this.element], classArray);\n            if (this.popupObj.element.classList.contains(POPUP_ROOT)) {\n                this.popupObj.destroy();\n            }\n            /* istanbul ignore next */\n            if (!isNullOrUndefined(this.btnObj)) {\n                for (var i = void 0; i < this.btnObj.length; i++) {\n                    this.btnObj[i].destroy();\n                }\n            }\n            if (this.isModal) {\n                detach(this.dlgOverlay);\n                this.dlgContainer.parentNode.insertBefore(this.element, this.dlgContainer);\n                detach(this.dlgContainer);\n            }\n            this.element.innerHTML = '';\n            while (this.element.attributes.length > 0) {\n                this.element.removeAttribute(this.element.attributes[0].name);\n            }\n            for (var k = 0; k < this.clonedEle.attributes.length; k++) {\n                this.element.setAttribute(this.clonedEle.attributes[k].name, this.clonedEle.attributes[k].value);\n            }\n        }\n    };\n    /**\n     * Binding event to the element while widget creation\n     * @hidden\n     */\n    Dialog.prototype.wireEvents = function () {\n        if (this.showCloseIcon) {\n            EventHandler.add(this.closeIcon, 'click', this.closeIconClickEventHandler, this);\n        }\n        if (this.isModal) {\n            EventHandler.add(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler, this);\n        }\n    };\n    /**\n     * Unbinding event to the element while widget destroy\n     * @hidden\n     */\n    Dialog.prototype.unWireEvents = function () {\n        if (this.showCloseIcon) {\n            EventHandler.remove(this.closeIcon, 'click', this.closeIconClickEventHandler);\n        }\n        if (this.isModal) {\n            EventHandler.remove(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler);\n        }\n        if (!isNullOrUndefined(this.buttons[0].buttonModel)) {\n            for (var i = 0; i < this.buttons.length; i++) {\n                if (typeof (this.buttons[i].click) === 'function') {\n                    EventHandler.remove(this.ftrTemplateContent.children[i], 'click', this.buttons[i].click);\n                }\n            }\n        }\n    };\n    /**\n     * Refreshes the dialog's position when the user changes its header and footer height/width dynamically.\n     * @return {void}\n     */\n    Dialog.prototype.refreshPosition = function () {\n        this.popupObj.refreshPosition();\n    };\n    /**\n     * Opens the dialog if it is in hidden state.\n     * To open the dialog with full screen width, set the parameter to true.\n     * @param { boolean } isFullScreen - Enable the fullScreen Dialog.\n     * @return {void}\n     */\n    Dialog.prototype.show = function (isFullScreen) {\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        if (!this.element.classList.contains(DLG_SHOW) || (!isNullOrUndefined(isFullScreen))) {\n            if (!isNullOrUndefined(isFullScreen)) {\n                this.fullScreen(isFullScreen);\n            }\n            var eventArgs = {\n                cancel: false,\n                element: this.element,\n                container: this.isModal ? this.dlgContainer : this.element,\n                target: this.target\n            };\n            this.trigger('beforeOpen', eventArgs);\n            if (eventArgs.cancel) {\n                return;\n            }\n            this.storeActiveElement = document.activeElement;\n            this.element.tabIndex = -1;\n            if (this.isModal && (!isNullOrUndefined(this.dlgOverlay))) {\n                this.dlgOverlay.style.display = 'block';\n                this.dlgContainer.style.display = 'flex';\n                if (!isNullOrUndefined(this.targetEle)) {\n                    if (this.targetEle === document.body) {\n                        this.dlgContainer.style.position = 'fixed';\n                    }\n                    else {\n                        this.dlgContainer.style.position = 'absolute';\n                    }\n                    this.dlgOverlay.style.position = 'absolute';\n                    this.element.style.position = 'relative';\n                    addClass([this.targetEle], SCROLL_DISABLED);\n                }\n                else {\n                    addClass([document.body], SCROLL_DISABLED);\n                }\n            }\n            var openAnimation = {\n                name: this.animationSettings.effect + 'In',\n                duration: this.animationSettings.duration,\n                delay: this.animationSettings.delay\n            };\n            var zIndexElement = (this.isModal) ? this.element.parentElement : this.element;\n            if (this.calculatezIndex) {\n                this.setzIndex(zIndexElement, true);\n                setStyleAttribute(this.element, { 'zIndex': this.zIndex });\n                if (this.isModal) {\n                    this.setOverlayZindex(this.zIndex);\n                }\n            }\n            this.animationSettings.effect === 'None' ? this.popupObj.show() : this.popupObj.show(openAnimation);\n            this.dialogOpen = true;\n            var prevOnChange = this.isProtectedOnChange;\n            this.isProtectedOnChange = true;\n            this.visible = true;\n            this.isProtectedOnChange = prevOnChange;\n        }\n    };\n    /**\n     * Closes the dialog if it is in visible state.\n     * @return {void}\n     */\n    Dialog.prototype.hide = function (event) {\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        var eventArgs = {\n            cancel: false,\n            isInteraction: event ? true : false,\n            element: this.element,\n            target: this.target,\n            container: this.isModal ? this.dlgContainer : this.element,\n            event: event\n        };\n        this.trigger('beforeClose', eventArgs);\n        this.closeArgs = eventArgs;\n        if (eventArgs.cancel) {\n            return;\n        }\n        if (this.isModal) {\n            this.dlgOverlay.style.display = 'none';\n            !isNullOrUndefined(this.targetEle) ? removeClass([this.targetEle], SCROLL_DISABLED) :\n                removeClass([document.body], SCROLL_DISABLED);\n        }\n        var closeAnimation = {\n            name: this.animationSettings.effect + 'Out',\n            duration: this.animationSettings.duration,\n            delay: this.animationSettings.delay\n        };\n        this.animationSettings.effect === 'None' ? this.popupObj.hide() : this.popupObj.hide(closeAnimation);\n        this.dialogOpen = false;\n        var prevOnChange = this.isProtectedOnChange;\n        this.isProtectedOnChange = true;\n        this.visible = false;\n        this.isProtectedOnChange = prevOnChange;\n    };\n    /**\n     * Specifies to view the Full screen Dialog.\n     * @private\n     */\n    Dialog.prototype.fullScreen = function (args) {\n        var top = this.element.offsetTop;\n        var left = this.element.offsetLeft;\n        if (args) {\n            addClass([this.element], FULLSCREEN);\n            var display = this.element.style.display;\n            this.element.style.display = 'none';\n            this.element.style.maxHeight = (!isNullOrUndefined(this.target)) ?\n                (this.targetEle.offsetHeight) + 'px' : (window.innerHeight) + 'px';\n            this.element.style.display = display;\n            addClass([document.body], SCROLL_DISABLED);\n            if (this.allowDragging && !isNullOrUndefined(this.dragObj)) {\n                this.dragObj.destroy();\n            }\n        }\n        else {\n            removeClass([this.element], FULLSCREEN);\n            removeClass([document.body], SCROLL_DISABLED);\n            if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n                this.setAllowDragging();\n            }\n        }\n        return args;\n    };\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"content\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"showCloseIcon\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"isModal\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"header\", void 0);\n    __decorate([\n        Property(true)\n    ], Dialog.prototype, \"visible\", void 0);\n    __decorate([\n        Property('auto')\n    ], Dialog.prototype, \"height\", void 0);\n    __decorate([\n        Property('100%')\n    ], Dialog.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(1000)\n    ], Dialog.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(null)\n    ], Dialog.prototype, \"target\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"allowDragging\", void 0);\n    __decorate([\n        Collection([{}], ButtonProps)\n    ], Dialog.prototype, \"buttons\", void 0);\n    __decorate([\n        Property(true)\n    ], Dialog.prototype, \"closeOnEscape\", void 0);\n    __decorate([\n        Complex({}, AnimationSettings)\n    ], Dialog.prototype, \"animationSettings\", void 0);\n    __decorate([\n        Complex({ X: 'center', Y: 'center' }, PositionData)\n    ], Dialog.prototype, \"position\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"dragStart\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"dragStop\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"drag\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"overlayClick\", void 0);\n    Dialog = __decorate([\n        NotifyPropertyChanges\n    ], Dialog);\n    return Dialog;\n}(Component));\nexport { Dialog };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, ChildProperty, Event, append, compile } from '@syncfusion/ej2-base';\nimport { EventHandler, Touch, Browser, Animation as PopupAnimation } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, getUniqueID, formatUnit } from '@syncfusion/ej2-base';\nimport { attributes, closest, removeClass, addClass, remove } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, Complex } from '@syncfusion/ej2-base';\nimport { Popup } from '../popup/popup';\nimport { calculatePosition } from '../common/position';\nimport { isCollide, fit } from '../common/collision';\nvar TOUCHEND_HIDE_DELAY = 1500;\nvar TAPHOLD_THRESHOLD = 500;\nvar SHOW_POINTER_TIP_GAP = 0;\nvar HIDE_POINTER_TIP_GAP = 8;\nvar MOUSE_TRAIL_GAP = 2;\nvar POINTER_ADJUST = 2;\nvar ROOT = 'e-tooltip';\nvar RTL = 'e-rtl';\nvar DEVICE = 'e-bigger';\nvar ICON = 'e-icons';\nvar CLOSE = 'e-tooltip-close';\nvar TOOLTIP_WRAP = 'e-tooltip-wrap';\nvar CONTENT = 'e-tip-content';\nvar ARROW_TIP = 'e-arrow-tip';\nvar ARROW_TIP_OUTER = 'e-arrow-tip-outer';\nvar ARROW_TIP_INNER = 'e-arrow-tip-inner';\nvar TIP_BOTTOM = 'e-tip-bottom';\nvar TIP_TOP = 'e-tip-top';\nvar TIP_LEFT = 'e-tip-left';\nvar TIP_RIGHT = 'e-tip-right';\nvar POPUP_ROOT = 'e-popup';\nvar POPUP_OPEN = 'e-popup-open';\nvar POPUP_CLOSE = 'e-popup-close';\nvar Animation = /** @class */ (function (_super) {\n    __extends(Animation, _super);\n    function Animation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property({ effect: 'FadeIn', duration: 150, delay: 0 })\n    ], Animation.prototype, \"open\", void 0);\n    __decorate([\n        Property({ effect: 'FadeOut', duration: 150, delay: 0 })\n    ], Animation.prototype, \"close\", void 0);\n    return Animation;\n}(ChildProperty));\nexport { Animation };\n/**\n * Represents the Tooltip component that displays a piece of information about the target element on mouse hover.\n * ```html\n * <div id=\"tooltip\">Show Tooltip</div>\n * ```\n * ```typescript\n * <script>\n *   var tooltipObj = new Tooltip({ content: 'Tooltip text' });\n *   tooltipObj.appendTo(\"#tooltip\");\n * </script>\n * ```\n */\nvar Tooltip = /** @class */ (function (_super) {\n    __extends(Tooltip, _super);\n    /**\n     * Constructor for creating the Tooltip Component\n     */\n    function Tooltip(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    Tooltip.prototype.initialize = function () {\n        this.formatPosition();\n        addClass([this.element], ROOT);\n    };\n    Tooltip.prototype.formatPosition = function () {\n        if (this.position.indexOf('Top') === 0 || this.position.indexOf('Bottom') === 0) {\n            _a = this.position.split(/(?=[A-Z])/), this.tooltipPositionY = _a[0], this.tooltipPositionX = _a[1];\n        }\n        else {\n            _b = this.position.split(/(?=[A-Z])/), this.tooltipPositionX = _b[0], this.tooltipPositionY = _b[1];\n        }\n        var _a, _b;\n    };\n    Tooltip.prototype.renderArrow = function () {\n        this.setTipClass(this.position);\n        var tip = this.createElement('div', { className: ARROW_TIP + ' ' + this.tipClass });\n        tip.appendChild(this.createElement('div', { className: ARROW_TIP_OUTER + ' ' + this.tipClass }));\n        tip.appendChild(this.createElement('div', { className: ARROW_TIP_INNER + ' ' + this.tipClass }));\n        this.tooltipEle.appendChild(tip);\n    };\n    Tooltip.prototype.setTipClass = function (position) {\n        if (position.indexOf('Right') === 0) {\n            this.tipClass = TIP_LEFT;\n        }\n        else if (position.indexOf('Bottom') === 0) {\n            this.tipClass = TIP_TOP;\n        }\n        else if (position.indexOf('Left') === 0) {\n            this.tipClass = TIP_RIGHT;\n        }\n        else {\n            this.tipClass = TIP_BOTTOM;\n        }\n    };\n    Tooltip.prototype.renderPopup = function (target) {\n        var elePos = this.mouseTrail ? { top: 0, left: 0 } : this.getTooltipPosition(target);\n        this.popupObj = new Popup(this.tooltipEle, {\n            height: this.height,\n            width: this.width,\n            position: {\n                X: elePos.left,\n                Y: elePos.top\n            },\n            enableRtl: this.enableRtl,\n            open: this.openPopupHandler.bind(this),\n            close: this.closePopupHandler.bind(this)\n        });\n    };\n    Tooltip.prototype.getTooltipPosition = function (target) {\n        this.tooltipEle.style.display = 'none';\n        var pos = calculatePosition(target, this.tooltipPositionX, this.tooltipPositionY);\n        this.tooltipEle.style.display = '';\n        var offsetPos = this.calculateTooltipOffset(this.position);\n        var elePos = this.collisionFlipFit(target, pos.left + offsetPos.left, pos.top + offsetPos.top);\n        return elePos;\n    };\n    Tooltip.prototype.reposition = function (target) {\n        var elePos = this.getTooltipPosition(target);\n        this.popupObj.position = { X: elePos.left, Y: elePos.top };\n        this.popupObj.dataBind();\n    };\n    Tooltip.prototype.openPopupHandler = function () {\n        this.trigger('afterOpen', this.tooltipEventArgs);\n    };\n    Tooltip.prototype.closePopupHandler = function () {\n        this.clear();\n        this.trigger('afterClose', this.tooltipEventArgs);\n    };\n    Tooltip.prototype.calculateTooltipOffset = function (position) {\n        var pos = { top: 0, left: 0 };\n        var tooltipEleWidth = this.tooltipEle.offsetWidth;\n        var tooltipEleHeight = this.tooltipEle.offsetHeight;\n        var arrowEle = this.tooltipEle.querySelector('.' + ARROW_TIP);\n        var tipWidth = arrowEle ? arrowEle.offsetWidth : 0;\n        var tipHeight = arrowEle ? arrowEle.offsetHeight : 0;\n        var tipAdjust = (this.showTipPointer ? SHOW_POINTER_TIP_GAP : HIDE_POINTER_TIP_GAP);\n        var tipHeightAdjust = (tipHeight / 2) + POINTER_ADJUST + (this.tooltipEle.offsetHeight - this.tooltipEle.clientHeight);\n        var tipWidthAdjust = (tipWidth / 2) + POINTER_ADJUST + (this.tooltipEle.offsetWidth - this.tooltipEle.clientWidth);\n        if (this.mouseTrail) {\n            tipAdjust += MOUSE_TRAIL_GAP;\n        }\n        switch (position) {\n            case 'RightTop':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= tooltipEleHeight - tipHeightAdjust;\n                break;\n            case 'RightCenter':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= (tooltipEleHeight / 2);\n                break;\n            case 'RightBottom':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= (tipHeightAdjust);\n                break;\n            case 'BottomRight':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tipWidthAdjust);\n                break;\n            case 'BottomCenter':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth / 2);\n                break;\n            case 'BottomLeft':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth - tipWidthAdjust);\n                break;\n            case 'LeftBottom':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tipHeightAdjust);\n                break;\n            case 'LeftCenter':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tooltipEleHeight / 2);\n                break;\n            case 'LeftTop':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tooltipEleHeight - tipHeightAdjust);\n                break;\n            case 'TopLeft':\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth - tipWidthAdjust);\n                break;\n            case 'TopRight':\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tipWidthAdjust);\n                break;\n            default:\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth / 2);\n                break;\n        }\n        pos.left += this.offsetX;\n        pos.top += this.offsetY;\n        return pos;\n    };\n    Tooltip.prototype.updateTipPosition = function (position) {\n        var selEle = this.tooltipEle.querySelectorAll('.' + ARROW_TIP + ',.' + ARROW_TIP_OUTER + ',.' + ARROW_TIP_INNER);\n        var removeList = [TIP_BOTTOM, TIP_TOP, TIP_LEFT, TIP_RIGHT];\n        removeClass(selEle, removeList);\n        this.setTipClass(position);\n        addClass(selEle, this.tipClass);\n    };\n    Tooltip.prototype.adjustArrow = function (target, position, tooltipPositionX, tooltipPositionY) {\n        if (this.showTipPointer === false) {\n            return;\n        }\n        this.updateTipPosition(position);\n        var leftValue;\n        var topValue;\n        var tooltipWidth = this.tooltipEle.clientWidth;\n        var tooltipHeight = this.tooltipEle.clientHeight;\n        var arrowEle = this.tooltipEle.querySelector('.' + ARROW_TIP);\n        var arrowInnerELe = this.tooltipEle.querySelector('.' + ARROW_TIP_INNER);\n        var tipWidth = arrowEle.offsetWidth;\n        var tipHeight = arrowEle.offsetHeight;\n        if (this.tipClass === TIP_BOTTOM || this.tipClass === TIP_TOP) {\n            if (this.tipClass === TIP_BOTTOM) {\n                topValue = '99.9%';\n                // Arrow icon aligned -2px height from ArrowOuterTip div\n                arrowInnerELe.style.top = '-' + (tipHeight - 2) + 'px';\n            }\n            else {\n                topValue = -(tipHeight - 1) + 'px';\n                // Arrow icon aligned -6px height from ArrowOuterTip div\n                arrowInnerELe.style.top = '-' + (tipHeight - 6) + 'px';\n            }\n            var tipPosExclude = tooltipPositionX !== 'Center' || (tooltipWidth > target.offsetWidth) || this.mouseTrail;\n            if ((tipPosExclude && tooltipPositionX === 'Left') || (!tipPosExclude && this.tipPointerPosition === 'End')) {\n                leftValue = (tooltipWidth - tipWidth - POINTER_ADJUST) + 'px';\n            }\n            else if ((tipPosExclude && tooltipPositionX === 'Right') || (!tipPosExclude && this.tipPointerPosition === 'Start')) {\n                leftValue = POINTER_ADJUST + 'px';\n            }\n            else {\n                leftValue = ((tooltipWidth / 2) - (tipWidth / 2)) + 'px';\n            }\n        }\n        else {\n            if (this.tipClass === TIP_RIGHT) {\n                leftValue = '99.9%';\n                // Arrow icon aligned -2px left from ArrowOuterTip div\n                arrowInnerELe.style.left = '-' + (tipWidth - 2) + 'px';\n            }\n            else {\n                leftValue = -(tipWidth - 1) + 'px';\n                // Arrow icon aligned -2px from ArrowOuterTip width\n                arrowInnerELe.style.left = (-(tipWidth) + (tipWidth - 2)) + 'px';\n            }\n            var tipPosExclude = tooltipPositionY !== 'Center' || (tooltipHeight > target.offsetHeight) || this.mouseTrail;\n            if ((tipPosExclude && tooltipPositionY === 'Top') || (!tipPosExclude && this.tipPointerPosition === 'End')) {\n                topValue = (tooltipHeight - tipHeight - POINTER_ADJUST) + 'px';\n            }\n            else if ((tipPosExclude && tooltipPositionY === 'Bottom') || (!tipPosExclude && this.tipPointerPosition === 'Start')) {\n                topValue = POINTER_ADJUST + 'px';\n            }\n            else {\n                topValue = ((tooltipHeight / 2) - (tipHeight / 2)) + 'px';\n            }\n        }\n        arrowEle.style.top = topValue;\n        arrowEle.style.left = leftValue;\n    };\n    Tooltip.prototype.renderContent = function (target) {\n        var tooltipContent = this.tooltipEle.querySelector('.' + CONTENT);\n        if (target && !isNullOrUndefined(target.getAttribute('title'))) {\n            target.setAttribute('data-content', target.getAttribute('title'));\n            target.removeAttribute('title');\n        }\n        if (!isNullOrUndefined(this.content)) {\n            tooltipContent.innerHTML = '';\n            if (this.content instanceof HTMLElement) {\n                tooltipContent.appendChild(this.content);\n            }\n            else if (typeof this.content === 'string') {\n                tooltipContent.innerHTML = this.content;\n            }\n            else {\n                var templateFunction = compile(this.content);\n                append(templateFunction(), tooltipContent);\n            }\n        }\n        else {\n            if (target && !isNullOrUndefined(target.getAttribute('data-content'))) {\n                tooltipContent.innerHTML = target.getAttribute('data-content');\n            }\n        }\n    };\n    Tooltip.prototype.renderCloseIcon = function () {\n        if (!this.isSticky) {\n            return;\n        }\n        var tipClose = this.createElement('div', { className: ICON + ' ' + CLOSE });\n        this.tooltipEle.appendChild(tipClose);\n        EventHandler.add(tipClose, Browser.touchStartEvent, this.onStickyClose, this);\n    };\n    Tooltip.prototype.addDescribedBy = function (target, id) {\n        var describedby = (target.getAttribute('aria-describedby') || '').split(/\\s+/);\n        if (describedby.indexOf(id) < 0) {\n            describedby.push(id);\n        }\n        attributes(target, { 'aria-describedby': describedby.join(' ').trim(), 'data-tooltip-id': id });\n    };\n    Tooltip.prototype.removeDescribedBy = function (target) {\n        var id = target.getAttribute('data-tooltip-id');\n        var describedby = (target.getAttribute('aria-describedby') || '').split(/\\s+/);\n        var index = describedby.indexOf(id);\n        if (index !== -1) {\n            describedby.splice(index, 1);\n        }\n        target.removeAttribute('data-tooltip-id');\n        var orgdescribedby = describedby.join(' ').trim();\n        if (orgdescribedby) {\n            target.setAttribute('aria-describedby', orgdescribedby);\n        }\n        else {\n            target.removeAttribute('aria-describedby');\n        }\n    };\n    Tooltip.prototype.tapHoldHandler = function (evt) {\n        clearTimeout(this.autoCloseTimer);\n        this.targetHover(evt.originalEvent);\n    };\n    Tooltip.prototype.touchEndHandler = function (e) {\n        var _this = this;\n        if (this.isSticky) {\n            return;\n        }\n        var close = function () {\n            _this.close();\n        };\n        this.autoCloseTimer = setTimeout(close, TOUCHEND_HIDE_DELAY);\n    };\n    Tooltip.prototype.targetClick = function (e) {\n        var target;\n        if (this.target) {\n            target = closest(e.target, this.target);\n        }\n        else {\n            target = this.element;\n        }\n        if (isNullOrUndefined(target)) {\n            return;\n        }\n        if (target.getAttribute('data-tooltip-id') === null) {\n            this.targetHover(e);\n        }\n        else if (!this.isSticky) {\n            this.hideTooltip(this.animation.close, e, target);\n        }\n    };\n    Tooltip.prototype.targetHover = function (e) {\n        var target;\n        if (this.target) {\n            target = closest(e.target, this.target);\n        }\n        else {\n            target = this.element;\n        }\n        if (isNullOrUndefined(target) || target.getAttribute('data-tooltip-id') !== null) {\n            return;\n        }\n        var targetList = [].slice.call(document.querySelectorAll('[data-tooltip-id= ' + this.ctrlId + '_content]'));\n        for (var _i = 0, targetList_1 = targetList; _i < targetList_1.length; _i++) {\n            var target_1 = targetList_1[_i];\n            this.restoreElement(target_1);\n        }\n        this.showTooltip(target, this.animation.open, e);\n        this.wireMouseEvents(e, target);\n    };\n    Tooltip.prototype.showTooltip = function (target, showAnimation, e) {\n        var _this = this;\n        clearTimeout(this.showTimer);\n        clearTimeout(this.hideTimer);\n        this.tooltipEventArgs = e ? { type: e.type, cancel: false, target: target, event: e, element: this.tooltipEle } :\n            { type: null, cancel: false, target: target, event: null, element: this.tooltipEle };\n        this.trigger('beforeRender', this.tooltipEventArgs);\n        if (this.tooltipEventArgs.cancel) {\n            this.isHidden = true;\n            this.clear();\n            return;\n        }\n        this.isHidden = false;\n        if (isNullOrUndefined(this.tooltipEle)) {\n            this.ctrlId = this.element.getAttribute('id') ? getUniqueID(this.element.getAttribute('id')) : getUniqueID('tooltip');\n            this.tooltipEle = this.createElement('div', {\n                className: TOOLTIP_WRAP + ' ' + POPUP_ROOT, attrs: {\n                    role: 'tooltip', 'aria-hidden': 'false', 'id': this.ctrlId + '_content'\n                }, styles: 'width:' + formatUnit(this.width) + ';height:' + formatUnit(this.height) + ';position:absolute;'\n            });\n            if (this.cssClass) {\n                addClass([this.tooltipEle], this.cssClass.split(' '));\n            }\n            if (Browser.isDevice) {\n                addClass([this.tooltipEle], DEVICE);\n            }\n            if (this.width !== 'auto') {\n                this.tooltipEle.style.maxWidth = formatUnit(this.width);\n            }\n            this.tooltipEle.appendChild(this.createElement('div', { className: CONTENT }));\n            document.body.appendChild(this.tooltipEle);\n            this.addDescribedBy(target, this.ctrlId + '_content');\n            this.renderContent(target);\n            addClass([this.tooltipEle], POPUP_OPEN);\n            if (this.showTipPointer) {\n                this.renderArrow();\n            }\n            this.renderCloseIcon();\n            this.renderPopup(target);\n        }\n        else {\n            this.adjustArrow(target, this.position, this.tooltipPositionX, this.tooltipPositionY);\n            this.addDescribedBy(target, this.ctrlId + '_content');\n            this.renderContent(target);\n            PopupAnimation.stop(this.tooltipEle);\n            this.reposition(target);\n        }\n        removeClass([this.tooltipEle], POPUP_OPEN);\n        addClass([this.tooltipEle], POPUP_CLOSE);\n        this.tooltipEventArgs = e ? { type: e.type, cancel: false, target: target, event: e, element: this.tooltipEle } :\n            { type: null, cancel: false, target: target, event: null, element: this.tooltipEle };\n        this.trigger('beforeOpen', this.tooltipEventArgs);\n        if (this.tooltipEventArgs.cancel) {\n            this.isHidden = true;\n            this.clear();\n            return;\n        }\n        var openAnimation = {\n            name: showAnimation.effect, duration: showAnimation.duration, delay: showAnimation.delay, timingFunction: 'easeOut'\n        };\n        if (showAnimation.effect === 'None') {\n            openAnimation = undefined;\n        }\n        if (this.openDelay > 0) {\n            var show = function () {\n                if (_this.popupObj) {\n                    _this.popupObj.show(openAnimation, target);\n                }\n            };\n            this.showTimer = setTimeout(show, this.openDelay);\n        }\n        else {\n            this.popupObj.show(openAnimation, target);\n        }\n    };\n    Tooltip.prototype.checkCollision = function (target, x, y) {\n        var elePos = {\n            left: x, top: y, position: this.position,\n            horizontal: this.tooltipPositionX, vertical: this.tooltipPositionY\n        };\n        var affectedPos = isCollide(this.tooltipEle, (this.target ? this.element : null), x, y);\n        if (affectedPos.length > 0) {\n            elePos.horizontal = affectedPos.indexOf('left') >= 0 ? 'Right' : affectedPos.indexOf('right') >= 0 ? 'Left' :\n                this.tooltipPositionX;\n            elePos.vertical = affectedPos.indexOf('top') >= 0 ? 'Bottom' : affectedPos.indexOf('bottom') >= 0 ? 'Top' :\n                this.tooltipPositionY;\n        }\n        return elePos;\n    };\n    Tooltip.prototype.collisionFlipFit = function (target, x, y) {\n        var elePos = this.checkCollision(target, x, y);\n        var newpos = elePos.position;\n        if (this.tooltipPositionY !== elePos.vertical) {\n            newpos = ((this.position.indexOf('Bottom') === 0 || this.position.indexOf('Top') === 0) ?\n                elePos.vertical + this.tooltipPositionX : this.tooltipPositionX + elePos.vertical);\n        }\n        if (this.tooltipPositionX !== elePos.horizontal) {\n            if (newpos.indexOf('Left') === 0) {\n                elePos.vertical = (newpos === 'LeftTop' || newpos === 'LeftCenter') ? 'Top' : 'Bottom';\n                newpos = (elePos.vertical + 'Left');\n            }\n            if (newpos.indexOf('Right') === 0) {\n                elePos.vertical = (newpos === 'RightTop' || newpos === 'RightCenter') ? 'Top' : 'Bottom';\n                newpos = (elePos.vertical + 'Right');\n            }\n            elePos.horizontal = this.tooltipPositionX;\n        }\n        this.tooltipEventArgs = {\n            type: null, cancel: false, target: target, event: null,\n            element: this.tooltipEle, collidedPosition: newpos\n        };\n        this.trigger('beforeCollision', this.tooltipEventArgs);\n        if (elePos.position !== newpos) {\n            var pos = calculatePosition(target, this.tooltipPositionX, elePos.vertical);\n            this.adjustArrow(target, newpos, elePos.horizontal, elePos.vertical);\n            var offsetPos = this.calculateTooltipOffset(newpos);\n            elePos.position = newpos;\n            elePos.left = pos.left + offsetPos.left;\n            elePos.top = pos.top + offsetPos.top;\n        }\n        else {\n            this.adjustArrow(target, newpos, elePos.horizontal, elePos.vertical);\n        }\n        var eleOffset = { left: elePos.left, top: elePos.top };\n        var left = fit(this.tooltipEle, (this.target ? this.element : null), { X: true, Y: false }, eleOffset).left;\n        if (this.showTipPointer && (newpos.indexOf('Bottom') === 0 || newpos.indexOf('Top') === 0)) {\n            var arrowEle = this.tooltipEle.querySelector('.' + ARROW_TIP);\n            var arrowleft = parseInt(arrowEle.style.left, 10) - (left - elePos.left);\n            if (arrowleft < 0) {\n                arrowleft = 0;\n            }\n            else if ((arrowleft + arrowEle.offsetWidth) > this.tooltipEle.clientWidth) {\n                arrowleft = this.tooltipEle.clientWidth - arrowEle.offsetWidth;\n            }\n            arrowEle.style.left = arrowleft.toString() + 'px';\n        }\n        eleOffset.left = left;\n        return eleOffset;\n    };\n    Tooltip.prototype.hideTooltip = function (hideAnimation, e, targetElement) {\n        var _this = this;\n        var target;\n        if (e) {\n            target = this.target ? (targetElement || e.target) : this.element;\n            this.tooltipEventArgs = {\n                type: e.type, cancel: false, target: target, event: e, element: this.tooltipEle\n            };\n        }\n        else {\n            target = document.querySelector('[data-tooltip-id= ' + this.ctrlId + '_content]');\n            this.tooltipEventArgs = {\n                type: null, cancel: false, target: target, event: null, element: this.tooltipEle\n            };\n        }\n        if (isNullOrUndefined(target)) {\n            return;\n        }\n        this.trigger('beforeClose', this.tooltipEventArgs);\n        if (!this.tooltipEventArgs.cancel) {\n            this.restoreElement(target);\n            this.isHidden = true;\n            var closeAnimation_1 = {\n                name: hideAnimation.effect, duration: hideAnimation.duration, delay: hideAnimation.delay, timingFunction: 'easeIn'\n            };\n            if (hideAnimation.effect === 'None') {\n                closeAnimation_1 = undefined;\n            }\n            if (this.closeDelay > 0) {\n                var hide = function () {\n                    if (_this.popupObj) {\n                        _this.popupObj.hide(closeAnimation_1);\n                    }\n                };\n                this.hideTimer = setTimeout(hide, this.closeDelay);\n            }\n            else {\n                this.popupObj.hide(closeAnimation_1);\n            }\n        }\n        else {\n            this.isHidden = false;\n        }\n    };\n    Tooltip.prototype.restoreElement = function (target) {\n        this.unwireMouseEvents(target);\n        if (!isNullOrUndefined(target.getAttribute('data-content'))) {\n            target.setAttribute('title', target.getAttribute('data-content'));\n            target.removeAttribute('data-content');\n        }\n        this.removeDescribedBy(target);\n    };\n    Tooltip.prototype.clear = function () {\n        if (this.tooltipEle) {\n            removeClass([this.tooltipEle], POPUP_CLOSE);\n            addClass([this.tooltipEle], POPUP_OPEN);\n        }\n        if (this.isHidden) {\n            if (this.popupObj) {\n                this.popupObj.destroy();\n            }\n            if (this.tooltipEle) {\n                remove(this.tooltipEle);\n            }\n            this.tooltipEle = null;\n            this.popupObj = null;\n        }\n    };\n    Tooltip.prototype.onMouseOut = function (e) {\n        this.hideTooltip(this.animation.close, e);\n    };\n    Tooltip.prototype.onStickyClose = function (e) {\n        this.close();\n    };\n    Tooltip.prototype.onMouseMove = function (event) {\n        var eventPageX = 0;\n        var eventPageY = 0;\n        if (event.type.indexOf('touch') > -1) {\n            event.preventDefault();\n            eventPageX = event.touches[0].pageX;\n            eventPageY = event.touches[0].pageY;\n        }\n        else {\n            eventPageX = event.pageX;\n            eventPageY = event.pageY;\n        }\n        PopupAnimation.stop(this.tooltipEle);\n        removeClass([this.tooltipEle], POPUP_CLOSE);\n        addClass([this.tooltipEle], POPUP_OPEN);\n        this.adjustArrow(event.target, this.position, this.tooltipPositionX, this.tooltipPositionY);\n        var pos = this.calculateTooltipOffset(this.position);\n        var x = eventPageX + pos.left + this.offsetX;\n        var y = eventPageY + pos.top + this.offsetY;\n        var elePos = this.checkCollision(event.target, x, y);\n        if (this.tooltipPositionX !== elePos.horizontal || this.tooltipPositionY !== elePos.vertical) {\n            var newpos = (this.position.indexOf('Bottom') === 0 || this.position.indexOf('Top') === 0) ?\n                elePos.vertical + elePos.horizontal : elePos.horizontal + elePos.vertical;\n            elePos.position = newpos;\n            this.adjustArrow(event.target, elePos.position, elePos.horizontal, elePos.vertical);\n            var colpos = this.calculateTooltipOffset(elePos.position);\n            elePos.left = eventPageX + colpos.left - this.offsetX;\n            elePos.top = eventPageY + colpos.top - this.offsetY;\n        }\n        this.tooltipEle.style.left = elePos.left + 'px';\n        this.tooltipEle.style.top = elePos.top + 'px';\n    };\n    Tooltip.prototype.keyDown = function (event) {\n        if (this.tooltipEle && event.keyCode === 27) {\n            this.close();\n        }\n    };\n    Tooltip.prototype.touchEnd = function (e) {\n        if (this.tooltipEle && closest(e.target, '.' + ROOT) === null) {\n            this.close();\n        }\n    };\n    Tooltip.prototype.scrollHandler = function (e) {\n        if (this.tooltipEle) {\n            this.close();\n        }\n    };\n    /**\n     * Core method that initializes the control rendering.\n     * @private\n     */\n    Tooltip.prototype.render = function () {\n        this.initialize();\n        this.wireEvents(this.opensOn);\n    };\n    /**\n     * Initializes the values of private members.\n     * @private\n     */\n    Tooltip.prototype.preRender = function () {\n        this.tipClass = TIP_BOTTOM;\n        this.tooltipPositionX = 'Center';\n        this.tooltipPositionY = 'Top';\n        this.isHidden = true;\n    };\n    /**\n     * Binding events to the Tooltip element.\n     * @hidden\n     */\n    Tooltip.prototype.wireEvents = function (trigger) {\n        var triggerList = this.getTriggerList(trigger);\n        for (var _i = 0, triggerList_1 = triggerList; _i < triggerList_1.length; _i++) {\n            var opensOn = triggerList_1[_i];\n            if (opensOn === 'Custom') {\n                return;\n            }\n            if (opensOn === 'Focus') {\n                this.wireFocusEvents();\n            }\n            if (opensOn === 'Click') {\n                EventHandler.add(this.element, Browser.touchStartEvent, this.targetClick, this);\n            }\n            if (opensOn === 'Hover') {\n                if (Browser.isDevice) {\n                    this.touchModule = new Touch(this.element, {\n                        tapHoldThreshold: TAPHOLD_THRESHOLD,\n                        tapHold: this.tapHoldHandler.bind(this)\n                    });\n                    EventHandler.add(this.element, Browser.touchEndEvent, this.touchEndHandler, this);\n                }\n                else {\n                    EventHandler.add(this.element, 'mouseover', this.targetHover, this);\n                }\n            }\n        }\n        EventHandler.add(document, 'touchend', this.touchEnd, this);\n        EventHandler.add(document, 'scroll', this.scrollHandler, this);\n        EventHandler.add(document, 'keydown', this.keyDown, this);\n    };\n    Tooltip.prototype.getTriggerList = function (trigger) {\n        if (trigger === 'Auto') {\n            trigger = (Browser.isDevice) ? 'Hover' : 'Hover Focus';\n        }\n        return trigger.split(' ');\n    };\n    Tooltip.prototype.wireFocusEvents = function () {\n        if (!isNullOrUndefined(this.target)) {\n            var targetList = [].slice.call(this.element.querySelectorAll(this.target));\n            for (var _i = 0, targetList_2 = targetList; _i < targetList_2.length; _i++) {\n                var target = targetList_2[_i];\n                EventHandler.add(target, 'focus', this.targetHover, this);\n            }\n        }\n        else {\n            EventHandler.add(this.element, 'focus', this.targetHover, this);\n        }\n    };\n    Tooltip.prototype.wireMouseEvents = function (e, target) {\n        if (this.tooltipEle) {\n            if (!this.isSticky) {\n                if (e.type === 'focus') {\n                    EventHandler.add(target, 'blur', this.onMouseOut, this);\n                }\n                if (e.type === 'mouseover') {\n                    EventHandler.add(target, 'mouseleave', this.onMouseOut, this);\n                }\n            }\n            if (this.mouseTrail) {\n                EventHandler.add(target, 'mousemove touchstart mouseenter', this.onMouseMove, this);\n            }\n        }\n    };\n    /**\n     * Unbinding events from the element on widget destroy.\n     * @hidden\n     */\n    Tooltip.prototype.unwireEvents = function (trigger) {\n        var triggerList = this.getTriggerList(trigger);\n        for (var _i = 0, triggerList_2 = triggerList; _i < triggerList_2.length; _i++) {\n            var opensOn = triggerList_2[_i];\n            if (opensOn === 'Custom') {\n                return;\n            }\n            if (opensOn === 'Focus') {\n                this.unwireFocusEvents();\n            }\n            if (opensOn === 'Click') {\n                EventHandler.remove(this.element, Browser.touchStartEvent, this.targetClick);\n            }\n            if (opensOn === 'Hover') {\n                if (Browser.isDevice) {\n                    if (this.touchModule) {\n                        this.touchModule.destroy();\n                    }\n                    EventHandler.remove(this.element, Browser.touchEndEvent, this.touchEndHandler);\n                }\n                else {\n                    EventHandler.remove(this.element, 'mouseover', this.targetHover);\n                }\n            }\n        }\n        EventHandler.remove(document, 'touchend', this.touchEnd);\n        EventHandler.remove(document, 'scroll', this.scrollHandler);\n        EventHandler.remove(document, 'keydown', this.keyDown);\n    };\n    Tooltip.prototype.unwireFocusEvents = function () {\n        if (!isNullOrUndefined(this.target)) {\n            var targetList = [].slice.call(this.element.querySelectorAll(this.target));\n            for (var _i = 0, targetList_3 = targetList; _i < targetList_3.length; _i++) {\n                var target = targetList_3[_i];\n                EventHandler.remove(target, 'focus', this.targetHover);\n            }\n        }\n        else {\n            EventHandler.remove(this.element, 'focus', this.targetHover);\n        }\n    };\n    Tooltip.prototype.unwireMouseEvents = function (target) {\n        if (!this.isSticky) {\n            var triggerList = this.getTriggerList(this.opensOn);\n            for (var _i = 0, triggerList_3 = triggerList; _i < triggerList_3.length; _i++) {\n                var opensOn = triggerList_3[_i];\n                if (opensOn === 'Focus') {\n                    EventHandler.remove(target, 'blur', this.onMouseOut);\n                }\n                if (opensOn === 'Hover' && !Browser.isDevice) {\n                    EventHandler.remove(target, 'mouseleave', this.onMouseOut);\n                }\n            }\n        }\n        if (this.mouseTrail) {\n            EventHandler.remove(target, 'mousemove touchstart mouseenter', this.onMouseMove);\n        }\n    };\n    /**\n     * Core method to return the component name.\n     * @private\n     */\n    Tooltip.prototype.getModuleName = function () {\n        return 'tooltip';\n    };\n    /**\n     * Returns the properties to be maintained in the persisted state.\n     * @private\n     */\n    Tooltip.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Called internally, if any of the property value changed.\n     * @private\n     */\n    Tooltip.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    if (this.tooltipEle) {\n                        this.tooltipEle.style.width = formatUnit(newProp.width);\n                    }\n                    break;\n                case 'height':\n                    if (this.tooltipEle) {\n                        this.tooltipEle.style.height = formatUnit(newProp.height);\n                    }\n                    break;\n                case 'content':\n                    if (this.tooltipEle) {\n                        this.renderContent();\n                    }\n                    break;\n                case 'opensOn':\n                    this.unwireEvents(oldProp.opensOn);\n                    this.wireEvents(newProp.opensOn);\n                    break;\n                case 'position':\n                    this.formatPosition();\n                    var target = document.querySelector('[data-tooltip-id= ' + this.ctrlId + '_content]');\n                    if (this.tooltipEle && target) {\n                        var arrowInnerELe = this.tooltipEle.querySelector('.' + ARROW_TIP_INNER);\n                        arrowInnerELe.style.top = arrowInnerELe.style.left = null;\n                        this.reposition(target);\n                    }\n                    break;\n                case 'tipPointerPosition':\n                    var trgt = document.querySelector('[data-tooltip-id= ' + this.ctrlId + '_content]');\n                    if (this.tooltipEle && trgt) {\n                        this.reposition(trgt);\n                    }\n                    break;\n                case 'offsetX':\n                    if (this.tooltipEle) {\n                        var x = newProp.offsetX - oldProp.offsetX;\n                        this.tooltipEle.style.left = (parseInt(this.tooltipEle.style.left, 10) + (x)).toString() + 'px';\n                    }\n                    break;\n                case 'offsetY':\n                    if (this.tooltipEle) {\n                        var y = newProp.offsetY - oldProp.offsetY;\n                        this.tooltipEle.style.top = (parseInt(this.tooltipEle.style.top, 10) + (y)).toString() + 'px';\n                    }\n                    break;\n                case 'cssClass':\n                    if (this.tooltipEle) {\n                        if (oldProp.cssClass) {\n                            removeClass([this.tooltipEle], oldProp.cssClass.split(' '));\n                        }\n                        if (newProp.cssClass) {\n                            addClass([this.tooltipEle], newProp.cssClass.split(' '));\n                        }\n                    }\n                    break;\n                case 'enableRtl':\n                    if (this.tooltipEle) {\n                        if (this.enableRtl) {\n                            addClass([this.tooltipEle], RTL);\n                        }\n                        else {\n                            removeClass([this.tooltipEle], RTL);\n                        }\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * It is used to show the Tooltip on the specified target with specific animation settings.\n     * @param element Target element where the Tooltip is to be displayed.\n     * @param animation Sets the specific animation, while showing the Tooltip on the screen.\n     * @return {void}\n     */\n    Tooltip.prototype.open = function (element, animation) {\n        if (animation === void 0) { animation = this.animation.open; }\n        if (element.style.display === 'none') {\n            return;\n        }\n        this.showTooltip(element, animation);\n    };\n    /**\n     * It is used to hide the Tooltip with specific animation effect.\n     * @param animation Sets the specific animation when hiding Tooltip from the screen.\n     * @return {void}\n     */\n    Tooltip.prototype.close = function (animation) {\n        if (animation === void 0) { animation = this.animation.close; }\n        this.hideTooltip(animation);\n    };\n    /**\n     * It is used to refresh the Tooltip content and its position.\n     * @param target Target element where the Tooltip content or position needs to be refreshed.\n     * @return {void}\n     */\n    Tooltip.prototype.refresh = function (target) {\n        if (this.tooltipEle) {\n            this.renderContent(target);\n        }\n        if (this.popupObj && target) {\n            this.reposition(target);\n        }\n    };\n    /**\n     * It is used to destroy the Tooltip component.\n     * @method destroy\n     * @return {void}\n     * @memberof Tooltip\n     */\n    Tooltip.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        removeClass([this.element], ROOT);\n        this.unwireEvents(this.opensOn);\n        if (this.popupObj) {\n            this.popupObj.destroy();\n        }\n        if (this.tooltipEle) {\n            remove(this.tooltipEle);\n        }\n        this.tooltipEle = null;\n        this.popupObj = null;\n    };\n    __decorate([\n        Property('auto')\n    ], Tooltip.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Tooltip.prototype, \"height\", void 0);\n    __decorate([\n        Property()\n    ], Tooltip.prototype, \"content\", void 0);\n    __decorate([\n        Property()\n    ], Tooltip.prototype, \"target\", void 0);\n    __decorate([\n        Property('TopCenter')\n    ], Tooltip.prototype, \"position\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"offsetX\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"offsetY\", void 0);\n    __decorate([\n        Property(true)\n    ], Tooltip.prototype, \"showTipPointer\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Tooltip.prototype, \"tipPointerPosition\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Tooltip.prototype, \"opensOn\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"mouseTrail\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"isSticky\", void 0);\n    __decorate([\n        Complex({}, Animation)\n    ], Tooltip.prototype, \"animation\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"openDelay\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"closeDelay\", void 0);\n    __decorate([\n        Property()\n    ], Tooltip.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeRender\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"afterOpen\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"afterClose\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeCollision\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"destroyed\", void 0);\n    Tooltip = __decorate([\n        NotifyPropertyChanges\n    ], Tooltip);\n    return Tooltip;\n}(Component));\nexport { Tooltip };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Property, Event, Browser, L10n } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { attributes, addClass, removeClass, setStyleAttribute, detach } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, getValue, formatUnit, setValue, merge } from '@syncfusion/ej2-base';\nimport { Internationalization, getNumericObject } from '@syncfusion/ej2-base';\nimport { Input } from '../input/input';\nvar ROOT = 'e-control-wrapper e-numeric';\nvar SPINICON = 'e-input-group-icon';\nvar SPINUP = 'e-spin-up';\nvar SPINDOWN = 'e-spin-down';\nvar ERROR = 'e-error';\nvar INCREMENT = 'increment';\nvar DECREMENT = 'decrement';\nvar INTREGEXP = new RegExp('^(-)?(\\\\d*)$');\nvar DECIMALSEPARATOR = '.';\nvar COMPONENT = 'e-numerictextbox';\nvar CONTROL = 'e-control';\n/**\n * Represents the NumericTextBox component that allows the user to enter only numeric values.\n * ```html\n * <input type='text' id=\"numeric\"/>\n * ```\n * ```typescript\n * <script>\n *   var numericObj = new NumericTextBox({ value: 10 });\n *   numericObj.appendTo(\"#numeric\");\n * </script>\n * ```\n */\nvar NumericTextBox = /** @class */ (function (_super) {\n    __extends(NumericTextBox, _super);\n    function NumericTextBox(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    NumericTextBox.prototype.preRender = function () {\n        this.isPrevFocused = false;\n        this.decimalSeparator = '.';\n        this.intRegExp = new RegExp('/^(-)?(\\d*)$/');\n        this.isCalled = false;\n        var ejInstance = getValue('ej2_instances', this.element);\n        this.cloneElement = this.element.cloneNode(true);\n        removeClass([this.cloneElement], [CONTROL, COMPONENT]);\n        this.angularTagName = null;\n        if (this.element.tagName === 'EJS-NUMERICTEXTBOX') {\n            this.angularTagName = this.element.tagName;\n            var input = this.createElement('input');\n            var index = 0;\n            for (index; index < this.element.attributes.length; index++) {\n                input.setAttribute(this.element.attributes[index].nodeName, this.element.attributes[index].nodeValue);\n                input.innerHTML = this.element.innerHTML;\n            }\n            if (this.element.hasAttribute('id')) {\n                this.element.removeAttribute('id');\n            }\n            this.element.classList.remove('e-control', 'e-numerictextbox');\n            this.element.appendChild(input);\n            this.element = input;\n            setValue('ej2_instances', ejInstance, this.element);\n        }\n        attributes(this.element, { 'role': 'spinbutton', 'tabindex': '0', 'autocomplete': 'off', 'aria-live': 'assertive' });\n        var localeText = { incrementTitle: 'Increment value', decrementTitle: 'Decrement value', placeholder: '' };\n        this.l10n = new L10n('numerictextbox', localeText, this.locale);\n        this.isValidState = true;\n        this.inputStyle = null;\n        this.inputName = null;\n        this.cultureInfo = {};\n        this.initCultureInfo();\n        this.initCultureFunc();\n        this.checkAttributes();\n        this.prevValue = this.value;\n        this.validateMinMax();\n        this.validateStep();\n        if (this.placeholder === null) {\n            this.updatePlaceholder();\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    NumericTextBox.prototype.render = function () {\n        if (this.element.tagName.toLowerCase() === 'input') {\n            this.createWrapper();\n            if (this.showSpinButton) {\n                this.spinBtnCreation();\n            }\n            if (!isNullOrUndefined(this.width)) {\n                setStyleAttribute(this.container, { 'width': formatUnit(this.width) });\n            }\n            if (!this.container.classList.contains('e-input-group')) {\n                this.container.classList.add('e-input-group');\n            }\n            this.changeValue(this.value === null || isNaN(this.value) ? null : this.strictMode ? this.trimValue(this.value) : this.value);\n            this.wireEvents();\n            if (this.value !== null && !isNaN(this.value)) {\n                if (this.decimals) {\n                    this.setProperties({ value: this.roundNumber(this.value, this.decimals) }, true);\n                }\n            }\n        }\n    };\n    NumericTextBox.prototype.checkAttributes = function () {\n        var attributes = ['value', 'min', 'max', 'step', 'disabled', 'readonly', 'style', 'name'];\n        for (var _i = 0, attributes_1 = attributes; _i < attributes_1.length; _i++) {\n            var prop = attributes_1[_i];\n            if (!isNullOrUndefined(this.element.getAttribute(prop))) {\n                switch (prop) {\n                    case 'disabled':\n                        var enabled = this.element.getAttribute(prop) === 'disabled' ||\n                            this.element.getAttribute(prop) === 'true' ? false : true;\n                        this.setProperties({ enabled: enabled }, true);\n                        break;\n                    case 'readonly':\n                        var readonly = this.element.getAttribute(prop) === 'readonly'\n                            || this.element.getAttribute(prop) === 'true' ? true : false;\n                        this.setProperties({ readonly: readonly }, true);\n                        break;\n                    case 'style':\n                        this.inputStyle = this.element.getAttribute(prop);\n                        break;\n                    case 'name':\n                        this.inputName = this.element.getAttribute(prop);\n                        break;\n                    default:\n                        var value = this.instance.getNumberParser({ format: 'n' })(this.element.getAttribute(prop));\n                        if ((value !== null && !isNaN(value)) || (prop === 'value')) {\n                            this.setProperties(setValue(prop, value, {}), true);\n                        }\n                        break;\n                }\n            }\n        }\n    };\n    NumericTextBox.prototype.updatePlaceholder = function () {\n        this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\n    };\n    NumericTextBox.prototype.initCultureFunc = function () {\n        this.instance = new Internationalization(this.locale);\n    };\n    NumericTextBox.prototype.initCultureInfo = function () {\n        this.cultureInfo.format = this.format;\n        if (getValue('currency', this) !== null) {\n            setValue('currency', this.currency, this.cultureInfo);\n            this.setProperties({ currencyCode: this.currency }, true);\n        }\n    };\n    /* Wrapper creation */\n    NumericTextBox.prototype.createWrapper = function () {\n        var inputObj = Input.createInput({\n            element: this.element,\n            floatLabelType: this.floatLabelType,\n            properties: {\n                readonly: this.readonly,\n                placeholder: this.placeholder,\n                cssClass: this.cssClass,\n                enableRtl: this.enableRtl,\n                showClearButton: this.showClearButton,\n                enabled: this.enabled\n            }\n        }, this.createElement);\n        this.inputWrapper = inputObj;\n        this.container = inputObj.container;\n        this.container.setAttribute('class', ROOT + ' ' + this.container.getAttribute('class'));\n        if (this.readonly) {\n            attributes(this.element, { 'aria-readonly': 'true' });\n        }\n        this.hiddenInput = (this.createElement('input', { attrs: { type: 'hidden', 'validateHidden': 'true' } }));\n        this.inputName = this.inputName !== null ? this.inputName : this.element.id;\n        this.element.removeAttribute('name');\n        attributes(this.hiddenInput, { 'name': this.inputName });\n        this.container.insertBefore(this.hiddenInput, this.container.childNodes[1]);\n        if (this.inputStyle !== null) {\n            attributes(this.container, { 'style': this.inputStyle });\n        }\n    };\n    /* Spinner creation */\n    NumericTextBox.prototype.spinBtnCreation = function () {\n        this.spinDown = Input.appendSpan(SPINICON + ' ' + SPINDOWN, this.container, this.createElement);\n        attributes(this.spinDown, {\n            'title': this.l10n.getConstant('decrementTitle'),\n            'aria-label': this.l10n.getConstant('decrementTitle')\n        });\n        this.spinUp = Input.appendSpan(SPINICON + ' ' + SPINUP, this.container, this.createElement);\n        attributes(this.spinUp, {\n            'title': this.l10n.getConstant('incrementTitle'),\n            'aria-label': this.l10n.getConstant('incrementTitle')\n        });\n        this.wireSpinBtnEvents();\n    };\n    NumericTextBox.prototype.validateMinMax = function () {\n        if (!(typeof (this.min) === 'number' && !isNaN(this.min))) {\n            this.setProperties({ min: -(Number.MAX_VALUE) }, true);\n        }\n        if (!(typeof (this.max) === 'number' && !isNaN(this.max))) {\n            this.setProperties({ max: Number.MAX_VALUE }, true);\n        }\n        if (this.decimals !== null) {\n            if (this.min !== -(Number.MAX_VALUE)) {\n                this.setProperties({ min: this.instance.getNumberParser({ format: 'n' })(this.formattedValue(this.decimals, this.min)) }, true);\n            }\n            if (this.max !== (Number.MAX_VALUE)) {\n                this.setProperties({ max: this.instance.getNumberParser({ format: 'n' })(this.formattedValue(this.decimals, this.max)) }, true);\n            }\n        }\n        this.setProperties({ min: this.min > this.max ? this.max : this.min }, true);\n        attributes(this.element, { 'aria-valuemin': this.min.toString(), 'aria-valuemax': this.max.toString() });\n    };\n    NumericTextBox.prototype.formattedValue = function (decimals, value) {\n        return this.instance.getNumberFormat({\n            maximumFractionDigits: decimals,\n            minimumFractionDigits: decimals, useGrouping: false\n        })(value);\n    };\n    NumericTextBox.prototype.validateStep = function () {\n        if (this.decimals !== null) {\n            this.setProperties({ step: this.instance.getNumberParser({ format: 'n' })(this.formattedValue(this.decimals, this.step)) }, true);\n        }\n    };\n    NumericTextBox.prototype.action = function (operation, event) {\n        this.isInteract = true;\n        var value = this.isFocused ? this.instance.getNumberParser({ format: 'n' })(this.element.value) : this.value;\n        this.changeValue(this.performAction(value, this.step, operation));\n        this.raiseChangeEvent(event);\n    };\n    NumericTextBox.prototype.checkErrorClass = function () {\n        if (this.isValidState) {\n            removeClass([this.container], ERROR);\n        }\n        else {\n            addClass([this.container], ERROR);\n        }\n        attributes(this.element, { 'aria-invalid': this.isValidState ? 'false' : 'true' });\n    };\n    NumericTextBox.prototype.bindClearEvent = function () {\n        if (this.showClearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler, this);\n        }\n    };\n    NumericTextBox.prototype.resetHandler = function (e) {\n        e.preventDefault();\n        if (!(this.inputWrapper.clearButton.classList.contains('e-clear-icon-hide'))) {\n            this.clear(e);\n        }\n    };\n    NumericTextBox.prototype.clear = function (event) {\n        this.setProperties({ value: null }, true);\n        this.setElementValue('');\n    };\n    NumericTextBox.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'focus', this.focusIn, this);\n        EventHandler.add(this.element, 'blur', this.focusOut, this);\n        EventHandler.add(this.element, 'keydown', this.keyDownHandler, this);\n        EventHandler.add(this.element, 'keyup', this.keyUpHandler, this);\n        EventHandler.add(this.element, 'input', this.inputHandler, this);\n        EventHandler.add(this.element, 'keypress', this.keyPressHandler, this);\n        EventHandler.add(this.element, 'change', this.changeHandler, this);\n        EventHandler.add(this.element, 'paste', this.pasteHandler, this);\n        if (this.enabled) {\n            this.bindClearEvent();\n        }\n    };\n    NumericTextBox.prototype.wireSpinBtnEvents = function () {\n        /* bind spin button events */\n        EventHandler.add(this.spinUp, Browser.touchStartEvent, this.mouseDownOnSpinner, this);\n        EventHandler.add(this.spinDown, Browser.touchStartEvent, this.mouseDownOnSpinner, this);\n        EventHandler.add(this.spinUp, Browser.touchEndEvent, this.mouseUpOnSpinner, this);\n        EventHandler.add(this.spinDown, Browser.touchEndEvent, this.mouseUpOnSpinner, this);\n        EventHandler.add(this.spinUp, Browser.touchMoveEvent, this.touchMoveOnSpinner, this);\n        EventHandler.add(this.spinDown, Browser.touchMoveEvent, this.touchMoveOnSpinner, this);\n    };\n    NumericTextBox.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'focus', this.focusIn);\n        EventHandler.remove(this.element, 'blur', this.focusOut);\n        EventHandler.remove(this.element, 'keyup', this.keyUpHandler);\n        EventHandler.remove(this.element, 'input', this.inputHandler);\n        EventHandler.remove(this.element, 'keydown', this.keyDownHandler);\n        EventHandler.remove(this.element, 'keypress', this.keyPressHandler);\n        EventHandler.remove(this.element, 'change', this.changeHandler);\n        EventHandler.remove(this.element, 'paste', this.pasteHandler);\n    };\n    NumericTextBox.prototype.unwireSpinBtnEvents = function () {\n        /* unbind spin button events */\n        EventHandler.remove(this.spinUp, Browser.touchStartEvent, this.mouseDownOnSpinner);\n        EventHandler.remove(this.spinDown, Browser.touchStartEvent, this.mouseDownOnSpinner);\n        EventHandler.remove(this.spinUp, Browser.touchEndEvent, this.mouseUpOnSpinner);\n        EventHandler.remove(this.spinDown, Browser.touchEndEvent, this.mouseUpOnSpinner);\n        EventHandler.remove(this.spinUp, Browser.touchMoveEvent, this.touchMoveOnSpinner);\n        EventHandler.remove(this.spinDown, Browser.touchMoveEvent, this.touchMoveOnSpinner);\n    };\n    NumericTextBox.prototype.changeHandler = function (event) {\n        if (!this.element.value.length) {\n            this.setProperties({ value: null }, true);\n        }\n        var parsedInput = this.instance.getNumberParser({ format: 'n' })(this.element.value);\n        this.updateValue(parsedInput, event);\n    };\n    NumericTextBox.prototype.raiseChangeEvent = function (event) {\n        if (this.prevValue !== this.value) {\n            var eventArgs = {};\n            this.changeEventArgs = { value: this.value, previousValue: this.prevValue, isInteraction: this.isInteract, event: event };\n            if (event) {\n                this.changeEventArgs.event = event;\n            }\n            merge(eventArgs, this.changeEventArgs);\n            this.prevValue = this.value;\n            this.isInteract = false;\n            this.trigger('change', eventArgs);\n        }\n    };\n    NumericTextBox.prototype.pasteHandler = function () {\n        var _this = this;\n        var beforeUpdate = this.element.value;\n        setTimeout(function () {\n            if (!_this.numericRegex().test(_this.element.value)) {\n                _this.setElementValue(beforeUpdate);\n            }\n        });\n    };\n    NumericTextBox.prototype.preventHandler = function () {\n        var _this = this;\n        var iOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);\n        setTimeout(function () {\n            if (_this.element.selectionStart > 0) {\n                var currentPos = _this.element.selectionStart;\n                var prevPos = _this.element.selectionStart - 1;\n                var start = 0;\n                var ignoreKeyCode = void 0;\n                var valArray = _this.element.value.split('');\n                var numericObject = getNumericObject(_this.locale);\n                var decimalSeparator = getValue('decimal', numericObject);\n                ignoreKeyCode = decimalSeparator.charCodeAt(0);\n                if (_this.element.value[prevPos] === ' ' && _this.element.selectionStart > 0 && !iOS) {\n                    if (isNullOrUndefined(_this.prevVal)) {\n                        _this.element.value = _this.element.value.trim();\n                    }\n                    else if (prevPos !== 0) {\n                        _this.element.value = _this.prevVal;\n                    }\n                    else if (prevPos === 0) {\n                        _this.element.value = _this.element.value.trim();\n                    }\n                    _this.element.setSelectionRange(prevPos, prevPos);\n                }\n                else if (isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 1])) &&\n                    _this.element.value[_this.element.selectionStart - 1].charCodeAt(0) !== 45) {\n                    if ((valArray.indexOf(_this.element.value[_this.element.selectionStart - 1]) !==\n                        valArray.lastIndexOf(_this.element.value[_this.element.selectionStart - 1]) &&\n                        _this.element.value[_this.element.selectionStart - 1].charCodeAt(0) === ignoreKeyCode) ||\n                        _this.element.value[_this.element.selectionStart - 1].charCodeAt(0) !== ignoreKeyCode) {\n                        _this.element.value = _this.element.value.substring(0, prevPos) +\n                            _this.element.value.substring(currentPos, _this.element.value.length);\n                        _this.element.setSelectionRange(prevPos, prevPos);\n                        if (isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 1])) && _this.element.selectionStart > 0\n                            && _this.element.value.length) {\n                            _this.preventHandler();\n                        }\n                    }\n                }\n                else if (isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 2])) && _this.element.selectionStart > 1 &&\n                    _this.element.value[_this.element.selectionStart - 2].charCodeAt(0) !== 45) {\n                    if ((valArray.indexOf(_this.element.value[_this.element.selectionStart - 2]) !==\n                        valArray.lastIndexOf(_this.element.value[_this.element.selectionStart - 2]) &&\n                        _this.element.value[_this.element.selectionStart - 2].charCodeAt(0) === ignoreKeyCode) ||\n                        _this.element.value[_this.element.selectionStart - 2].charCodeAt(0) !== ignoreKeyCode) {\n                        _this.element.setSelectionRange(prevPos, prevPos);\n                        _this.nextEle = _this.element.value[_this.element.selectionStart];\n                        _this.cursorPosChanged = true;\n                        _this.preventHandler();\n                    }\n                }\n                if (_this.cursorPosChanged === true && _this.element.value[_this.element.selectionStart] === _this.nextEle &&\n                    isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 1]))) {\n                    _this.element.setSelectionRange(_this.element.selectionStart + 1, _this.element.selectionStart + 1);\n                    _this.cursorPosChanged = false;\n                    _this.nextEle = null;\n                }\n                if (_this.element.value.trim() === '') {\n                    _this.element.setSelectionRange(start, start);\n                }\n                if (_this.element.selectionStart > 0) {\n                    if ((_this.element.value[_this.element.selectionStart - 1].charCodeAt(0) === 45) && _this.element.selectionStart > 1) {\n                        if (isNullOrUndefined(_this.prevVal)) {\n                            _this.element.value = _this.element.value;\n                        }\n                        else {\n                            _this.element.value = _this.prevVal;\n                        }\n                        _this.element.setSelectionRange(_this.element.selectionStart, _this.element.selectionStart);\n                    }\n                }\n                _this.prevVal = _this.element.value;\n            }\n        });\n    };\n    NumericTextBox.prototype.keyUpHandler = function (event) {\n        var iOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);\n        if (!iOS && Browser.isDevice) {\n            this.preventHandler();\n        }\n    };\n    ;\n    NumericTextBox.prototype.inputHandler = function (event) {\n        var iOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);\n        var fireFox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\n        if ((fireFox || iOS) && Browser.isDevice) {\n            this.preventHandler();\n        }\n    };\n    ;\n    NumericTextBox.prototype.keyDownHandler = function (event) {\n        if (!this.readonly) {\n            switch (event.keyCode) {\n                case 38:\n                    event.preventDefault();\n                    this.action(INCREMENT, event);\n                    break;\n                case 40:\n                    event.preventDefault();\n                    this.action(DECREMENT, event);\n                    break;\n                default: break;\n            }\n        }\n    };\n    ;\n    NumericTextBox.prototype.performAction = function (value, step, operation) {\n        if (value === null || isNaN(value)) {\n            value = 0;\n        }\n        var updatedValue = operation === INCREMENT ? value + step : value - step;\n        updatedValue = this.correctRounding(value, step, updatedValue);\n        return this.strictMode ? this.trimValue(updatedValue) : updatedValue;\n    };\n    ;\n    NumericTextBox.prototype.correctRounding = function (value, step, result) {\n        var floatExp = new RegExp('[,.](.*)');\n        var valueText = value.toString();\n        var stepText = step.toString();\n        var floatValue = floatExp.test(value.toString());\n        var floatStep = floatExp.test(step.toString());\n        if (floatValue || floatStep) {\n            var valueCount = floatValue ? floatExp.exec(value.toString())[0].length : 0;\n            var stepCount = floatStep ? floatExp.exec(step.toString())[0].length : 0;\n            var max = Math.max(valueCount, stepCount);\n            return value = this.roundValue(result, max);\n        }\n        return result;\n    };\n    ;\n    NumericTextBox.prototype.roundValue = function (result, precision) {\n        precision = precision || 0;\n        var divide = Math.pow(10, precision);\n        return result *= divide, result = Math.round(result) / divide;\n    };\n    ;\n    NumericTextBox.prototype.updateValue = function (value, event) {\n        if (event) {\n            this.isInteract = true;\n        }\n        if (value !== null && !isNaN(value)) {\n            if (this.decimals) {\n                value = this.roundNumber(value, this.decimals);\n            }\n        }\n        this.changeValue(value === null || isNaN(value) ? null : this.strictMode ? this.trimValue(value) : value);\n        this.raiseChangeEvent(event);\n    };\n    NumericTextBox.prototype.updateCurrency = function (prop, propVal) {\n        setValue(prop, propVal, this.cultureInfo);\n        this.updateValue(this.value);\n    };\n    NumericTextBox.prototype.changeValue = function (value) {\n        if (!(value || value === 0)) {\n            value = null;\n            this.setProperties({ value: value }, true);\n        }\n        else {\n            var numberOfDecimals = void 0;\n            var decimalPart = value.toString().split('.')[1];\n            numberOfDecimals = !decimalPart || !decimalPart.length ? 0 : decimalPart.length;\n            if (this.decimals !== null) {\n                numberOfDecimals = numberOfDecimals < this.decimals ? numberOfDecimals : this.decimals;\n            }\n            this.setProperties({ value: this.roundNumber(value, numberOfDecimals) }, true);\n        }\n        this.modifyText();\n        if (!this.strictMode) {\n            this.validateState();\n        }\n    };\n    ;\n    NumericTextBox.prototype.modifyText = function () {\n        if (this.value || this.value === 0) {\n            var value = this.formatNumber();\n            var elementValue = this.isFocused ? value : this.instance.getNumberFormat(this.cultureInfo)(this.value);\n            this.setElementValue(elementValue);\n            attributes(this.element, { 'aria-valuenow': value });\n            this.hiddenInput.value = value;\n        }\n        else {\n            this.setElementValue('');\n            this.element.removeAttribute('aria-valuenow');\n            this.hiddenInput.value = null;\n        }\n    };\n    ;\n    NumericTextBox.prototype.setElementValue = function (val, element) {\n        Input.setValue(val, (element ? element : this.element), this.floatLabelType, this.showClearButton);\n    };\n    NumericTextBox.prototype.validateState = function () {\n        this.isValidState = true;\n        if (this.value || this.value === 0) {\n            this.isValidState = !(this.value > this.max || this.value < this.min);\n        }\n        this.checkErrorClass();\n    };\n    NumericTextBox.prototype.formatNumber = function () {\n        var numberOfDecimals;\n        var currentValue = this.value;\n        var decimalPart = currentValue.toString().split('.')[1];\n        numberOfDecimals = !decimalPart || !decimalPart.length ? 0 : decimalPart.length;\n        if (this.decimals !== null) {\n            numberOfDecimals = numberOfDecimals < this.decimals ? numberOfDecimals : this.decimals;\n        }\n        return this.instance.getNumberFormat({\n            maximumFractionDigits: numberOfDecimals,\n            minimumFractionDigits: numberOfDecimals, useGrouping: false\n        })(this.value);\n    };\n    ;\n    NumericTextBox.prototype.trimValue = function (value) {\n        if (value > this.max) {\n            return this.max;\n        }\n        if (value < this.min) {\n            return this.min;\n        }\n        return value;\n    };\n    ;\n    NumericTextBox.prototype.roundNumber = function (value, precision) {\n        var result = value;\n        var decimals = precision || 0;\n        var result1 = result.toString().split('e');\n        result = Math.round(Number(result1[0] + 'e' + (result1[1] ? (Number(result1[1]) + decimals) : decimals)));\n        var result2 = result.toString().split('e');\n        result = Number(result2[0] + 'e' + (result2[1] ? (Number(result2[1]) - decimals) : -decimals));\n        return Number(result.toFixed(decimals));\n    };\n    ;\n    NumericTextBox.prototype.cancelEvent = function (event) {\n        event.preventDefault();\n        return false;\n    };\n    NumericTextBox.prototype.keyPressHandler = function (event) {\n        if (!Browser.isDevice && Browser.info.version === '11.0' && event.keyCode === 13) {\n            var parsedInput = this.instance.getNumberParser({ format: 'n' })(this.element.value);\n            this.updateValue(parsedInput, event);\n            return true;\n        }\n        if (event.which === 0 || event.metaKey || event.ctrlKey || event.keyCode === 8 || event.keyCode === 13) {\n            return true;\n        }\n        var currentChar = String.fromCharCode(event.which);\n        var text = this.element.value;\n        text = text.substring(0, this.element.selectionStart) + currentChar + text.substring(this.element.selectionEnd);\n        if (!this.numericRegex().test(text)) {\n            event.preventDefault();\n            event.stopPropagation();\n            return false;\n        }\n        else {\n            return true;\n        }\n    };\n    ;\n    NumericTextBox.prototype.numericRegex = function () {\n        var numericObject = getNumericObject(this.locale);\n        var decimalSeparator = getValue('decimal', numericObject);\n        var fractionRule = '*';\n        if (decimalSeparator === DECIMALSEPARATOR) {\n            decimalSeparator = '\\\\' + decimalSeparator;\n        }\n        if (this.decimals === 0 && this.validateDecimalOnType) {\n            return INTREGEXP;\n        }\n        if (this.decimals && this.validateDecimalOnType) {\n            fractionRule = '{0,' + this.decimals + '}';\n        }\n        return new RegExp('^(-)?(((\\\\d+(' + decimalSeparator + '\\\\d' + fractionRule +\n            ')?)|(' + decimalSeparator + '\\\\d' + fractionRule + ')))?$');\n    };\n    ;\n    NumericTextBox.prototype.mouseWheel = function (event) {\n        event.preventDefault();\n        var delta;\n        var rawEvent = event;\n        if (rawEvent.wheelDelta) {\n            delta = rawEvent.wheelDelta / 120;\n        }\n        else if (rawEvent.detail) {\n            delta = -rawEvent.detail / 3;\n        }\n        if (delta > 0) {\n            this.action(INCREMENT, event);\n        }\n        else if (delta < 0) {\n            this.action(DECREMENT, event);\n        }\n        this.cancelEvent(event);\n    };\n    NumericTextBox.prototype.focusIn = function (event) {\n        var _this = this;\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        this.isFocused = true;\n        removeClass([this.container], ERROR);\n        this.prevValue = this.value;\n        if ((this.value || this.value === 0)) {\n            var formatValue_1 = this.formatNumber();\n            this.setElementValue(formatValue_1);\n            if (!this.isPrevFocused) {\n                var delay = (Browser.isDevice && Browser.isIos) ? 600 : 0;\n                setTimeout(function () {\n                    _this.element.setSelectionRange(0, formatValue_1.length);\n                }, delay);\n            }\n        }\n        if (!Browser.isDevice) {\n            EventHandler.add(this.element, 'mousewheel DOMMouseScroll', this.mouseWheel, this);\n        }\n    };\n    ;\n    NumericTextBox.prototype.focusOut = function (event) {\n        var _this = this;\n        if (this.isPrevFocused) {\n            event.preventDefault();\n            if (Browser.isDevice) {\n                var value_1 = this.element.value;\n                this.element.focus();\n                this.isPrevFocused = false;\n                var ele_1 = this.element;\n                setTimeout(function () {\n                    _this.setElementValue(value_1, ele_1);\n                }, 200);\n            }\n        }\n        else {\n            this.isFocused = false;\n            if (!this.element.value.length) {\n                this.setProperties({ value: null }, true);\n            }\n            var parsedInput = this.instance.getNumberParser({ format: 'n' })(this.element.value);\n            this.updateValue(parsedInput);\n            if (!Browser.isDevice) {\n                EventHandler.remove(this.element, 'mousewheel DOMMouseScroll', this.mouseWheel);\n            }\n        }\n    };\n    ;\n    NumericTextBox.prototype.mouseDownOnSpinner = function (event) {\n        var _this = this;\n        if (this.isFocused) {\n            this.isPrevFocused = true;\n            event.preventDefault();\n        }\n        if (!this.getElementData(event)) {\n            return;\n        }\n        var result = this.getElementData(event);\n        var target = event.currentTarget;\n        var action = (target.classList.contains(SPINUP)) ? INCREMENT : DECREMENT;\n        EventHandler.add(target, 'mouseleave', this.mouseUpClick, this);\n        this.timeOut = setInterval(function () { _this.isCalled = true; _this.action(action, event); }, 150);\n        EventHandler.add(document, 'mouseup', this.mouseUpClick, this);\n    };\n    NumericTextBox.prototype.touchMoveOnSpinner = function (event) {\n        var target = document.elementFromPoint(event.clientX, event.clientY);\n        if (!(target.classList.contains(SPINICON))) {\n            clearInterval(this.timeOut);\n        }\n    };\n    NumericTextBox.prototype.mouseUpOnSpinner = function (event) {\n        if (this.isPrevFocused) {\n            this.element.focus();\n            if (!Browser.isDevice) {\n                this.isPrevFocused = false;\n            }\n        }\n        if (!Browser.isDevice) {\n            event.preventDefault();\n        }\n        if (!this.getElementData(event)) {\n            return;\n        }\n        var target = event.currentTarget;\n        var action = (target.classList.contains(SPINUP)) ? INCREMENT : DECREMENT;\n        EventHandler.remove(target, 'mouseleave', this.mouseUpClick);\n        if (!this.isCalled) {\n            this.action(action, event);\n        }\n        this.isCalled = false;\n        EventHandler.remove(document, 'mouseup', this.mouseUpClick);\n    };\n    NumericTextBox.prototype.getElementData = function (event) {\n        if ((event.which && event.which === 3) || (event.button && event.button === 2)\n            || !this.enabled || this.readonly) {\n            return false;\n        }\n        clearInterval(this.timeOut);\n        return true;\n    };\n    NumericTextBox.prototype.floatLabelTypeUpdate = function () {\n        Input.removeFloating(this.inputWrapper);\n        var hiddenInput = this.hiddenInput;\n        this.hiddenInput.remove();\n        Input.addFloating(this.element, this.floatLabelType, this.placeholder, this.createElement);\n        this.container.insertBefore(hiddenInput, this.container.childNodes[1]);\n    };\n    NumericTextBox.prototype.mouseUpClick = function (event) {\n        event.stopPropagation();\n        clearInterval(this.timeOut);\n        this.isCalled = false;\n        EventHandler.remove(this.spinUp, 'mouseleave', this.mouseUpClick);\n        EventHandler.remove(this.spinDown, 'mouseleave', this.mouseUpClick);\n    };\n    /**\n     * Increments the NumericTextBox value with the specified step value.\n     * @param  {number} step - Specifies the value used to increment the NumericTextBox value.\n     * if its not given then numeric value will be incremented based on the step property value.\n     */\n    NumericTextBox.prototype.increment = function (step) {\n        if (step === void 0) { step = this.step; }\n        this.isInteract = false;\n        this.changeValue(this.performAction(this.value, step, INCREMENT));\n        this.raiseChangeEvent();\n    };\n    /**\n     * Decrements the NumericTextBox value with specified step value.\n     * @param  {number} step - Specifies the value used to decrement the NumericTextBox value.\n     * if its not given then numeric value will be decremented based on the step property value.\n     */\n    NumericTextBox.prototype.decrement = function (step) {\n        if (step === void 0) { step = this.step; }\n        this.isInteract = false;\n        this.changeValue(this.performAction(this.value, step, DECREMENT));\n        this.raiseChangeEvent();\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers.\n     * Also it maintains the initial input element from the DOM.\n     * @method destroy\n     * @return {void}\n     */\n    NumericTextBox.prototype.destroy = function () {\n        this.unwireEvents();\n        detach(this.hiddenInput);\n        if (this.showSpinButton) {\n            this.unwireSpinBtnEvents();\n            detach(this.spinUp);\n            detach(this.spinDown);\n        }\n        this.container.parentElement.appendChild(this.cloneElement);\n        detach(this.container);\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Returns the value of NumericTextBox with the format applied to the NumericTextBox.\n     */\n    NumericTextBox.prototype.getText = function () {\n        return this.element.value;\n    };\n    /**\n     * Gets the properties to be maintained in the persisted state.\n     * @return {string}\n     */\n    NumericTextBox.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Calls internally if any of the property value is changed.\n     * @private\n     */\n    NumericTextBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var elementVal;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    setStyleAttribute(this.container, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'cssClass':\n                    Input.setCssClass(newProp.cssClass, [this.container], oldProp.cssClass);\n                    break;\n                case 'enabled':\n                    Input.setEnabled(newProp.enabled, this.element);\n                    break;\n                case 'enableRtl':\n                    Input.setEnableRtl(newProp.enableRtl, [this.container]);\n                    break;\n                case 'readonly':\n                    Input.setReadonly(newProp.readonly, this.element);\n                    if (this.readonly) {\n                        attributes(this.element, { 'aria-readonly': 'true' });\n                    }\n                    else {\n                        this.element.removeAttribute('aria-readonly');\n                    }\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this.element);\n                    break;\n                case 'step':\n                    this.step = newProp.step;\n                    this.validateStep();\n                    break;\n                case 'showSpinButton':\n                    if (newProp.showSpinButton) {\n                        this.spinBtnCreation();\n                    }\n                    else {\n                        detach(this.spinUp);\n                        detach(this.spinDown);\n                    }\n                    break;\n                case 'showClearButton':\n                    Input.setClearButton(newProp.showClearButton, this.element, this.inputWrapper, undefined, this.createElement);\n                    this.bindClearEvent();\n                    break;\n                case 'floatLabelType':\n                    this.floatLabelType = newProp.floatLabelType;\n                    this.floatLabelTypeUpdate();\n                    break;\n                case 'value':\n                    this.updateValue(newProp.value);\n                    break;\n                case 'min':\n                case 'max':\n                    setValue(prop, getValue(prop, newProp), this);\n                    this.validateMinMax();\n                    this.updateValue(this.value);\n                    break;\n                case 'strictMode':\n                    this.strictMode = newProp.strictMode;\n                    this.updateValue(this.value);\n                    this.validateState();\n                    break;\n                case 'locale':\n                    this.initCultureFunc();\n                    this.l10n.setLocale(this.locale);\n                    if (!isNullOrUndefined(this.spinDown)) {\n                        attributes(this.spinDown, {\n                            'title': this.l10n.getConstant('decrementTitle'),\n                            'aria-label': this.l10n.getConstant('decrementTitle')\n                        });\n                    }\n                    if (!isNullOrUndefined(this.spinUp)) {\n                        attributes(this.spinUp, {\n                            'title': this.l10n.getConstant('incrementTitle'),\n                            'aria-label': this.l10n.getConstant('incrementTitle')\n                        });\n                    }\n                    this.updatePlaceholder();\n                    Input.setPlaceholder(this.placeholder, this.element);\n                    this.updateValue(this.value);\n                    break;\n                case 'currency':\n                    var propVal = getValue(prop, newProp);\n                    this.setProperties({ currencyCode: propVal }, true);\n                    this.updateCurrency(prop, propVal);\n                    break;\n                case 'currencyCode':\n                    var propValue = getValue(prop, newProp);\n                    this.setProperties({ currency: propValue }, true);\n                    this.updateCurrency('currency', propValue);\n                    break;\n                case 'format':\n                    setValue(prop, getValue(prop, newProp), this);\n                    this.initCultureInfo();\n                    this.updateValue(this.value);\n                    break;\n                case 'decimals':\n                    this.decimals = newProp.decimals;\n                    this.updateValue(this.value);\n            }\n        }\n    };\n    /**\n     * Gets the component name\n     * @private\n     */\n    NumericTextBox.prototype.getModuleName = function () {\n        return 'numerictextbox';\n    };\n    __decorate([\n        Property('')\n    ], NumericTextBox.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"value\", void 0);\n    __decorate([\n        Property(-(Number.MAX_VALUE))\n    ], NumericTextBox.prototype, \"min\", void 0);\n    __decorate([\n        Property(Number.MAX_VALUE)\n    ], NumericTextBox.prototype, \"max\", void 0);\n    __decorate([\n        Property(1)\n    ], NumericTextBox.prototype, \"step\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property(true)\n    ], NumericTextBox.prototype, \"showSpinButton\", void 0);\n    __decorate([\n        Property(false)\n    ], NumericTextBox.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(true)\n    ], NumericTextBox.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(false)\n    ], NumericTextBox.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property(false)\n    ], NumericTextBox.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(false)\n    ], NumericTextBox.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property('n2')\n    ], NumericTextBox.prototype, \"format\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"decimals\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"currency\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"currencyCode\", void 0);\n    __decorate([\n        Property(true)\n    ], NumericTextBox.prototype, \"strictMode\", void 0);\n    __decorate([\n        Property(false)\n    ], NumericTextBox.prototype, \"validateDecimalOnType\", void 0);\n    __decorate([\n        Property('Never')\n    ], NumericTextBox.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Event()\n    ], NumericTextBox.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], NumericTextBox.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], NumericTextBox.prototype, \"change\", void 0);\n    NumericTextBox = __decorate([\n        NotifyPropertyChanges\n    ], NumericTextBox);\n    return NumericTextBox;\n}(Component));\nexport { NumericTextBox };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { selectAll, select, createElement, Base } from '@syncfusion/ej2-base';\nimport { extend, isNullOrUndefined, EventHandler } from '@syncfusion/ej2-base';\nimport { Property, NotifyPropertyChanges, Event } from '@syncfusion/ej2-base';\n/**\n * global declarations\n */\nvar VALIDATE_EMAIL = new RegExp('^[A-Za-z0-9._%+-]{3,}@[a-zA-Z]{3,}([.]{1}[a-zA-Z]{2,5}' +\n    '|[.]{1}[a-zA-Z]{2,4}[.]{1}[a-zA-Z]{2,4})$');\nvar VALIDATE_URL = new RegExp('^((ftp|http|https):\\/\\/)?www\\.([A-z]{2,})\\.([A-z]{2,})$');\nvar VALIDATE_DATE_ISO = new RegExp('^([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$');\nvar VALIDATE_DIGITS = new RegExp('^[0-9]*$');\nvar VALIDATE_PHONE = new RegExp('^[+]?[0-9]{9,13}$');\nvar VALIDATE_CREDITCARD = new RegExp('^\\\\d{13,16}$');\n/**\n * ErrorOption values\n * @private\n */\nexport var ErrorOption;\n(function (ErrorOption) {\n    ErrorOption[ErrorOption[\"Message\"] = 0] = \"Message\";\n    ErrorOption[ErrorOption[\"Label\"] = 1] = \"Label\";\n})(ErrorOption || (ErrorOption = {}));\n/**\n * FormValidator class enables you to validate the form fields based on your defined rules\n * ```html\n * <form id='formId'>\n *  <input type='text' name='Name' />\n *  <input type='text' name='Age' />\n * </form>\n * <script>\n *   let formObject = new FormValidator('#formId', {\n *      rules: { Name: { required: true }, Age: { range: [18, 30] } };\n *   });\n *   formObject.validate();\n * </script>\n * ```\n */\nvar FormValidator = /** @class */ (function (_super) {\n    __extends(FormValidator, _super);\n    // Initializes the FormValidator \n    function FormValidator(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.validated = [];\n        _this.errorRules = [];\n        _this.allowSubmit = false;\n        _this.required = 'required';\n        _this.infoElement = null;\n        _this.inputElement = null;\n        _this.selectQuery = 'input:not([type=reset]):not([type=button]), select, textarea';\n        /**\n         * Specifies the default messages for validation rules.\n         * @default : { List of validation message };\n         */\n        _this.defaultMessages = {\n            required: 'This field is required.',\n            email: 'Please enter a valid email address.',\n            url: 'Please enter a valid URL.',\n            date: 'Please enter a valid date.',\n            dateIso: 'Please enter a valid date ( ISO ).',\n            creditcard: 'Please enter valid card number',\n            number: 'Please enter a valid number.',\n            digits: 'Please enter only digits.',\n            maxLength: 'Please enter no more than {0} characters.',\n            minLength: 'Please enter at least {0} characters.',\n            rangeLength: 'Please enter a value between {0} and {1} characters long.',\n            range: 'Please enter a value between {0} and {1}.',\n            max: 'Please enter a value less than or equal to {0}.',\n            min: 'Please enter a value greater than or equal to {0}.',\n            regex: 'Please enter a correct value.',\n            tel: 'Please enter a valid phone number.',\n            pattern: 'Please enter a correct pattern value.',\n            equalTo: 'Please enter the valid match text',\n        };\n        if (typeof _this.rules === 'undefined') {\n            _this.rules = {};\n        }\n        element = typeof element === 'string' ? select(element, document) : element;\n        // Set novalidate to prevent default HTML5 form validation\n        if (_this.element != null) {\n            _this.element.setAttribute('novalidate', '');\n            _this.inputElements = selectAll(_this.selectQuery, _this.element);\n            _this.createHTML5Rules();\n            _this.wireEvents();\n        }\n        else {\n            return undefined;\n        }\n        return _this;\n    }\n    FormValidator_1 = FormValidator;\n    /**\n     * Add validation rules to the corresponding input element based on `name` attribute.\n     * @param {string} name `name` of form field.\n     * @param {Object} rules Validation rules for the corresponding element.\n     * @return {void}\n     */\n    FormValidator.prototype.addRules = function (name, rules) {\n        if (name) {\n            if (this.rules.hasOwnProperty(name)) {\n                extend(this.rules[name], rules, {});\n            }\n            else {\n                this.rules[name] = rules;\n            }\n        }\n    };\n    /**\n     * Remove validation to the corresponding field based on name attribute.\n     * When no parameter is passed, remove all the validations in the form.\n     * @param {string} name Input name attribute value.\n     * @param {string[]} rules List of validation rules need to be remove from the corresponding element.\n     * @return {void}\n     */\n    FormValidator.prototype.removeRules = function (name, rules) {\n        if (!name && !rules) {\n            this.rules = {};\n        }\n        else if (this.rules[name] && !rules) {\n            delete this.rules[name];\n        }\n        else if (!isNullOrUndefined(this.rules[name] && rules)) {\n            for (var i = 0; i < rules.length; i++) {\n                delete this.rules[name][rules[i]];\n            }\n        }\n        else {\n            return;\n        }\n    };\n    /**\n     * Validate the current form values using defined rules.\n     * Returns `true` when the form is valid otherwise `false`\n     * @param {string} selected - Optional parameter to validate specified element.\n     * @return {boolean}\n     */\n    FormValidator.prototype.validate = function (selected) {\n        var rules = Object.keys(this.rules);\n        if (selected && rules.length) {\n            this.validateRules(selected);\n            //filter the selected element it don't have any valid input element\n            return rules.indexOf(selected) !== -1 && this.errorRules.filter(function (data) {\n                return data.name === selected;\n            }).length === 0;\n        }\n        else {\n            for (var _i = 0, rules_1 = rules; _i < rules_1.length; _i++) {\n                var name_1 = rules_1[_i];\n                this.validateRules(name_1);\n            }\n            return this.errorRules.length === 0;\n        }\n    };\n    /**\n     * Reset the value of all the fields in form.\n     * @return {void}\n     */\n    FormValidator.prototype.reset = function () {\n        this.element.reset();\n        this.clearForm();\n    };\n    /**\n     * Get input element by name.\n     * @param {string} name - Input element name attribute value.\n     * @return {HTMLInputElement}\n     */\n    FormValidator.prototype.getInputElement = function (name) {\n        this.inputElement = (select('[name=' + name + ']', this.element));\n        return this.inputElement;\n    };\n    /**\n     * Destroy the form validator object and error elements.\n     * @return {void}\n     */\n    FormValidator.prototype.destroy = function () {\n        this.reset();\n        this.unwireEvents();\n        this.rules = {};\n        var elements = selectAll('.' + this.errorClass + ', .' + this.validClass, this.element);\n        for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n            var element = elements_1[_i];\n            element.remove();\n        }\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * @private\n     */\n    FormValidator.prototype.onPropertyChanged = function (newProp, oldProp) {\n        // No code are needed\n    };\n    ;\n    /**\n     * @private\n     */\n    FormValidator.prototype.getModuleName = function () {\n        return 'formValidator';\n    };\n    FormValidator.prototype.clearForm = function () {\n        this.errorRules = [];\n        this.validated = [];\n        var elements = selectAll(this.selectQuery, this.element);\n        for (var _i = 0, elements_2 = elements; _i < elements_2.length; _i++) {\n            var element = elements_2[_i];\n            var input = element;\n            input.removeAttribute('aria-invalid');\n            input.classList.remove(this.errorClass);\n            if (input.name.length > 0) {\n                this.getInputElement(input.name);\n                this.getErrorElement(input.name);\n                this.hideMessage(input.name);\n            }\n            input.classList.remove(this.validClass);\n        }\n    };\n    FormValidator.prototype.createHTML5Rules = function () {\n        var defRules = ['required', 'validateHidden', 'regex', 'rangeLength', 'maxLength', 'minLength', 'dateIso', 'digits',\n            'pattern', 'data-val-required', 'type', 'data-validation', 'min', 'max', 'range', 'equalTo', 'data-val-minlength-min',\n            'data-val-equalto-other', 'data-val-maxlength-max', 'data-val-range-min', 'data-val-regex-pattern', 'data-val-length-max',\n            'data-val-creditcard', 'data-val-phone'];\n        var acceptedTypes = ['hidden', 'email', 'url', 'date', 'number', 'tel'];\n        for (var _i = 0, _a = (this.inputElements); _i < _a.length; _i++) {\n            var input = _a[_i];\n            // Default attribute rules \n            var allRule = {};\n            for (var _b = 0, defRules_1 = defRules; _b < defRules_1.length; _b++) {\n                var rule = defRules_1[_b];\n                if (input.getAttribute(rule) !== null) {\n                    switch (rule) {\n                        case 'required':\n                            this.defRule(input, allRule, rule, input.required);\n                            break;\n                        case 'data-validation':\n                            rule = input.getAttribute(rule);\n                            this.defRule(input, allRule, rule, true);\n                            break;\n                        case 'type':\n                            if (acceptedTypes.indexOf(input.type) !== -1) {\n                                this.defRule(input, allRule, input.type, true);\n                            }\n                            break;\n                        case 'rangeLength':\n                        case 'range':\n                            this.defRule(input, allRule, rule, JSON.parse(input.getAttribute(rule)));\n                            break;\n                        case 'equalTo':\n                            var id = input.getAttribute(rule);\n                            this.defRule(input, allRule, rule, id);\n                            break;\n                        default:\n                            if (input.getAttribute('data-val') === 'true') {\n                                this.annotationRule(input, allRule, rule, input.getAttribute(rule));\n                            }\n                            else {\n                                this.defRule(input, allRule, rule, input.getAttribute(rule));\n                            }\n                    }\n                }\n            }\n            //adding pattern type validation\n            if (Object.keys(allRule).length !== 0) {\n                this.addRules(input.name, allRule);\n            }\n        }\n    };\n    FormValidator.prototype.annotationRule = function (input, ruleCon, ruleName, value) {\n        var annotationRule = ruleName.split('-');\n        var rulesList = ['required', 'creditcard', 'phone', 'maxlength', 'minlength', 'range', 'regex', 'equalto'];\n        var ruleFirstName = annotationRule[annotationRule.length - 1];\n        var ruleSecondName = annotationRule[annotationRule.length - 2];\n        if (rulesList.indexOf(ruleFirstName) !== -1) {\n            switch (ruleFirstName) {\n                case 'required':\n                    this.defRule(input, ruleCon, 'required', value);\n                    break;\n                case 'creditcard':\n                    this.defRule(input, ruleCon, 'creditcard', value);\n                    break;\n                case 'phone':\n                    this.defRule(input, ruleCon, 'tel', value);\n                    break;\n            }\n        }\n        else if (rulesList.indexOf(ruleSecondName) !== -1) {\n            switch (ruleSecondName) {\n                case 'maxlength':\n                    this.defRule(input, ruleCon, 'maxLength', value);\n                    break;\n                case 'minlength':\n                    this.defRule(input, ruleCon, 'minLength', value);\n                    break;\n                case 'range':\n                    var minvalue = input.getAttribute('data-val-range-min');\n                    var maxvalue = input.getAttribute('data-val-range-max');\n                    this.defRule(input, ruleCon, 'range', [minvalue, maxvalue]);\n                    break;\n                case 'equalto':\n                    var id = input.getAttribute(ruleName).split('.');\n                    this.defRule(input, ruleCon, 'equalTo', id[id.length - 1]);\n                    break;\n                case 'regex':\n                    this.defRule(input, ruleCon, 'regex', value);\n                    break;\n            }\n        }\n    };\n    FormValidator.prototype.defRule = function (input, ruleCon, ruleName, value) {\n        var message = input.getAttribute('data-' + ruleName + '-message');\n        var annotationMessage = input.getAttribute('data-val-' + ruleName);\n        if (message) {\n            value = [value, message];\n        }\n        else if (annotationMessage) {\n            value = [value, annotationMessage];\n        }\n        ruleCon[ruleName] = value;\n    };\n    // Wire events to the form elements\n    FormValidator.prototype.wireEvents = function () {\n        for (var _i = 0, _a = (this.inputElements); _i < _a.length; _i++) {\n            var input = _a[_i];\n            if (FormValidator_1.isCheckable(input)) {\n                EventHandler.add(input, 'click', this.clickHandler, this);\n            }\n            else if (input.tagName === 'SELECT') {\n                EventHandler.add(input, 'change', this.changeHandler, this);\n            }\n            else {\n                EventHandler.add(input, 'focusout', this.focusOutHandler, this);\n                EventHandler.add(input, 'keyup', this.keyUpHandler, this);\n            }\n        }\n        EventHandler.add(this.element, 'submit', this.submitHandler, this);\n        EventHandler.add(this.element, 'reset', this.resetHandler, this);\n    };\n    // UnWire events to the form elements\n    FormValidator.prototype.unwireEvents = function () {\n        for (var _i = 0, _a = (this.inputElements); _i < _a.length; _i++) {\n            var input = _a[_i];\n            EventHandler.clearEvents(input);\n        }\n        EventHandler.remove(this.element, 'submit', this.submitHandler);\n        EventHandler.remove(this.element, 'reset', this.resetHandler);\n    };\n    // Handle input element focusout event\n    FormValidator.prototype.focusOutHandler = function (e) {\n        this.trigger('focusout', e);\n        //FormValidator.triggerCallback(this.focusout, e);\n        var element = e.target;\n        if (this.rules[element.name]) {\n            if (this.rules[element.name][this.required] || element.value.length > 0) {\n                this.validate(element.name);\n            }\n            else if (this.validated.indexOf(element.name) === -1) {\n                this.validated.push(element.name);\n            }\n        }\n    };\n    // Handle input element keyup event\n    FormValidator.prototype.keyUpHandler = function (e) {\n        this.trigger('keyup', e);\n        var element = e.target;\n        // List of keys need to prevent while validation\n        var excludeKeys = [16, 17, 18, 20, 35, 36, 37, 38, 39, 40, 45, 144, 225];\n        if (e.which === 9 && (!this.rules[element.name] || (this.rules[element.name] && !this.rules[element.name][this.required]))) {\n            return;\n        }\n        if (this.validated.indexOf(element.name) !== -1 && this.rules[element.name] && excludeKeys.indexOf(e.which) === -1) {\n            this.validate(element.name);\n        }\n    };\n    // Handle input click event\n    FormValidator.prototype.clickHandler = function (e) {\n        this.trigger('click', e);\n        var element = e.target;\n        // If element type is not submit allow validation\n        if (element.type !== 'submit') {\n            this.validate(element.name);\n        }\n        else if (element.getAttribute('formnovalidate') !== null) {\n            // Prevent form validation, if submit button has formnovalidate attribute\n            this.allowSubmit = true;\n        }\n    };\n    // Handle input change event\n    FormValidator.prototype.changeHandler = function (e) {\n        this.trigger('change', e);\n        var element = e.target;\n        this.validate(element.name);\n    };\n    // Handle form submit event\n    FormValidator.prototype.submitHandler = function (e) {\n        this.trigger('submit', e);\n        //FormValidator.triggerCallback(this.submit, e);\n        // Prevent form submit if validation failed\n        if (!this.allowSubmit && !this.validate()) {\n            e.preventDefault();\n        }\n        else {\n            this.allowSubmit = false;\n        }\n    };\n    // Handle form reset\n    FormValidator.prototype.resetHandler = function () {\n        this.clearForm();\n    };\n    // Validate each rule based on input element name\n    FormValidator.prototype.validateRules = function (name) {\n        if (!this.rules[name]) {\n            return;\n        }\n        var rules = Object.keys(this.rules[name]);\n        var hiddenType = false;\n        var validateHiddenType = false;\n        var vhPos = rules.indexOf('validateHidden');\n        var hPos = rules.indexOf('hidden');\n        this.getInputElement(name);\n        if (hPos !== -1) {\n            hiddenType = true;\n        }\n        if (vhPos !== -1) {\n            validateHiddenType = true;\n        }\n        if (!hiddenType || (hiddenType && validateHiddenType)) {\n            if (vhPos !== -1) {\n                rules.splice(vhPos, 1);\n            }\n            if (hPos !== -1) {\n                rules.splice((hPos - 1), 1);\n            }\n            this.getErrorElement(name);\n            for (var _i = 0, rules_2 = rules; _i < rules_2.length; _i++) {\n                var rule = rules_2[_i];\n                var errorMessage = this.getErrorMessage(this.rules[name][rule], rule);\n                var errorRule = { name: name, message: errorMessage };\n                var eventArgs = {\n                    inputName: name,\n                    element: this.inputElement,\n                    message: errorMessage\n                };\n                if (!this.isValid(name, rule) && !this.inputElement.classList.contains(this.ignore)) {\n                    this.removeErrorRules(name);\n                    this.errorRules.push(errorRule);\n                    // Set aria attributes to invalid elements\n                    this.inputElement.setAttribute('aria-invalid', 'true');\n                    this.inputElement.setAttribute('aria-describedby', this.inputElement.id + '-info');\n                    this.inputElement.classList.add(this.errorClass);\n                    this.inputElement.classList.remove(this.validClass);\n                    if (!this.infoElement) {\n                        this.createErrorElement(name, errorRule.message, this.inputElement);\n                    }\n                    else {\n                        this.showMessage(errorRule);\n                    }\n                    eventArgs.errorElement = this.infoElement;\n                    eventArgs.status = 'failure';\n                    this.inputElement.classList.add(this.errorClass);\n                    this.inputElement.classList.remove(this.validClass);\n                    this.optionalValidationStatus(name, eventArgs);\n                    this.trigger('validationComplete', eventArgs);\n                    // Set aria-required to required rule elements\n                    if (rule === 'required') {\n                        this.inputElement.setAttribute('aria-required', 'true');\n                    }\n                    break;\n                }\n                else {\n                    this.hideMessage(name);\n                    eventArgs.status = 'success';\n                    this.trigger('validationComplete', eventArgs);\n                }\n            }\n        }\n        else {\n            return;\n        }\n    };\n    // Update the optional validation status\n    FormValidator.prototype.optionalValidationStatus = function (name, refer) {\n        if (!this.rules[name][this.required] && !this.inputElement.value.length) {\n            this.infoElement.innerHTML = this.inputElement.value;\n            this.infoElement.setAttribute('aria-invalid', 'false');\n            refer.status = '';\n            this.hideMessage(name);\n        }\n    };\n    // Check the input element whether it's value satisfy the validation rule or not\n    FormValidator.prototype.isValid = function (name, rule) {\n        var params = this.rules[name][rule];\n        var param = (params instanceof Array && typeof params[1] === 'string') ? params[0] : params;\n        var currentRule = this.rules[name][rule];\n        var args = { value: this.inputElement.value, param: param, element: this.inputElement, formElement: this.element };\n        this.trigger('validationBegin', args);\n        if (currentRule && typeof currentRule[0] === 'function') {\n            var fn = currentRule[0];\n            return fn.call(this, { element: this.inputElement, value: this.inputElement.value });\n        }\n        else if (FormValidator_1.isCheckable(this.inputElement)) {\n            if (rule !== 'required') {\n                return true;\n            }\n            return selectAll('input[name=' + name + ']:checked', this.element).length > 0;\n        }\n        else {\n            return FormValidator_1.checkValidator[rule](args);\n        }\n    };\n    // Return default error message or custom error message \n    FormValidator.prototype.getErrorMessage = function (ruleValue, rule) {\n        var message = (ruleValue instanceof Array && typeof ruleValue[1] === 'string') ? ruleValue[1] : this.defaultMessages[rule];\n        var formats = message.match(/{(\\d)}/g);\n        if (!isNullOrUndefined(formats)) {\n            for (var i = 0; i < formats.length; i++) {\n                var value = ruleValue instanceof Array ? ruleValue[i] : ruleValue;\n                message = message.replace(formats[i], value);\n            }\n        }\n        return message;\n    };\n    // Create error element based on name and error message\n    FormValidator.prototype.createErrorElement = function (name, message, input) {\n        var errorElement = createElement(this.errorElement, {\n            className: this.errorClass,\n            innerHTML: message,\n            attrs: { for: name }\n        });\n        // Create message design if errorOption is message\n        if (this.errorOption === ErrorOption.Message) {\n            errorElement.classList.remove(this.errorClass);\n            errorElement.classList.add('e-message');\n            errorElement = createElement(this.errorContainer, { className: this.errorClass, innerHTML: errorElement.outerHTML });\n        }\n        errorElement.id = this.inputElement.name + '-info';\n        // Append error message into MVC error message element\n        if (this.element.querySelector('[data-valmsg-for=\"' + input.id + '\"]')) {\n            this.element.querySelector('[data-valmsg-for=\"' + input.id + '\"]').appendChild(errorElement);\n        }\n        else if (input.hasAttribute('data-msg-containerid') === true) {\n            // Append error message into custom div element\n            var containerId = input.getAttribute('data-msg-containerid');\n            var divElement = this.element.querySelector('#' + containerId);\n            divElement.appendChild(errorElement);\n        }\n        else if (this.customPlacement != null) {\n            // Call custom placement function if customPlacement is not null\n            this.customPlacement.call(this, this.inputElement, errorElement);\n        }\n        else {\n            this.inputElement.parentNode.insertBefore(errorElement, this.inputElement.nextSibling);\n        }\n        errorElement.style.display = 'block';\n        this.getErrorElement(name);\n        this.validated.push(name);\n        this.checkRequired(name);\n    };\n    // Get error element by name\n    FormValidator.prototype.getErrorElement = function (name) {\n        this.infoElement = select(this.errorElement + '.' + this.errorClass, this.inputElement.parentElement);\n        if (!this.infoElement) {\n            this.infoElement = select(this.errorElement + '.' + this.errorClass + '[for=\"' + name + '\"]');\n        }\n        return this.infoElement;\n    };\n    // Remove existing rule from errorRules object\n    FormValidator.prototype.removeErrorRules = function (name) {\n        for (var i = 0; i < this.errorRules.length; i++) {\n            var rule = this.errorRules[i];\n            if (rule.name === name) {\n                this.errorRules.splice(i, 1);\n            }\n        }\n    };\n    // Show error message to the input element\n    FormValidator.prototype.showMessage = function (errorRule) {\n        this.infoElement.style.display = 'block';\n        this.infoElement.innerHTML = errorRule.message;\n        this.checkRequired(errorRule.name);\n    };\n    // Hide error message based on input name\n    FormValidator.prototype.hideMessage = function (name) {\n        if (this.infoElement) {\n            this.infoElement.style.display = 'none';\n            this.removeErrorRules(name);\n            this.inputElement.classList.add(this.validClass);\n            this.inputElement.classList.remove(this.errorClass);\n            this.inputElement.setAttribute('aria-invalid', 'false');\n        }\n    };\n    // Check whether the input element have required rule and its value is not empty\n    FormValidator.prototype.checkRequired = function (name) {\n        if (!this.rules[name][this.required] && !this.inputElement.value.length) {\n            this.infoElement.innerHTML = this.inputElement.value;\n            this.infoElement.setAttribute('aria-invalid', 'false');\n            this.hideMessage(name);\n        }\n    };\n    // Return boolean result if the input have chekcable or submit types\n    FormValidator.isCheckable = function (input) {\n        var inputType = input.getAttribute('type');\n        return inputType && (inputType === 'checkbox' || inputType === 'radio' || inputType === 'submit');\n    };\n    // List of function to validate the rules\n    FormValidator.checkValidator = {\n        required: function (option) {\n            return option.value.length > 0;\n        },\n        email: function (option) {\n            return VALIDATE_EMAIL.test(option.value);\n        },\n        url: function (option) {\n            return VALIDATE_URL.test(option.value);\n        },\n        dateIso: function (option) {\n            return VALIDATE_DATE_ISO.test(option.value);\n        },\n        tel: function (option) {\n            return VALIDATE_PHONE.test(option.value);\n        },\n        creditcard: function (option) {\n            return VALIDATE_CREDITCARD.test(option.value);\n        },\n        number: function (option) {\n            return !isNaN(Number(option.value)) && option.value.indexOf(' ') === -1;\n        },\n        digits: function (option) {\n            return VALIDATE_DIGITS.test(option.value);\n        },\n        maxLength: function (option) {\n            return option.value.length <= option.param;\n        },\n        minLength: function (option) {\n            return option.value.length >= option.param;\n        },\n        rangeLength: function (option) {\n            var param = option.param;\n            return option.value.length >= param[0] && option.value.length <= param[1];\n        },\n        range: function (option) {\n            var param = option.param;\n            return !isNaN(Number(option.value)) && Number(option.value) >= param[0] && Number(option.value) <= param[1];\n        },\n        date: function (option) {\n            return !isNaN(new Date(option.value).getTime());\n        },\n        max: function (option) {\n            if (!isNaN(Number(option.value))) {\n                // Maximum rule validation for number\n                return +option.value <= option.param;\n            }\n            // Maximum rule validation for date\n            return new Date(option.value).getTime() <= new Date(JSON.parse(JSON.stringify(option.param))).getTime();\n        },\n        min: function (option) {\n            if (!isNaN(Number(option.value))) {\n                // Minimum rule validation for number\n                return +option.value >= option.param;\n            }\n            // Minimum rule validation for date\n            return new Date(option.value).getTime() >= new Date(JSON.parse(JSON.stringify(option.param))).getTime();\n        },\n        regex: function (option) {\n            return new RegExp(option.param).test(option.value);\n        },\n        equalTo: function (option) {\n            var compareTo = option.formElement.querySelector('#' + option.param);\n            option.param = compareTo.value;\n            return option.param === option.value;\n        },\n    };\n    __decorate([\n        Property('e-hidden')\n    ], FormValidator.prototype, \"ignore\", void 0);\n    __decorate([\n        Property()\n    ], FormValidator.prototype, \"rules\", void 0);\n    __decorate([\n        Property('e-error')\n    ], FormValidator.prototype, \"errorClass\", void 0);\n    __decorate([\n        Property('e-valid')\n    ], FormValidator.prototype, \"validClass\", void 0);\n    __decorate([\n        Property('label')\n    ], FormValidator.prototype, \"errorElement\", void 0);\n    __decorate([\n        Property('div')\n    ], FormValidator.prototype, \"errorContainer\", void 0);\n    __decorate([\n        Property(ErrorOption.Label)\n    ], FormValidator.prototype, \"errorOption\", void 0);\n    __decorate([\n        Event()\n    ], FormValidator.prototype, \"focusout\", void 0);\n    __decorate([\n        Event()\n    ], FormValidator.prototype, \"keyup\", void 0);\n    __decorate([\n        Event()\n    ], FormValidator.prototype, \"click\", void 0);\n    __decorate([\n        Event()\n    ], FormValidator.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], FormValidator.prototype, \"submit\", void 0);\n    __decorate([\n        Event()\n    ], FormValidator.prototype, \"validationBegin\", void 0);\n    __decorate([\n        Event()\n    ], FormValidator.prototype, \"validationComplete\", void 0);\n    __decorate([\n        Event()\n    ], FormValidator.prototype, \"customPlacement\", void 0);\n    FormValidator = FormValidator_1 = __decorate([\n        NotifyPropertyChanges\n    ], FormValidator);\n    return FormValidator;\n    var FormValidator_1;\n}(Base));\nexport { FormValidator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Event, Property, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit, getValue, setValue, addClass, detach } from '@syncfusion/ej2-base';\nimport { removeClass } from '@syncfusion/ej2-base';\nimport { Input } from '../../input/input';\nimport { regularExpressions, createMask, applyMask, wireEvents, unwireEvents, unstrippedValue, strippedValue } from '../base/index';\nimport { setMaskValue, setElementValue, bindClearEvent } from '../base/index';\nimport { maskInputBlurHandler } from '../base/mask-base';\nvar ROOT = 'e-widget e-control-wrapper e-mask';\nvar INPUT = 'e-input';\nvar COMPONENT = 'e-maskedtextbox';\nvar CONTROL = 'e-control';\n/**\n * The MaskedTextBox allows the user to enter the valid input only based on the provided mask.\n * ```html\n * <input id=\"mask\" type=\"text\" />\n * ```\n * ```typescript\n * <script>\n * var maskObj = new MaskedTextBox({ mask: \"(999) 9999-999\" });\n * maskObj.appendTo('#mask');\n * </script>\n * ```\n */\nvar MaskedTextBox = /** @class */ (function (_super) {\n    __extends(MaskedTextBox, _super);\n    function MaskedTextBox(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Gets the component name\n     * @private\n     */\n    MaskedTextBox.prototype.getModuleName = function () {\n        return 'maskedtextbox';\n    };\n    /**\n     * Initializes the event handler\n     * @private\n     */\n    MaskedTextBox.prototype.preRender = function () {\n        this.promptMask = '';\n        this.hiddenMask = '';\n        this.escapeMaskValue = '';\n        this.regExpCollec = regularExpressions;\n        this.customRegExpCollec = [];\n        this.undoCollec = [];\n        this.redoCollec = [];\n        this.changeEventArgs = {};\n        this.focusEventArgs = {};\n        this.maskKeyPress = false;\n        this.isFocus = false;\n        this.isInitial = false;\n        this.isIosInvalid = false;\n        var ejInstance = getValue('ej2_instances', this.element);\n        this.cloneElement = this.element.cloneNode(true);\n        removeClass([this.cloneElement], [CONTROL, COMPONENT]);\n        this.angularTagName = null;\n        if (this.element.tagName === 'EJS-MASKEDTEXTBOX') {\n            this.angularTagName = this.element.tagName;\n            var input = this.createElement('input');\n            for (var i = 0; i < this.element.attributes.length; i++) {\n                input.setAttribute(this.element.attributes[i].nodeName, this.element.attributes[i].nodeValue);\n                input.innerHTML = this.element.innerHTML;\n            }\n            if (this.element.hasAttribute('id')) {\n                this.element.removeAttribute('id');\n            }\n            this.element.classList.remove('e-control', 'e-maskedtextbox');\n            this.element.classList.add('e-mask-container');\n            this.element.appendChild(input);\n            this.element = input;\n            setValue('ej2_instances', ejInstance, this.element);\n        }\n    };\n    /**\n     * Gets the properties to be maintained in the persisted state.\n     * @return {string}\n     */\n    MaskedTextBox.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Initializes the component rendering.\n     * @private\n     */\n    MaskedTextBox.prototype.render = function () {\n        if (this.element.tagName.toLowerCase() === 'input') {\n            if (this.floatLabelType === 'Never') {\n                addClass([this.element], INPUT);\n            }\n            this.createWrapper();\n            if (this.element.name === '') {\n                this.element.setAttribute('name', this.element.id);\n            }\n            this.isInitial = true;\n            this.resetMaskedTextBox();\n            this.isInitial = false;\n            this.setMaskPlaceholder(true, false);\n            this.setWidth(this.width);\n            this.preEleVal = this.element.value;\n        }\n    };\n    MaskedTextBox.prototype.resetMaskedTextBox = function () {\n        this.promptMask = '';\n        this.hiddenMask = '';\n        this.escapeMaskValue = '';\n        this.customRegExpCollec = [];\n        this.undoCollec = [];\n        this.redoCollec = [];\n        if (this.promptChar.length > 1) {\n            this.promptChar = this.promptChar[0];\n        }\n        createMask.call(this);\n        applyMask.call(this);\n        if (this.mask === null || this.mask === '' && this.value !== undefined) {\n            setElementValue.call(this, this.value);\n        }\n        var val = strippedValue.call(this, this.element);\n        this.prevValue = val;\n        this.value = val;\n        if (!this.isInitial) {\n            unwireEvents.call(this);\n        }\n        wireEvents.call(this);\n    };\n    MaskedTextBox.prototype.setMaskPlaceholder = function (setVal, dynamicPlaceholder) {\n        if (dynamicPlaceholder || this.placeholder) {\n            Input.setPlaceholder(this.placeholder, this.element);\n            if (this.element.value === this.promptMask && setVal && this.floatLabelType !== 'Always') {\n                setElementValue.call(this, '');\n            }\n            if (this.floatLabelType === 'Never') {\n                maskInputBlurHandler.call(this);\n            }\n        }\n    };\n    MaskedTextBox.prototype.setCssClass = function (cssClass, element) {\n        if (cssClass) {\n            addClass(element, cssClass);\n        }\n    };\n    MaskedTextBox.prototype.setWidth = function (width) {\n        if (!isNullOrUndefined(width)) {\n            this.element.style.width = formatUnit(width);\n            this.inputObj.container.style.width = formatUnit(width);\n        }\n    };\n    MaskedTextBox.prototype.createWrapper = function () {\n        this.inputObj = Input.createInput({\n            element: this.element,\n            floatLabelType: this.floatLabelType,\n            properties: {\n                enableRtl: this.enableRtl,\n                cssClass: this.cssClass,\n                enabled: this.enabled,\n                placeholder: this.placeholder,\n                showClearButton: this.showClearButton\n            }\n        }, this.createElement);\n        this.inputObj.container.setAttribute('class', ROOT + ' ' + this.inputObj.container.getAttribute('class'));\n    };\n    /**\n     * Calls internally if any of the property value is changed.\n     * @hidden\n     */\n    MaskedTextBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'value':\n                    setMaskValue.call(this, this.value);\n                    if (this.placeholder) {\n                        this.setMaskPlaceholder(false, false);\n                    }\n                    break;\n                case 'placeholder':\n                    this.setMaskPlaceholder(true, true);\n                    break;\n                case 'width':\n                    this.setWidth(newProp.width);\n                    break;\n                case 'cssClass':\n                    this.setCssClass(newProp.cssClass, [this.inputObj.container]);\n                    break;\n                case 'enabled':\n                    Input.setEnabled(newProp.enabled, this.element);\n                    break;\n                case 'enableRtl':\n                    Input.setEnableRtl(newProp.enableRtl, [this.inputObj.container]);\n                    break;\n                case 'customCharacters':\n                    this.customCharacters = newProp.customCharacters;\n                    this.resetMaskedTextBox();\n                    break;\n                case 'showClearButton':\n                    Input.setClearButton(newProp.showClearButton, this.element, this.inputObj, undefined, this.createElement);\n                    bindClearEvent.call(this);\n                    break;\n                case 'floatLabelType':\n                    this.floatLabelType = newProp.floatLabelType;\n                    Input.removeFloating(this.inputObj);\n                    Input.addFloating(this.element, this.floatLabelType, this.placeholder, this.createElement);\n                    break;\n                case 'mask':\n                    var strippedValue_1 = this.value;\n                    this.mask = newProp.mask;\n                    this.updateValue(strippedValue_1);\n                    break;\n                case 'promptChar':\n                    if (newProp.promptChar.length > 1) {\n                        newProp.promptChar = newProp.promptChar[0];\n                    }\n                    if (newProp.promptChar) {\n                        this.promptChar = newProp.promptChar;\n                    }\n                    else {\n                        this.promptChar = '_';\n                    }\n                    var value = this.element.value.replace(new RegExp('[' + oldProp.promptChar + ']', 'g'), this.promptChar);\n                    if (this.promptMask === this.element.value) {\n                        value = this.promptMask.replace(new RegExp('[' + oldProp.promptChar + ']', 'g'), this.promptChar);\n                    }\n                    this.promptMask = this.promptMask.replace(new RegExp('[' + oldProp.promptChar + ']', 'g'), this.promptChar);\n                    this.undoCollec = this.redoCollec = [];\n                    setElementValue.call(this, value);\n                    break;\n            }\n        }\n    };\n    MaskedTextBox.prototype.updateValue = function (strippedVal) {\n        this.resetMaskedTextBox();\n        setMaskValue.call(this, strippedVal);\n    };\n    /**\n     * Gets the value of the MaskedTextBox with the masked format.\n     * By using `value` property, you can get the raw value of maskedtextbox without literals and prompt characters.\n     * @return {string}\n     */\n    MaskedTextBox.prototype.getMaskedValue = function () {\n        return unstrippedValue.call(this, this.element);\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers.\n     * Also it maintains the initial input element from the DOM.\n     * @method destroy\n     * @return {void}\n     */\n    MaskedTextBox.prototype.destroy = function () {\n        unwireEvents.call(this);\n        this.inputObj.container.parentElement.appendChild(this.cloneElement);\n        detach(this.inputObj.container);\n        _super.prototype.destroy.call(this);\n    };\n    __decorate([\n        Property(null)\n    ], MaskedTextBox.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], MaskedTextBox.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], MaskedTextBox.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property('Never')\n    ], MaskedTextBox.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(true)\n    ], MaskedTextBox.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(false)\n    ], MaskedTextBox.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(false)\n    ], MaskedTextBox.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(false)\n    ], MaskedTextBox.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property(null)\n    ], MaskedTextBox.prototype, \"mask\", void 0);\n    __decorate([\n        Property('_')\n    ], MaskedTextBox.prototype, \"promptChar\", void 0);\n    __decorate([\n        Property(null)\n    ], MaskedTextBox.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], MaskedTextBox.prototype, \"customCharacters\", void 0);\n    __decorate([\n        Event()\n    ], MaskedTextBox.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], MaskedTextBox.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], MaskedTextBox.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], MaskedTextBox.prototype, \"focus\", void 0);\n    MaskedTextBox = __decorate([\n        NotifyPropertyChanges\n    ], MaskedTextBox);\n    return MaskedTextBox;\n}(Component));\nexport { MaskedTextBox };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Property, Event, Complex } from '@syncfusion/ej2-base';\nimport { L10n, Internationalization } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty } from '@syncfusion/ej2-base';\nimport { attributes, addClass, removeClass, setStyleAttribute, detach } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit, Browser } from '@syncfusion/ej2-base';\nimport { Tooltip } from '@syncfusion/ej2-popups';\n/**\n * Configures the ticks data of the Slider.\n */\nvar TicksData = /** @class */ (function (_super) {\n    __extends(TicksData, _super);\n    function TicksData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('None')\n    ], TicksData.prototype, \"placement\", void 0);\n    __decorate([\n        Property(10)\n    ], TicksData.prototype, \"largeStep\", void 0);\n    __decorate([\n        Property(1)\n    ], TicksData.prototype, \"smallStep\", void 0);\n    __decorate([\n        Property(false)\n    ], TicksData.prototype, \"showSmallTicks\", void 0);\n    __decorate([\n        Property(null)\n    ], TicksData.prototype, \"format\", void 0);\n    return TicksData;\n}(ChildProperty));\nexport { TicksData };\n/**\n * It illustrates the limit data in slider.\n */\nvar LimitData = /** @class */ (function (_super) {\n    __extends(LimitData, _super);\n    function LimitData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], LimitData.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(null)\n    ], LimitData.prototype, \"minStart\", void 0);\n    __decorate([\n        Property(null)\n    ], LimitData.prototype, \"minEnd\", void 0);\n    __decorate([\n        Property(null)\n    ], LimitData.prototype, \"maxStart\", void 0);\n    __decorate([\n        Property(null)\n    ], LimitData.prototype, \"maxEnd\", void 0);\n    __decorate([\n        Property(false)\n    ], LimitData.prototype, \"startHandleFixed\", void 0);\n    __decorate([\n        Property(false)\n    ], LimitData.prototype, \"endHandleFixed\", void 0);\n    return LimitData;\n}(ChildProperty));\nexport { LimitData };\n/**\n * It illustrates the tooltip data in slider.\n */\nvar TooltipData = /** @class */ (function (_super) {\n    __extends(TooltipData, _super);\n    function TooltipData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], TooltipData.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('Before')\n    ], TooltipData.prototype, \"placement\", void 0);\n    __decorate([\n        Property('Focus')\n    ], TooltipData.prototype, \"showOn\", void 0);\n    __decorate([\n        Property(false)\n    ], TooltipData.prototype, \"isVisible\", void 0);\n    __decorate([\n        Property(null)\n    ], TooltipData.prototype, \"format\", void 0);\n    return TooltipData;\n}(ChildProperty));\nexport { TooltipData };\nvar bootstrapTooltipOffset = 6;\nvar classNames = {\n    root: 'e-slider',\n    rtl: 'e-rtl',\n    sliderHiddenInput: 'e-slider-input',\n    controlWrapper: 'e-control-wrapper',\n    sliderHandle: 'e-handle',\n    rangeBar: 'e-range',\n    sliderButton: 'e-slider-button',\n    firstButton: 'e-first-button',\n    secondButton: 'e-second-button',\n    scale: 'e-scale',\n    tick: 'e-tick',\n    large: 'e-large',\n    tickValue: 'e-tick-value',\n    sliderTooltip: 'e-slider-tooltip',\n    sliderHover: 'e-slider-hover',\n    sliderFirstHandle: 'e-handle-first',\n    sliderSecondHandle: 'e-handle-second',\n    sliderDisabled: 'e-disabled',\n    sliderContainer: 'e-slider-container',\n    horizontalTooltipBefore: 'e-slider-horizontal-before',\n    horizontalTooltipAfter: 'e-slider-horizontal-after',\n    verticalTooltipBefore: 'e-slider-vertical-before',\n    verticalTooltipAfter: 'e-slider-vertical-after',\n    materialTooltip: 'e-material-tooltip',\n    materialTooltipOpen: 'e-material-tooltip-open',\n    materialTooltipActive: 'e-tooltip-active',\n    materialSlider: 'e-material-slider',\n    sliderTrack: 'e-slider-track',\n    sliderHandleFocused: 'e-handle-focused',\n    verticalSlider: 'e-vertical',\n    horizontalSlider: 'e-horizontal',\n    sliderHandleStart: 'e-handle-start',\n    sliderTooltipStart: 'e-material-tooltip-start',\n    sliderTabHandle: 'e-tab-handle',\n    sliderButtonIcon: 'e-button-icon',\n    sliderSmallSize: 'e-small-size',\n    sliderTickPosition: 'e-tick-pos',\n    sliderFirstTick: 'e-first-tick',\n    sliderLastTick: 'e-last-tick',\n    sliderButtonClass: 'e-slider-btn',\n    sliderTooltipWrapper: 'e-tooltip-wrap',\n    sliderTabTrack: 'e-tab-track',\n    sliderTabRange: 'e-tab-range',\n    sliderActiveHandle: 'e-handle-active',\n    sliderMaterialHandle: 'e-material-handle',\n    sliderMaterialRange: 'e-material-range',\n    sliderMaterialDefault: 'e-material-default',\n    materialTooltipShow: 'e-material-tooltip-show',\n    materialTooltipHide: 'e-material-tooltip-hide',\n    readonly: 'e-read-only',\n    limits: 'e-limits',\n    limitBarDefault: 'e-limit-bar',\n    limitBarFirst: 'e-limit-first',\n    limitBarSecond: 'e-limit-second',\n    dragHorizontal: 'e-drag-horizontal',\n    dragVertical: 'e-drag-vertical'\n};\n/**\n * The Slider component allows the user to select a value or range\n * of values in-between a min and max range, by dragging the handle over the slider bar.\n * ```html\n * <div id='slider'></div>\n * ```\n * ```typescript\n * <script>\n *   var sliderObj = new Slider({ value: 10 });\n *   sliderObj.appendTo('#slider');\n * </script>\n * ```\n */\nvar Slider = /** @class */ (function (_super) {\n    __extends(Slider, _super);\n    function Slider(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.horDir = 'left';\n        _this.verDir = 'bottom';\n        _this.transition = {\n            handle: 'left .4s cubic-bezier(.25, .8, .25, 1), right .4s cubic-bezier(.25, .8, .25, 1), ' +\n                'top .4s cubic-bezier(.25, .8, .25, 1) , bottom .4s cubic-bezier(.25, .8, .25, 1)',\n            rangeBar: 'all .4s cubic-bezier(.25, .8, .25, 1)'\n        };\n        _this.transitionOnMaterialTooltip = {\n            handle: 'left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out',\n            rangeBar: 'left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, width 1ms ease-out, height 1ms ease-out'\n        };\n        _this.scaleTransform = 'transform .4s cubic-bezier(.25, .8, .25, 1)';\n        _this.customAriaText = null;\n        _this.drag = true;\n        return _this;\n    }\n    Slider.prototype.preRender = function () {\n        var localeText = { incrementTitle: 'Increase', decrementTitle: 'Decrease' };\n        this.l10n = new L10n('slider', localeText, this.locale);\n        this.isElementFocused = false;\n        this.tickElementCollection = [];\n        this.tooltipFormatInfo = {};\n        this.ticksFormatInfo = {};\n        this.initCultureInfo();\n        this.initCultureFunc();\n    };\n    Slider.prototype.initCultureFunc = function () {\n        this.internationalization = new Internationalization(this.locale);\n    };\n    Slider.prototype.initCultureInfo = function () {\n        this.tooltipFormatInfo.format = (!isNullOrUndefined(this.tooltip.format)) ? this.tooltip.format : null;\n        this.ticksFormatInfo.format = (!isNullOrUndefined(this.ticks.format)) ? this.ticks.format : null;\n    };\n    Slider.prototype.formatString = function (value, formatInfo) {\n        var formatValue = null;\n        var formatString = null;\n        if ((value || value === 0)) {\n            formatValue = this.formatNumber(value);\n            var numberOfDecimals = this.numberOfDecimals(value);\n            formatString = this.internationalization.getNumberFormat(formatInfo)(this.makeRoundNumber(value, numberOfDecimals));\n        }\n        return { elementVal: formatValue, formatString: formatString };\n    };\n    ;\n    Slider.prototype.formatNumber = function (value) {\n        var numberOfDecimals = this.numberOfDecimals(value);\n        return this.internationalization.getNumberFormat({\n            maximumFractionDigits: numberOfDecimals,\n            minimumFractionDigits: numberOfDecimals, useGrouping: false\n        })(value);\n    };\n    ;\n    Slider.prototype.numberOfDecimals = function (value) {\n        var decimalPart = value.toString().split('.')[1];\n        var numberOfDecimals = !decimalPart || !decimalPart.length ? 0 : decimalPart.length;\n        return numberOfDecimals;\n    };\n    Slider.prototype.makeRoundNumber = function (value, precision) {\n        var decimals = precision || 0;\n        return Number(value.toFixed(decimals));\n    };\n    ;\n    Slider.prototype.fractionalToInteger = function (value) {\n        value = (this.numberOfDecimals(value) === 0) ? Number(value).toFixed(this.noOfDecimals) : value;\n        var tens = 1;\n        for (var i = 0; i < this.noOfDecimals; i++) {\n            tens *= 10;\n        }\n        value = Number((value * tens).toFixed(0));\n        return value;\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    Slider.prototype.render = function () {\n        this.initialize();\n        this.initRender();\n        this.wireEvents();\n        this.setZindex();\n    };\n    Slider.prototype.initialize = function () {\n        addClass([this.element], classNames.root);\n        this.setCSSClass();\n    };\n    Slider.prototype.setCSSClass = function (oldCSSClass) {\n        if (oldCSSClass) {\n            removeClass([this.element], oldCSSClass.split(' '));\n        }\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n    };\n    Slider.prototype.setEnabled = function () {\n        var tooltipElement = this.type !== 'Range' ? [this.firstTooltipElement] :\n            [this.firstTooltipElement, this.secondTooltipElement];\n        if (!this.enabled) {\n            addClass([this.sliderContainer], [classNames.sliderDisabled]);\n            if (this.tooltip.isVisible && this.tooltip.showOn === 'Always') {\n                tooltipElement.forEach(function (tooltipElement) {\n                    tooltipElement.classList.add(classNames.sliderDisabled);\n                });\n            }\n            this.unwireEvents();\n        }\n        else {\n            removeClass([this.sliderContainer], [classNames.sliderDisabled]);\n            if (this.tooltip.isVisible && this.tooltip.showOn === 'Always') {\n                tooltipElement.forEach(function (tooltipElement) {\n                    tooltipElement.classList.remove(classNames.sliderDisabled);\n                });\n            }\n            this.wireEvents();\n        }\n    };\n    Slider.prototype.getTheme = function (container) {\n        var theme = window.getComputedStyle(container, ':after').getPropertyValue('content');\n        return theme.replace(/['\"]+/g, '');\n    };\n    /**\n     * Initialize the rendering\n     * @private\n     */\n    Slider.prototype.initRender = function () {\n        this.sliderContainer = this.createElement('div', { className: classNames.sliderContainer + ' ' + classNames.controlWrapper });\n        this.element.parentNode.insertBefore(this.sliderContainer, this.element);\n        this.sliderContainer.appendChild(this.element);\n        this.sliderTrack = this.createElement('div', { className: classNames.sliderTrack });\n        this.element.appendChild(this.sliderTrack);\n        this.element.tabIndex = -1;\n        this.isMaterial = this.getTheme(this.sliderContainer) === 'material';\n        this.isBootstrap = this.getTheme(this.sliderContainer) === 'bootstrap';\n        this.setHandler();\n        this.createRangeBar();\n        if (this.limits.enabled) {\n            this.createLimitBar();\n        }\n        this.setOrientClass();\n        this.hiddenInput = (this.createElement('input', {\n            attrs: {\n                type: 'hidden', value: (isNullOrUndefined(this.value) ? this.min.toString() : this.value.toString()),\n                name: this.element.getAttribute('name') || this.element.getAttribute('id') ||\n                    '_' + (Math.random() * 1000).toFixed(0) + 'slider', class: classNames.sliderHiddenInput\n            }\n        }));\n        this.hiddenInput.tabIndex = -1;\n        this.sliderContainer.appendChild(this.hiddenInput);\n        if (this.showButtons) {\n            this.setButtons();\n        }\n        this.setEnableRTL();\n        if (this.type === 'Range') {\n            this.rangeValueUpdate();\n        }\n        else {\n            this.value = isNullOrUndefined(this.value) ? parseFloat(formatUnit(this.min.toString())) : this.value;\n        }\n        this.previousVal = this.type !== 'Range' ? this.checkHandleValue(parseFloat(formatUnit(this.value.toString()))) :\n            [this.checkHandleValue(parseFloat(formatUnit(this.value[0].toString()))),\n                this.checkHandleValue(parseFloat(formatUnit(this.value[1].toString())))];\n        this.previousChanged = this.previousVal;\n        if (!isNullOrUndefined(this.element.hasAttribute('name'))) {\n            this.element.removeAttribute('name');\n        }\n        this.setValue();\n        if (this.limits.enabled) {\n            this.setLimitBar();\n        }\n        if (this.ticks.placement !== 'None') {\n            this.renderScale();\n        }\n        if (this.tooltip.isVisible) {\n            this.renderTooltip();\n        }\n        if (!this.enabled) {\n            addClass([this.sliderContainer], [classNames.sliderDisabled]);\n        }\n        else {\n            removeClass([this.sliderContainer], [classNames.sliderDisabled]);\n        }\n        if (this.readonly) {\n            addClass([this.sliderContainer], [classNames.readonly]);\n        }\n        else {\n            removeClass([this.sliderContainer], [classNames.readonly]);\n        }\n    };\n    Slider.prototype.createRangeBar = function () {\n        if (this.type !== 'Default') {\n            this.rangeBar = (this.createElement('div', { attrs: { class: classNames.rangeBar } }));\n            this.element.appendChild(this.rangeBar);\n            if (this.drag && this.type === 'Range') {\n                if (this.orientation === 'Horizontal') {\n                    this.rangeBar.classList.add(classNames.dragHorizontal);\n                }\n                else {\n                    this.rangeBar.classList.add(classNames.dragVertical);\n                }\n            }\n        }\n    };\n    Slider.prototype.createLimitBar = function () {\n        var firstElementClassName = this.type !== 'Range' ? classNames.limitBarDefault :\n            classNames.limitBarFirst;\n        firstElementClassName += ' ' + classNames.limits;\n        this.limitBarFirst = (this.createElement('div', {\n            attrs: { class: firstElementClassName }\n        }));\n        this.element.appendChild(this.limitBarFirst);\n        if (this.type === 'Range') {\n            this.limitBarSecond = (this.createElement('div', {\n                attrs: {\n                    class: classNames.limitBarSecond + ' ' + classNames.limits\n                }\n            }));\n            this.element.appendChild(this.limitBarSecond);\n        }\n    };\n    Slider.prototype.setOrientClass = function () {\n        if (this.orientation !== 'Vertical') {\n            this.sliderContainer.classList.remove(classNames.verticalSlider);\n            this.sliderContainer.classList.add(classNames.horizontalSlider);\n            this.firstHandle.setAttribute('aria-orientation', 'horizontal');\n            if (this.type === 'Range') {\n                this.secondHandle.setAttribute('aria-orientation', 'horizontal');\n            }\n        }\n        else {\n            this.sliderContainer.classList.remove(classNames.horizontalSlider);\n            this.sliderContainer.classList.add(classNames.verticalSlider);\n            this.firstHandle.setAttribute('aria-orientation', 'vertical');\n            if (this.type === 'Range') {\n                this.secondHandle.setAttribute('aria-orientation', 'vertical');\n            }\n        }\n    };\n    Slider.prototype.setAriaAttributes = function (element) {\n        var _this = this;\n        var min = this.min;\n        var max = this.max;\n        if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n            min = this.customValues[0];\n            max = this.customValues[this.customValues.length - 1];\n        }\n        if (this.type !== 'Range') {\n            attributes(element, {\n                'aria-valuemin': min.toString(), 'aria-valuemax': max.toString()\n            });\n        }\n        else {\n            var range = !isNullOrUndefined(this.customValues) && this.customValues.length > 0 ?\n                [[min.toString(), (this.customValues[this.value[1]]).toString()],\n                    [(this.customValues[this.value[0]]).toString(), max.toString()]] :\n                [[min.toString(), this.value[1].toString()], [this.value[0].toString(), max.toString()]];\n            range.forEach(function (range, index) {\n                var element = index === 0 ? _this.firstHandle : _this.secondHandle;\n                if (element) {\n                    attributes(element, {\n                        'aria-valuemin': range[0], 'aria-valuemax': range[1]\n                    });\n                }\n            });\n        }\n    };\n    Slider.prototype.createSecondHandle = function () {\n        this.secondHandle = this.createElement('div', {\n            attrs: {\n                class: classNames.sliderHandle, 'role': 'slider', 'aria-labelledby': this.element.id + '_title', tabIndex: '0'\n            }\n        });\n        this.secondHandle.classList.add(classNames.sliderSecondHandle);\n        this.element.appendChild(this.secondHandle);\n        if (this.isMaterial && this.tooltip.isVisible) {\n            this.secondMaterialHandle = this.createElement('div', {\n                attrs: {\n                    class: classNames.sliderHandle + ' ' +\n                        classNames.sliderMaterialHandle\n                }\n            });\n            this.element.appendChild(this.secondMaterialHandle);\n        }\n    };\n    Slider.prototype.createFirstHandle = function () {\n        this.firstHandle = this.createElement('div', {\n            attrs: {\n                class: classNames.sliderHandle, 'role': 'slider', 'aria-labelledby': this.element.id + '_title', tabIndex: '0'\n            }\n        });\n        this.firstHandle.classList.add(classNames.sliderFirstHandle);\n        this.element.appendChild(this.firstHandle);\n        if (this.isMaterial && this.tooltip.isVisible) {\n            this.firstMaterialHandle = this.createElement('div', {\n                attrs: {\n                    class: classNames.sliderHandle + ' ' +\n                        classNames.sliderMaterialHandle\n                }\n            });\n            this.element.appendChild(this.firstMaterialHandle);\n        }\n    };\n    Slider.prototype.wireFirstHandleEvt = function (destroy) {\n        if (!destroy) {\n            EventHandler.add(this.firstHandle, 'mousedown touchstart', this.handleFocus, this);\n            EventHandler.add(this.firstHandle, 'transitionend', this.transitionEnd, this);\n            EventHandler.add(this.firstHandle, 'mouseenter touchenter', this.handleOver, this);\n            EventHandler.add(this.firstHandle, 'mouseleave touchend', this.handleLeave, this);\n        }\n        else {\n            EventHandler.remove(this.firstHandle, 'mousedown touchstart', this.handleFocus);\n            EventHandler.remove(this.firstHandle, 'transitionend', this.transitionEnd);\n            EventHandler.remove(this.firstHandle, 'mouseenter touchenter', this.handleOver);\n            EventHandler.remove(this.firstHandle, 'mouseleave touchend', this.handleLeave);\n        }\n    };\n    Slider.prototype.wireSecondHandleEvt = function (destroy) {\n        if (!destroy) {\n            EventHandler.add(this.secondHandle, 'mousedown touchstart', this.handleFocus, this);\n            EventHandler.add(this.secondHandle, 'transitionend', this.transitionEnd, this);\n            EventHandler.add(this.secondHandle, 'mouseenter touchenter', this.handleOver, this);\n            EventHandler.add(this.secondHandle, 'mouseleave touchend', this.handleLeave, this);\n        }\n        else {\n            EventHandler.remove(this.secondHandle, 'mousedown touchstart', this.handleFocus);\n            EventHandler.remove(this.secondHandle, 'transitionend', this.transitionEnd);\n            EventHandler.remove(this.secondHandle, 'mouseenter touchenter', this.handleOver);\n            EventHandler.remove(this.secondHandle, 'mouseleave touchend', this.handleLeave);\n        }\n    };\n    Slider.prototype.handleStart = function () {\n        var pos = (this.activeHandle === 1) ? this.handlePos1 : this.handlePos2;\n        var tooltipElement = this.activeHandle === 1 ? this.firstTooltipElement : this.secondTooltipElement;\n        if (pos === 0 && this.type !== 'Range') {\n            this.getHandle().classList.add(classNames.sliderHandleStart);\n            if (this.isMaterial && this.tooltip.isVisible) {\n                this.firstMaterialHandle.classList.add(classNames.sliderHandleStart);\n                if (tooltipElement) {\n                    tooltipElement.classList.add(classNames.sliderTooltipStart);\n                }\n            }\n        }\n    };\n    Slider.prototype.transitionEnd = function (e) {\n        this.handleStart();\n        this.getHandle().style.transition = 'none';\n        if (this.type !== 'Default') {\n            this.rangeBar.style.transition = 'none';\n        }\n        if (this.tooltip.isVisible) {\n            var tooltipObj = this.activeHandle === 1 ? this.firstTooltipObj : this.secondTooltipObj;\n            var tooltipElement = this.activeHandle === 1 ? this.firstTooltipElement : this.secondTooltipElement;\n            if (!this.isMaterial) {\n                tooltipObj.animation = { open: { effect: 'None' }, close: { effect: 'FadeOut', duration: 500 } };\n                this.tooltipAnimation();\n            }\n            else {\n                if (!tooltipElement.classList.contains(classNames.materialTooltipOpen) && e.propertyName !== 'transform') {\n                    this.openMaterialTooltip();\n                }\n                else {\n                    if (this.type === 'Default') {\n                        tooltipElement.style.transition = this.transition.handle;\n                    }\n                    this.refreshTooltip();\n                }\n            }\n        }\n        if (this.tooltip.showOn !== 'Always') {\n            this.closeTooltip();\n        }\n    };\n    Slider.prototype.handleFocusOut = function () {\n        if (this.firstHandle.classList.contains(classNames.sliderHandleFocused)) {\n            this.firstHandle.classList.remove(classNames.sliderHandleFocused);\n        }\n        if (this.type === 'Range') {\n            if (this.secondHandle.classList.contains(classNames.sliderHandleFocused)) {\n                this.secondHandle.classList.remove(classNames.sliderHandleFocused);\n            }\n        }\n    };\n    Slider.prototype.handleFocus = function (e) {\n        if (e.currentTarget === this.firstHandle) {\n            this.firstHandle.classList.add(classNames.sliderHandleFocused);\n        }\n        else {\n            this.secondHandle.classList.add(classNames.sliderHandleFocused);\n        }\n    };\n    Slider.prototype.handleOver = function (e) {\n        if (this.tooltip.isVisible && this.tooltip.showOn === 'Hover') {\n            this.tooltipValue();\n            var tooltipObj = e.currentTarget === this.firstHandle ? this.firstTooltipObj : this.secondTooltipObj;\n            tooltipObj.animation = { open: { effect: 'None' }, close: { effect: 'FadeOut', duration: 500 } };\n            if (e.currentTarget === this.firstHandle) {\n                this.firstTooltipObj.open(this.firstHandle);\n            }\n            else {\n                this.secondTooltipObj.open(this.secondHandle);\n            }\n        }\n    };\n    Slider.prototype.handleLeave = function (e) {\n        if (this.tooltip.isVisible && this.tooltip.showOn === 'Hover' &&\n            !e.currentTarget.classList.contains(classNames.sliderHandleFocused) &&\n            !e.currentTarget.classList.contains(classNames.sliderTabHandle)) {\n            this.tooltipValue();\n            var tooltipObj = e.currentTarget === this.firstHandle ? this.firstTooltipObj : this.secondTooltipObj;\n            if (e.currentTarget === this.firstHandle) {\n                this.firstTooltipObj.close();\n            }\n            else {\n                this.secondTooltipObj.close();\n            }\n            tooltipObj.animation = { open: { effect: 'None' }, close: { effect: 'FadeOut', duration: 500 } };\n        }\n    };\n    Slider.prototype.setHandler = function () {\n        if (this.min > this.max) {\n            this.min = this.max;\n        }\n        this.createFirstHandle();\n        if (this.type === 'Range') {\n            this.createSecondHandle();\n        }\n    };\n    Slider.prototype.setEnableRTL = function () {\n        this.enableRtl && this.orientation !== 'Vertical' ? addClass([this.sliderContainer], classNames.rtl) :\n            removeClass([this.sliderContainer], classNames.rtl);\n        var preDir = (this.orientation !== 'Vertical') ? this.horDir : this.verDir;\n        if (this.enableRtl) {\n            this.horDir = 'right';\n            this.verDir = 'bottom';\n        }\n        else {\n            this.horDir = 'left';\n            this.verDir = 'bottom';\n        }\n        var currDir = (this.orientation !== 'Vertical') ? this.horDir : this.verDir;\n        if (preDir !== currDir) {\n            if (this.orientation === 'Horizontal') {\n                setStyleAttribute(this.firstHandle, { 'right': '', 'left': 'auto' });\n                if (this.type === 'Range') {\n                    setStyleAttribute(this.secondHandle, { 'top': '', 'left': 'auto' });\n                }\n            }\n        }\n    };\n    Slider.prototype.tooltipValue = function () {\n        var text;\n        var value1;\n        var value2;\n        var args = {\n            value: this.value,\n            text: ''\n        };\n        this.setTooltipContent();\n        args.text = text = this.firstTooltipObj.content;\n        this.trigger('tooltipChange', args);\n        this.addTooltipClass(args.text);\n        if (text !== args.text) {\n            this.customAriaText = args.text;\n            this.firstTooltipObj.content = args.text;\n            this.setAriaAttrValue(this.firstHandle);\n            if (this.type === 'Range') {\n                this.secondTooltipObj.content = args.text;\n                this.setAriaAttrValue(this.secondHandle);\n            }\n        }\n    };\n    Slider.prototype.setTooltipContent = function () {\n        var content;\n        if (this.type === 'Range') {\n            content = this.formatContent(this.tooltipFormatInfo, false);\n            this.firstTooltipObj.content = content;\n            this.secondTooltipObj.content = content;\n        }\n        else {\n            if (!isNullOrUndefined(this.handleVal1)) {\n                content = this.formatContent(this.tooltipFormatInfo, false);\n                this.firstTooltipObj.content = content;\n            }\n        }\n    };\n    Slider.prototype.formatContent = function (formatInfo, ariaContent) {\n        var content = '';\n        var handle1 = this.handleVal1;\n        var handle2 = this.handleVal2;\n        if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n            handle1 = this.customValues[this.handleVal1];\n            handle2 = this.customValues[this.handleVal2];\n        }\n        if (!ariaContent) {\n            if (this.type === 'Range') {\n                if (this.enableRtl && this.orientation !== 'Vertical') {\n                    content = (!isNullOrUndefined(formatInfo.format)) ? (this.formatString(handle2, formatInfo)\n                        .formatString + ' - ' + this.formatString(handle1, formatInfo).formatString) :\n                        (handle2.toString() + ' - ' + handle1.toString());\n                }\n                else {\n                    content = (!isNullOrUndefined(formatInfo.format)) ? (this.formatString(handle1, formatInfo)\n                        .formatString + ' - ' + this.formatString(handle2, formatInfo).formatString) :\n                        (handle1.toString() + ' - ' + handle2.toString());\n                }\n            }\n            else {\n                if (!isNullOrUndefined(handle1)) {\n                    content = (!isNullOrUndefined(formatInfo.format)) ?\n                        this.formatString(handle1, formatInfo).formatString : handle1.toString();\n                }\n            }\n            return content;\n        }\n        else {\n            if (this.type === 'Range') {\n                if (this.enableRtl && this.orientation !== 'Vertical') {\n                    content = (!isNullOrUndefined(this.tooltip) && !isNullOrUndefined(this.tooltip.format)) ?\n                        (this.formatString(handle2, formatInfo).elementVal + ' - ' +\n                            this.formatString(handle1, formatInfo).elementVal) :\n                        (handle2.toString() + ' - ' + handle1.toString());\n                }\n                else {\n                    content = (!isNullOrUndefined(this.tooltip) && !isNullOrUndefined(this.tooltip.format)) ?\n                        (this.formatString(handle1, formatInfo).elementVal + ' - ' +\n                            this.formatString(handle2, formatInfo).elementVal) :\n                        (handle1.toString() + ' - ' + handle2.toString());\n                }\n            }\n            else {\n                if (!isNullOrUndefined(handle1)) {\n                    content = (!isNullOrUndefined(this.tooltip) && !isNullOrUndefined(this.tooltip.format)) ?\n                        this.formatString(handle1, formatInfo).elementVal : handle1.toString();\n                }\n            }\n            return content;\n        }\n    };\n    Slider.prototype.addTooltipClass = function (content) {\n        var _this = this;\n        if (this.isMaterial && this.tooltip.isVisible) {\n            var count_1 = content.toString().length;\n            var tooltipElement = this.type !== 'Range' ? [this.firstTooltipElement] :\n                [this.firstTooltipElement, this.secondTooltipElement];\n            tooltipElement.forEach(function (element, index) {\n                if (!element) {\n                    var cssClass = count_1 > 4 ? classNames.sliderMaterialRange : classNames.sliderMaterialDefault;\n                    !index ? _this.firstTooltipObj.cssClass = classNames.sliderTooltip + ' ' + cssClass :\n                        _this.secondTooltipObj.cssClass = classNames.sliderTooltip + ' ' + cssClass;\n                }\n                else {\n                    if (count_1 > 4) {\n                        element.classList.remove(classNames.sliderMaterialDefault);\n                        if (!element.classList.contains(classNames.sliderMaterialRange)) {\n                            element.classList.add(classNames.sliderMaterialRange);\n                            element.style.transform = 'scale(1)';\n                        }\n                    }\n                    else {\n                        element.classList.remove(classNames.sliderMaterialRange);\n                        if (!element.classList.contains(classNames.sliderMaterialDefault)) {\n                            element.classList.add(classNames.sliderMaterialDefault);\n                            element.style.transform = _this.getTooltipTransformProperties(_this.previousTooltipClass).rotate;\n                        }\n                    }\n                }\n            });\n        }\n    };\n    Slider.prototype.tooltipPlacement = function () {\n        var tooltipPosition;\n        if (this.orientation === 'Horizontal') {\n            this.tooltip.placement === 'Before' ? tooltipPosition = 'TopCenter' : tooltipPosition = 'BottomCenter';\n        }\n        else {\n            this.tooltip.placement === 'Before' ? tooltipPosition = 'LeftCenter' : tooltipPosition = 'RightCenter';\n        }\n        this.firstTooltipObj.position = tooltipPosition;\n        if (this.type === 'Range') {\n            this.secondTooltipObj.position = tooltipPosition;\n        }\n        if (this.isMaterial) {\n            this.firstTooltipObj.showTipPointer = true;\n            this.setProperties({ tooltip: { showOn: 'Always' } }, true);\n            this.firstTooltipObj.height = 30;\n            if (this.type === 'Range') {\n                this.secondTooltipObj.showTipPointer = true;\n                this.secondTooltipObj.height = 30;\n            }\n        }\n    };\n    Slider.prototype.tooltipBeforeOpen = function (args) {\n        var tooltipElement = args.target === this.firstHandle ? this.firstTooltipElement = args.element :\n            this.secondTooltipElement = args.element;\n        if (this.tooltip.cssClass !== '') {\n            addClass([tooltipElement], this.tooltip.cssClass.split(' '));\n        }\n        args.target.removeAttribute('aria-describedby');\n        if (this.isMaterial && this.tooltip.isVisible) {\n            var transformProperties = this.getTooltipTransformProperties(this.previousTooltipClass);\n            tooltipElement.firstChild.classList.add(classNames.materialTooltipHide);\n            this.handleStart();\n            if (tooltipElement.firstElementChild.innerText.length > 4) {\n                tooltipElement.style.transform = transformProperties.translate + \" scale(0.01)\";\n            }\n            else {\n                tooltipElement.style.transform = transformProperties.translate + \" \" + transformProperties.rotate + \" scale(0.01)\";\n            }\n        }\n        if (this.isBootstrap) {\n            switch (this.bootstrapCollisionArgs.collidedPosition) {\n                case 'TopCenter':\n                    this.firstTooltipObj.setProperties({ 'offsetY': -(bootstrapTooltipOffset) }, false);\n                    if (this.type === 'Range') {\n                        this.secondTooltipObj.setProperties({ 'offsetY': -(bootstrapTooltipOffset) }, false);\n                    }\n                    break;\n                case 'BottomCenter':\n                    this.firstTooltipObj.setProperties({ 'offsetY': bootstrapTooltipOffset }, false);\n                    if (this.type === 'Range') {\n                        this.secondTooltipObj.setProperties({ 'offsetY': bootstrapTooltipOffset }, false);\n                    }\n                    break;\n                case 'LeftCenter':\n                    this.firstTooltipObj.setProperties({ 'offsetX': -(bootstrapTooltipOffset) }, false);\n                    if (this.type === 'Range') {\n                        this.secondTooltipObj.setProperties({ 'offsetX': -(bootstrapTooltipOffset) }, false);\n                    }\n                    break;\n                case 'RightCenter':\n                    this.firstTooltipObj.setProperties({ 'offsetX': bootstrapTooltipOffset }, false);\n                    if (this.type === 'Range') {\n                        this.secondTooltipObj.setProperties({ 'offsetX': bootstrapTooltipOffset }, false);\n                    }\n                    break;\n                default:\n                    break;\n            }\n        }\n    };\n    Slider.prototype.wireMaterialTooltipEvent = function (destroy) {\n        if (this.isMaterial && this.tooltip.isVisible) {\n            if (!destroy) {\n                EventHandler.add(this.firstTooltipElement, 'mousedown touchstart', this.sliderDown, this);\n                if (this.type === 'Range') {\n                    EventHandler.add(this.secondTooltipElement, 'mousedown touchstart', this.sliderDown, this);\n                }\n            }\n            else {\n                EventHandler.remove(this.firstTooltipElement, 'mousedown touchstart', this.sliderDown);\n                if (this.type === 'Range') {\n                    EventHandler.remove(this.secondTooltipElement, 'mousedown touchstart', this.sliderDown);\n                }\n            }\n        }\n    };\n    Slider.prototype.tooltipPositionCalculation = function (position) {\n        var cssClass;\n        switch (position) {\n            case 'TopCenter':\n                cssClass = classNames.horizontalTooltipBefore;\n                break;\n            case 'BottomCenter':\n                cssClass = classNames.horizontalTooltipAfter;\n                break;\n            case 'LeftCenter':\n                cssClass = classNames.verticalTooltipBefore;\n                break;\n            case 'RightCenter':\n                cssClass = classNames.verticalTooltipAfter;\n                break;\n        }\n        return cssClass;\n    };\n    Slider.prototype.getTooltipTransformProperties = function (className) {\n        if (this.firstTooltipElement) {\n            var position = void 0;\n            if (this.orientation === 'Horizontal') {\n                position = (this.firstTooltipElement.clientHeight + 14) - (this.firstTooltipElement.clientHeight / 2);\n            }\n            else {\n                position = (this.firstTooltipElement.clientWidth + 14) - (this.firstTooltipElement.clientWidth / 2);\n            }\n            var transformProperties = this.orientation === 'Horizontal' ?\n                (className === classNames.horizontalTooltipBefore ? { rotate: 'rotate(45deg)', translate: \"translateY(\" + position + \"px)\" } :\n                    { rotate: 'rotate(225deg)', translate: \"translateY(\" + -(position) + \"px)\" }) :\n                (className === classNames.verticalTooltipBefore ? { rotate: 'rotate(-45deg)', translate: \"translateX(\" + position + \"px)\" } :\n                    { rotate: 'rotate(-225deg)', translate: \"translateX(\" + (-position) + \"px)\" });\n            return transformProperties;\n        }\n        return undefined;\n    };\n    Slider.prototype.openMaterialTooltip = function () {\n        var _this = this;\n        this.refreshTooltip();\n        var tooltipElement = this.activeHandle === 1 ? this.firstTooltipElement : this.secondTooltipElement;\n        var handle = this.activeHandle === 1 ? this.firstMaterialHandle : this.secondMaterialHandle;\n        if (tooltipElement.firstChild.classList.contains(classNames.materialTooltipHide)) {\n            tooltipElement.firstChild.classList.remove(classNames.materialTooltipHide);\n        }\n        tooltipElement.firstChild.classList.add(classNames.materialTooltipShow);\n        this.getHandle().style.cursor = 'default';\n        tooltipElement.style.transition = this.scaleTransform;\n        tooltipElement.classList.add(classNames.materialTooltipOpen);\n        handle.style.transform = 'scale(0)';\n        if (tooltipElement.firstElementChild.innerText.length > 4) {\n            tooltipElement.style.transform = 'scale(1)';\n        }\n        else {\n            tooltipElement.style.transform = this.getTooltipTransformProperties(this.previousTooltipClass).rotate;\n        }\n        if (this.type === 'Default') {\n            setTimeout(function () { tooltipElement.style.transition = _this.transition.handle; }, 2500);\n        }\n        else {\n            setTimeout(function () { tooltipElement.style.transition = 'none'; }, 2500);\n        }\n    };\n    Slider.prototype.checkTooltipPosition = function (args) {\n        var tooltipPosition = args.target === this.firstHandle ? this.firstHandleTooltipPosition :\n            this.secondHandleTooltipPosition;\n        if (this.isMaterial && (tooltipPosition === undefined || tooltipPosition !== args.collidedPosition)) {\n            var tooltipClass = this.tooltipPositionCalculation(args.collidedPosition);\n            args.element.classList.remove(this.previousTooltipClass);\n            args.element.classList.add(tooltipClass);\n            this.previousTooltipClass = tooltipClass;\n            if (args.element.style.transform && args.element.classList.contains(classNames.materialTooltipOpen) &&\n                args.element.firstElementChild.innerText.length < 4) {\n                args.element.style.transform = this.getTooltipTransformProperties(this.previousTooltipClass).rotate;\n            }\n            if (args.target === this.firstHandle) {\n                this.firstHandleTooltipPosition = args.collidedPosition;\n            }\n            else {\n                this.secondHandleTooltipPosition = args.collidedPosition;\n            }\n        }\n        this.bootstrapCollisionArgs = args;\n    };\n    Slider.prototype.renderTooltip = function () {\n        if (this.tooltip.showOn === 'Auto') {\n            this.setProperties({ tooltip: { showOn: 'Hover' } }, true);\n        }\n        var tooltipPointer = this.isBootstrap ? true : false;\n        this.firstTooltipObj = new Tooltip({\n            showTipPointer: tooltipPointer,\n            cssClass: classNames.sliderTooltip,\n            animation: { open: { effect: 'None' }, close: { effect: 'None' } },\n            opensOn: 'Custom',\n            beforeOpen: this.tooltipBeforeOpen.bind(this),\n            beforeCollision: this.checkTooltipPosition.bind(this),\n            afterClose: this.tooltipAfterClose.bind(this)\n        });\n        this.firstTooltipObj.appendTo(this.firstHandle);\n        if (this.type === 'Range') {\n            this.secondTooltipObj = new Tooltip({\n                showTipPointer: tooltipPointer,\n                cssClass: classNames.sliderTooltip,\n                animation: { open: { effect: 'None' }, close: { effect: 'None' } },\n                opensOn: 'Custom',\n                beforeOpen: this.tooltipBeforeOpen.bind(this),\n                beforeCollision: this.checkTooltipPosition.bind(this),\n                afterClose: this.tooltipAfterClose.bind(this)\n            });\n            this.secondTooltipObj.appendTo(this.secondHandle);\n        }\n        this.tooltipPlacement();\n        this.firstHandle.style.transition = 'none';\n        if (this.type !== 'Default') {\n            this.rangeBar.style.transition = 'none';\n        }\n        if (this.type === 'Range') {\n            this.secondHandle.style.transition = 'none';\n        }\n        if (this.isMaterial) {\n            this.sliderContainer.classList.add(classNames.materialSlider);\n            this.tooltipValue();\n            this.firstTooltipObj.open(this.firstHandle);\n            if (this.type === 'Range') {\n                this.secondTooltipObj.open(this.secondHandle);\n            }\n        }\n    };\n    Slider.prototype.tooltipAfterClose = function (args) {\n        if (args.element === this.firstTooltipElement) {\n            this.firstTooltipElement = undefined;\n        }\n        else {\n            this.secondTooltipElement = undefined;\n        }\n    };\n    Slider.prototype.setButtons = function () {\n        this.firstBtn = this.createElement('div', { className: classNames.sliderButton + ' ' + classNames.firstButton });\n        this.firstBtn.appendChild(this.createElement('span', { className: classNames.sliderButtonIcon }));\n        this.firstBtn.tabIndex = -1;\n        this.secondBtn = this.createElement('div', { className: classNames.sliderButton + ' ' + classNames.secondButton });\n        this.secondBtn.appendChild(this.createElement('span', { className: classNames.sliderButtonIcon }));\n        this.secondBtn.tabIndex = -1;\n        this.sliderContainer.classList.add(classNames.sliderButtonClass);\n        this.sliderContainer.appendChild(this.firstBtn);\n        this.sliderContainer.appendChild(this.secondBtn);\n        this.sliderContainer.appendChild(this.element);\n        this.buttonTitle();\n    };\n    Slider.prototype.buttonTitle = function () {\n        var enabledRTL = this.enableRtl && this.orientation !== 'Vertical';\n        this.l10n.setLocale(this.locale);\n        var decrementTitle = this.l10n.getConstant('decrementTitle');\n        var incrementTitle = this.l10n.getConstant('incrementTitle');\n        attributes(enabledRTL ? this.secondBtn : this.firstBtn, { 'aria-label': decrementTitle, title: decrementTitle });\n        attributes(enabledRTL ? this.firstBtn : this.secondBtn, { 'aria-label': incrementTitle, title: incrementTitle });\n    };\n    Slider.prototype.buttonFocusOut = function () {\n        if (this.isMaterial) {\n            this.getHandle().classList.remove('e-large-thumb-size');\n        }\n    };\n    Slider.prototype.repeatButton = function (args) {\n        var buttonElement = args.target.parentElement;\n        var tooltipElement = this.activeHandle === 1 ? this.firstTooltipElement : this.secondTooltipElement;\n        if (!tooltipElement && this.tooltip.isVisible) {\n            this.openTooltip();\n        }\n        var hVal = this.handleValueUpdate();\n        var enabledRTL = this.enableRtl && this.orientation !== 'Vertical';\n        var value;\n        if (args.target.parentElement.classList.contains(classNames.firstButton)\n            || args.target.classList.contains(classNames.firstButton)) {\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.step.toString()), true)) :\n                (value = this.add(hVal, parseFloat(this.step.toString()), false));\n        }\n        else if (args.target.parentElement.classList.contains(classNames.secondButton)\n            || (args.target.classList.contains(classNames.secondButton))) {\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.step.toString()), false)) :\n                (value = this.add(hVal, parseFloat(this.step.toString()), true));\n        }\n        if (this.limits.enabled) {\n            value = this.getLimitCorrectedValues(value);\n        }\n        if (value >= this.min && value <= this.max) {\n            this.changeHandleValue(value);\n            this.refreshTooltipOnMove();\n        }\n    };\n    Slider.prototype.repeatHandlerMouse = function (args) {\n        args.preventDefault();\n        if (args.type === ('mousedown') || args.type === ('touchstart')) {\n            this.buttonClick(args);\n            this.repeatInterval = setInterval(this.repeatButton.bind(this), 180, args);\n        }\n    };\n    Slider.prototype.materialChange = function () {\n        if (!this.getHandle().classList.contains('e-large-thumb-size')) {\n            this.getHandle().classList.add('e-large-thumb-size');\n        }\n    };\n    Slider.prototype.repeatHandlerUp = function (e) {\n        this.changeEvent('changed');\n        if (this.tooltip.isVisible && this.tooltip.showOn !== 'Always' && !this.isMaterial) {\n            this.closeTooltip();\n        }\n        clearInterval(this.repeatInterval);\n        this.getHandle().focus();\n    };\n    Slider.prototype.customTickCounter = function (bigNum) {\n        var tickCount = 4;\n        if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n            if (bigNum > 4) {\n                tickCount = 3;\n            }\n            if (bigNum > 7) {\n                tickCount = 2;\n            }\n            if (bigNum > 14) {\n                tickCount = 1;\n            }\n            if (bigNum > 28) {\n                tickCount = 0;\n            }\n        }\n        return tickCount;\n    };\n    Slider.prototype.renderScale = function () {\n        var orien = this.orientation === 'Vertical' ? 'v' : 'h';\n        var spanText;\n        this.noOfDecimals = this.numberOfDecimals(this.step);\n        this.ul = this.createElement('ul', {\n            className: classNames.scale + ' ' + 'e-' + orien + '-scale ' + classNames.tick + '-' + this.ticks.placement.toLowerCase(),\n            attrs: { role: 'presentation', tabIndex: '-1', 'aria-hidden': 'true' }\n        });\n        this.ul.style.zIndex = '-1';\n        if (Browser.isAndroid && orien === 'h') {\n            this.ul.classList.add(classNames.sliderTickPosition);\n        }\n        var smallStep = this.ticks.smallStep;\n        if (!this.ticks.showSmallTicks) {\n            this.ticks.largeStep > 0 ? (smallStep = this.ticks.largeStep) :\n                (smallStep = (parseFloat(formatUnit(this.max))) - (parseFloat(formatUnit(this.min))));\n        }\n        else if (smallStep <= 0) {\n            smallStep = parseFloat(formatUnit(this.step));\n        }\n        var min = this.fractionalToInteger(this.min);\n        var max = this.fractionalToInteger(this.max);\n        var steps = this.fractionalToInteger(smallStep);\n        var bigNum = !isNullOrUndefined(this.customValues) && this.customValues.length > 0 && this.customValues.length - 1;\n        var customStep = this.customTickCounter(bigNum);\n        var count = !isNullOrUndefined(this.customValues) && this.customValues.length > 0 ?\n            (bigNum * customStep) + bigNum : Math.abs((max - min) / steps);\n        this.element.appendChild(this.ul);\n        var li;\n        var start = parseFloat(this.min.toString());\n        if (orien === 'v') {\n            start = parseFloat(this.max.toString());\n        }\n        var left = 0;\n        var islargeTick;\n        var tickWidth = 100 / count;\n        if (tickWidth === Infinity) {\n            tickWidth = 5;\n        }\n        for (var i = 0, y = !isNullOrUndefined(this.customValues) && this.customValues.length > 0 ?\n            this.customValues.length - 1 : 0, k = 0; i <= count; i++) {\n            li = (this.createElement('li', {\n                attrs: {\n                    class: classNames.tick, role: 'presentation', tabIndex: '-1',\n                    'aria-hidden': 'true'\n                }\n            }));\n            if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n                islargeTick = i % (customStep + 1) === 0;\n                if (islargeTick) {\n                    if (orien === 'h') {\n                        start = this.customValues[k];\n                        k++;\n                    }\n                    else {\n                        start = this.customValues[y];\n                        y--;\n                    }\n                    li.setAttribute('title', start.toString());\n                }\n            }\n            else {\n                li.setAttribute('title', start.toString());\n                if (this.numberOfDecimals(this.max) === 0 && this.numberOfDecimals(this.min) === 0 &&\n                    this.numberOfDecimals(this.step) === 0) {\n                    if (orien === 'h') {\n                        islargeTick = ((start - parseFloat(this.min.toString())) % this.ticks.largeStep === 0) ? true : false;\n                    }\n                    else {\n                        islargeTick = (Math.abs(start - parseFloat(this.max.toString())) % this.ticks.largeStep === 0) ? true : false;\n                    }\n                }\n                else {\n                    var largestep = this.fractionalToInteger(this.ticks.largeStep);\n                    var startValue = this.fractionalToInteger(start);\n                    islargeTick = ((startValue - min) % largestep === 0) ? true : false;\n                }\n            }\n            if (islargeTick) {\n                li.classList.add(classNames.large);\n            }\n            (orien === 'h') ? (li.style.width = tickWidth + '%') : (li.style.height = tickWidth + '%');\n            var repeat = islargeTick ? (this.ticks.placement === 'Both' ? 2 : 1) : 0;\n            if (islargeTick) {\n                for (var j = 0; j < repeat; j++) {\n                    this.createTick(li, start);\n                }\n            }\n            else if (isNullOrUndefined(this.customValues)) {\n                this.formatTicksValue(li, start);\n            }\n            this.ul.appendChild(li);\n            this.tickElementCollection.push(li);\n            var decimalPoints = void 0;\n            if (isNullOrUndefined(this.customValues)) {\n                if (this.numberOfDecimals(smallStep) > this.numberOfDecimals(start)) {\n                    decimalPoints = this.numberOfDecimals(smallStep);\n                }\n                else {\n                    decimalPoints = this.numberOfDecimals(start);\n                }\n                if (orien === 'h') {\n                    start = this.makeRoundNumber(start + smallStep, decimalPoints);\n                }\n                else {\n                    start = this.makeRoundNumber(start - smallStep, decimalPoints);\n                }\n                left = this.makeRoundNumber(left + smallStep, decimalPoints);\n            }\n        }\n        this.tickesAlignment(orien, tickWidth);\n    };\n    Slider.prototype.tickesAlignment = function (orien, tickWidth) {\n        this.firstChild = this.ul.firstElementChild;\n        this.lastChild = this.ul.lastElementChild;\n        this.firstChild.classList.add(classNames.sliderFirstTick);\n        this.lastChild.classList.add(classNames.sliderLastTick);\n        this.sliderContainer.classList.add(classNames.scale + '-' + this.ticks.placement.toLowerCase());\n        if (orien === 'h') {\n            this.firstChild.style.width = tickWidth / 2 + '%';\n            this.lastChild.style.width = tickWidth / 2 + '%';\n        }\n        else {\n            this.firstChild.style.height = tickWidth / 2 + '%';\n            this.lastChild.style.height = tickWidth / 2 + '%';\n        }\n        var eventArgs = { ticksWrapper: this.ul, tickElements: this.tickElementCollection };\n        this.trigger('renderedTicks', eventArgs);\n        this.scaleAlignment();\n    };\n    Slider.prototype.createTick = function (li, start) {\n        var span = this.createElement('span', {\n            className: classNames.tickValue + ' ' + classNames.tick + '-' + this.ticks.placement.toLowerCase(),\n            attrs: { role: 'presentation', tabIndex: '-1', 'aria-hidden': 'true' }\n        });\n        li.appendChild(span);\n        span.innerHTML = isNullOrUndefined(this.customValues) ? this.formatTicksValue(li, start) : start;\n    };\n    Slider.prototype.formatTicksValue = function (li, start) {\n        var tickText = this.formatNumber(start);\n        var text = !isNullOrUndefined(this.ticks) && !isNullOrUndefined(this.ticks.format) ?\n            this.formatString(start, this.ticksFormatInfo).formatString : tickText;\n        var eventArgs = { value: start, text: text, tickElement: li };\n        this.trigger('renderingTicks', eventArgs);\n        li.setAttribute('title', eventArgs.text.toString());\n        return eventArgs.text.toString();\n    };\n    Slider.prototype.scaleAlignment = function () {\n        this.tickValuePosition();\n        var smallTick = 12;\n        var largeTick = 20;\n        var half = largeTick / 2;\n        var orien = this.orientation === 'Vertical' ? 'v' : 'h';\n        if (this.orientation === 'Vertical') {\n            (this.element.getBoundingClientRect().width <= 15) ?\n                this.sliderContainer.classList.add(classNames.sliderSmallSize) :\n                this.sliderContainer.classList.remove(classNames.sliderSmallSize);\n        }\n        else {\n            (this.element.getBoundingClientRect().height <= 15) ?\n                this.sliderContainer.classList.add(classNames.sliderSmallSize) :\n                this.sliderContainer.classList.remove(classNames.sliderSmallSize);\n        }\n    };\n    Slider.prototype.tickValuePosition = function () {\n        var first = this.firstChild.getBoundingClientRect();\n        var firstChild;\n        var smallStep = this.ticks.smallStep;\n        var count = Math.abs((parseFloat(formatUnit(this.max))) - (parseFloat(formatUnit(this.min)))) / smallStep;\n        if (this.firstChild.children.length > 0) {\n            firstChild = this.firstChild.children[0].getBoundingClientRect();\n        }\n        var tickElements = [this.sliderContainer.querySelectorAll('.' + classNames.tick + '.' +\n                classNames.large + ' .' + classNames.tickValue)];\n        var other;\n        if (this.ticks.placement === 'Both') {\n            other = [].slice.call(tickElements[0], 2);\n        }\n        else {\n            other = [].slice.call(tickElements[0], 1);\n        }\n        var tickWidth = this.orientation === 'Vertical' ?\n            (first.height * 2) : (first.width * 2);\n        for (var i = 0; i < this.firstChild.children.length; i++) {\n            if (this.orientation === 'Vertical') {\n                this.firstChild.children[i].style.top = -(firstChild.height / 2) + 'px';\n            }\n            else {\n                if (!this.enableRtl) {\n                    this.firstChild.children[i].style.left = -(firstChild.width / 2) + 'px';\n                }\n                else {\n                    this.firstChild.children[i].style.left = (tickWidth -\n                        this.firstChild.children[i].getBoundingClientRect().width) / 2 + 'px';\n                }\n            }\n        }\n        for (var i = 0; i < other.length; i++) {\n            var otherChild = other[i].getBoundingClientRect();\n            if (this.orientation === 'Vertical') {\n                setStyleAttribute(other[i], { top: (tickWidth - otherChild.height) / 2 + 'px' });\n            }\n            else {\n                setStyleAttribute(other[i], { left: (tickWidth - otherChild.width) / 2 + 'px' });\n            }\n        }\n        if (this.enableRtl && this.lastChild.children.length && count !== 0) {\n            this.lastChild.children[0].style.left = -(this.lastChild.getBoundingClientRect().width / 2) + 'px';\n            if (this.ticks.placement === 'Both') {\n                this.lastChild.children[1].style.left = -(this.lastChild.getBoundingClientRect().width / 2) + 'px';\n            }\n        }\n        if (count === 0) {\n            if (this.orientation === 'Horizontal') {\n                if (!this.enableRtl) {\n                    this.firstChild.classList.remove(classNames.sliderLastTick);\n                    this.firstChild.style.left = this.firstHandle.style.left;\n                }\n                else {\n                    this.firstChild.classList.remove(classNames.sliderLastTick);\n                    this.firstChild.style.right = this.firstHandle.style.right;\n                    this.firstChild.children[0].style.left =\n                        (this.firstChild.getBoundingClientRect().width / 2) + 2 + 'px';\n                    if (this.ticks.placement === 'Both') {\n                        this.firstChild.children[1].style.left =\n                            (this.firstChild.getBoundingClientRect().width / 2) + 2 + 'px';\n                    }\n                }\n            }\n            if (this.orientation === 'Vertical') {\n                this.firstChild.classList.remove(classNames.sliderLastTick);\n            }\n        }\n    };\n    Slider.prototype.setAriaAttrValue = function (element) {\n        var ariaValueText;\n        var isTickFormatted = ((!isNullOrUndefined(this.ticks) && !isNullOrUndefined(this.ticks.format))) ? true : false;\n        var text = !isTickFormatted ?\n            this.formatContent(this.ticksFormatInfo, false) : this.formatContent(this.tooltipFormatInfo, false);\n        var valuenow = isTickFormatted ? this.formatContent(this.ticksFormatInfo, true) :\n            this.formatContent(this.tooltipFormatInfo, true);\n        text = (!this.customAriaText) ? (text) : (this.customAriaText);\n        if (text.split(' - ').length === 2) {\n            ariaValueText = text.split(' - ');\n        }\n        else {\n            ariaValueText = [text, text];\n        }\n        this.setAriaAttributes(element);\n        if (this.type !== 'Range') {\n            attributes(element, { 'aria-valuenow': valuenow, 'aria-valuetext': text });\n        }\n        else {\n            (!this.enableRtl) ? ((element === this.firstHandle) ?\n                attributes(element, { 'aria-valuenow': valuenow.split(' - ')[0], 'aria-valuetext': ariaValueText[0] }) :\n                attributes(element, { 'aria-valuenow': valuenow.split(' - ')[1], 'aria-valuetext': ariaValueText[1] })) :\n                ((element === this.firstHandle) ?\n                    attributes(element, { 'aria-valuenow': valuenow.split(' - ')[1], 'aria-valuetext': ariaValueText[1] }) :\n                    attributes(element, { 'aria-valuenow': valuenow.split(' - ')[0], 'aria-valuetext': ariaValueText[0] }));\n        }\n    };\n    Slider.prototype.handleValueUpdate = function () {\n        var hVal;\n        if (this.type === 'Range') {\n            if (this.activeHandle === 1) {\n                hVal = this.handleVal1;\n            }\n            else {\n                hVal = this.handleVal2;\n            }\n        }\n        else {\n            hVal = this.handleVal1;\n        }\n        return hVal;\n    };\n    Slider.prototype.getLimitCorrectedValues = function (value) {\n        if (this.type === 'MinRange' || this.type === 'Default') {\n            value = (this.getLimitValueAndPosition(value, this.limits.minStart, this.limits.minEnd))[0];\n        }\n        else {\n            if (this.activeHandle === 1) {\n                value = (this.getLimitValueAndPosition(value, this.limits.minStart, this.limits.minEnd))[0];\n            }\n            else {\n                value = (this.getLimitValueAndPosition(value, this.limits.maxStart, this.limits.maxEnd))[0];\n            }\n        }\n        return value;\n    };\n    Slider.prototype.focusSliderElement = function () {\n        if (!this.isElementFocused) {\n            this.element.focus();\n            this.isElementFocused = true;\n        }\n    };\n    Slider.prototype.buttonClick = function (args) {\n        this.focusSliderElement();\n        var value;\n        var enabledRTL = this.enableRtl && this.orientation !== 'Vertical';\n        var hVal = this.handleValueUpdate();\n        if ((args.keyCode === 40) || (args.keyCode === 37)\n            || args.currentTarget.classList.contains(classNames.firstButton)) {\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.step.toString()), true)) :\n                (value = this.add(hVal, parseFloat(this.step.toString()), false));\n        }\n        else if ((args.keyCode === 38) || (args.keyCode === 39) ||\n            args.currentTarget.classList.contains(classNames.secondButton)) {\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.step.toString()), false)) :\n                (value = this.add(hVal, parseFloat(this.step.toString()), true));\n        }\n        else if ((args.keyCode === 33\n            || args.currentTarget.classList.contains(classNames.firstButton))) {\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.ticks.largeStep.toString()), false)) :\n                (value = this.add(hVal, parseFloat(this.ticks.largeStep.toString()), true));\n        }\n        else if ((args.keyCode === 34) ||\n            args.currentTarget.classList.contains(classNames.secondButton)) {\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.ticks.largeStep.toString()), true)) :\n                (value = this.add(hVal, parseFloat(this.ticks.largeStep.toString()), false));\n        }\n        else if ((args.keyCode === 36)) {\n            value = parseFloat(this.min.toString());\n        }\n        else if ((args.keyCode === 35)) {\n            value = parseFloat(this.max.toString());\n        }\n        if (this.limits.enabled) {\n            value = this.getLimitCorrectedValues(value);\n        }\n        this.changeHandleValue(value);\n        if (this.isMaterial && !this.tooltip.isVisible &&\n            !this.getHandle().classList.contains(classNames.sliderTabHandle)) {\n            this.materialChange();\n        }\n        this.tooltipAnimation();\n        this.getHandle().focus();\n        if (args.currentTarget.classList.contains(classNames.firstButton)) {\n            EventHandler.add(this.firstBtn, 'mouseup touchend', this.buttonUp, this);\n        }\n        if (args.currentTarget.classList.contains(classNames.secondButton)) {\n            EventHandler.add(this.secondBtn, 'mouseup touchend', this.buttonUp, this);\n        }\n    };\n    Slider.prototype.tooltipAnimation = function () {\n        if (this.tooltip.isVisible) {\n            var tooltipObj = this.activeHandle === 1 ? this.firstTooltipObj : this.secondTooltipObj;\n            var tooltipElement = this.activeHandle === 1 ? this.firstTooltipElement : this.secondTooltipElement;\n            if (this.isMaterial) {\n                !tooltipElement.classList.contains(classNames.materialTooltipOpen) ? this.openMaterialTooltip() : this.refreshTooltip();\n            }\n            else {\n                tooltipObj.animation = { open: { effect: 'None' }, close: { effect: 'FadeOut', duration: 500 } };\n                this.openTooltip();\n            }\n        }\n    };\n    Slider.prototype.buttonUp = function (args) {\n        if (this.tooltip.isVisible) {\n            if (!this.isMaterial) {\n                var tooltipObj = this.activeHandle === 1 ? this.firstTooltipObj : this.secondTooltipObj;\n                tooltipObj.animation = { open: { effect: 'None' }, close: { effect: 'None' } };\n            }\n        }\n        if (args.currentTarget.classList.contains(classNames.firstButton)) {\n            EventHandler.remove(this.firstBtn, 'mouseup touchend', this.buttonUp);\n        }\n        if (args.currentTarget.classList.contains(classNames.secondButton)) {\n            EventHandler.remove(this.secondBtn, 'mouseup touchend', this.buttonUp);\n        }\n    };\n    Slider.prototype.setRangeBar = function () {\n        if (this.orientation === 'Horizontal') {\n            if (this.type === 'MinRange') {\n                this.enableRtl ? (this.rangeBar.style.right = '0px') : (this.rangeBar.style.left = '0px');\n                setStyleAttribute(this.rangeBar, { 'width': isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + 'px' });\n            }\n            else {\n                this.enableRtl ? (this.rangeBar.style.right =\n                    this.handlePos1 + 'px') : (this.rangeBar.style.left = this.handlePos1 + 'px');\n                setStyleAttribute(this.rangeBar, { 'width': this.handlePos2 - this.handlePos1 + 'px' });\n            }\n        }\n        else {\n            if (this.type === 'MinRange') {\n                this.rangeBar.style.bottom = '0px';\n                setStyleAttribute(this.rangeBar, { 'height': isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + 'px' });\n            }\n            else {\n                this.rangeBar.style.bottom = this.handlePos1 + 'px';\n                setStyleAttribute(this.rangeBar, { 'height': this.handlePos2 - this.handlePos1 + 'px' });\n            }\n        }\n    };\n    Slider.prototype.checkValidValueAndPos = function (value) {\n        value = this.checkHandleValue(value);\n        value = this.checkHandlePosition(value);\n        return value;\n    };\n    Slider.prototype.setLimitBarPositions = function (fromMinPostion, fromMaxpostion, toMinPostion, toMaxpostion) {\n        if (this.orientation === 'Horizontal') {\n            if (!this.enableRtl) {\n                this.limitBarFirst.style.left = fromMinPostion + 'px';\n                this.limitBarFirst.style.width = (fromMaxpostion - fromMinPostion) + 'px';\n            }\n            else {\n                this.limitBarFirst.style.right = fromMinPostion + 'px';\n                this.limitBarFirst.style.width = (fromMaxpostion - fromMinPostion) + 'px';\n            }\n        }\n        else {\n            this.limitBarFirst.style.bottom = fromMinPostion + 'px';\n            this.limitBarFirst.style.height = (fromMaxpostion - fromMinPostion) + 'px';\n        }\n        if (this.type === 'Range') {\n            if (this.orientation === 'Horizontal') {\n                if (!this.enableRtl) {\n                    this.limitBarSecond.style.left = toMinPostion + 'px';\n                    this.limitBarSecond.style.width = (toMaxpostion - toMinPostion) + 'px';\n                }\n                else {\n                    this.limitBarSecond.style.right = toMinPostion + 'px';\n                    this.limitBarSecond.style.width = (toMaxpostion - toMinPostion) + 'px';\n                }\n            }\n            else {\n                this.limitBarSecond.style.bottom = toMinPostion + 'px';\n                this.limitBarSecond.style.height = (toMaxpostion - toMinPostion) + 'px';\n            }\n        }\n    };\n    Slider.prototype.setLimitBar = function () {\n        if (this.type === 'Default' || this.type === 'MinRange') {\n            var fromPosition = (this.getLimitValueAndPosition(this.limits.minStart, this.limits.minStart, this.limits.minEnd, true))[0];\n            fromPosition = this.checkValidValueAndPos(fromPosition);\n            var toPosition = (this.getLimitValueAndPosition(this.limits.minEnd, this.limits.minStart, this.limits.minEnd, true))[0];\n            toPosition = this.checkValidValueAndPos(toPosition);\n            this.setLimitBarPositions(fromPosition, toPosition);\n        }\n        else if (this.type === 'Range') {\n            var fromMinPostion = (this.getLimitValueAndPosition(this.limits.minStart, this.limits.minStart, this.limits.minEnd, true))[0];\n            fromMinPostion = this.checkValidValueAndPos(fromMinPostion);\n            var fromMaxpostion = (this.getLimitValueAndPosition(this.limits.minEnd, this.limits.minStart, this.limits.minEnd, true))[0];\n            fromMaxpostion = this.checkValidValueAndPos(fromMaxpostion);\n            var toMinPostion = (this.getLimitValueAndPosition(this.limits.maxStart, this.limits.maxStart, this.limits.maxEnd, true))[0];\n            toMinPostion = this.checkValidValueAndPos(toMinPostion);\n            var toMaxpostion = (this.getLimitValueAndPosition(this.limits.maxEnd, this.limits.maxStart, this.limits.maxEnd, true))[0];\n            toMaxpostion = this.checkValidValueAndPos(toMaxpostion);\n            this.setLimitBarPositions(fromMinPostion, fromMaxpostion, toMinPostion, toMaxpostion);\n        }\n    };\n    Slider.prototype.getLimitValueAndPosition = function (currentValue, minValue, maxValue, limitBar) {\n        if (isNullOrUndefined(minValue)) {\n            minValue = this.min;\n            if (isNullOrUndefined(currentValue) && limitBar) {\n                currentValue = minValue;\n            }\n        }\n        if (isNullOrUndefined(maxValue)) {\n            maxValue = this.max;\n            if (isNullOrUndefined(currentValue) && limitBar) {\n                currentValue = maxValue;\n            }\n        }\n        if (currentValue < minValue) {\n            currentValue = minValue;\n        }\n        if (currentValue > maxValue) {\n            currentValue = maxValue;\n        }\n        return [currentValue, this.checkHandlePosition(currentValue)];\n    };\n    Slider.prototype.setValue = function () {\n        if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n            this.min = 0;\n            this.max = this.customValues.length - 1;\n        }\n        this.setAriaAttributes(this.firstHandle);\n        this.handleVal1 = isNullOrUndefined(this.value) ? this.checkHandleValue(parseFloat(this.min.toString())) :\n            this.checkHandleValue(parseFloat(this.value.toString()));\n        this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n        this.preHandlePos1 = this.handlePos1;\n        isNullOrUndefined(this.activeHandle) ? (this.type === 'Range' ? this.activeHandle = 2 : this.activeHandle = 1) :\n            this.activeHandle = this.activeHandle;\n        if (this.type === 'Default' || this.type === 'MinRange') {\n            if (this.limits.enabled) {\n                var values = this.getLimitValueAndPosition(this.handleVal1, this.limits.minStart, this.limits.minEnd);\n                this.handleVal1 = values[0];\n                this.handlePos1 = values[1];\n                this.preHandlePos1 = this.handlePos1;\n            }\n            this.setHandlePosition();\n            this.handleStart();\n            this.value = this.handleVal1;\n            this.setAriaAttrValue(this.firstHandle);\n            this.changeEvent('changed');\n        }\n        else {\n            this.validateRangeValue();\n        }\n        if (this.type !== 'Default') {\n            this.setRangeBar();\n        }\n        if (this.limits.enabled) {\n            this.setLimitBar();\n        }\n    };\n    Slider.prototype.rangeValueUpdate = function () {\n        if (this.value === null || typeof (this.value) !== 'object') {\n            this.value = [parseFloat(formatUnit(this.min)), parseFloat(formatUnit(this.max))];\n        }\n    };\n    Slider.prototype.validateRangeValue = function () {\n        this.rangeValueUpdate();\n        this.setRangeValue();\n    };\n    Slider.prototype.modifyZindex = function () {\n        if (this.type === 'Range') {\n            if (this.activeHandle === 1) {\n                this.firstHandle.style.zIndex = (this.zIndex + 4) + '';\n                this.secondHandle.style.zIndex = (this.zIndex + 3) + '';\n                if (this.isMaterial && this.tooltip.isVisible && this.firstTooltipElement && this.secondTooltipElement) {\n                    this.firstTooltipElement.style.zIndex = (this.zIndex + 4) + '';\n                    this.secondTooltipElement.style.zIndex = (this.zIndex + 3) + '';\n                }\n            }\n            else {\n                this.firstHandle.style.zIndex = (this.zIndex + 3) + '';\n                this.secondHandle.style.zIndex = (this.zIndex + 4) + '';\n                if (this.isMaterial && this.tooltip.isVisible && this.firstTooltipElement && this.secondTooltipElement) {\n                    this.firstTooltipElement.style.zIndex = (this.zIndex + 3) + '';\n                    this.secondTooltipElement.style.zIndex = (this.zIndex + 4) + '';\n                }\n            }\n        }\n        else if (this.isMaterial && this.tooltip.isVisible && this.firstTooltipElement) {\n            this.firstTooltipElement.style.zIndex = (this.zIndex + 4) + '';\n        }\n    };\n    Slider.prototype.setHandlePosition = function () {\n        var _this = this;\n        var pos = (this.activeHandle === 1) ? this.handlePos1 : this.handlePos2;\n        var val = (this.activeHandle === 1) ? this.handleVal1 : this.handleVal2;\n        var handle;\n        var tooltipElement;\n        if (this.isMaterial && this.tooltip.isVisible) {\n            tooltipElement = this.activeHandle === 1 ? this.firstTooltipElement : this.secondTooltipElement;\n            handle = [this.getHandle(), (this.activeHandle === 1 ? this.firstMaterialHandle : this.secondMaterialHandle)];\n        }\n        else {\n            handle = [this.getHandle()];\n        }\n        if (this.tooltip.isVisible && pos === 0 && this.type !== 'Range') {\n            handle[0].classList.add(classNames.sliderHandleStart);\n            if (this.isMaterial) {\n                handle[1].classList.add(classNames.sliderHandleStart);\n                if (tooltipElement) {\n                    tooltipElement.classList.add(classNames.sliderTooltipStart);\n                }\n            }\n        }\n        else {\n            handle[0].classList.remove(classNames.sliderHandleStart);\n            if (this.tooltip.isVisible && this.isMaterial) {\n                handle[1].classList.remove(classNames.sliderHandleStart);\n                if (tooltipElement) {\n                    tooltipElement.classList.remove(classNames.sliderTooltipStart);\n                }\n            }\n        }\n        handle.forEach(function (handle) {\n            if (_this.orientation === 'Horizontal') {\n                _this.enableRtl ? (handle.style.right =\n                    pos + \"px\") : (handle.style.left = pos + \"px\");\n            }\n            else {\n                handle.style.bottom = pos + \"px\";\n            }\n        });\n        this.changeEvent('change');\n    };\n    Slider.prototype.getHandle = function () {\n        return (this.activeHandle === 1) ? this.firstHandle : this.secondHandle;\n    };\n    Slider.prototype.setRangeValue = function () {\n        var temp = this.activeHandle;\n        this.updateRangeValue();\n        this.activeHandle = 1;\n        this.setHandlePosition();\n        this.activeHandle = 2;\n        this.setHandlePosition();\n        this.activeHandle = 1;\n    };\n    Slider.prototype.changeEvent = function (eventName) {\n        var previous = eventName === 'change' ? this.previousVal : this.previousChanged;\n        if (this.type !== 'Range') {\n            this.setProperties({ 'value': this.handleVal1 }, true);\n            if (previous !== this.value) {\n                this.trigger(eventName, this.changeEventArgs(eventName));\n                this.setPreviousVal(eventName, this.value);\n            }\n            this.setAriaAttrValue(this.firstHandle);\n        }\n        else {\n            var value = this.value = [this.handleVal1, this.handleVal2];\n            this.setProperties({ 'value': value }, true);\n            if (previous.length === this.value.length\n                && this.value[0] !== previous[0] || this.value[1] !== previous[1]) {\n                this.trigger(eventName, this.changeEventArgs(eventName));\n                this.setPreviousVal(eventName, this.value);\n            }\n            this.setAriaAttrValue(this.getHandle());\n        }\n        this.hiddenInput.value = this.value.toString();\n    };\n    Slider.prototype.changeEventArgs = function (eventName) {\n        var eventArgs;\n        if (this.tooltip.isVisible && this.firstTooltipObj) {\n            this.tooltipValue();\n            eventArgs = {\n                value: this.value,\n                previousValue: eventName === 'change' ? this.previousVal : this.previousChanged,\n                action: eventName, text: this.firstTooltipObj.content\n            };\n        }\n        else {\n            eventArgs = {\n                value: this.value,\n                previousValue: eventName === 'change' ? this.previousVal : this.previousChanged,\n                action: eventName, text: isNullOrUndefined(this.ticksFormatInfo.format) ? this.value.toString() :\n                    (this.type !== 'Range' ? this.formatString(this.value, this.ticksFormatInfo).formatString :\n                        (this.formatString(this.value[0], this.ticksFormatInfo).formatString + ' - ' +\n                            this.formatString(this.value[1], this.ticksFormatInfo).formatString))\n            };\n        }\n        return eventArgs;\n    };\n    Slider.prototype.setPreviousVal = function (eventName, value) {\n        if (eventName === 'change') {\n            this.previousVal = value;\n        }\n        else {\n            this.previousChanged = value;\n        }\n    };\n    Slider.prototype.updateRangeValue = function () {\n        var values = this.value.toString().split(',').map(Number);\n        if ((this.enableRtl && this.orientation !== 'Vertical') || this.rtl) {\n            this.value = [values[1], values[0]];\n        }\n        else {\n            this.value = [values[0], values[1]];\n        }\n        if (this.enableRtl && this.orientation !== 'Vertical') {\n            this.handleVal1 = this.checkHandleValue(this.value[1]);\n            this.handleVal2 = this.checkHandleValue(this.value[0]);\n        }\n        else {\n            this.handleVal1 = this.checkHandleValue(this.value[0]);\n            this.handleVal2 = this.checkHandleValue(this.value[1]);\n        }\n        this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n        this.handlePos2 = this.checkHandlePosition(this.handleVal2);\n        if (this.handlePos1 > this.handlePos2) {\n            this.handlePos1 = this.handlePos2;\n            this.handleVal1 = this.handleVal2;\n        }\n        this.preHandlePos1 = this.handlePos1;\n        this.preHandlePos2 = this.handlePos2;\n        if (this.limits.enabled) {\n            this.activeHandle = 1;\n            var values_1 = this.getLimitValueAndPosition(this.handleVal1, this.limits.minStart, this.limits.minEnd);\n            this.handleVal1 = values_1[0];\n            this.handlePos1 = values_1[1];\n            this.preHandlePos1 = this.handlePos1;\n            this.activeHandle = 2;\n            values_1 = this.getLimitValueAndPosition(this.handleVal2, this.limits.maxStart, this.limits.maxEnd);\n            this.handleVal2 = values_1[0];\n            this.handlePos2 = values_1[1];\n            this.preHandlePos2 = this.handlePos2;\n        }\n    };\n    Slider.prototype.checkHandlePosition = function (value) {\n        var pos;\n        value = (100 *\n            (value - (parseFloat(formatUnit(this.min))))) / ((parseFloat(formatUnit(this.max))) - (parseFloat(formatUnit(this.min))));\n        if (this.orientation === 'Horizontal') {\n            pos = this.element.getBoundingClientRect().width * (value / 100);\n        }\n        else {\n            pos = this.element.getBoundingClientRect().height * (value / 100);\n        }\n        if (((parseFloat(formatUnit(this.max))) === (parseFloat(formatUnit(this.min))))) {\n            if (this.orientation === 'Horizontal') {\n                pos = this.element.getBoundingClientRect().width;\n            }\n            else {\n                pos = this.element.getBoundingClientRect().height;\n            }\n        }\n        return pos;\n    };\n    Slider.prototype.checkHandleValue = function (value) {\n        if (this.min > this.max) {\n            this.min = this.max;\n        }\n        if (this.min === this.max) {\n            return (parseFloat(formatUnit(this.max)));\n        }\n        var handle = this.tempStartEnd();\n        if (value < handle.start) {\n            value = handle.start;\n        }\n        else if (value > handle.end) {\n            value = handle.end;\n        }\n        return value;\n    };\n    Slider.prototype.onResize = function () {\n        var _this = this;\n        this.firstHandle.style.transition = 'none';\n        if (this.type !== 'Default') {\n            this.rangeBar.style.transition = 'none';\n        }\n        if (this.type === 'Range') {\n            this.secondHandle.style.transition = 'none';\n        }\n        this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n        if (this.handleVal2) {\n            this.handlePos2 = this.checkHandlePosition(this.handleVal2);\n        }\n        if (this.orientation === 'Horizontal') {\n            this.enableRtl ? this.firstHandle.style.right =\n                this.handlePos1 + \"px\" : this.firstHandle.style.left = this.handlePos1 + \"px\";\n            if (this.isMaterial && this.tooltip.isVisible && this.firstMaterialHandle) {\n                this.enableRtl ? this.firstMaterialHandle.style.right =\n                    this.handlePos1 + \"px\" : this.firstMaterialHandle.style.left = this.handlePos1 + \"px\";\n            }\n            if (this.type === 'MinRange') {\n                this.enableRtl ? (this.rangeBar.style.right = '0px') : (this.rangeBar.style.left = '0px');\n                setStyleAttribute(this.rangeBar, { 'width': isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + 'px' });\n            }\n            else if (this.type === 'Range') {\n                this.enableRtl ? this.secondHandle.style.right =\n                    this.handlePos2 + \"px\" : this.secondHandle.style.left = this.handlePos2 + \"px\";\n                if (this.isMaterial && this.tooltip.isVisible && this.secondMaterialHandle) {\n                    this.enableRtl ? this.secondMaterialHandle.style.right =\n                        this.handlePos2 + \"px\" : this.secondMaterialHandle.style.left = this.handlePos2 + \"px\";\n                }\n                this.enableRtl ? (this.rangeBar.style.right =\n                    this.handlePos1 + 'px') : (this.rangeBar.style.left = this.handlePos1 + 'px');\n                setStyleAttribute(this.rangeBar, { 'width': this.handlePos2 - this.handlePos1 + 'px' });\n            }\n        }\n        else {\n            this.firstHandle.style.bottom = this.handlePos1 + \"px\";\n            if (this.isMaterial && this.tooltip.isVisible && this.firstMaterialHandle) {\n                this.firstMaterialHandle.style.bottom = this.handlePos1 + \"px\";\n            }\n            if (this.type === 'MinRange') {\n                this.rangeBar.style.bottom = '0px';\n                setStyleAttribute(this.rangeBar, { 'height': isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + 'px' });\n            }\n            else if (this.type === 'Range') {\n                this.secondHandle.style.bottom = this.handlePos2 + \"px\";\n                if (this.isMaterial && this.tooltip.isVisible && this.secondMaterialHandle) {\n                    this.secondMaterialHandle.style.bottom = this.handlePos2 + \"px\";\n                }\n                this.rangeBar.style.bottom = this.handlePos1 + 'px';\n                setStyleAttribute(this.rangeBar, { 'height': this.handlePos2 - this.handlePos1 + 'px' });\n            }\n        }\n        if (this.limits.enabled) {\n            this.setLimitBar();\n        }\n        if (this.ticks.placement !== 'None' && this.ul) {\n            this.removeElement(this.ul);\n            this.renderScale();\n        }\n        if (!this.tooltip.isVisible) {\n            setTimeout(function () {\n                _this.firstHandle.style.transition = _this.scaleTransform;\n                if (_this.type === 'Range') {\n                    _this.secondHandle.style.transition = _this.scaleTransform;\n                }\n            });\n        }\n        this.refreshTooltip();\n    };\n    Slider.prototype.changeHandleValue = function (value) {\n        var position = null;\n        if (this.activeHandle === 1) {\n            if (!(this.limits.enabled && this.limits.startHandleFixed)) {\n                this.handleVal1 = this.checkHandleValue(value);\n                this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n                if (this.type === 'Range' && this.handlePos1 > this.handlePos2) {\n                    this.handlePos1 = this.handlePos2;\n                    this.handleVal1 = this.handleVal2;\n                }\n                if (this.handlePos1 !== this.preHandlePos1) {\n                    position = this.preHandlePos1 = this.handlePos1;\n                }\n            }\n            this.modifyZindex();\n        }\n        else {\n            if (!(this.limits.enabled && this.limits.endHandleFixed)) {\n                this.handleVal2 = this.checkHandleValue(value);\n                this.handlePos2 = this.checkHandlePosition(this.handleVal2);\n                if (this.type === 'Range' && this.handlePos2 < this.handlePos1) {\n                    this.handlePos2 = this.handlePos1;\n                    this.handleVal2 = this.handleVal1;\n                }\n                if (this.handlePos2 !== this.preHandlePos2) {\n                    position = this.preHandlePos2 = this.handlePos2;\n                }\n            }\n            this.modifyZindex();\n        }\n        if (position !== null) {\n            if (this.type !== 'Default') {\n                this.setRangeBar();\n            }\n            this.setHandlePosition();\n        }\n    };\n    Slider.prototype.tempStartEnd = function () {\n        if (this.min > this.max) {\n            return {\n                start: this.max,\n                end: this.min\n            };\n        }\n        else {\n            return {\n                start: this.min,\n                end: this.max\n            };\n        }\n    };\n    Slider.prototype.xyToPosition = function (position) {\n        var pos;\n        if (this.min === this.max) {\n            return 100;\n        }\n        if (this.orientation === 'Horizontal') {\n            var left = position.x - this.element.getBoundingClientRect().left;\n            var num = this.element.offsetWidth / 100;\n            this.val = (left / num);\n        }\n        else {\n            var top_1 = position.y - this.element.getBoundingClientRect().top;\n            var num = this.element.offsetHeight / 100;\n            this.val = 100 - (top_1 / num);\n        }\n        var val = this.stepValueCalculation(this.val);\n        if (val < 0) {\n            val = 0;\n        }\n        else if (val > 100) {\n            val = 100;\n        }\n        if (this.enableRtl && this.orientation !== 'Vertical') {\n            val = 100 - val;\n        }\n        if (this.orientation === 'Horizontal') {\n            pos = this.element.getBoundingClientRect().width * (val / 100);\n        }\n        else {\n            pos = this.element.getBoundingClientRect().height * (val / 100);\n        }\n        return pos;\n    };\n    Slider.prototype.stepValueCalculation = function (value) {\n        if (this.step === 0) {\n            this.step = 1;\n        }\n        var percentStep = (parseFloat(formatUnit(this.step))) / ((parseFloat(formatUnit(this.max)) - parseFloat(formatUnit(this.min))) / 100);\n        var remain = value % Math.abs(percentStep);\n        if (remain !== 0) {\n            if ((percentStep / 2) > remain) {\n                value -= remain;\n            }\n            else {\n                value += Math.abs(percentStep) - remain;\n            }\n        }\n        return value;\n    };\n    Slider.prototype.add = function (a, b, addition) {\n        var precision;\n        var x = Math.pow(10, precision || 3);\n        var val;\n        if (addition) {\n            val = (Math.round(a * x) + Math.round(b * x)) / x;\n        }\n        else {\n            val = (Math.round(a * x) - Math.round(b * x)) / x;\n        }\n        return val;\n    };\n    Slider.prototype.round = function (a) {\n        var f = this.step.toString().split('.');\n        return f[1] ? parseFloat(a.toFixed(f[1].length)) : Math.round(a);\n    };\n    Slider.prototype.positionToValue = function (pos) {\n        var val;\n        var diff = parseFloat(formatUnit(this.max)) - parseFloat(formatUnit(this.min));\n        if (this.orientation === 'Horizontal') {\n            val = (pos / this.element.getBoundingClientRect().width) * diff;\n        }\n        else {\n            val = (pos / this.element.getBoundingClientRect().height) * diff;\n        }\n        var total = this.add(val, parseFloat(this.min.toString()), true);\n        return (total);\n    };\n    Slider.prototype.sliderBarClick = function (evt) {\n        evt.preventDefault();\n        var pos;\n        if (evt.type === 'mousedown' || evt.type === 'click') {\n            pos = { x: evt.clientX, y: evt.clientY };\n        }\n        else if (evt.type === 'touchstart') {\n            pos = { x: evt.changedTouches[0].clientX, y: evt.changedTouches[0].clientY };\n        }\n        var handlepos = this.xyToPosition(pos);\n        var handleVal = this.positionToValue(handlepos);\n        if (this.type === 'Range' && (this.handlePos2 - handlepos) < (handlepos - this.handlePos1)) {\n            this.activeHandle = 2;\n            if (!(this.limits.enabled && this.limits.endHandleFixed)) {\n                if (this.limits.enabled) {\n                    var value = this.getLimitValueAndPosition(handleVal, this.limits.maxStart, this.limits.maxEnd);\n                    handleVal = value[0];\n                    handlepos = value[1];\n                }\n                this.secondHandle.classList.add(classNames.sliderActiveHandle);\n                this.handlePos2 = this.preHandlePos2 = handlepos;\n                this.handleVal2 = handleVal;\n            }\n            this.modifyZindex();\n            this.secondHandle.focus();\n        }\n        else {\n            this.activeHandle = 1;\n            if (!(this.limits.enabled && this.limits.startHandleFixed)) {\n                if (this.limits.enabled) {\n                    var value = this.getLimitValueAndPosition(handleVal, this.limits.minStart, this.limits.minEnd);\n                    handleVal = value[0];\n                    handlepos = value[1];\n                }\n                this.firstHandle.classList.add(classNames.sliderActiveHandle);\n                this.handlePos1 = this.preHandlePos1 = handlepos;\n                this.handleVal1 = handleVal;\n            }\n            this.modifyZindex();\n            this.firstHandle.focus();\n        }\n        if (this.isMaterial && this.tooltip.isVisible) {\n            var tooltipElement = this.activeHandle === 1 ? this.firstTooltipElement : this.secondTooltipElement;\n            tooltipElement.classList.add(classNames.materialTooltipActive);\n        }\n        var focusedElement = this.element.querySelector('.' + classNames.sliderTabHandle);\n        if (focusedElement && this.getHandle() !== focusedElement) {\n            focusedElement.classList.remove(classNames.sliderTabHandle);\n        }\n        var handle = this.activeHandle === 1 ? this.firstHandle : this.secondHandle;\n        if (evt.target === handle) {\n            if (this.isMaterial && !this.tooltip.isVisible &&\n                !this.getHandle().classList.contains(classNames.sliderTabHandle)) {\n                this.materialChange();\n            }\n            this.tooltipAnimation();\n            return;\n        }\n        if (!this.checkRepeatedValue(handleVal)) {\n            return;\n        }\n        var transition = this.isMaterial && this.tooltip.isVisible ?\n            this.transitionOnMaterialTooltip : this.transition;\n        this.getHandle().style.transition = transition.handle;\n        if (this.type !== 'Default') {\n            this.rangeBar.style.transition = transition.rangeBar;\n        }\n        this.setHandlePosition();\n        if (this.type !== 'Default') {\n            this.setRangeBar();\n        }\n    };\n    Slider.prototype.refreshTooltipOnMove = function () {\n        if (this.tooltip.isVisible) {\n            this.tooltipValue();\n            this.activeHandle === 1 ? this.firstTooltipObj.refresh(this.firstHandle) :\n                this.secondTooltipObj.refresh(this.secondHandle);\n        }\n    };\n    Slider.prototype.sliderDown = function (event) {\n        event.preventDefault();\n        this.focusSliderElement();\n        if (this.type === 'Range' && this.drag && event.target === this.rangeBar) {\n            var xPostion = void 0;\n            var yPostion = void 0;\n            if (event.type === 'mousedown') {\n                _a = [event.clientX, event.clientY], xPostion = _a[0], yPostion = _a[1];\n            }\n            else if (event.type === 'touchstart') {\n                _b = [event.changedTouches[0].clientX, event.changedTouches[0].clientY], xPostion = _b[0], yPostion = _b[1];\n            }\n            if (this.orientation === 'Horizontal') {\n                this.firstPartRemain = xPostion - this.rangeBar.getBoundingClientRect().left;\n                this.secondPartRemain = this.rangeBar.getBoundingClientRect().right - xPostion;\n            }\n            else {\n                this.firstPartRemain = yPostion - this.rangeBar.getBoundingClientRect().top;\n                this.secondPartRemain = this.rangeBar.getBoundingClientRect().bottom - yPostion;\n            }\n            this.minDiff = this.handleVal2 - this.handleVal1;\n            this.getHandle().focus();\n            EventHandler.add(document, 'mousemove touchmove', this.dragRangeBarMove, this);\n            EventHandler.add(document, 'mouseup touchend', this.dragRangeBarUp, this);\n        }\n        else {\n            this.sliderBarClick(event);\n            EventHandler.add(document, 'mousemove touchmove', this.sliderBarMove, this);\n            EventHandler.add(document, 'mouseup touchend', this.sliderBarUp, this);\n        }\n        var _a, _b;\n    };\n    Slider.prototype.handleValueAdjust = function (handleValue, assignValue, handleNumber) {\n        if (handleNumber === 1) {\n            this.handleVal1 = assignValue;\n            this.handleVal2 = this.handleVal1 + this.minDiff;\n        }\n        else if (handleNumber === 2) {\n            this.handleVal2 = assignValue;\n            this.handleVal1 = this.handleVal2 - this.minDiff;\n        }\n        this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n        this.handlePos2 = this.checkHandlePosition(this.handleVal2);\n    };\n    Slider.prototype.dragRangeBarMove = function (event) {\n        if (event.type !== 'touchmove') {\n            event.preventDefault();\n        }\n        var pos;\n        this.rangeBar.style.transition = 'none';\n        this.firstHandle.style.transition = 'none';\n        this.secondHandle.style.transition = 'none';\n        var xPostion;\n        var yPostion;\n        if (event.type === 'mousemove') {\n            _a = [event.clientX, event.clientY], xPostion = _a[0], yPostion = _a[1];\n        }\n        else {\n            _b = [event.changedTouches[0].clientX, event.changedTouches[0].clientY], xPostion = _b[0], yPostion = _b[1];\n        }\n        if (!(this.limits.enabled && this.limits.startHandleFixed) && !(this.limits.enabled && this.limits.endHandleFixed)) {\n            if (!this.enableRtl) {\n                pos = { x: xPostion - this.firstPartRemain, y: yPostion + this.secondPartRemain };\n            }\n            else {\n                pos = { x: xPostion + this.secondPartRemain, y: yPostion + this.secondPartRemain };\n            }\n            this.handlePos1 = this.xyToPosition(pos);\n            this.handleVal1 = this.positionToValue(this.handlePos1);\n            if (!this.enableRtl) {\n                pos = { x: xPostion + this.secondPartRemain, y: yPostion - this.firstPartRemain };\n            }\n            else {\n                pos = { x: xPostion - this.firstPartRemain, y: yPostion - this.firstPartRemain };\n            }\n            this.handlePos2 = this.xyToPosition(pos);\n            this.handleVal2 = this.positionToValue(this.handlePos2);\n            if (this.limits.enabled) {\n                var value = this.getLimitValueAndPosition(this.handleVal1, this.limits.minStart, this.limits.minEnd);\n                this.handleVal1 = value[0];\n                this.handlePos1 = value[1];\n                if (this.handleVal1 === this.limits.minEnd) {\n                    this.handleValueAdjust(this.handleVal1, this.limits.minEnd, 1);\n                }\n                if (this.handleVal1 === this.limits.minStart) {\n                    this.handleValueAdjust(this.handleVal1, this.limits.minStart, 1);\n                }\n                value = this.getLimitValueAndPosition(this.handleVal2, this.limits.maxStart, this.limits.maxEnd);\n                this.handleVal2 = value[0];\n                this.handlePos2 = value[1];\n                if (this.handleVal2 === this.limits.maxStart) {\n                    this.handleValueAdjust(this.handleVal2, this.limits.maxStart, 2);\n                }\n                if (this.handleVal2 === this.limits.maxEnd) {\n                    this.handleValueAdjust(this.handleVal2, this.limits.maxEnd, 2);\n                }\n            }\n            if (this.handleVal2 === this.max) {\n                this.handleValueAdjust(this.handleVal2, this.max, 2);\n            }\n            if (this.handleVal1 === this.min) {\n                this.handleValueAdjust(this.handleVal1, this.min, 1);\n            }\n        }\n        this.activeHandle = 1;\n        this.setHandlePosition();\n        if (this.tooltip.isVisible) {\n            if (this.isMaterial) {\n                !this.firstTooltipElement.classList.contains(classNames.materialTooltipOpen) ? this.openMaterialTooltip() :\n                    this.refreshTooltipOnMove();\n            }\n            else {\n                !this.firstTooltipElement ? this.openTooltip() : this.refreshTooltipOnMove();\n            }\n        }\n        this.activeHandle = 2;\n        this.setHandlePosition();\n        if (this.tooltip.isVisible) {\n            if (this.isMaterial) {\n                !this.secondTooltipElement.classList.contains(classNames.materialTooltipOpen) ? this.openMaterialTooltip() :\n                    this.refreshTooltipOnMove();\n            }\n            else {\n                !this.secondTooltipElement ? this.openTooltip() : this.refreshTooltipOnMove();\n            }\n        }\n        this.setRangeBar();\n        var _a, _b;\n    };\n    Slider.prototype.sliderBarUp = function () {\n        this.changeEvent('changed');\n        this.handleFocusOut();\n        this.firstHandle.classList.remove(classNames.sliderActiveHandle);\n        if (this.type === 'Range') {\n            this.secondHandle.classList.remove(classNames.sliderActiveHandle);\n        }\n        if (this.tooltip.isVisible) {\n            if (this.tooltip.showOn !== 'Always') {\n                this.closeTooltip();\n            }\n            if (!this.isMaterial) {\n                var tooltipObj = this.activeHandle === 1 ? this.firstTooltipObj : this.secondTooltipObj;\n                tooltipObj.animation = { open: { effect: 'None' }, close: { effect: 'None' } };\n            }\n        }\n        if (this.isMaterial) {\n            this.getHandle().classList.remove('e-large-thumb-size');\n            if (this.tooltip.isVisible) {\n                var tooltipElement = this.activeHandle === 1 ? this.firstTooltipElement : this.secondTooltipElement;\n                tooltipElement.classList.remove(classNames.materialTooltipActive);\n            }\n        }\n        EventHandler.remove(document, 'mousemove touchmove', this.sliderBarMove);\n        EventHandler.remove(document, 'mouseup touchend', this.sliderBarUp);\n    };\n    Slider.prototype.sliderBarMove = function (evt) {\n        if (evt.type !== 'touchmove') {\n            evt.preventDefault();\n        }\n        var pos;\n        if (evt.type === 'mousemove') {\n            pos = { x: evt.clientX, y: evt.clientY };\n        }\n        else {\n            pos = { x: evt.changedTouches[0].clientX, y: evt.changedTouches[0].clientY };\n        }\n        var handlepos = this.xyToPosition(pos);\n        var handleVal = this.positionToValue(handlepos);\n        handlepos = Math.round(handlepos);\n        if (this.type !== 'Range' && this.activeHandle === 1) {\n            if (!(this.limits.enabled && this.limits.startHandleFixed)) {\n                if (this.limits.enabled) {\n                    var valueAndPostion = this.getLimitValueAndPosition(handleVal, this.limits.minStart, this.limits.minEnd);\n                    handlepos = valueAndPostion[1];\n                    handleVal = valueAndPostion[0];\n                }\n                this.handlePos1 = handlepos;\n                this.handleVal1 = handleVal;\n            }\n            this.firstHandle.classList.add(classNames.sliderActiveHandle);\n        }\n        if (this.type === 'Range') {\n            if (this.activeHandle === 1) {\n                this.firstHandle.classList.add(classNames.sliderActiveHandle);\n                if (!(this.limits.enabled && this.limits.startHandleFixed)) {\n                    if (handlepos > this.handlePos2) {\n                        handlepos = this.handlePos2;\n                        handleVal = this.handleVal2;\n                    }\n                    if (handlepos !== this.preHandlePos1) {\n                        if (this.limits.enabled) {\n                            var value = this.getLimitValueAndPosition(handleVal, this.limits.minStart, this.limits.minEnd);\n                            handleVal = value[0];\n                            handlepos = value[1];\n                        }\n                        this.handlePos1 = this.preHandlePos1 = handlepos;\n                        this.handleVal1 = handleVal;\n                        this.activeHandle = 1;\n                    }\n                }\n            }\n            else if (this.activeHandle === 2) {\n                this.secondHandle.classList.add(classNames.sliderActiveHandle);\n                if (!(this.limits.enabled && this.limits.endHandleFixed)) {\n                    if (handlepos < this.handlePos1) {\n                        handlepos = this.handlePos1;\n                        handleVal = this.handleVal1;\n                    }\n                    if (handlepos !== this.preHandlePos2) {\n                        if (this.limits.enabled) {\n                            var value = this.getLimitValueAndPosition(handleVal, this.limits.maxStart, this.limits.maxEnd);\n                            handleVal = value[0];\n                            handlepos = value[1];\n                        }\n                        this.handlePos2 = this.preHandlePos2 = handlepos;\n                        this.handleVal2 = handleVal;\n                        this.activeHandle = 2;\n                    }\n                }\n            }\n        }\n        if (!this.checkRepeatedValue(handleVal)) {\n            return;\n        }\n        this.getHandle().style.transition = this.scaleTransform;\n        if (this.type !== 'Default') {\n            this.rangeBar.style.transition = 'none';\n        }\n        this.setHandlePosition();\n        if (this.isMaterial && !this.tooltip.isVisible &&\n            !this.getHandle().classList.contains(classNames.sliderTabHandle)) {\n            this.materialChange();\n        }\n        var tooltipElement = this.activeHandle === 1 ? this.firstTooltipElement : this.secondTooltipElement;\n        if (this.tooltip.isVisible) {\n            if (this.isMaterial) {\n                !tooltipElement.classList.contains(classNames.materialTooltipOpen) ? this.openMaterialTooltip() :\n                    this.refreshTooltipOnMove();\n            }\n            else {\n                !tooltipElement ? this.openTooltip() : this.refreshTooltipOnMove();\n            }\n        }\n        if (this.type !== 'Default') {\n            this.setRangeBar();\n        }\n    };\n    Slider.prototype.dragRangeBarUp = function (event) {\n        this.changeEvent('changed');\n        if (this.tooltip.isVisible) {\n            if (this.tooltip.showOn !== 'Always' && !this.isMaterial) {\n                this.activeHandle = 1;\n                this.firstTooltipObj.animation = { open: { effect: 'None' }, close: { effect: 'FadeOut', duration: 500 } };\n                this.closeTooltip();\n                this.activeHandle = 2;\n                this.secondTooltipObj.animation = { open: { effect: 'None' }, close: { effect: 'FadeOut', duration: 500 } };\n                this.closeTooltip();\n            }\n        }\n        EventHandler.remove(document, 'mousemove touchmove', this.dragRangeBarMove);\n        EventHandler.remove(document, 'mouseup touchend', this.dragRangeBarUp);\n    };\n    Slider.prototype.checkRepeatedValue = function (currentValue) {\n        if (this.type === 'Range') {\n            var previousVal = this.enableRtl && this.orientation !== 'Vertical' ? (this.activeHandle === 1 ?\n                this.previousVal[1] : this.previousVal[0]) :\n                (this.activeHandle === 1 ? this.previousVal[0] : this.previousVal[1]);\n            if (currentValue === previousVal) {\n                return 0;\n            }\n        }\n        else {\n            if (currentValue === this.previousVal) {\n                return 0;\n            }\n        }\n        return 1;\n    };\n    Slider.prototype.refreshTooltip = function () {\n        if (this.tooltip.isVisible && this.firstTooltipObj) {\n            this.tooltipValue();\n            this.firstTooltipObj.refresh(this.firstHandle);\n            if (this.type === 'Range') {\n                this.secondTooltipObj.refresh(this.secondHandle);\n            }\n        }\n    };\n    Slider.prototype.openTooltip = function () {\n        if (this.tooltip.isVisible && this.firstTooltipObj) {\n            this.tooltipValue();\n            if (this.isMaterial) {\n                this.openMaterialTooltip();\n            }\n            else {\n                if (this.activeHandle === 1) {\n                    this.firstTooltipObj.open(this.firstHandle);\n                }\n                else {\n                    this.secondTooltipObj.open(this.secondHandle);\n                }\n            }\n        }\n    };\n    Slider.prototype.keyDown = function (event) {\n        switch (event.keyCode) {\n            case 37:\n            case 38:\n            case 39:\n            case 40:\n            case 33:\n            case 34:\n            case 36:\n            case 35:\n                event.preventDefault();\n                this.buttonClick(event);\n                if (this.tooltip.isVisible && this.tooltip.showOn !== 'Always' && !this.isMaterial) {\n                    this.closeTooltip();\n                }\n                break;\n        }\n    };\n    Slider.prototype.wireButtonEvt = function (destroy) {\n        if (!destroy) {\n            EventHandler.add(this.firstBtn, 'mouseleave touchleave', this.buttonFocusOut, this);\n            EventHandler.add(this.secondBtn, 'mouseleave touchleave', this.buttonFocusOut, this);\n            EventHandler.add(this.firstBtn, 'mousedown touchstart', this.repeatHandlerMouse, this);\n            EventHandler.add(this.firstBtn, 'mouseup mouseleave touchup touchend', this.repeatHandlerUp, this);\n            EventHandler.add(this.secondBtn, 'mousedown touchstart', this.repeatHandlerMouse, this);\n            EventHandler.add(this.secondBtn, 'mouseup mouseleave touchup touchend', this.repeatHandlerUp, this);\n            EventHandler.add(this.firstBtn, 'focusout', this.sliderFocusOut, this);\n            EventHandler.add(this.secondBtn, 'focusout', this.sliderFocusOut, this);\n        }\n        else {\n            EventHandler.remove(this.firstBtn, 'mouseleave touchleave', this.buttonFocusOut);\n            EventHandler.remove(this.secondBtn, 'mouseleave touchleave', this.buttonFocusOut);\n            EventHandler.remove(this.firstBtn, 'mousedown touchstart', this.repeatHandlerMouse);\n            EventHandler.remove(this.firstBtn, 'mouseup mouseleave touchup touchend', this.repeatHandlerUp);\n            EventHandler.remove(this.secondBtn, 'mousedown touchstart', this.repeatHandlerMouse);\n            EventHandler.remove(this.secondBtn, 'mouseup mouseleave touchup touchend', this.repeatHandlerUp);\n            EventHandler.remove(this.firstBtn, 'focusout', this.sliderFocusOut);\n            EventHandler.remove(this.secondBtn, 'focusout', this.sliderFocusOut);\n        }\n    };\n    Slider.prototype.wireEvents = function () {\n        this.onresize = this.onResize.bind(this);\n        window.addEventListener('resize', this.onresize);\n        if (this.enabled && !this.readonly) {\n            EventHandler.add(this.element, 'mousedown touchstart', this.sliderDown, this);\n            EventHandler.add(this.sliderContainer, 'keydown', this.keyDown, this);\n            EventHandler.add(this.sliderContainer, 'keyup', this.keyUp, this);\n            EventHandler.add(this.element, 'focusout', this.sliderFocusOut, this);\n            EventHandler.add(this.sliderContainer, 'mouseover mouseout touchstart touchend', this.hover, this);\n            this.wireFirstHandleEvt(false);\n            if (this.type === 'Range') {\n                this.wireSecondHandleEvt(false);\n            }\n            if (this.showButtons) {\n                this.wireButtonEvt(false);\n            }\n            this.wireMaterialTooltipEvent(false);\n        }\n    };\n    Slider.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'mousedown touchstart', this.sliderDown);\n        EventHandler.remove(this.sliderContainer, 'keydown', this.keyDown);\n        EventHandler.remove(this.sliderContainer, 'keyup', this.keyUp);\n        EventHandler.remove(this.element, 'focusout', this.sliderFocusOut);\n        EventHandler.remove(this.sliderContainer, 'mouseover mouseout touchstart touchend', this.hover);\n        this.wireFirstHandleEvt(true);\n        if (this.type === 'Range') {\n            this.wireSecondHandleEvt(true);\n        }\n        if (this.showButtons) {\n            this.wireButtonEvt(true);\n        }\n        this.wireMaterialTooltipEvent(true);\n    };\n    Slider.prototype.keyUp = function (event) {\n        if (event.keyCode === 9 && event.target.classList.contains(classNames.sliderHandle)) {\n            this.focusSliderElement();\n            if (!event.target.classList.contains(classNames.sliderTabHandle)) {\n                if (this.element.querySelector('.' + classNames.sliderTabHandle)) {\n                    this.element.querySelector('.' + classNames.sliderTabHandle).classList.remove(classNames.sliderTabHandle);\n                }\n                event.target.classList.add(classNames.sliderTabHandle);\n                var parentElement = event.target.parentElement;\n                if (parentElement === this.element) {\n                    parentElement.querySelector('.' + classNames.sliderTrack).classList.add(classNames.sliderTabTrack);\n                    if (this.type === 'Range' || this.type === 'MinRange') {\n                        parentElement.querySelector('.' + classNames.rangeBar).classList.add(classNames.sliderTabRange);\n                    }\n                }\n                if (this.type === 'Range') {\n                    (event.target.previousSibling).classList.contains(classNames.sliderHandle) ?\n                        this.activeHandle = 2 : this.activeHandle = 1;\n                }\n                this.getHandle().focus();\n                this.tooltipAnimation();\n                if (this.tooltip.isVisible && this.tooltip.showOn !== 'Always' && !this.isMaterial) {\n                    this.closeTooltip();\n                }\n            }\n        }\n        this.changeEvent('changed');\n    };\n    Slider.prototype.hover = function (event) {\n        if (!isNullOrUndefined(event)) {\n            if (event.type === 'mouseover' || event.type === 'touchmove' || event.type === 'mousemove' ||\n                event.type === 'pointermove' || event.type === 'touchstart') {\n                this.sliderContainer.classList.add(classNames.sliderHover);\n            }\n            else {\n                this.sliderContainer.classList.remove(classNames.sliderHover);\n            }\n        }\n    };\n    Slider.prototype.sliderFocusOut = function (event) {\n        var _this = this;\n        if (event.relatedTarget !== this.secondHandle && event.relatedTarget !== this.firstHandle &&\n            event.relatedTarget !== this.element && event.relatedTarget !== this.firstBtn && event.relatedTarget !== this.secondBtn) {\n            if (this.isMaterial && this.tooltip.isVisible) {\n                var transformProperties_1 = this.getTooltipTransformProperties(this.previousTooltipClass);\n                var tooltipElement = this.type !== 'Range' ? [this.firstTooltipElement] :\n                    [this.firstTooltipElement, this.secondTooltipElement];\n                var hiddenHandle_1 = this.type !== 'Range' ? [this.firstHandle] : [this.firstHandle, this.secondHandle];\n                var handle_1 = this.type !== 'Range' ? [this.firstMaterialHandle] :\n                    [this.firstMaterialHandle, this.secondMaterialHandle];\n                tooltipElement.forEach(function (tooltipElement, index) {\n                    if (tooltipElement) {\n                        tooltipElement.style.transition = _this.scaleTransform;\n                        tooltipElement.firstChild.classList.remove(classNames.materialTooltipShow);\n                        tooltipElement.firstChild.classList.add(classNames.materialTooltipHide);\n                        hiddenHandle_1[index].style.cursor = '-webkit-grab';\n                        hiddenHandle_1[index].style.cursor = 'grab';\n                        handle_1[index].style.transform = 'scale(1)';\n                        tooltipElement.classList.remove(classNames.materialTooltipOpen);\n                        if (tooltipElement.firstElementChild.innerText.length > 4) {\n                            tooltipElement.style.transform = transformProperties_1.translate + ' ' + 'scale(0.01)';\n                        }\n                        else {\n                            tooltipElement.style.transform = transformProperties_1.translate + ' ' +\n                                transformProperties_1.rotate + ' ' + 'scale(0.01)';\n                        }\n                        setTimeout(function () { tooltipElement.style.transition = 'none'; }, 2500);\n                    }\n                });\n            }\n            if (this.element.querySelector('.' + classNames.sliderTabHandle)) {\n                this.element.querySelector('.' + classNames.sliderTabHandle).classList.remove(classNames.sliderTabHandle);\n            }\n            if (this.element.querySelector('.' + classNames.sliderTabTrack)) {\n                this.element.querySelector('.' + classNames.sliderTabTrack).classList.remove(classNames.sliderTabTrack);\n                if ((this.type === 'Range' || this.type === 'MinRange') &&\n                    this.element.querySelector('.' + classNames.sliderTabRange)) {\n                    this.element.querySelector('.' + classNames.sliderTabRange).classList.remove(classNames.sliderTabRange);\n                }\n            }\n            this.hiddenInput.focus();\n            this.hiddenInput.blur();\n            this.isElementFocused = false;\n        }\n    };\n    Slider.prototype.closeTooltip = function () {\n        if (this.tooltip.isVisible) {\n            this.tooltipValue();\n            if (this.activeHandle === 1) {\n                this.firstTooltipObj.close();\n            }\n            else {\n                this.secondTooltipObj.close();\n            }\n        }\n    };\n    Slider.prototype.removeElement = function (element) {\n        if (element.parentNode) {\n            element.parentNode.removeChild(element);\n        }\n    };\n    Slider.prototype.changeSliderType = function (type) {\n        if (this.isMaterial && this.firstMaterialHandle) {\n            this.sliderContainer.classList.remove(classNames.materialSlider);\n            this.removeElement(this.firstMaterialHandle);\n            this.firstTooltipElement = undefined;\n            this.firstHandleTooltipPosition = undefined;\n            if (this.secondMaterialHandle) {\n                this.removeElement(this.secondMaterialHandle);\n                this.secondTooltipElement = undefined;\n                this.secondHandleTooltipPosition = undefined;\n            }\n        }\n        if (this.tooltip.isVisible && this.isMaterial) {\n            this.sliderContainer.classList.add(classNames.materialSlider);\n        }\n        this.removeElement(this.firstHandle);\n        if (type !== 'Default') {\n            if (type === 'Range') {\n                this.removeElement(this.secondHandle);\n            }\n            this.removeElement(this.rangeBar);\n        }\n        if (this.tooltip.isVisible && !isNullOrUndefined(this.firstTooltipObj)) {\n            this.firstTooltipObj.destroy();\n            if (type === 'Range' && !isNullOrUndefined(this.secondTooltipObj)) {\n                this.secondTooltipObj.destroy();\n            }\n        }\n        if (this.limits.enabled && type === 'MinRange' || type === 'Default') {\n            if (!isNullOrUndefined(this.limitBarFirst)) {\n                this.removeElement(this.limitBarFirst);\n            }\n        }\n        if (type === 'Range') {\n            if (this.limits.enabled) {\n                if (!isNullOrUndefined(this.limitBarFirst) && !isNullOrUndefined(this.limitBarSecond)) {\n                    this.removeElement(this.limitBarFirst);\n                    this.removeElement(this.limitBarSecond);\n                }\n            }\n        }\n        this.createRangeBar();\n        if (this.limits.enabled) {\n            this.createLimitBar();\n        }\n        this.setHandler();\n        this.setOrientClass();\n        this.wireFirstHandleEvt(false);\n        if (this.type === 'Range') {\n            this.wireSecondHandleEvt(false);\n        }\n        this.setValue();\n        if (this.tooltip.isVisible) {\n            this.renderTooltip();\n            this.wireMaterialTooltipEvent(false);\n        }\n        this.updateConfig();\n    };\n    Slider.prototype.changeRtl = function () {\n        if (!this.enableRtl && this.type === 'Range') {\n            this.value = [this.handleVal2, this.handleVal1];\n        }\n        this.updateConfig();\n        if (this.tooltip.isVisible) {\n            this.firstTooltipObj.refresh(this.firstHandle);\n            if (this.type === 'Range') {\n                this.secondTooltipObj.refresh(this.secondHandle);\n            }\n        }\n        if (this.showButtons) {\n            var enabledRTL = this.enableRtl && this.orientation !== 'Vertical';\n            attributes(enabledRTL ? this.secondBtn : this.firstBtn, { 'aria-label': 'Decrease', title: 'Decrease' });\n            attributes(enabledRTL ? this.firstBtn : this.secondBtn, { 'aria-label': 'Increase', title: 'Increase' });\n        }\n    };\n    Slider.prototype.changeOrientation = function () {\n        this.changeSliderType(this.type);\n    };\n    Slider.prototype.updateConfig = function () {\n        this.setEnableRTL();\n        this.setValue();\n        if (this.tooltip.isVisible) {\n            this.refreshTooltip();\n        }\n        if (this.ticks.placement !== 'None') {\n            if (this.ul) {\n                this.removeElement(this.ul);\n                this.renderScale();\n            }\n        }\n        this.limitsPropertyChange();\n    };\n    Slider.prototype.limitsPropertyChange = function () {\n        if (this.limits.enabled) {\n            if (isNullOrUndefined(this.limitBarFirst) && this.type !== 'Range') {\n                this.createLimitBar();\n            }\n            if (isNullOrUndefined(this.limitBarFirst) && isNullOrUndefined(this.limitBarSecond) && this.type === 'Range') {\n                this.createLimitBar();\n            }\n            this.setLimitBar();\n            this.setValue();\n        }\n        else {\n            if (!isNullOrUndefined(this.limitBarFirst)) {\n                detach(this.limitBarFirst);\n            }\n            if (!isNullOrUndefined(this.limitBarSecond)) {\n                detach(this.limitBarSecond);\n            }\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @private\n     */\n    Slider.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Prepares the slider for safe removal from the DOM.\n     * Detaches all event handlers, attributes, and classes to avoid memory leaks.\n     * @method destroy\n     * @return {void}\n     */\n    Slider.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.unwireEvents();\n        window.removeEventListener('resize', this.onresize);\n        removeClass([this.sliderContainer], [classNames.sliderDisabled]);\n        this.firstHandle.removeAttribute('aria-orientation');\n        if (this.type === 'Range') {\n            this.secondHandle.removeAttribute('aria-orientation');\n        }\n        this.sliderContainer.parentNode.insertBefore(this.element, this.sliderContainer);\n        detach(this.sliderContainer);\n        if (this.tooltip.isVisible) {\n            this.firstTooltipObj.destroy();\n            if (this.type === 'Range' && !isNullOrUndefined(this.secondTooltipObj)) {\n                this.secondTooltipObj.destroy();\n            }\n        }\n        this.element.innerHTML = '';\n    };\n    /**\n     * Calls internally if any of the property value is changed.\n     * @private\n     */\n    Slider.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var _this = this;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'cssClass':\n                    this.setCSSClass(oldProp.cssClass);\n                    break;\n                case 'value':\n                    if (!isNullOrUndefined(oldProp.value) && !isNullOrUndefined(newProp.value)) {\n                        if (oldProp.value.toString() !== newProp.value.toString()) {\n                            this.setValue();\n                            this.refreshTooltip();\n                            if (this.type === 'Range') {\n                                if (oldProp.value[0] === newProp.value[0]) {\n                                    this.activeHandle = 2;\n                                }\n                                else {\n                                    this.activeHandle = 1;\n                                }\n                            }\n                        }\n                    }\n                    break;\n                case 'min':\n                case 'step':\n                case 'max':\n                    this.setMinMaxValue();\n                    break;\n                case 'tooltip':\n                    if (!isNullOrUndefined(newProp.tooltip) && !isNullOrUndefined(oldProp.tooltip)) {\n                        this.setTooltip();\n                    }\n                    break;\n                case 'type':\n                    this.changeSliderType(oldProp.type);\n                    this.setZindex();\n                    break;\n                case 'enableRtl':\n                    if (oldProp.enableRtl !== newProp.enableRtl && this.orientation !== 'Vertical') {\n                        this.rtl = oldProp.enableRtl;\n                        this.changeRtl();\n                    }\n                    break;\n                case 'limits':\n                    this.limitsPropertyChange();\n                    break;\n                case 'orientation':\n                    this.changeOrientation();\n                    break;\n                case 'ticks':\n                    if (!isNullOrUndefined(this.sliderContainer.querySelector('.' + classNames.scale))) {\n                        detach(this.ul);\n                        Array.prototype.forEach.call(this.sliderContainer.classList, function (className) {\n                            if (className.match(/e-scale-/)) {\n                                _this.sliderContainer.classList.remove(className);\n                            }\n                        });\n                    }\n                    if (this.ticks.placement !== 'None') {\n                        this.renderScale();\n                        this.setZindex();\n                    }\n                    break;\n                case 'locale':\n                    if (this.showButtons) {\n                        this.buttonTitle();\n                    }\n                    break;\n                case 'showButtons':\n                    if (newProp.showButtons) {\n                        this.setButtons();\n                        this.onResize();\n                        if (this.enabled && !this.readonly) {\n                            this.wireButtonEvt(false);\n                        }\n                    }\n                    else {\n                        if (this.firstBtn && this.secondBtn) {\n                            this.sliderContainer.removeChild(this.firstBtn);\n                            this.sliderContainer.removeChild(this.secondBtn);\n                            this.firstBtn = undefined;\n                            this.secondBtn = undefined;\n                        }\n                    }\n                    break;\n                case 'enabled':\n                    this.setEnabled();\n                    break;\n                case 'readonly':\n                    this.setReadOnly();\n                    break;\n                case 'customValue':\n                    this.setValue();\n                    this.onResize();\n                    break;\n            }\n        }\n    };\n    Slider.prototype.setReadOnly = function () {\n        if (this.readonly) {\n            this.unwireEvents();\n            this.sliderContainer.classList.add(classNames.readonly);\n        }\n        else {\n            this.wireEvents();\n            this.sliderContainer.classList.remove(classNames.readonly);\n        }\n    };\n    Slider.prototype.setMinMaxValue = function () {\n        var _this = this;\n        this.setValue();\n        this.refreshTooltip();\n        if (!isNullOrUndefined(this.sliderContainer.querySelector('.' + classNames.scale))) {\n            if (this.ul) {\n                detach(this.ul);\n                Array.prototype.forEach.call(this.sliderContainer.classList, function (className) {\n                    if (className.match(/e-scale-/)) {\n                        _this.sliderContainer.classList.remove(className);\n                    }\n                });\n            }\n        }\n        if (this.ticks.placement !== 'None') {\n            this.renderScale();\n            this.setZindex();\n        }\n    };\n    Slider.prototype.setZindex = function () {\n        this.zIndex = 6;\n        if (!isNullOrUndefined(this.ticks) && this.ticks.placement !== 'None') {\n            this.ul.style.zIndex = (this.zIndex + -7) + '';\n            this.element.style.zIndex = (this.zIndex + 2) + '';\n        }\n        if (!this.isMaterial && !isNullOrUndefined(this.ticks) && this.ticks.placement === 'Both') {\n            this.element.style.zIndex = (this.zIndex + 2) + '';\n        }\n        this.firstHandle.style.zIndex = (this.zIndex + 3) + '';\n        if (this.type === 'Range') {\n            this.secondHandle.style.zIndex = (this.zIndex + 4) + '';\n        }\n    };\n    Slider.prototype.setTooltip = function () {\n        this.changeSliderType(this.type);\n    };\n    /**\n     * Gets the component name\n     * @private\n     */\n    Slider.prototype.getModuleName = function () {\n        return 'slider';\n    };\n    __decorate([\n        Property(null)\n    ], Slider.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], Slider.prototype, \"customValues\", void 0);\n    __decorate([\n        Property(1)\n    ], Slider.prototype, \"step\", void 0);\n    __decorate([\n        Property(0)\n    ], Slider.prototype, \"min\", void 0);\n    __decorate([\n        Property(100)\n    ], Slider.prototype, \"max\", void 0);\n    __decorate([\n        Property(false)\n    ], Slider.prototype, \"readonly\", void 0);\n    __decorate([\n        Property('Default')\n    ], Slider.prototype, \"type\", void 0);\n    __decorate([\n        Complex({}, TicksData)\n    ], Slider.prototype, \"ticks\", void 0);\n    __decorate([\n        Complex({}, LimitData)\n    ], Slider.prototype, \"limits\", void 0);\n    __decorate([\n        Property(true)\n    ], Slider.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(false)\n    ], Slider.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Complex({}, TooltipData)\n    ], Slider.prototype, \"tooltip\", void 0);\n    __decorate([\n        Property(false)\n    ], Slider.prototype, \"showButtons\", void 0);\n    __decorate([\n        Property(true)\n    ], Slider.prototype, \"enableAnimation\", void 0);\n    __decorate([\n        Property('Horizontal')\n    ], Slider.prototype, \"orientation\", void 0);\n    __decorate([\n        Property('')\n    ], Slider.prototype, \"cssClass\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"changed\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"renderingTicks\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"renderedTicks\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"tooltipChange\", void 0);\n    Slider = __decorate([\n        NotifyPropertyChanges\n    ], Slider);\n    return Slider;\n}(Component));\nexport { Slider };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, Event, EventHandler, L10n, compile, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, detach, append, Animation } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, KeyboardEvents, setValue, getValue, ChildProperty } from '@syncfusion/ej2-base';\nimport { Collection, Complex, Browser, Ajax } from '@syncfusion/ej2-base';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nvar ROOT = 'e-uploader';\nvar CONTROL_WRAPPER = 'e-upload';\nvar INPUT_WRAPPER = 'e-file-select';\nvar DROP_AREA = 'e-file-drop';\nvar DROP_WRAPPER = 'e-file-select-wrap';\nvar LIST_PARENT = 'e-upload-files';\nvar FILE = 'e-upload-file-list';\nvar STATUS = 'e-file-status';\nvar ACTION_BUTTONS = 'e-upload-actions';\nvar UPLOAD_BUTTONS = 'e-file-upload-btn e-css e-btn e-flat e-primary';\nvar CLEAR_BUTTONS = 'e-file-clear-btn e-css e-btn e-flat';\nvar FILE_NAME = 'e-file-name';\nvar FILE_TYPE = 'e-file-type';\nvar FILE_SIZE = 'e-file-size';\nvar CLEAR_ICON = 'e-file-remove-btn';\nvar REMOVE_ICON = 'e-file-delete-btn';\nvar ABORT_ICON = 'e-file-abort-btn';\nvar RETRY_ICON = 'e-file-reload-btn';\nvar DRAG_HOVER = 'e-upload-drag-hover';\nvar PROGRESS_WRAPPER = 'e-upload-progress-wrap';\nvar PROGRESSBAR = 'e-upload-progress-bar';\nvar PROGRESSBAR_TEXT = 'e-progress-bar-text';\nvar UPLOAD_INPROGRESS = 'e-upload-progress';\nvar UPLOAD_SUCCESS = 'e-upload-success';\nvar UPLOAD_FAILED = 'e-upload-fails';\nvar TEXT_CONTAINER = 'e-file-container';\nvar VALIDATION_FAILS = 'e-validation-fails';\nvar RTL = 'e-rtl';\nvar DISABLED = 'e-disabled';\nvar RTL_CONTAINER = 'e-rtl-container';\nvar ICON_FOCUSED = 'e-clear-icon-focus';\nvar PROGRESS_INNER_WRAPPER = 'e-progress-inner-wrap';\nvar PAUSE_UPLOAD = 'e-file-pause-btn';\nvar RESUME_UPLOAD = 'e-file-play-btn';\nvar FilesProp = /** @class */ (function (_super) {\n    __extends(FilesProp, _super);\n    function FilesProp() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], FilesProp.prototype, \"name\", void 0);\n    __decorate([\n        Property(null)\n    ], FilesProp.prototype, \"size\", void 0);\n    __decorate([\n        Property('')\n    ], FilesProp.prototype, \"type\", void 0);\n    return FilesProp;\n}(ChildProperty));\nexport { FilesProp };\nvar ButtonsProps = /** @class */ (function (_super) {\n    __extends(ButtonsProps, _super);\n    function ButtonsProps() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Browse...')\n    ], ButtonsProps.prototype, \"browse\", void 0);\n    __decorate([\n        Property('Upload')\n    ], ButtonsProps.prototype, \"upload\", void 0);\n    __decorate([\n        Property('Clear')\n    ], ButtonsProps.prototype, \"clear\", void 0);\n    return ButtonsProps;\n}(ChildProperty));\nexport { ButtonsProps };\nvar AsyncSettings = /** @class */ (function (_super) {\n    __extends(AsyncSettings, _super);\n    function AsyncSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], AsyncSettings.prototype, \"saveUrl\", void 0);\n    __decorate([\n        Property('')\n    ], AsyncSettings.prototype, \"removeUrl\", void 0);\n    __decorate([\n        Property(0)\n    ], AsyncSettings.prototype, \"chunkSize\", void 0);\n    __decorate([\n        Property(3)\n    ], AsyncSettings.prototype, \"retryCount\", void 0);\n    __decorate([\n        Property(500)\n    ], AsyncSettings.prototype, \"retryAfterDelay\", void 0);\n    return AsyncSettings;\n}(ChildProperty));\nexport { AsyncSettings };\n/**\n * The uploader component allows to upload images, documents, and other files from local to server.\n * ```html\n * <input type='file' name='images[]' id='upload'/>\n * ```\n * ```typescript\n * <script>\n *   var uploadObj = new Uploader();\n *   uploadObj.appendTo('#upload');\n * </script>\n * ```\n */\nvar Uploader = /** @class */ (function (_super) {\n    __extends(Uploader, _super);\n    /**\n     * Triggers when change the Uploader value.\n     */\n    function Uploader(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.initialAttr = { accept: null, multiple: false, disabled: false };\n        _this.fileList = [];\n        _this.filesData = [];\n        _this.uploadedFilesData = [];\n        _this.isForm = false;\n        _this.allTypes = false;\n        _this.pausedData = [];\n        _this.uploadMetaData = [];\n        return _this;\n    }\n    /**\n     * Calls internally if any of the property value is changed.\n     * @private\n     */\n    Uploader.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowedExtensions':\n                    this.setExtensions(this.allowedExtensions);\n                    this.clearAll();\n                    break;\n                case 'enabled':\n                    this.setControlStatus();\n                    break;\n                case 'multiple':\n                    this.setMultipleSelection();\n                    break;\n                case 'enableRtl':\n                    this.setRTL();\n                    this.reRenderFileList();\n                    break;\n                case 'buttons':\n                    this.buttons.browse = isNullOrUndefined(this.buttons.browse) ? '' : this.buttons.browse;\n                    this.buttons.clear = isNullOrUndefined(this.buttons.clear) ? '' : this.buttons.clear;\n                    this.buttons.upload = isNullOrUndefined(this.buttons.upload) ? '' : this.buttons.upload;\n                    this.renderButtonTemplates();\n                    break;\n                case 'dropArea':\n                    this.unBindDropEvents();\n                    this.setDropArea();\n                    break;\n                case 'files':\n                    this.renderPreLoadFiles();\n                    break;\n                case 'minFileSize':\n                case 'maxFileSize':\n                case 'template':\n                case 'autoUpload':\n                    this.clearAll();\n                    break;\n                case 'locale':\n                    this.l10n.setLocale(this.locale);\n                    this.setLocalizedTexts();\n                    this.preLocaleObj = getValue('currentLocale', this.l10n);\n                    break;\n            }\n        }\n    };\n    Uploader.prototype.setLocalizedTexts = function () {\n        if (isNullOrUndefined(this.template)) {\n            if (typeof (this.buttons.browse) === 'string') {\n                this.browseButton.innerText = (this.buttons.browse === 'Browse...') ?\n                    this.localizedTexts('Browse') : this.buttons.browse;\n                this.browseButton.setAttribute('title', this.browseButton.innerText);\n                this.uploadWrapper.querySelector('.' + DROP_AREA).innerHTML = this.localizedTexts('dropFilesHint');\n            }\n            this.updateFileList();\n        }\n    };\n    Uploader.prototype.getKeyValue = function (val) {\n        var keyValue;\n        for (var _i = 0, _a = Object.keys(this.preLocaleObj); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (this.preLocaleObj[key] === val) {\n                keyValue = key;\n            }\n        }\n        return keyValue;\n    };\n    Uploader.prototype.updateFileList = function () {\n        var element;\n        if (this.fileList.length > 0 && !isNullOrUndefined(this.uploadWrapper.querySelector('.' + LIST_PARENT))) {\n            for (var i = 0; i < this.fileList.length; i++) {\n                element = this.fileList[i].querySelector('.e-file-status');\n                element.innerHTML = this.localizedTexts(this.getKeyValue(this.filesData[i].status));\n                this.filesData[i].status = this.localizedTexts(this.getKeyValue(this.filesData[i].status));\n                /* istanbul ignore next */\n                if (this.fileList[i].classList.contains(UPLOAD_SUCCESS)) {\n                    this.fileList[i].querySelector('.e-icons').setAttribute('title', this.localizedTexts('remove'));\n                }\n                else {\n                    this.fileList[i].querySelector('.e-icons').setAttribute('title', this.localizedTexts('delete'));\n                }\n                if (!this.autoUpload) {\n                    this.uploadButton.innerText = (this.buttons.upload === 'Upload') ?\n                        this.localizedTexts('Upload') : this.buttons.upload;\n                    this.clearButton.innerText = (this.buttons.clear === 'Clear') ?\n                        this.localizedTexts('Clear') : this.buttons.clear;\n                }\n            }\n        }\n    };\n    Uploader.prototype.reRenderFileList = function () {\n        if (this.listParent) {\n            detach(this.listParent);\n            this.listParent = null;\n            this.fileList = [];\n            this.createFileList(this.filesData);\n            if (this.actionButtons) {\n                this.removeActionButtons();\n                this.renderActionButtons();\n                this.checkActionButtonStatus();\n            }\n        }\n    };\n    Uploader.prototype.preRender = function () {\n        this.cloneElement = this.element.cloneNode(true);\n        this.localeText = { Browse: 'Browse...', Clear: 'Clear', Upload: 'Upload',\n            dropFilesHint: 'Or drop files here', invalidMaxFileSize: 'File size is too large',\n            invalidMinFileSize: 'File size is too small', invalidFileType: 'File type is not allowed',\n            uploadFailedMessage: 'File failed to upload', uploadSuccessMessage: 'File uploaded successfully',\n            removedSuccessMessage: 'File removed successfully', removedFailedMessage: 'Unable to remove file', inProgress: 'Uploading',\n            readyToUploadMessage: 'Ready to upload', abort: 'Abort', remove: 'Remove', cancel: 'Cancel', delete: 'Delete file',\n            pauseUpload: 'File upload paused', pause: 'Pause', resume: 'Resume', retry: 'Retry',\n            fileUploadCancel: 'File upload canceled'\n        };\n        this.l10n = new L10n('uploader', this.localeText, this.locale);\n        this.preLocaleObj = getValue('currentLocale', this.l10n);\n        this.checkHTMLAttributes();\n        if (this.asyncSettings.saveUrl === '' && this.asyncSettings.removeUrl === '' && !this.autoUpload) {\n            var parentEle = this.element.parentElement;\n            for (; parentEle && parentEle !== document.documentElement; parentEle = parentEle.parentElement) {\n                if (parentEle.tagName === 'FORM') {\n                    this.isForm = true;\n                    this.formElement = parentEle;\n                    parentEle.setAttribute('enctype', 'multipart/form-data');\n                    parentEle.setAttribute('encoding', 'multipart/form-data');\n                }\n            }\n        }\n        // tslint:disable-next-line\n        var ejInstance = getValue('ej2_instances', this.element);\n        /* istanbul ignore next */\n        if (this.element.tagName === 'EJS-UPLOADER') {\n            var inputElement = this.createElement('input', { attrs: { type: 'file' } });\n            var index = 0;\n            for (index; index < this.element.attributes.length; index++) {\n                inputElement.setAttribute(this.element.attributes[index].nodeName, this.element.attributes[index].nodeValue);\n                inputElement.innerHTML = this.element.innerHTML;\n            }\n            if (!inputElement.hasAttribute('name')) {\n                inputElement.setAttribute('name', 'UploadFiles');\n            }\n            this.element.appendChild(inputElement);\n            this.element = inputElement;\n            setValue('ej2_instances', ejInstance, this.element);\n        }\n        /* istanbul ignore next */\n        if (ejInstance[0].isPureReactComponent) {\n            if (!isNullOrUndefined(ejInstance[0].props.name)) {\n                this.element.setAttribute('name', ejInstance[0].props.name);\n            }\n            else if (!isNullOrUndefined(ejInstance[0].props.id) && isNullOrUndefined(ejInstance[0].props.name)) {\n                this.element.setAttribute('name', ejInstance[0].props.id);\n            }\n            else {\n                this.element.setAttribute('name', 'UploadFiles');\n            }\n        }\n        if (isNullOrUndefined(this.element.getAttribute('name'))) {\n            this.element.setAttribute('name', this.element.getAttribute('id'));\n        }\n        if (!this.element.hasAttribute('type')) {\n            this.element.setAttribute('type', 'file');\n        }\n        this.keyConfigs = {\n            previous: 'shift+tab',\n            enter: 'enter',\n            next: 'tab'\n        };\n    };\n    Uploader.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Return the module name of the component.\n     */\n    Uploader.prototype.getModuleName = function () {\n        return 'uploader';\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    Uploader.prototype.render = function () {\n        this.renderBrowseButton();\n        this.initializeUpload();\n        this.wireEvents();\n        this.setMultipleSelection();\n        this.setExtensions(this.allowedExtensions);\n        this.setRTL();\n        this.renderPreLoadFiles();\n        this.setControlStatus();\n    };\n    Uploader.prototype.renderBrowseButton = function () {\n        this.browseButton = this.createElement('button', { className: 'e-css e-btn', attrs: { 'type': 'button' } });\n        if (typeof (this.buttons.browse) === 'string') {\n            this.browseButton.innerText = (this.buttons.browse === 'Browse...') ?\n                this.localizedTexts('Browse') : this.buttons.browse;\n            this.browseButton.setAttribute('title', this.browseButton.innerText);\n        }\n        else {\n            this.browseButton.appendChild(this.buttons.browse);\n        }\n        this.element.setAttribute('aria-label', 'Uploader');\n    };\n    Uploader.prototype.renderActionButtons = function () {\n        this.element.setAttribute('tabindex', '-1');\n        this.actionButtons = this.createElement('div', { className: ACTION_BUTTONS });\n        this.uploadButton = this.createElement('button', { className: UPLOAD_BUTTONS, attrs: { 'type': 'button', 'tabindex': '-1' } });\n        this.clearButton = this.createElement('button', { className: CLEAR_BUTTONS, attrs: { 'type': 'button', 'tabindex': '-1' } });\n        this.actionButtons.appendChild(this.clearButton);\n        this.actionButtons.appendChild(this.uploadButton);\n        this.renderButtonTemplates();\n        this.uploadWrapper.appendChild(this.actionButtons);\n        this.browseButton.blur();\n        this.uploadButton.focus();\n        this.wireActionButtonEvents();\n    };\n    Uploader.prototype.wireActionButtonEvents = function () {\n        EventHandler.add(this.uploadButton, 'click', this.uploadButtonClick, this);\n        EventHandler.add(this.clearButton, 'click', this.clearButtonClick, this);\n    };\n    Uploader.prototype.unwireActionButtonEvents = function () {\n        EventHandler.remove(this.uploadButton, 'click', this.uploadButtonClick);\n        EventHandler.remove(this.clearButton, 'click', this.clearButtonClick);\n    };\n    Uploader.prototype.removeActionButtons = function () {\n        if (this.actionButtons) {\n            this.unwireActionButtonEvents();\n            detach(this.actionButtons);\n            this.actionButtons = null;\n        }\n    };\n    Uploader.prototype.renderButtonTemplates = function () {\n        if (typeof (this.buttons.browse) === 'string') {\n            this.browseButton.innerText = (this.buttons.browse === 'Browse...') ?\n                this.localizedTexts('Browse') : this.buttons.browse;\n            this.browseButton.setAttribute('title', this.browseButton.innerText);\n        }\n        else {\n            this.browseButton.innerHTML = '';\n            this.browseButton.appendChild(this.buttons.browse);\n        }\n        if (this.uploadButton) {\n            var uploadText = void 0;\n            uploadText = isNullOrUndefined(this.buttons.upload) ? 'Upload' : this.buttons.upload;\n            this.buttons.upload = uploadText;\n            if (typeof (this.buttons.upload) === 'string') {\n                this.uploadButton.innerText = (this.buttons.upload === 'Upload') ?\n                    this.localizedTexts('Upload') : this.buttons.upload;\n                this.uploadButton.setAttribute('title', this.uploadButton.innerText);\n            }\n            else {\n                this.uploadButton.innerHTML = '';\n                this.uploadButton.appendChild(this.buttons.upload);\n            }\n        }\n        if (this.clearButton) {\n            var clearText = void 0;\n            clearText = isNullOrUndefined(this.buttons.clear) ? 'Clear' : this.buttons.clear;\n            this.buttons.clear = clearText;\n            if (typeof (this.buttons.clear) === 'string') {\n                this.clearButton.innerText = (this.buttons.clear === 'Clear') ?\n                    this.localizedTexts('Clear') : this.buttons.clear;\n                this.clearButton.setAttribute('title', this.clearButton.innerText);\n            }\n            else {\n                this.clearButton.innerHTML = '';\n                this.clearButton.appendChild(this.buttons.clear);\n            }\n        }\n    };\n    Uploader.prototype.initializeUpload = function () {\n        this.element.setAttribute('tabindex', '-1');\n        var inputWrapper = this.createElement('span', { className: INPUT_WRAPPER });\n        this.element.parentElement.insertBefore(inputWrapper, this.element);\n        this.dropAreaWrapper = this.createElement('div', { className: DROP_WRAPPER });\n        this.element.parentElement.insertBefore(this.dropAreaWrapper, this.element);\n        inputWrapper.appendChild(this.element);\n        this.dropAreaWrapper.appendChild(this.browseButton);\n        this.dropAreaWrapper.appendChild(inputWrapper);\n        var fileDropArea = this.createElement('span', { className: DROP_AREA });\n        fileDropArea.innerHTML = this.localizedTexts('dropFilesHint');\n        this.dropAreaWrapper.appendChild(fileDropArea);\n        this.uploadWrapper = this.createElement('div', { className: CONTROL_WRAPPER, attrs: { 'aria-activedescendant': 'li-focused' } });\n        this.dropAreaWrapper.parentElement.insertBefore(this.uploadWrapper, this.dropAreaWrapper);\n        this.uploadWrapper.appendChild(this.dropAreaWrapper);\n        this.setDropArea();\n    };\n    Uploader.prototype.renderPreLoadFiles = function () {\n        if (isNullOrUndefined(this.files[0].size) || !isNullOrUndefined(this.template)) {\n            return;\n        }\n        var files = [].slice.call(this.files);\n        var filesData = [];\n        if (!this.multiple) {\n            this.clearData();\n            files = [files[0]];\n        }\n        for (var _i = 0, files_1 = files; _i < files_1.length; _i++) {\n            var data = files_1[_i];\n            var fileData = {\n                name: data.name + '.' + data.type.split('.')[data.type.split('.').length - 1],\n                rawFile: '',\n                size: data.size,\n                status: this.localizedTexts('uploadSuccessMessage'),\n                type: data.type,\n                validationMessages: { minSize: '', maxSize: '' },\n                statusCode: '2'\n            };\n            filesData.push(fileData);\n            this.filesData.push(fileData);\n        }\n        this.createFileList(filesData);\n        if (!this.autoUpload && this.listParent && !this.actionButtons && !this.isForm && this.showFileList) {\n            this.renderActionButtons();\n        }\n        this.checkActionButtonStatus();\n    };\n    Uploader.prototype.checkActionButtonStatus = function () {\n        if (this.actionButtons) {\n            var length_1 = this.uploadWrapper.querySelectorAll('.' + VALIDATION_FAILS).length +\n                this.uploadWrapper.querySelectorAll('.e-upload-fails:not(.e-upload-progress)').length +\n                this.uploadWrapper.querySelectorAll('span.' + UPLOAD_SUCCESS).length +\n                this.uploadWrapper.querySelectorAll('span.' + UPLOAD_INPROGRESS).length;\n            if (length_1 > 0 && length_1 === this.uploadWrapper.querySelectorAll('li').length) {\n                this.uploadButton.setAttribute('disabled', 'disabled');\n            }\n            else {\n                this.uploadButton.removeAttribute('disabled');\n            }\n        }\n    };\n    Uploader.prototype.setDropArea = function () {\n        var dropTextArea = this.dropAreaWrapper.querySelector('.e-file-drop');\n        if (this.dropArea) {\n            this.dropZoneElement = (typeof (this.dropArea) !== 'string') ? this.dropArea :\n                document.querySelector(this.dropArea);\n            var element = this.element;\n            var enableDropText = false;\n            while (element.parentNode) {\n                element = element.parentNode;\n                if (element === this.dropZoneElement) {\n                    enableDropText = true;\n                    dropTextArea.textContent = this.localizedTexts('dropFilesHint');\n                }\n            }\n            if (!enableDropText) {\n                dropTextArea.textContent = '';\n            }\n        }\n        else {\n            this.dropZoneElement = this.uploadWrapper;\n            dropTextArea.textContent = this.localizedTexts('dropFilesHint');\n        }\n        this.bindDropEvents();\n    };\n    Uploader.prototype.setMultipleSelection = function () {\n        if (this.multiple && !this.element.hasAttribute('multiple')) {\n            var newAttr = document.createAttribute('multiple');\n            this.element.setAttributeNode(newAttr);\n        }\n        else if (!this.multiple) {\n            this.element.removeAttribute('multiple');\n        }\n    };\n    Uploader.prototype.checkAutoUpload = function (fileData) {\n        if (this.autoUpload) {\n            this.upload(fileData);\n            this.removeActionButtons();\n        }\n        else if (!this.actionButtons) {\n            this.renderActionButtons();\n        }\n        this.checkActionButtonStatus();\n    };\n    Uploader.prototype.wireEvents = function () {\n        EventHandler.add(this.browseButton, 'click', this.browseButtonClick, this);\n        EventHandler.add(this.element, 'change', this.onSelectFiles, this);\n        EventHandler.add(document, 'click', this.removeFocus, this);\n        this.keyboardModule = new KeyboardEvents(this.uploadWrapper, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown',\n        });\n        if (this.isForm) {\n            EventHandler.add(this.formElement, 'reset', this.resetForm, this);\n        }\n    };\n    Uploader.prototype.unWireEvents = function () {\n        EventHandler.remove(this.browseButton, 'click', this.browseButtonClick);\n        EventHandler.remove(this.element, 'change', this.onSelectFiles);\n        EventHandler.remove(document, 'click', this.removeFocus);\n        this.keyboardModule.destroy();\n    };\n    Uploader.prototype.resetForm = function () {\n        this.clearAll();\n    };\n    Uploader.prototype.keyActionHandler = function (e) {\n        var targetElement = e.target;\n        switch (e.action) {\n            case 'next':\n                if (e.target === this.browseButton && isNullOrUndefined(this.listParent)) {\n                    this.browseButton.blur();\n                }\n                else if (e.target === this.uploadButton) {\n                    this.uploadButton.blur();\n                }\n                else {\n                    this.setTabFocus(e);\n                    e.preventDefault();\n                    e.stopPropagation();\n                    if (e.target === this.clearButton && this.uploadButton.hasAttribute('disabled')) {\n                        this.clearButton.blur();\n                    }\n                }\n                break;\n            case 'previous':\n                if (e.target === this.browseButton) {\n                    this.browseButton.blur();\n                }\n                else {\n                    this.setReverseFocus(e);\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n                break;\n            case 'enter':\n                if (e.target === this.clearButton) {\n                    this.clearButtonClick();\n                }\n                else if (e.target === this.uploadButton) {\n                    this.uploadButtonClick();\n                }\n                else if (e.target === this.browseButton) {\n                    this.browseButtonClick();\n                }\n                else if (targetElement.classList.contains(PAUSE_UPLOAD)) {\n                    var metaData = this.getCurrentMetaData(null, e);\n                    metaData.file.statusCode = '4';\n                    metaData.file.status = this.localizedTexts('pauseUpload');\n                    this.abortUpload(metaData, false);\n                }\n                else if (targetElement.classList.contains(RESUME_UPLOAD)) {\n                    this.resumeUpload(this.getCurrentMetaData(null, e), e);\n                }\n                else if (targetElement.classList.contains(RETRY_ICON)) {\n                    var metaData = this.getCurrentMetaData(null, e);\n                    metaData.file.statusCode = '1';\n                    metaData.file.status = this.localizedTexts('readyToUploadMessage');\n                    this.chunkUpload(metaData.file);\n                }\n                else {\n                    this.removeFiles(e);\n                    if (!targetElement.classList.contains(ABORT_ICON)) {\n                        this.browseButton.focus();\n                    }\n                }\n                e.preventDefault();\n                e.stopPropagation();\n                break;\n        }\n    };\n    Uploader.prototype.getCurrentMetaData = function (fileInfo, e) {\n        var fileData;\n        var targetMetaData;\n        if (isNullOrUndefined(fileInfo)) {\n            var target = this.uploadWrapper.querySelector('.' + ICON_FOCUSED).parentElement;\n            fileData = this.filesData[this.fileList.indexOf(target)];\n        }\n        else {\n            fileData = fileInfo;\n        }\n        for (var i = 0; i < this.uploadMetaData.length; i++) {\n            if (this.uploadMetaData[i].file.name === fileData.name) {\n                targetMetaData = this.uploadMetaData[i];\n            }\n        }\n        return targetMetaData;\n    };\n    Uploader.prototype.setReverseFocus = function (e) {\n        var target = e.target;\n        if (target === this.uploadButton) {\n            this.uploadButton.blur();\n            this.clearButton.focus();\n        }\n        else if (target === this.clearButton && this.listParent && this.listParent.querySelector('.e-icons')) {\n            this.clearButton.blur();\n            var items = [].slice.call(this.listParent.querySelectorAll('span.e-icons'));\n            items[items.length - 1].classList.add(ICON_FOCUSED);\n            items[items.length - 1].focus();\n        }\n        else {\n            var iconElements = [].slice.call(this.listParent.querySelectorAll('span.e-icons'));\n            var index = iconElements.indexOf(target);\n            if (index > 0) {\n                this.removeFocus();\n                iconElements[index - 1].classList.add(ICON_FOCUSED);\n                iconElements[index - 1].focus();\n            }\n            else {\n                this.removeFocus();\n                this.browseButton.focus();\n            }\n        }\n    };\n    Uploader.prototype.setTabFocus = function (e) {\n        var target = e.target;\n        if (target === this.clearButton) {\n            this.removeFocus();\n            if (this.uploadButton.hasAttribute('disabled')) {\n                return;\n            }\n            this.uploadButton.focus();\n        }\n        else if (target.classList.contains('e-icons')) {\n            var iconElements = [].slice.call(this.listParent.querySelectorAll('span.e-icons'));\n            var index = iconElements.indexOf(target);\n            if (index < (iconElements.length - 1)) {\n                this.removeFocus();\n                iconElements[index + 1].classList.add(ICON_FOCUSED);\n                iconElements[index + 1].focus();\n            }\n            else {\n                this.removeFocus();\n                this.clearButton.focus();\n            }\n        }\n        else {\n            this.browseButton.blur();\n            var iconElement = this.listParent.querySelectorAll('span.e-icons')[0];\n            iconElement.focus();\n            iconElement.classList.add(ICON_FOCUSED);\n        }\n    };\n    Uploader.prototype.removeFocus = function () {\n        if (this.uploadWrapper && this.listParent && this.listParent.querySelector('.' + ICON_FOCUSED)) {\n            document.activeElement.blur();\n            this.listParent.querySelector('.' + ICON_FOCUSED).classList.remove(ICON_FOCUSED);\n        }\n    };\n    Uploader.prototype.browseButtonClick = function () {\n        this.element.click();\n    };\n    Uploader.prototype.uploadButtonClick = function () {\n        this.upload(this.filesData);\n    };\n    Uploader.prototype.clearButtonClick = function () {\n        this.clearAll();\n    };\n    Uploader.prototype.bindDropEvents = function () {\n        if (this.dropZoneElement) {\n            EventHandler.add(this.dropZoneElement, 'drop', this.dropElement, this);\n            EventHandler.add(this.dropZoneElement, 'dragover', this.dragHover, this);\n            EventHandler.add(this.dropZoneElement, 'dragleave', this.onDragLeave, this);\n        }\n    };\n    Uploader.prototype.unBindDropEvents = function () {\n        if (this.dropZoneElement) {\n            EventHandler.remove(this.dropZoneElement, 'drop', this.dropElement);\n            EventHandler.remove(this.dropZoneElement, 'dragover', this.dragHover);\n            EventHandler.remove(this.dropZoneElement, 'dragleave', this.onDragLeave);\n        }\n    };\n    Uploader.prototype.onDragLeave = function (e) {\n        this.dropZoneElement.classList.remove(DRAG_HOVER);\n    };\n    Uploader.prototype.dragHover = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        this.dropZoneElement.classList.add(DRAG_HOVER);\n        e.preventDefault();\n        e.stopPropagation();\n    };\n    Uploader.prototype.dropElement = function (e) {\n        this.dropZoneElement.classList.remove(DRAG_HOVER);\n        this.onSelectFiles(e);\n        e.preventDefault();\n        e.stopPropagation();\n    };\n    Uploader.prototype.removeFiles = function (args) {\n        if (!this.enabled) {\n            return;\n        }\n        var selectedElement = args.target.parentElement;\n        var index = this.fileList.indexOf(selectedElement);\n        var liElement = this.fileList[index];\n        var fileData = this.filesData[index];\n        if (args.target.classList.contains(ABORT_ICON)) {\n            if (args.target.classList.contains(DISABLED)) {\n                return;\n            }\n            fileData.statusCode = '5';\n            if (!isNullOrUndefined(liElement)) {\n                var spinnerTarget = liElement.querySelector('.' + ABORT_ICON);\n                createSpinner({ target: spinnerTarget, width: '20px' });\n                showSpinner(spinnerTarget);\n            }\n        }\n        else {\n            this.remove(fileData, false, false, args);\n        }\n        this.element.value = '';\n        this.checkActionButtonStatus();\n    };\n    Uploader.prototype.removeFilesData = function (file, customTemplate) {\n        var index;\n        if (customTemplate) {\n            if (!this.showFileList) {\n                index = this.filesData.indexOf(file);\n                this.filesData.splice(index, 1);\n            }\n            return;\n        }\n        var selectedElement = this.getLiElement(file);\n        if (isNullOrUndefined(selectedElement)) {\n            return;\n        }\n        detach(selectedElement);\n        index = this.fileList.indexOf(selectedElement);\n        this.fileList.splice(index, 1);\n        this.filesData.splice(index, 1);\n        if (this.fileList.length === 0 && !isNullOrUndefined(this.listParent)) {\n            detach(this.listParent);\n            this.listParent = null;\n            this.removeActionButtons();\n        }\n    };\n    Uploader.prototype.removeUploadedFile = function (file, eventArgs, removeDirectly, custom) {\n        var _this = this;\n        var selectedFiles = file;\n        var name = this.element.getAttribute('name');\n        var ajax = new Ajax(this.asyncSettings.removeUrl, 'POST', true, null);\n        var formData = new FormData();\n        ajax.beforeSend = function (e) {\n            eventArgs.currentRequest = ajax.httpRequest;\n            if (!removeDirectly) {\n                _this.trigger('removing', eventArgs);\n            }\n            if (eventArgs.cancel) {\n                e.cancel = true;\n            }\n            if (eventArgs.postRawFile && !isNullOrUndefined(selectedFiles.rawFile) && selectedFiles.rawFile !== '') {\n                formData.append(name, selectedFiles.rawFile);\n            }\n            else {\n                formData.append(name, selectedFiles.name);\n            }\n            _this.updateFormData(formData, eventArgs.customFormData);\n        };\n        var liElement = this.getLiElement(file);\n        ajax.onLoad = function (e) { _this.removeCompleted(e, selectedFiles, custom); return {}; };\n        /* istanbul ignore next */\n        ajax.onError = function (e) { _this.removeFailed(e, selectedFiles, custom); return {}; };\n        ajax.send(formData);\n        if (!isNullOrUndefined(liElement) && !isNullOrUndefined(liElement.querySelector('.' + REMOVE_ICON))) {\n            var spinnerTarget = liElement.querySelector('.' + REMOVE_ICON);\n            createSpinner({ target: spinnerTarget, width: '20px' });\n            showSpinner(spinnerTarget);\n        }\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.updateFormData = function (formData, customData) {\n        if (customData.length > 0 && customData[0]) {\n            var _loop_1 = function (i) {\n                var data = customData[i];\n                // tslint:disable-next-line\n                var value = Object.keys(data).map(function (e) {\n                    return data[e];\n                });\n                formData.append(Object.keys(data)[0], value);\n            };\n            for (var i = 0; i < customData.length; i++) {\n                _loop_1(i);\n            }\n        }\n    };\n    Uploader.prototype.removeCompleted = function (e, files, customTemplate) {\n        var args = {\n            e: e, operation: 'remove', file: this.updateStatus(files, this.localizedTexts('removedSuccessMessage'), '2')\n        };\n        this.trigger('success', args);\n        this.removeFilesData(files, customTemplate);\n        var index = this.uploadedFilesData.indexOf(files);\n        this.uploadedFilesData.splice(index, 1);\n        this.trigger('change', { files: this.uploadedFilesData });\n    };\n    Uploader.prototype.removeFailed = function (e, files, customTemplate) {\n        var args = {\n            e: e, operation: 'remove', file: this.updateStatus(files, this.localizedTexts('removedFailedMessage'), '0')\n        };\n        if (!customTemplate) {\n            var index = this.filesData.indexOf(files);\n            var rootElement = this.fileList[index];\n            if (rootElement) {\n                var statusElement = rootElement.querySelector('.' + STATUS);\n                rootElement.classList.remove(UPLOAD_SUCCESS);\n                statusElement.classList.remove(UPLOAD_SUCCESS);\n                rootElement.classList.add(UPLOAD_FAILED);\n                statusElement.classList.add(UPLOAD_FAILED);\n            }\n            this.checkActionButtonStatus();\n        }\n        this.trigger('failure', args);\n        var liElement = this.getLiElement(files);\n        if (!isNullOrUndefined(liElement) && !isNullOrUndefined(liElement.querySelector('.' + REMOVE_ICON))) {\n            var spinnerTarget = liElement.querySelector('.' + REMOVE_ICON);\n            hideSpinner(spinnerTarget);\n            detach(liElement.querySelector('.e-spinner-pane'));\n        }\n    };\n    Uploader.prototype.onSelectFiles = function (args) {\n        if (!this.enabled) {\n            return;\n        }\n        var fileData = [];\n        var targetFiles;\n        if (args.type === 'drop') {\n            var files = args.dataTransfer.files;\n            targetFiles = this.multiple ? this.sortFileList(files) : [files[0]];\n        }\n        else {\n            targetFiles = [].slice.call(args.target.files);\n        }\n        if (!this.multiple) {\n            this.clearData(true);\n            targetFiles = [targetFiles[0]];\n        }\n        for (var i = 0; i < targetFiles.length; i++) {\n            var file = targetFiles[i];\n            var eventArgs_1 = {\n                name: file.name,\n                rawFile: file,\n                size: file.size,\n                status: this.localizedTexts('readyToUploadMessage'),\n                type: this.getFileType(file.name),\n                validationMessages: this.validatedFileSize(file.size),\n                statusCode: '1'\n            };\n            eventArgs_1.status = eventArgs_1.validationMessages.minSize !== '' ? this.localizedTexts('invalidMinFileSize') :\n                eventArgs_1.validationMessages.maxSize !== '' ? this.localizedTexts('invalidMaxFileSize') : eventArgs_1.status;\n            if (eventArgs_1.validationMessages.minSize !== '' || eventArgs_1.validationMessages.maxSize !== '') {\n                eventArgs_1.statusCode = '0';\n            }\n            fileData.push(eventArgs_1);\n        }\n        var eventArgs = {\n            event: args,\n            cancel: false,\n            filesData: fileData,\n            isModified: false,\n            modifiedFilesData: [],\n            progressInterval: ''\n        };\n        if (this.allowedExtensions.indexOf('*') > -1) {\n            this.allTypes = true;\n        }\n        if (!this.allTypes) {\n            fileData = this.checkExtension(fileData);\n        }\n        this.trigger('selected', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        if (this.showFileList) {\n            if (eventArgs.isModified && eventArgs.modifiedFilesData.length > 0) {\n                var dataFiles = this.allTypes ? eventArgs.modifiedFilesData :\n                    this.checkExtension(eventArgs.modifiedFilesData);\n                this.updateSortedFileList(dataFiles);\n                this.filesData = dataFiles;\n                if (!this.isForm) {\n                    this.checkAutoUpload(dataFiles);\n                }\n            }\n            else {\n                this.createFileList(fileData);\n                this.filesData = this.filesData.concat(fileData);\n                if (!this.isForm) {\n                    this.checkAutoUpload(fileData);\n                }\n            }\n            if (!isNullOrUndefined(eventArgs.progressInterval) && eventArgs.progressInterval !== '') {\n                this.progressInterval = eventArgs.progressInterval;\n            }\n        }\n        else {\n            this.filesData = this.filesData.concat(fileData);\n            if (this.autoUpload) {\n                this.upload(this.filesData, true);\n            }\n        }\n    };\n    Uploader.prototype.clearData = function (singleUpload) {\n        if (!isNullOrUndefined(this.listParent)) {\n            detach(this.listParent);\n            this.listParent = null;\n        }\n        if (Browser.info.name !== 'msie' && !singleUpload) {\n            this.element.value = '';\n        }\n        this.fileList = [];\n        this.filesData = [];\n        this.removeActionButtons();\n    };\n    Uploader.prototype.updateSortedFileList = function (filesData) {\n        var previousListClone = this.createElement('div', { id: 'clonewrapper' });\n        var added = -1;\n        var removedList;\n        if (this.listParent) {\n            for (var i = 0; i < this.listParent.querySelectorAll('li').length; i++) {\n                var liElement = this.listParent.querySelectorAll('li')[i];\n                previousListClone.appendChild(liElement.cloneNode(true));\n            }\n            removedList = this.listParent.querySelectorAll('li');\n            for (var _i = 0, removedList_1 = removedList; _i < removedList_1.length; _i++) {\n                var item = removedList_1[_i];\n                detach(item);\n            }\n            this.removeActionButtons();\n            var oldList = [].slice.call(previousListClone.childNodes);\n            detach(this.listParent);\n            this.listParent = null;\n            this.fileList = [];\n            this.createParentUL();\n            for (var index = 0; index < filesData.length; index++) {\n                for (var j = 0; j < this.filesData.length; j++) {\n                    if (this.filesData[j].name === filesData[index].name) {\n                        this.listParent.appendChild(oldList[j]);\n                        EventHandler.add(oldList[j].querySelector('.e-icons'), 'click', this.removeFiles, this);\n                        this.fileList.push(oldList[j]);\n                        added = index;\n                    }\n                }\n                if (added !== index) {\n                    this.createFileList([filesData[index]]);\n                }\n            }\n        }\n        else {\n            this.createFileList(filesData);\n        }\n    };\n    Uploader.prototype.checkExtension = function (files) {\n        var dropFiles = files;\n        if (this.allowedExtensions !== '') {\n            var allowedExtensions = [];\n            var extensions = this.allowedExtensions.split(',');\n            for (var _i = 0, extensions_1 = extensions; _i < extensions_1.length; _i++) {\n                var extension = extensions_1[_i];\n                allowedExtensions.push(extension.trim().toLocaleLowerCase());\n            }\n            for (var i = 0; i < files.length; i++) {\n                if (allowedExtensions.indexOf(('.' + files[i].type).toLocaleLowerCase()) === -1) {\n                    files[i].status = this.localizedTexts('invalidFileType');\n                    files[i].statusCode = '0';\n                }\n            }\n        }\n        return dropFiles;\n    };\n    Uploader.prototype.validatedFileSize = function (fileSize) {\n        var minSizeError = '';\n        var maxSizeError = '';\n        if (fileSize < this.minFileSize) {\n            minSizeError = this.localizedTexts('invalidMinFileSize');\n        }\n        else if (fileSize > this.maxFileSize) {\n            maxSizeError = this.localizedTexts('invalidMaxFileSize');\n        }\n        else {\n            minSizeError = '';\n            maxSizeError = '';\n        }\n        var errorMessage = { minSize: minSizeError, maxSize: maxSizeError };\n        return errorMessage;\n    };\n    Uploader.prototype.createCustomfileList = function (fileData) {\n        this.createParentUL();\n        for (var _i = 0, fileData_1 = fileData; _i < fileData_1.length; _i++) {\n            var listItem = fileData_1[_i];\n            var liElement = this.createElement('li', { className: FILE, attrs: { 'data-file-name': listItem.name } });\n            this.uploadTemplateFn = this.templateComplier(this.template);\n            this.listParent.appendChild(liElement);\n            var fromElements = [].slice.call(this.uploadTemplateFn(listItem));\n            append(fromElements, liElement);\n            this.fileList.push(liElement);\n        }\n    };\n    Uploader.prototype.createParentUL = function () {\n        if (isNullOrUndefined(this.listParent)) {\n            this.listParent = this.createElement('ul', { className: LIST_PARENT });\n            this.uploadWrapper.appendChild(this.listParent);\n        }\n    };\n    Uploader.prototype.createFileList = function (fileData) {\n        this.createParentUL();\n        if (this.template !== '' && !isNullOrUndefined(this.template)) {\n            this.createCustomfileList(fileData);\n        }\n        else {\n            for (var _i = 0, fileData_2 = fileData; _i < fileData_2.length; _i++) {\n                var listItem = fileData_2[_i];\n                var liElement = this.createElement('li', { className: FILE, attrs: { 'data-file-name': listItem.name } });\n                var textContainer = this.createElement('span', { className: TEXT_CONTAINER });\n                var textElement = this.createElement('span', { className: FILE_NAME, attrs: { 'title': listItem.name } });\n                textElement.innerHTML = this.getFileNameOnly(listItem.name);\n                var fileExtension = this.createElement('span', { className: FILE_TYPE });\n                fileExtension.innerHTML = '.' + this.getFileType(listItem.name);\n                if (!this.enableRtl) {\n                    textContainer.appendChild(textElement);\n                    textContainer.appendChild(fileExtension);\n                }\n                else {\n                    var rtlContainer = this.createElement('span', { className: RTL_CONTAINER });\n                    rtlContainer.appendChild(fileExtension);\n                    rtlContainer.appendChild(textElement);\n                    textContainer.appendChild(rtlContainer);\n                }\n                var fileSize = this.createElement('span', { className: FILE_SIZE });\n                fileSize.innerHTML = this.bytesToSize(listItem.size);\n                textContainer.appendChild(fileSize);\n                var statusElement = this.createElement('span', { className: STATUS });\n                textContainer.appendChild(statusElement);\n                statusElement.innerHTML = listItem.status;\n                liElement.appendChild(textContainer);\n                var iconElement = this.createElement('span', { className: ' e-icons', attrs: { 'tabindex': '-1' } });\n                /* istanbul ignore next */\n                if (Browser.info.name === 'msie') {\n                    iconElement.classList.add('e-msie');\n                }\n                iconElement.setAttribute('title', this.localizedTexts('remove'));\n                liElement.appendChild(iconElement);\n                EventHandler.add(iconElement, 'click', this.removeFiles, this);\n                if (listItem.statusCode === '2') {\n                    statusElement.classList.add(UPLOAD_SUCCESS);\n                    iconElement.classList.add(REMOVE_ICON);\n                    iconElement.setAttribute('title', this.localizedTexts('delete'));\n                }\n                else if (listItem.statusCode !== '1') {\n                    statusElement.classList.remove(UPLOAD_SUCCESS);\n                    statusElement.classList.add(VALIDATION_FAILS);\n                }\n                if (this.autoUpload && listItem.statusCode === '1' && this.asyncSettings.saveUrl !== '') {\n                    statusElement.innerHTML = '';\n                }\n                if (!iconElement.classList.contains(REMOVE_ICON)) {\n                    iconElement.classList.add(CLEAR_ICON);\n                }\n                this.listParent.appendChild(liElement);\n                this.fileList.push(liElement);\n                this.truncateName(textElement);\n            }\n        }\n    };\n    Uploader.prototype.truncateName = function (name) {\n        var nameElement = name;\n        var text;\n        if (nameElement.offsetWidth < nameElement.scrollWidth) {\n            text = nameElement.textContent;\n            nameElement.dataset.tail = text.slice(text.length - 10);\n        }\n    };\n    Uploader.prototype.getFileType = function (name) {\n        var extension;\n        var index = name.lastIndexOf('.');\n        if (index >= 0) {\n            extension = name.substring(index + 1);\n        }\n        return extension ? extension : '';\n    };\n    Uploader.prototype.getFileNameOnly = function (name) {\n        var type = this.getFileType(name);\n        var names = name.split('.' + type);\n        return type = names[0];\n    };\n    Uploader.prototype.setInitialAttributes = function () {\n        if (this.initialAttr.accept) {\n            this.element.setAttribute('accept', this.initialAttr.accept);\n        }\n        if (this.initialAttr.disabled) {\n            this.element.setAttribute('disabled', 'disabled');\n        }\n        if (this.initialAttr.multiple) {\n            var newAttr = document.createAttribute('multiple');\n            this.element.setAttributeNode(newAttr);\n        }\n    };\n    Uploader.prototype.filterfileList = function (files) {\n        var filterFiles = [];\n        var li;\n        for (var i = 0; i < files.length; i++) {\n            li = this.getLiElement(files[i]);\n            if (!li.classList.contains(UPLOAD_SUCCESS)) {\n                filterFiles.push(files[i]);\n            }\n        }\n        return filterFiles;\n    };\n    Uploader.prototype.updateStatus = function (files, status, statusCode) {\n        if (!(status === '' || isNullOrUndefined(status)) && !(statusCode === '' || isNullOrUndefined(statusCode))) {\n            files.status = status;\n            files.statusCode = statusCode;\n        }\n        var li = this.getLiElement(files);\n        if (!isNullOrUndefined(li)) {\n            if (!isNullOrUndefined(li.querySelector('.' + STATUS)) && !((status === '' || isNullOrUndefined(status)))) {\n                li.querySelector('.' + STATUS).textContent = status;\n            }\n        }\n        return files;\n    };\n    Uploader.prototype.getLiElement = function (files) {\n        var index = this.filesData.indexOf(files);\n        return this.fileList[index];\n    };\n    Uploader.prototype.createProgressBar = function (liElement) {\n        var progressbarWrapper = this.createElement('span', { className: PROGRESS_WRAPPER });\n        var progressBar = this.createElement('progressbar', { className: PROGRESSBAR, attrs: { value: '0', max: '100' } });\n        var progressbarInnerWrapper = this.createElement('span', { className: PROGRESS_INNER_WRAPPER });\n        progressBar.setAttribute('style', 'width: 0%');\n        var progressbarText = this.createElement('span', { className: PROGRESSBAR_TEXT });\n        progressbarText.textContent = '0%';\n        progressbarInnerWrapper.appendChild(progressBar);\n        progressbarWrapper.appendChild(progressbarInnerWrapper);\n        progressbarWrapper.appendChild(progressbarText);\n        liElement.querySelector('.' + TEXT_CONTAINER).appendChild(progressbarWrapper);\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.updateProgressbar = function (e, li) {\n        if (!isNaN(Math.round((e.loaded / e.total) * 100)) && !isNullOrUndefined(li.querySelector('.' + PROGRESSBAR))) {\n            if (!isNullOrUndefined(this.progressInterval) && this.progressInterval !== '') {\n                var value = (Math.round((e.loaded / e.total) * 100)) % parseInt(this.progressInterval, 10);\n                if (value === 0 || value === 100) {\n                    this.changeProgressValue(li, Math.round((e.loaded / e.total) * 100).toString() + '%');\n                }\n            }\n            else {\n                this.changeProgressValue(li, Math.round((e.loaded / e.total) * 100).toString() + '%');\n            }\n        }\n    };\n    Uploader.prototype.changeProgressValue = function (li, progressValue) {\n        li.querySelector('.' + PROGRESSBAR).setAttribute('style', 'width:' + progressValue);\n        li.querySelector('.' + PROGRESSBAR_TEXT).textContent = progressValue;\n    };\n    Uploader.prototype.uploadInProgress = function (e, files, customUI, request) {\n        var _this = this;\n        var li = this.getLiElement(files);\n        if (isNullOrUndefined(li) && (!customUI || isNullOrUndefined(customUI))) {\n            return;\n        }\n        if (!isNullOrUndefined(li)) {\n            /* istanbul ignore next */\n            if (files.statusCode === '5') {\n                var eventArgs = {\n                    event: e,\n                    fileData: files,\n                    cancel: false\n                };\n                this.trigger('canceling', eventArgs);\n                if (eventArgs.cancel) {\n                    files.statusCode = '3';\n                    var spinnerTarget = li.querySelector('.' + ABORT_ICON);\n                    if (!isNullOrUndefined(li) && !isNullOrUndefined(spinnerTarget)) {\n                        hideSpinner(spinnerTarget);\n                        detach(li.querySelector('.e-spinner-pane'));\n                    }\n                    return;\n                }\n                request.emitError = false;\n                request.httpRequest.abort();\n                var formData = new FormData();\n                if (files.statusCode === '5') {\n                    var name_1 = this.element.getAttribute('name');\n                    formData.append(name_1, files.name);\n                    formData.append('cancel-uploading', files.name);\n                    var ajax = new Ajax(this.asyncSettings.removeUrl, 'POST', true, null);\n                    ajax.onLoad = function (e) { _this.removecanceledFile(e, files); return {}; };\n                    ajax.send(formData);\n                }\n            }\n            if (!(li.querySelectorAll('.' + PROGRESS_WRAPPER).length > 0) && li.querySelector('.' + STATUS)) {\n                li.querySelector('.' + STATUS).classList.add(UPLOAD_INPROGRESS);\n                this.createProgressBar(li);\n                this.updateProgressBarClasses(li, UPLOAD_INPROGRESS);\n                li.querySelector('.' + STATUS).classList.remove(UPLOAD_FAILED);\n            }\n            this.updateProgressbar(e, li);\n            var iconEle = li.querySelector('.' + CLEAR_ICON);\n            if (!isNullOrUndefined(iconEle)) {\n                iconEle.classList.add(ABORT_ICON, UPLOAD_INPROGRESS);\n                iconEle.setAttribute('title', this.localizedTexts('abort'));\n                iconEle.classList.remove(CLEAR_ICON);\n            }\n        }\n        var args = { e: e, operation: 'upload', file: this.updateStatus(files, this.localizedTexts('inProgress'), '3') };\n        this.trigger('progress', args);\n    };\n    Uploader.prototype.removecanceledFile = function (e, file) {\n        var liElement = this.getLiElement(file);\n        if (liElement.querySelector('.' + RETRY_ICON) || isNullOrUndefined(liElement.querySelector('.' + ABORT_ICON))) {\n            return;\n        }\n        this.updateStatus(file, this.localizedTexts('fileUploadCancel'), '5');\n        this.renderFailureState(e, file, liElement);\n        var spinnerTarget = liElement.querySelector('.' + CLEAR_ICON);\n        if (!isNullOrUndefined(liElement)) {\n            hideSpinner(spinnerTarget);\n            detach(liElement.querySelector('.e-spinner-pane'));\n        }\n        var args = { event: e, operation: 'cancel', file: file };\n        this.trigger('success', args);\n    };\n    Uploader.prototype.renderFailureState = function (e, file, liElement) {\n        var _this = this;\n        this.updateProgressBarClasses(liElement, UPLOAD_FAILED);\n        this.removeProgressbar(liElement, 'failure');\n        if (!isNullOrUndefined(liElement.querySelector('.e-file-status'))) {\n            liElement.querySelector('.e-file-status').classList.add(UPLOAD_FAILED);\n        }\n        var deleteIcon = liElement.querySelector('.' + ABORT_ICON);\n        if (isNullOrUndefined(deleteIcon)) {\n            return;\n        }\n        deleteIcon.classList.remove(ABORT_ICON, UPLOAD_INPROGRESS);\n        deleteIcon.classList.add(CLEAR_ICON);\n        deleteIcon.setAttribute('title', this.localizedTexts('remove'));\n        this.pauseButton = this.createElement('span', { className: 'e-icons e-file-reload-btn', attrs: { 'tabindex': '-1' } });\n        liElement.insertBefore(this.pauseButton, deleteIcon);\n        this.pauseButton.setAttribute('title', this.localizedTexts('retry'));\n        var retryElement = liElement.querySelector('.' + RETRY_ICON);\n        /* istanbul ignore next */\n        retryElement.addEventListener('click', function (e) { _this.reloadcanceledFile(e, file, liElement); }, false);\n    };\n    Uploader.prototype.reloadcanceledFile = function (e, file, liElement) {\n        file.statusCode = '1';\n        file.status = this.localizedTexts('readyToUploadMessage');\n        liElement.querySelector('.' + STATUS).classList.remove(UPLOAD_FAILED);\n        if (!isNullOrUndefined(liElement.querySelector('.' + RETRY_ICON))) {\n            detach(liElement.querySelector('.' + RETRY_ICON));\n        }\n        this.pauseButton = null;\n        this.upload([file]);\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.uploadComplete = function (e, file, customUI) {\n        var status = e.target;\n        if (status.readyState === 4 && status.status >= 200 && status.status <= 299) {\n            var li = this.getLiElement(file);\n            if (isNullOrUndefined(li) && (!customUI || isNullOrUndefined(customUI))) {\n                return;\n            }\n            if (!isNullOrUndefined(li)) {\n                this.updateProgressBarClasses(li, UPLOAD_SUCCESS);\n                this.removeProgressbar(li, 'success');\n                var iconEle = li.querySelector('.' + ABORT_ICON);\n                if (!isNullOrUndefined(iconEle)) {\n                    iconEle.classList.add(REMOVE_ICON);\n                    iconEle.setAttribute('title', this.localizedTexts('delete'));\n                    iconEle.classList.remove(ABORT_ICON);\n                    iconEle.classList.remove(UPLOAD_INPROGRESS);\n                }\n            }\n            this.raiseSuccessEvent(e, file);\n        }\n        else {\n            this.uploadFailed(e, file);\n        }\n    };\n    Uploader.prototype.raiseSuccessEvent = function (e, file) {\n        var args = { e: e, operation: 'upload', file: this.updateStatus(file, this.localizedTexts('uploadSuccessMessage'), '2') };\n        this.trigger('success', args);\n        this.uploadedFilesData.push(file);\n        this.trigger('change', { file: this.uploadedFilesData });\n        this.checkActionButtonStatus();\n    };\n    Uploader.prototype.uploadFailed = function (e, file) {\n        var li = this.getLiElement(file);\n        var args = { e: e, operation: 'upload', file: this.updateStatus(file, this.localizedTexts('uploadFailedMessage'), '0') };\n        if (!isNullOrUndefined(li)) {\n            this.renderFailureState(e, file, li);\n        }\n        this.trigger('failure', args);\n        this.checkActionButtonStatus();\n    };\n    Uploader.prototype.updateProgressBarClasses = function (li, className) {\n        var progressBar = li.querySelector('.' + PROGRESSBAR);\n        if (!isNullOrUndefined(progressBar)) {\n            progressBar.classList.add(className);\n        }\n    };\n    Uploader.prototype.removeProgressbar = function (li, callType) {\n        var _this = this;\n        if (!isNullOrUndefined(li.querySelector('.' + PROGRESS_WRAPPER))) {\n            this.progressAnimation = new Animation({ duration: 1250 });\n            this.progressAnimation.animate(li.querySelector('.' + PROGRESS_WRAPPER), { name: 'FadeOut' });\n            this.progressAnimation.animate(li.querySelector('.' + PROGRESSBAR_TEXT), { name: 'FadeOut' });\n            setTimeout(function () { _this.animateProgressBar(li, callType); }, 750);\n        }\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.animateProgressBar = function (li, callType) {\n        if (callType === 'success') {\n            li.classList.add(UPLOAD_SUCCESS);\n            if (!isNullOrUndefined(li.querySelector('.' + STATUS))) {\n                li.querySelector('.' + STATUS).classList.remove(UPLOAD_INPROGRESS);\n                this.progressAnimation.animate(li.querySelector('.' + STATUS), { name: 'FadeIn' });\n                li.querySelector('.' + STATUS).classList.add(UPLOAD_SUCCESS);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(li.querySelector('.' + STATUS))) {\n                li.querySelector('.' + STATUS).classList.remove(UPLOAD_INPROGRESS);\n                this.progressAnimation.animate(li.querySelector('.' + STATUS), { name: 'FadeIn' });\n                li.querySelector('.' + STATUS).classList.add(UPLOAD_FAILED);\n            }\n        }\n        if (li.querySelector('.' + PROGRESS_WRAPPER)) {\n            detach(li.querySelector('.' + PROGRESS_WRAPPER));\n        }\n    };\n    Uploader.prototype.setExtensions = function (extensions) {\n        this.element.setAttribute('accept', extensions);\n    };\n    Uploader.prototype.templateComplier = function (uploadTemplate) {\n        if (uploadTemplate) {\n            var exception = void 0;\n            try {\n                if (document.querySelectorAll(uploadTemplate).length) {\n                    return compile(document.querySelector(uploadTemplate).innerHTML.trim());\n                }\n            }\n            catch (exception) {\n                return compile(uploadTemplate);\n            }\n        }\n        return undefined;\n    };\n    Uploader.prototype.setRTL = function () {\n        this.enableRtl ? addClass([this.uploadWrapper], RTL) : removeClass([this.uploadWrapper], RTL);\n    };\n    Uploader.prototype.localizedTexts = function (localeText) {\n        this.l10n.setLocale(this.locale);\n        return this.l10n.getConstant(localeText);\n    };\n    Uploader.prototype.setControlStatus = function () {\n        if (!this.enabled) {\n            this.uploadWrapper.classList.add(DISABLED);\n            this.element.setAttribute('disabled', 'disabled');\n            this.browseButton.setAttribute('disabled', 'disabled');\n            if (!isNullOrUndefined(this.clearButton)) {\n                this.clearButton.setAttribute('disabled', 'disabled');\n            }\n            if (!isNullOrUndefined(this.uploadButton)) {\n                this.uploadButton.setAttribute('disabled', 'disabled');\n            }\n        }\n        else {\n            if (this.uploadWrapper.classList.contains(DISABLED)) {\n                this.uploadWrapper.classList.remove(DISABLED);\n            }\n            if (!isNullOrUndefined(this.browseButton) && this.element.hasAttribute('disabled')) {\n                this.element.removeAttribute('disabled');\n                this.browseButton.removeAttribute('disabled');\n            }\n            if (!isNullOrUndefined(this.clearButton) && this.clearButton.hasAttribute('disabled')) {\n                this.clearButton.removeAttribute('disabled');\n            }\n            if (!isNullOrUndefined(this.uploadButton) && this.uploadButton.hasAttribute('disabled')) {\n                this.uploadButton.hasAttribute('disabled');\n            }\n        }\n    };\n    Uploader.prototype.checkHTMLAttributes = function () {\n        if (this.element.hasAttribute('accept')) {\n            this.allowedExtensions = this.element.getAttribute('accept');\n            this.initialAttr.accept = this.allowedExtensions;\n        }\n        if (this.element.hasAttribute('multiple')) {\n            this.multiple = true;\n            this.initialAttr.multiple = true;\n        }\n        if (this.element.hasAttribute('disabled')) {\n            this.enabled = false;\n            this.initialAttr.disabled = true;\n        }\n    };\n    Uploader.prototype.chunkUpload = function (file, custom) {\n        var start = 0;\n        var end = Math.min(this.asyncSettings.chunkSize, file.size);\n        var index = 0;\n        var blob = file.rawFile.slice(start, end);\n        var metaData = { chunkIndex: index, blob: blob, file: file, start: start, end: end, retryCount: 0, request: null };\n        this.sendRequest(file, metaData, custom);\n    };\n    Uploader.prototype.sendRequest = function (file, metaData, custom) {\n        var _this = this;\n        var formData = new FormData();\n        var blob = file.rawFile.slice(metaData.start, metaData.end);\n        formData.append('chunkFile', blob, file.name);\n        formData.append('chunk-index', metaData.chunkIndex.toString());\n        var totalChunk = Math.max(Math.ceil(file.size / this.asyncSettings.chunkSize), 1);\n        formData.append('total-chunk', totalChunk.toString());\n        var ajax = new Ajax({ url: this.asyncSettings.saveUrl, type: 'POST', async: true, contentType: null });\n        ajax.onLoad = function (e) { _this.chunkUploadComplete(e, metaData, custom); return {}; };\n        ajax.onUploadProgress = function (e) {\n            _this.chunkUploadInProgress(e, metaData, custom);\n            return {};\n        };\n        var eventArgs = {\n            fileData: file,\n            customFormData: [],\n            cancel: false,\n            chunkSize: this.asyncSettings.chunkSize === 0 ? null : this.asyncSettings.chunkSize\n        };\n        ajax.beforeSend = function (e) {\n            if (metaData.chunkIndex !== 0) {\n                return;\n            }\n            eventArgs.currentRequest = ajax.httpRequest;\n            _this.trigger('uploading', eventArgs);\n            if (eventArgs.cancel) {\n                _this.eventCancelByArgs(e, eventArgs, file);\n            }\n            else {\n                _this.updateFormData(formData, eventArgs.customFormData);\n            }\n        };\n        /* istanbul ignore next */\n        ajax.onError = function (e) { _this.chunkUploadFailed(e, metaData, custom); return {}; };\n        ajax.send(formData);\n        metaData.request = ajax;\n    };\n    Uploader.prototype.eventCancelByArgs = function (e, eventArgs, file) {\n        var _this = this;\n        e.cancel = true;\n        if (eventArgs.fileData.statusCode === '5') {\n            return;\n        }\n        var liElement = this.getLiElement(eventArgs.fileData);\n        liElement.querySelector('.' + STATUS).innerHTML = this.localizedTexts('fileUploadCancel');\n        liElement.querySelector('.' + STATUS).classList.add(UPLOAD_FAILED);\n        eventArgs.fileData.statusCode = '5';\n        eventArgs.fileData.status = this.localizedTexts('fileUploadCancel');\n        this.pauseButton = this.createElement('span', { className: 'e-icons e-file-reload-btn', attrs: { 'tabindex': '-1' } });\n        liElement.insertBefore(this.pauseButton, liElement.querySelector('.' + CLEAR_ICON));\n        this.pauseButton.setAttribute('title', this.localizedTexts('retry'));\n        /* istanbul ignore next */\n        this.pauseButton.addEventListener('click', function (e) { _this.reloadcanceledFile(e, file, liElement); }, false);\n        this.checkActionButtonStatus();\n    };\n    Uploader.prototype.checkChunkUpload = function () {\n        return (this.asyncSettings.chunkSize <= 0 || isNullOrUndefined(this.asyncSettings.chunkSize)) ? false : true;\n    };\n    Uploader.prototype.chunkUploadComplete = function (e, metaData, custom) {\n        var _this = this;\n        var response = e.target;\n        var liElement;\n        if (response.readyState === 4 && response.status >= 200 && response.status < 300) {\n            var totalChunk = Math.max(Math.ceil(metaData.file.size / this.asyncSettings.chunkSize), 1);\n            var eventArgs = {\n                event: e,\n                file: metaData.file,\n                chunkIndex: metaData.chunkIndex,\n                totalChunk: totalChunk,\n                chunkSize: this.asyncSettings.chunkSize\n            };\n            this.trigger('chunkSuccess', eventArgs);\n            if (isNullOrUndefined(custom) || !custom) {\n                liElement = this.getLiElement(metaData.file);\n            }\n            this.updateMetaData(metaData);\n            if (metaData.end === metaData.file.size) {\n                metaData.file.statusCode = '3';\n            }\n            if (metaData.file.statusCode === '5') {\n                var eventArgs_2 = { event: e, fileData: metaData.file, cancel: false };\n                this.trigger('canceling', eventArgs_2);\n                if (eventArgs_2.cancel) {\n                    metaData.file.statusCode = '3';\n                    var spinnerTarget = liElement.querySelector('.' + ABORT_ICON);\n                    if (!isNullOrUndefined(liElement) && !isNullOrUndefined(spinnerTarget)) {\n                        hideSpinner(spinnerTarget);\n                        detach(liElement.querySelector('.e-spinner-pane'));\n                    }\n                    this.sendNextRequest(metaData);\n                    return;\n                }\n                metaData.request.emitError = false;\n                response.abort();\n                var formData = new FormData();\n                var name_2 = this.element.getAttribute('name');\n                formData.append(name_2, metaData.file.name);\n                formData.append('cancel-uploading', metaData.file.name);\n                var ajax = new Ajax(this.asyncSettings.removeUrl, 'POST', true, null);\n                ajax.onLoad = function (e) { _this.removeChunkFile(e, metaData, custom); return {}; };\n                ajax.send(formData);\n            }\n            else {\n                if ((totalChunk - 1) === metaData.chunkIndex && totalChunk > metaData.chunkIndex) {\n                    var index = this.pausedData.indexOf(metaData);\n                    if (index >= 0) {\n                        this.pausedData.splice(index, 1);\n                    }\n                    if (isNullOrUndefined(this.template) && (isNullOrUndefined(custom) || !custom) && liElement) {\n                        if (liElement) {\n                            detach(liElement.querySelector('.' + PAUSE_UPLOAD));\n                        }\n                        this.removeChunkProgressBar(metaData);\n                    }\n                    this.raiseSuccessEvent(e, metaData.file);\n                    return;\n                }\n                this.sendNextRequest(metaData);\n            }\n        }\n        else {\n            this.chunkUploadFailed(e, metaData);\n        }\n    };\n    Uploader.prototype.sendNextRequest = function (metaData) {\n        metaData.start = metaData.end;\n        metaData.end += this.asyncSettings.chunkSize;\n        metaData.end = Math.min(metaData.end, metaData.file.size);\n        metaData.chunkIndex += 1;\n        this.sendRequest(metaData.file, metaData);\n    };\n    Uploader.prototype.removeChunkFile = function (e, metaData, custom) {\n        if (isNullOrUndefined(this.template) && (isNullOrUndefined(custom) && !custom)) {\n            var liElement = this.getLiElement(metaData.file);\n            var deleteIcon = liElement.querySelector('.' + ABORT_ICON);\n            var spinnerTarget = deleteIcon;\n            this.updateStatus(metaData.file, this.localizedTexts('fileUploadCancel'), '5');\n            this.updateProgressBarClasses(liElement, UPLOAD_FAILED);\n            this.removeProgressbar(liElement, 'failure');\n            deleteIcon.classList.remove(ABORT_ICON);\n            deleteIcon.classList.add(CLEAR_ICON);\n            deleteIcon.setAttribute('title', this.localizedTexts('remove'));\n            var pauseIcon = liElement.querySelector('.' + PAUSE_UPLOAD);\n            pauseIcon.classList.add(RETRY_ICON);\n            pauseIcon.classList.remove(PAUSE_UPLOAD);\n            pauseIcon.setAttribute('title', this.localizedTexts('retry'));\n            if (!isNullOrUndefined(liElement) && !isNullOrUndefined(deleteIcon)) {\n                hideSpinner(spinnerTarget);\n                detach(liElement.querySelector('.e-spinner-pane'));\n            }\n        }\n    };\n    Uploader.prototype.pauseUpload = function (metaData, e, custom) {\n        metaData.file.statusCode = '4';\n        metaData.file.status = this.localizedTexts('pause');\n        this.updateMetaData(metaData);\n        var eventArgs = {\n            event: e ? e : null,\n            file: metaData.file,\n            chunkIndex: metaData.chunkIndex,\n            chunkCount: Math.round(metaData.file.size / this.asyncSettings.chunkSize),\n            chunkSize: this.asyncSettings.chunkSize\n        };\n        this.abortUpload(metaData, custom, eventArgs);\n    };\n    Uploader.prototype.abortUpload = function (metaData, custom, eventArgs) {\n        metaData.request.emitError = false;\n        metaData.request.httpRequest.abort();\n        var liElement = this.getLiElement(metaData.file);\n        if (isNullOrUndefined(this.template) && (isNullOrUndefined(custom) || !custom)) {\n            var targetElement = liElement.querySelector('.' + PAUSE_UPLOAD);\n            targetElement.classList.remove(PAUSE_UPLOAD);\n            targetElement.classList.add(RESUME_UPLOAD);\n            targetElement.setAttribute('title', this.localizedTexts('resume'));\n        }\n        for (var i = 0; i < this.pausedData.length; i++) {\n            if (this.pausedData[i].file.name === metaData.file.name) {\n                this.pausedData.splice(i, 1);\n            }\n        }\n        this.pausedData.push(metaData);\n        this.trigger('pausing', eventArgs);\n    };\n    Uploader.prototype.resumeUpload = function (metaData, e, custom) {\n        var liElement = this.getLiElement(metaData.file);\n        var targetElement;\n        if (!isNullOrUndefined(liElement)) {\n            targetElement = liElement.querySelector('.' + RESUME_UPLOAD);\n        }\n        if (!isNullOrUndefined(targetElement) && (isNullOrUndefined(custom) || !custom)) {\n            targetElement.classList.remove(RESUME_UPLOAD);\n            targetElement.classList.add(PAUSE_UPLOAD);\n            targetElement.setAttribute('title', this.localizedTexts('pause'));\n        }\n        metaData.file.status = this.localizedTexts('inProgress');\n        metaData.file.statusCode = '3';\n        this.updateMetaData(metaData);\n        var eventArgs = {\n            event: e ? e : null,\n            file: metaData.file,\n            chunkIndex: metaData.chunkIndex,\n            chunkCount: Math.round(metaData.file.size / this.asyncSettings.chunkSize),\n            chunkSize: this.asyncSettings.chunkSize\n        };\n        this.trigger('resuming', eventArgs);\n        for (var i = 0; i < this.pausedData.length; i++) {\n            if (this.pausedData[i].end === this.pausedData[i].file.size) {\n                this.chunkUploadComplete(e, metaData, custom);\n            }\n            else {\n                if (this.pausedData[i].file.name === metaData.file.name) {\n                    this.pausedData[i].start = this.pausedData[i].end;\n                    this.pausedData[i].end = this.pausedData[i].end + this.asyncSettings.chunkSize;\n                    this.pausedData[i].end = Math.min(this.pausedData[i].end, this.pausedData[i].file.size);\n                    this.pausedData[i].chunkIndex = this.pausedData[i].chunkIndex + 1;\n                    this.sendRequest(this.pausedData[i].file, this.pausedData[i], custom);\n                }\n            }\n        }\n    };\n    Uploader.prototype.updateMetaData = function (metaData) {\n        if (this.uploadMetaData.indexOf(metaData) === -1) {\n            this.uploadMetaData.push(metaData);\n        }\n        else {\n            this.uploadMetaData.splice(this.uploadMetaData.indexOf(metaData), 1);\n            this.uploadMetaData.push(metaData);\n        }\n    };\n    Uploader.prototype.removeChunkProgressBar = function (metaData) {\n        var liElement = this.getLiElement(metaData.file);\n        if (!isNullOrUndefined(liElement)) {\n            this.updateProgressBarClasses(liElement, UPLOAD_SUCCESS);\n            this.removeProgressbar(liElement, 'success');\n            var cancelButton = liElement.querySelector('.' + ABORT_ICON);\n            if (!isNullOrUndefined(cancelButton)) {\n                cancelButton.classList.add(REMOVE_ICON);\n                cancelButton.setAttribute('title', this.localizedTexts('delete'));\n                cancelButton.classList.remove(ABORT_ICON, UPLOAD_INPROGRESS);\n            }\n        }\n    };\n    Uploader.prototype.chunkUploadFailed = function (e, metaData, custom) {\n        var _this = this;\n        var chunkCount = Math.max(Math.ceil(metaData.file.size / this.asyncSettings.chunkSize), 1);\n        var liElement;\n        if (isNullOrUndefined(this.template) && (isNullOrUndefined(custom) || !custom)) {\n            liElement = this.getLiElement(metaData.file);\n        }\n        var eventArgs = {\n            event: e,\n            file: metaData.file,\n            chunkIndex: metaData.chunkIndex,\n            totalChunk: chunkCount,\n            chunkSize: this.asyncSettings.chunkSize\n        };\n        this.trigger('chunkFailure', eventArgs);\n        if (metaData.retryCount < this.asyncSettings.retryCount) {\n            setTimeout(function () { _this.retryRequest(liElement, metaData, custom); }, this.asyncSettings.retryAfterDelay);\n        }\n        else {\n            if (!isNullOrUndefined(liElement)) {\n                var pauseButton = liElement.querySelector('.' + PAUSE_UPLOAD) ?\n                    liElement.querySelector('.' + PAUSE_UPLOAD) : liElement.querySelector('.' + RESUME_UPLOAD);\n                if (!isNullOrUndefined(pauseButton)) {\n                    pauseButton.classList.add(RETRY_ICON);\n                    pauseButton.classList.remove(PAUSE_UPLOAD, RESUME_UPLOAD);\n                }\n                this.updateProgressBarClasses(liElement, UPLOAD_FAILED);\n                this.removeProgressbar(liElement, 'failure');\n                liElement.querySelector('.e-icons').classList.remove(UPLOAD_INPROGRESS);\n                var iconElement = liElement.querySelector('.' + ABORT_ICON);\n                iconElement.classList.remove(ABORT_ICON);\n                if (!isNullOrUndefined(liElement.querySelector('.' + PAUSE_UPLOAD))) {\n                    detach(liElement.querySelector('.' + PAUSE_UPLOAD));\n                }\n                if (metaData.start > 0) {\n                    iconElement.classList.add(REMOVE_ICON);\n                    iconElement.setAttribute('title', this.localizedTexts('delete'));\n                }\n                else {\n                    iconElement.classList.add(CLEAR_ICON);\n                    iconElement.setAttribute('title', this.localizedTexts('remove'));\n                }\n            }\n            metaData.retryCount = 0;\n            var file = metaData.file;\n            var args = { e: e, operation: 'upload', file: this.updateStatus(file, this.localizedTexts('uploadFailedMessage'), '0') };\n            this.trigger('failure', args);\n        }\n    };\n    Uploader.prototype.retryRequest = function (liElement, metaData, custom) {\n        if (isNullOrUndefined(this.template) && (isNullOrUndefined(custom) || !custom) && liElement) {\n            this.updateProgressBarClasses(liElement, UPLOAD_FAILED);\n        }\n        metaData.retryCount += 1;\n        this.sendRequest(metaData.file, metaData);\n    };\n    Uploader.prototype.checkPausePlayAction = function (e) {\n        var targetElement = e.target;\n        var selectedElement = e.target.parentElement;\n        var index = this.fileList.indexOf(selectedElement);\n        var fileData = this.filesData[index];\n        var metaData = this.getCurrentMetaData(fileData);\n        if (targetElement.classList.contains(PAUSE_UPLOAD)) {\n            this.pauseUpload(metaData, e);\n            targetElement.nextElementSibling.classList.add(DISABLED);\n        }\n        else if (targetElement.classList.contains(RESUME_UPLOAD)) {\n            this.resumeUpload(metaData, e);\n            targetElement.nextElementSibling.classList.remove(DISABLED);\n        }\n        else if (targetElement.classList.contains(RETRY_ICON)) {\n            if (metaData.file.status === this.localizedTexts('fileUploadCancel')) {\n                this.retryUpload(metaData, false);\n            }\n            else {\n                this.retryUpload(metaData, true);\n            }\n        }\n    };\n    Uploader.prototype.retryUpload = function (metaData, fromcanceledStage) {\n        if (fromcanceledStage) {\n            metaData.end = metaData.end + this.asyncSettings.chunkSize;\n            metaData.start = metaData.start + this.asyncSettings.chunkSize;\n            this.sendRequest(metaData.file, metaData);\n        }\n        else {\n            metaData.file.statusCode = '1';\n            metaData.file.status = this.localizedTexts('readyToUploadMessage');\n            this.chunkUpload(metaData.file);\n        }\n    };\n    Uploader.prototype.chunkUploadInProgress = function (e, metaData, custom) {\n        var _this = this;\n        if (metaData.file.statusCode === '4') {\n            return;\n        }\n        if (metaData.file.statusCode !== '4' && metaData.file.statusCode !== '5') {\n            metaData.file.statusCode = '3';\n            metaData.file.status = this.localizedTexts('inProgress');\n        }\n        this.updateMetaData(metaData);\n        var liElement = this.getLiElement(metaData.file);\n        if (isNullOrUndefined(liElement)) {\n            return;\n        }\n        var target;\n        var retryElement = liElement.querySelector('.' + RETRY_ICON);\n        if (!isNullOrUndefined(retryElement)) {\n            retryElement.classList.add(PAUSE_UPLOAD);\n            retryElement.setAttribute('title', this.localizedTexts('pause'));\n            retryElement.classList.remove(RETRY_ICON);\n        }\n        if (!isNullOrUndefined(liElement)) {\n            if (!(liElement.querySelectorAll('.' + PROGRESS_WRAPPER).length > 0)) {\n                var statusElement = liElement.querySelector('.' + STATUS);\n                if (isNullOrUndefined(this.template)) {\n                    statusElement.classList.add(UPLOAD_INPROGRESS);\n                    statusElement.classList.remove(UPLOAD_FAILED);\n                    this.createProgressBar(liElement);\n                    this.updateProgressBarClasses(liElement, UPLOAD_INPROGRESS);\n                }\n                var clearIcon = liElement.querySelector('.' + CLEAR_ICON) ? liElement.querySelector('.' + CLEAR_ICON) :\n                    liElement.querySelector('.' + REMOVE_ICON);\n                if (!isNullOrUndefined(clearIcon)) {\n                    clearIcon.classList.add(ABORT_ICON);\n                    clearIcon.setAttribute('title', this.localizedTexts('abort'));\n                    clearIcon.classList.remove(CLEAR_ICON);\n                }\n            }\n            if (!isNaN(Math.round((e.loaded / e.total) * 100)) && isNullOrUndefined(this.template) && metaData.file.statusCode !== '4') {\n                var loadedSize = (metaData.chunkIndex * this.asyncSettings.chunkSize);\n                var value = Math.min((((loadedSize + e.loaded) / metaData.file.size) * 100), 100);\n                this.changeProgressValue(liElement, Math.round(value).toString() + '%');\n            }\n            if (metaData.chunkIndex === 0) {\n                this.checkActionButtonStatus();\n            }\n        }\n        if (isNullOrUndefined(liElement.querySelector('.' + PAUSE_UPLOAD)) && isNullOrUndefined(this.template)) {\n            this.pauseButton = this.createElement('span', { className: 'e-icons e-file-pause-btn', attrs: { 'tabindex': '-1' } });\n            if (Browser.info.name === 'msie') {\n                this.pauseButton.classList.add('e-msie');\n            }\n            liElement.insertBefore(this.pauseButton, liElement.querySelector('.' + ABORT_ICON));\n            this.pauseButton.setAttribute('title', this.localizedTexts('pause'));\n            this.pauseButton.addEventListener('click', function (e) { _this.checkPausePlayAction(e); }, false);\n        }\n    };\n    /**\n     * It is used to convert bytes value into kilobytes or megabytes depending on the size based\n     * on [binary prefix](https://en.wikipedia.org/wiki/Binary_prefix).\n     * @param { number } bytes - specifies the file size in bytes.\n     * @returns string\n     */\n    Uploader.prototype.bytesToSize = function (bytes) {\n        var i = -1;\n        var size;\n        if (!bytes) {\n            return '0.0 KB';\n        }\n        do {\n            bytes = bytes / 1024;\n            i++;\n        } while (bytes > 99);\n        if (i >= 2) {\n            bytes = bytes * 1024;\n            i = 1;\n        }\n        return Math.max(bytes, 0).toFixed(1) + ' ' + ['KB', 'MB'][i];\n    };\n    /**\n     * Allows you to sort the file data alphabetically based on its file name clearly.\n     * @param { FileList } filesData - specifies the files data for upload.\n     * @returns File[]\n     */\n    Uploader.prototype.sortFileList = function (filesData) {\n        var files = filesData;\n        var fileNames = [];\n        for (var i = 0; i < files.length; i++) {\n            fileNames.push(files[i].name);\n        }\n        var sortedFileNames = fileNames.sort();\n        var sortedFilesData = [];\n        var index = 0;\n        for (var _i = 0, sortedFileNames_1 = sortedFileNames; _i < sortedFileNames_1.length; _i++) {\n            var name_3 = sortedFileNames_1[_i];\n            for (var i = 0; i < files.length; i++) {\n                if (name_3 === files[i].name) {\n                    sortedFilesData.push(files[i]);\n                }\n            }\n        }\n        return sortedFilesData;\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n     * @method destroy\n     * @return {void}.\n     */\n    Uploader.prototype.destroy = function () {\n        this.element.value = null;\n        this.clearAll();\n        this.unWireEvents();\n        this.unBindDropEvents();\n        if (this.multiple) {\n            this.element.removeAttribute('multiple');\n        }\n        if (!this.enabled) {\n            this.element.removeAttribute('disabled');\n        }\n        this.element.removeAttribute('accept');\n        this.setInitialAttributes();\n        this.uploadWrapper.parentElement.appendChild(this.cloneElement);\n        this.cloneElement.classList.remove('e-control', ROOT);\n        detach(this.uploadWrapper);\n        this.uploadWrapper = null;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Allows you to call the upload process manually by calling save URL action.\n     * To process the selected files (added in upload queue), pass an empty argument otherwise\n     * upload the specific file based on its argument.\n     * @param { FileInfo | FileInfo[] } files - specifies the files data for upload.\n     * @returns void\n     */\n    Uploader.prototype.upload = function (files, custom) {\n        var uploadFiles = this.validateFileType(files);\n        this.uploadFiles(uploadFiles, custom);\n    };\n    Uploader.prototype.validateFileType = function (files) {\n        var uploadFiles = [];\n        if (files instanceof Array) {\n            uploadFiles = files;\n        }\n        else {\n            uploadFiles.push(files);\n        }\n        return uploadFiles;\n    };\n    Uploader.prototype.uploadFiles = function (files, custom) {\n        var _this = this;\n        var selectedFiles = [];\n        if (this.asyncSettings.saveUrl === '' || isNullOrUndefined(this.asyncSettings.saveUrl)) {\n            return;\n        }\n        if (!custom || isNullOrUndefined(custom)) {\n            if (!this.multiple) {\n                var file = [];\n                file.push(files[0]);\n                selectedFiles = this.filterfileList(file);\n            }\n            else {\n                selectedFiles = this.filterfileList(files);\n            }\n        }\n        else {\n            selectedFiles = files;\n        }\n        var chunkEnabled = this.checkChunkUpload();\n        var _loop_2 = function (i) {\n            var ajax = new Ajax(this_1.asyncSettings.saveUrl, 'POST', true, null);\n            var eventArgs = {\n                fileData: selectedFiles[i],\n                customFormData: [],\n                cancel: false\n            };\n            var formData = new FormData();\n            ajax.beforeSend = function (e) {\n                eventArgs.currentRequest = ajax.httpRequest;\n                _this.trigger('uploading', eventArgs);\n                if (eventArgs.cancel) {\n                    _this.eventCancelByArgs(e, eventArgs, selectedFiles[i]);\n                }\n                _this.updateFormData(formData, eventArgs.customFormData);\n            };\n            if (selectedFiles[i].statusCode === '1') {\n                var name_4 = this_1.element.getAttribute('name');\n                formData.append(name_4, selectedFiles[i].rawFile, selectedFiles[i].name);\n                if (chunkEnabled && selectedFiles[i].size > this_1.asyncSettings.chunkSize) {\n                    this_1.chunkUpload(selectedFiles[i], custom);\n                }\n                else {\n                    ajax.onLoad = function (e) { _this.uploadComplete(e, selectedFiles[i], custom); return {}; };\n                    ajax.onUploadProgress = function (e) {\n                        _this.uploadInProgress(e, selectedFiles[i], custom, ajax);\n                        return {};\n                    };\n                    /* istanbul ignore next */\n                    ajax.onError = function (e) { _this.uploadFailed(e, selectedFiles[i]); return {}; };\n                    ajax.send(formData);\n                }\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < selectedFiles.length; i++) {\n            _loop_2(i);\n        }\n    };\n    /**\n     * Remove the uploaded file from server manually by calling the remove URL action.\n     * If you pass an empty argument to this method, the complete file list can be cleared,\n     * otherwise remove the specific file based on its argument (“file_data”).\n     * @param { FileInfo | FileInfo[] } fileData - specifies the files data to remove from file list/server.\n     * @param { boolean } customTemplate - Set true if the component rendering with customize template.\n     * @param { boolean } removeDirectly - Set true if files remove without removing event.\n     * @returns void\n     */\n    Uploader.prototype.remove = function (fileData, customTemplate, removeDirectly, args) {\n        var eventArgs = {\n            event: args,\n            cancel: false,\n            filesData: [],\n            customFormData: [],\n            postRawFile: true\n        };\n        if (this.isForm) {\n            eventArgs.filesData = this.getFilesData();\n            this.trigger('removing', eventArgs);\n            if (!eventArgs.cancel) {\n                this.clearAll();\n            }\n            return;\n        }\n        var removeFiles = [];\n        fileData = !isNullOrUndefined(fileData) ? fileData : this.filesData;\n        if (fileData instanceof Array) {\n            removeFiles = fileData;\n        }\n        else {\n            removeFiles.push(fileData);\n        }\n        eventArgs.filesData = removeFiles;\n        var removeUrl = this.asyncSettings.removeUrl;\n        var validUrl = (removeUrl === '' || isNullOrUndefined(removeUrl)) ? false : true;\n        for (var _i = 0, removeFiles_1 = removeFiles; _i < removeFiles_1.length; _i++) {\n            var files = removeFiles_1[_i];\n            if ((files.statusCode === '2' || files.statusCode === '4') && validUrl) {\n                this.removeUploadedFile(files, eventArgs, removeDirectly, customTemplate);\n            }\n            else {\n                if (!removeDirectly) {\n                    this.trigger('removing', eventArgs);\n                }\n                if (eventArgs.cancel) {\n                    return;\n                }\n                this.removeFilesData(files, customTemplate);\n            }\n        }\n    };\n    /**\n     * Clear all the file entries from list that can be uploaded files or added in upload queue.\n     * @returns void\n     */\n    Uploader.prototype.clearAll = function () {\n        if (isNullOrUndefined(this.listParent)) {\n            if (Browser.info.name !== 'msie') {\n                this.element.value = '';\n            }\n            this.filesData = [];\n            return;\n        }\n        var eventArgs = {\n            cancel: false,\n            filesData: this.filesData\n        };\n        this.trigger('clearing', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        this.clearData();\n    };\n    /**\n     * Get the data of files which are shown in file list.\n     * @returns FileInfo[]\n     */\n    Uploader.prototype.getFilesData = function () {\n        return this.filesData;\n    };\n    /**\n     * Pauses the in-progress chunked upload based on the file data.\n     * @param { FileInfo | FileInfo[] } fileData - specifies the files data to pause from uploading.\n     * @param { boolean } custom - Set true if used custom UI.\n     * @returns void\n     */\n    Uploader.prototype.pause = function (fileData, custom) {\n        var fileDataFiles = this.validateFileType(fileData);\n        this.pauseUploading(fileDataFiles, custom);\n    };\n    Uploader.prototype.pauseUploading = function (fileData, custom) {\n        var files = this.getFiles(fileData);\n        for (var i = 0; i < files.length; i++) {\n            if (files[i].statusCode === '3') {\n                this.pauseUpload(this.getCurrentMetaData(files[i], null), null, custom);\n            }\n        }\n    };\n    Uploader.prototype.getFiles = function (fileData) {\n        var files = [];\n        if (!isNullOrUndefined(fileData) && !(fileData instanceof Array)) {\n            files.push(fileData);\n        }\n        else {\n            files = fileData;\n        }\n        return files;\n    };\n    /**\n     * Resumes the chunked upload that is previously paused based on the file data.\n     * @param { FileInfo | FileInfo[] } fileData - specifies the files data to resume the paused file.\n     * @param { boolean } custom - Set true if used custom UI.\n     * @returns void\n     */\n    Uploader.prototype.resume = function (fileData, custom) {\n        var fileDataFiles = this.validateFileType(fileData);\n        this.resumeFiles(fileDataFiles, custom);\n    };\n    Uploader.prototype.resumeFiles = function (fileData, custom) {\n        var files = this.getFiles(fileData);\n        for (var i = 0; i < files.length; i++) {\n            if (files[i].statusCode === '4') {\n                this.resumeUpload(this.getCurrentMetaData(files[i], null), null, custom);\n            }\n        }\n    };\n    /**\n     * Retries the canceled or failed file upload based on the file data.\n     * @param { FileInfo | FileInfo[] } fileData - specifies the files data to retry the canceled or failed file.\n     * @param { boolean } fromcanceledStage - Set true to retry from canceled stage and set false to retry from initial stage.\n     * @returns void\n     */\n    Uploader.prototype.retry = function (fileData, fromcanceledStage) {\n        var fileDataFiles = this.validateFileType(fileData);\n        this.retryFailedFiles(fileDataFiles, fromcanceledStage);\n    };\n    Uploader.prototype.retryFailedFiles = function (fileData, fromcanceledStage) {\n        var files = this.getFiles(fileData);\n        for (var i = 0; i < files.length; i++) {\n            if (files[i].statusCode === '5' || files[i].statusCode === '0') {\n                if (this.asyncSettings.chunkSize > 0) {\n                    this.retryUpload(this.getCurrentMetaData(files[i], null), fromcanceledStage);\n                }\n                else {\n                    var liElement = this.fileList[this.filesData.indexOf(files[i])];\n                    this.reloadcanceledFile(null, files[i], liElement);\n                }\n            }\n        }\n    };\n    /**\n     * Stops the in-progress chunked upload based on the file data.\n     * When the file upload is canceled, the partially uploaded file is removed from server.\n     * @param { FileInfo | FileInfo[] } fileData - specifies the files data to cancel the progressing file.\n     * @returns void\n     */\n    Uploader.prototype.cancel = function (fileData) {\n        var fileDataFiles = this.validateFileType(fileData);\n        this.cancelUpload(fileDataFiles);\n    };\n    Uploader.prototype.cancelUpload = function (fileData) {\n        var files = this.getFiles(fileData);\n        for (var i = 0; i < files.length; i++) {\n            if (files[i].statusCode === '3') {\n                var metaData = this.getCurrentMetaData(files[i], null);\n                metaData.file.statusCode = '5';\n                metaData.file.status = this.localizedTexts('fileUploadCancel');\n                this.updateMetaData(metaData);\n                var liElement = this.getLiElement(files[i]);\n                if (!isNullOrUndefined(liElement) && isNullOrUndefined(this.template)) {\n                    var spinnerTarget = liElement.querySelector('.' + ABORT_ICON);\n                    createSpinner({ target: spinnerTarget, width: '20px' });\n                    showSpinner(spinnerTarget);\n                }\n            }\n        }\n    };\n    __decorate([\n        Complex({ saveUrl: '', removeUrl: '' }, AsyncSettings)\n    ], Uploader.prototype, \"asyncSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], Uploader.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property(true)\n    ], Uploader.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(null)\n    ], Uploader.prototype, \"template\", void 0);\n    __decorate([\n        Property(true)\n    ], Uploader.prototype, \"multiple\", void 0);\n    __decorate([\n        Property(true)\n    ], Uploader.prototype, \"autoUpload\", void 0);\n    __decorate([\n        Complex({}, ButtonsProps)\n    ], Uploader.prototype, \"buttons\", void 0);\n    __decorate([\n        Property('')\n    ], Uploader.prototype, \"allowedExtensions\", void 0);\n    __decorate([\n        Property(0)\n    ], Uploader.prototype, \"minFileSize\", void 0);\n    __decorate([\n        Property(30000000)\n    ], Uploader.prototype, \"maxFileSize\", void 0);\n    __decorate([\n        Property(null)\n    ], Uploader.prototype, \"dropArea\", void 0);\n    __decorate([\n        Collection([{}], FilesProp)\n    ], Uploader.prototype, \"files\", void 0);\n    __decorate([\n        Property(true)\n    ], Uploader.prototype, \"showFileList\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"selected\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"uploading\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"success\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"failure\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"removing\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"clearing\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"progress\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"chunkSuccess\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"chunkFailure\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"canceling\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"pausing\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"resuming\", void 0);\n    Uploader = __decorate([\n        NotifyPropertyChanges\n    ], Uploader);\n    return Uploader;\n}(Component));\nexport { Uploader };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Collection, Event, NotifyPropertyChanges, detach, Property, EventHandler } from '@syncfusion/ej2-base';\nimport { addClass, getUniqueID, rippleEffect } from '@syncfusion/ej2-base';\nimport { attributes, Component, closest, select } from '@syncfusion/ej2-base';\nimport { classList, removeClass } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { getModel, Item } from './../common/common';\nvar classNames = {\n    DISABLED: 'e-disabled',\n    FOCUS: 'e-focused',\n    ICON: 'e-menu-icon',\n    ITEM: 'e-item',\n    POPUP: 'e-dropdown-popup',\n    RTL: 'e-rtl',\n    SEPARATOR: 'e-separator',\n    VERTICAL: 'e-vertical'\n};\n/**\n * DropDownButton component is used to toggle contextual overlays for displaying list of action items.\n * It can contain both text and images.\n * ``````html\n * <button id=\"element\">DropDownButton</button>\n * ```\n * ```typescript\n * <script>\n * var dropDownButtonObj = new DropDownButton({items: [{ text: 'Action1' }, { text: 'Action2' },{ text: 'Action3' }]);\n * dropDownButtonObj.appendTo(\"#element\");\n * </script>\n * ```\n */\nvar DropDownButton = /** @class */ (function (_super) {\n    __extends(DropDownButton, _super);\n    /**\n     * Constructor for creating the widget\n     * @param  {DropDownButtonModel} options?\n     * @param  {string|HTMLButtonElement} element?\n     */\n    function DropDownButton(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    DropDownButton.prototype.preRender = function () {\n        /** */\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @returns string\n     */\n    DropDownButton.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * To open/close DropDownButton popup based on current state of the DropDownButton.\n     * @returns void\n     */\n    DropDownButton.prototype.toggle = function () {\n        this.canOpen() ? this.openPopUp() : this.closePopup();\n    };\n    /**\n     * Initialize the Component rendering\n     * @returns void\n     * @private\n     */\n    DropDownButton.prototype.render = function () {\n        this.initialize();\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n    };\n    DropDownButton.prototype.createPopup = function () {\n        var div = this.createElement('div', {\n            className: classNames.POPUP,\n            id: this.element.id + '-popup'\n        });\n        document.body.appendChild(div);\n        this.dropDown = new Popup(div, {\n            relateTo: this.element,\n            collision: { X: 'fit', Y: 'flip' },\n            position: { X: 'left', Y: 'bottom' },\n            targetType: 'relative',\n            content: this.target ? this.getTargetElement() : '',\n            enableRtl: this.enableRtl\n        });\n        if (this.dropDown.element.style.position === 'fixed') {\n            this.dropDown.refreshPosition(this.element);\n        }\n        this.dropDown.hide();\n        attributes(this.element, (_a = {},\n            _a['role'] = 'menu',\n            _a['aria-haspopup'] = this.items.length || this.target ? 'true' : 'false',\n            _a['aria-expanded'] = 'false',\n            _a['aria-owns'] = this.getPopUpElement().id,\n            _a['type'] = 'button',\n            _a));\n        if (this.cssClass) {\n            addClass([div], this.cssClass.split(' '));\n        }\n        var _a;\n    };\n    DropDownButton.prototype.getTargetElement = function () {\n        return typeof (this.target) === 'string' ? select(this.target) : this.target;\n    };\n    DropDownButton.prototype.createItems = function (items) {\n        var showIcon = this.hasIcon(items, 'iconCss');\n        var span;\n        var item;\n        var li;\n        var eventArgs;\n        var ul = this.createElement('ul', {\n            attrs: { 'tabindex': '0' }\n        });\n        for (var i = 0; i < items.length; i++) {\n            item = items[i];\n            li = this.createElement('li', {\n                innerHTML: item.url ? '' : item.text,\n                className: item.separator ? classNames.ITEM + ' ' + classNames.SEPARATOR : classNames.ITEM,\n                attrs: { 'role': 'menuItem', 'tabindex': '-1' },\n                id: item.id ? item.id : getUniqueID('e-' + this.getModuleName() + '-item')\n            });\n            if (item.iconCss) {\n                span = this.createElement('span', { className: classNames.ICON + ' ' + item.iconCss });\n                li.insertBefore(span, li.childNodes[0]);\n            }\n            else {\n                if (showIcon && !item.separator) {\n                    li.classList.add('e-blank-icon');\n                }\n            }\n            if (item.url) {\n                li.appendChild(this.createAnchor(item));\n            }\n            eventArgs = { item: item, element: li };\n            this.trigger('beforeItemRender', eventArgs);\n            ul.appendChild(li);\n        }\n        return ul;\n    };\n    DropDownButton.prototype.hasIcon = function (items, field) {\n        for (var i = 0, len = items.length; i < len; i++) {\n            if (items[i][field]) {\n                return true;\n            }\n        }\n        return false;\n    };\n    DropDownButton.prototype.createAnchor = function (item) {\n        return this.createElement('a', { className: 'e-menu-text e-menu-url', innerHTML: item.text, attrs: { 'href': item.url } });\n    };\n    DropDownButton.prototype.initialize = function () {\n        this.button = new Button({\n            iconCss: this.iconCss, cssClass: this.cssClass, content: this.content,\n            disabled: this.disabled, enableRtl: this.enableRtl, enablePersistence: this.enablePersistence\n        });\n        this.button.appendTo(this.element);\n        if (!this.element.id) {\n            this.element.id = getUniqueID('e-' + this.getModuleName());\n        }\n        this.setIconPositionTop();\n        this.appendArrowSpan();\n        this.createPopup();\n        this.setActiveElem([this.element]);\n    };\n    DropDownButton.prototype.setIconPositionTop = function () {\n        var iconSpan = this.element.querySelector('.e-icon-left');\n        if (iconSpan && this.iconPosition === 'Top') {\n            addClass([this.element], 'e-top-icon-btn');\n            removeClass([iconSpan], 'e-icon-left');\n            addClass([iconSpan], 'e-icon-top');\n        }\n    };\n    DropDownButton.prototype.appendArrowSpan = function () {\n        this.element.appendChild(this.createElement('span', {\n            className: 'e-btn-icon e-icons ' + 'e-icon-' + (this.cssClass.indexOf(classNames.VERTICAL) > -1\n                ? 'bottom' : 'right') + ' e-caret'\n        }));\n    };\n    DropDownButton.prototype.setActiveElem = function (elem) {\n        this.activeElem = elem;\n    };\n    /**\n     * Get component name.\n     * @returns string\n     * @private\n     */\n    DropDownButton.prototype.getModuleName = function () {\n        return 'dropdown-btn';\n    };\n    DropDownButton.prototype.canOpen = function () {\n        return this.getPopUpElement().classList.contains('e-popup-close');\n    };\n    /**\n     * Destroys the widget.\n     * @returns void\n     */\n    DropDownButton.prototype.destroy = function () {\n        var _this = this;\n        if (this.element.querySelector('span.e-caret')) {\n            detach(this.element.querySelector('span.e-caret'));\n        }\n        _super.prototype.destroy.call(this);\n        this.button.destroy();\n        ['role', 'aria-haspopup', 'aria-expanded', 'aria-owns', 'type'].forEach(function (key) {\n            _this.element.removeAttribute(key);\n        });\n        removeClass([this.element], ['e-btn']);\n        removeClass(this.activeElem, ['e-active']);\n        this.dropDown.destroy();\n        var popupEle = document.getElementById(this.getPopUpElement().id);\n        if (popupEle) {\n            removeClass([popupEle], ['e-popup-open', 'e-popup-close']);\n            detach(popupEle);\n        }\n        if (!this.disabled) {\n            this.unWireEvents();\n        }\n    };\n    DropDownButton.prototype.getPopUpElement = function () {\n        return this.dropDown.element;\n    };\n    DropDownButton.prototype.getULElement = function () {\n        return this.getPopUpElement().children[0];\n    };\n    DropDownButton.prototype.wireEvents = function () {\n        var popupElement = this.getPopUpElement();\n        this.delegateMousedownHandler = this.mousedownHandler.bind(this);\n        EventHandler.add(document, 'mousedown touchstart', this.delegateMousedownHandler, this);\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        EventHandler.add(popupElement, 'click', this.clickHandler, this);\n        EventHandler.add(this.element, 'keydown', this.keyBoardHandler, this);\n        EventHandler.add(popupElement, 'keydown', this.keyBoardHandler, this);\n        this.rippleFn = rippleEffect(popupElement, { selector: '.' + classNames.ITEM });\n    };\n    DropDownButton.prototype.keyBoardHandler = function (e) {\n        if (e.target === this.element && (e.keyCode === 9 || (!e.altKey && e.keyCode === 40) || e.keyCode === 38)) {\n            return;\n        }\n        switch (e.keyCode) {\n            case 38:\n            case 40:\n                if (e.altKey && (e.keyCode === 38 || e.keyCode === 40)) {\n                    this.keyEventHandler(e);\n                }\n                else {\n                    this.upDownKeyHandler(e);\n                }\n                break;\n            case 9:\n            case 13:\n            case 27:\n            case 32:\n                this.keyEventHandler(e);\n                break;\n        }\n    };\n    DropDownButton.prototype.upDownKeyHandler = function (e) {\n        if (this.target && (e.keyCode === 38 || e.keyCode === 40)) {\n            return;\n        }\n        e.preventDefault();\n        var ul = this.getULElement();\n        var defaultIdx = e.keyCode === 40 ? 0 : ul.childElementCount - 1;\n        var liIdx = defaultIdx;\n        var li = null;\n        this.removeCustomSelection();\n        for (var i = 0, len = ul.children.length; i < len; i++) {\n            if (ul.children[i].classList.contains(classNames.FOCUS)) {\n                li = ul.children[i];\n                liIdx = i;\n                li.classList.remove(classNames.FOCUS);\n                e.keyCode === 40 ? liIdx++ : liIdx--;\n                if (liIdx === (e.keyCode === 40 ? ul.childElementCount : -1)) {\n                    liIdx = defaultIdx;\n                }\n            }\n        }\n        li = ul.children[liIdx];\n        liIdx = this.isValidLI(li, liIdx, e.keyCode);\n        if (liIdx !== -1) {\n            addClass([ul.children[liIdx]], classNames.FOCUS);\n            ul.children[liIdx].focus();\n        }\n    };\n    DropDownButton.prototype.removeCustomSelection = function () {\n        var selectedLi = this.getULElement().querySelector('.e-selected');\n        if (selectedLi) {\n            selectedLi.classList.remove('e-selected');\n        }\n    };\n    DropDownButton.prototype.isValidLI = function (li, index, keyCode, count) {\n        if (count === void 0) { count = 0; }\n        if (li.classList.contains(classNames.SEPARATOR) || li.classList.contains(classNames.DISABLED)) {\n            if (index === (keyCode === 40 ? this.items.length - 1 : 0)) {\n                index = keyCode === 40 ? 0 : this.items.length - 1;\n            }\n            else {\n                keyCode === 40 ? index++ : index--;\n            }\n        }\n        li = this.getULElement().children[index];\n        if (li.classList.contains(classNames.SEPARATOR) || li.classList.contains(classNames.DISABLED)) {\n            count++;\n            if (count === this.items.length) {\n                return index = -1;\n            }\n            index = this.isValidLI(li, index, keyCode, count);\n        }\n        return index;\n    };\n    DropDownButton.prototype.keyEventHandler = function (e) {\n        if (this.target && (e.keyCode === 13 || e.keyCode === 9)) {\n            return;\n        }\n        if (e.keyCode !== 9) {\n            e.preventDefault();\n        }\n        if (e.keyCode === 27 || e.keyCode === 38 || e.keyCode === 9) {\n            if (!this.canOpen()) {\n                this.closePopup(e, this.element);\n            }\n        }\n        else {\n            this.clickHandler(e);\n        }\n    };\n    DropDownButton.prototype.getLI = function (elem) {\n        return elem.tagName === 'LI' ? elem : closest(elem, 'li');\n    };\n    DropDownButton.prototype.mousedownHandler = function (e) {\n        var trgt = e.target;\n        if (!this.canOpen() && !(closest(trgt, '#' + this.getPopUpElement().id) || closest(trgt, '#' + this.element.id))) {\n            this.closePopup(e);\n        }\n    };\n    DropDownButton.prototype.clickHandler = function (e) {\n        var trgt = e.target;\n        var canOpen = this.canOpen();\n        if (closest(trgt, '#' + this.element.id)) {\n            if (canOpen) {\n                this.openPopUp(e);\n            }\n            else {\n                this.closePopup(e, this.activeElem[0]);\n            }\n        }\n        else {\n            if (closest(trgt, '#' + this.getPopUpElement().id)) {\n                var eventArgs = void 0;\n                var liIdx = void 0;\n                var item = void 0;\n                var li = this.getLI(trgt);\n                if (li) {\n                    liIdx = Array.prototype.indexOf.call(this.getULElement().children, li);\n                    item = this.items[liIdx];\n                    if (item) {\n                        eventArgs = { element: li, item: item };\n                        this.trigger('select', eventArgs);\n                    }\n                    this.closePopup(e, this.activeElem[0]);\n                }\n            }\n        }\n    };\n    DropDownButton.prototype.openPopUp = function (e) {\n        if (e === void 0) { e = null; }\n        if (!this.target) {\n            this.getPopUpElement().appendChild(this.createItems(this.items));\n        }\n        var ul = this.getULElement();\n        var beforeOpenArgs = { element: ul, items: this.items, event: e, cancel: false };\n        this.trigger('beforeOpen', beforeOpenArgs);\n        if (!beforeOpenArgs.cancel) {\n            this.dropDown.show(null, this.element);\n            addClass([this.element], 'e-active');\n            this.element.setAttribute('aria-expanded', 'true');\n            ul.focus();\n            var openArgs = { element: ul, items: this.items };\n            this.trigger('open', openArgs);\n        }\n    };\n    DropDownButton.prototype.closePopup = function (e, focusEle) {\n        if (e === void 0) { e = null; }\n        var ul = this.getULElement();\n        var beforeCloseArgs = { element: ul, items: this.items, event: e, cancel: false };\n        this.trigger('beforeClose', beforeCloseArgs);\n        if (!beforeCloseArgs.cancel) {\n            this.removeCustomSelection();\n            this.dropDown.hide();\n            removeClass(this.activeElem, 'e-active');\n            this.element.setAttribute('aria-expanded', 'false');\n            if (focusEle) {\n                focusEle.focus();\n            }\n            var closeArgs = { element: ul, items: this.items };\n            this.trigger('close', closeArgs);\n            if (!this.target && ul) {\n                detach(ul);\n            }\n        }\n    };\n    DropDownButton.prototype.unWireEvents = function () {\n        EventHandler.remove(document, 'mousedown touchstart', this.delegateMousedownHandler);\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        EventHandler.remove(this.getPopUpElement(), 'click', this.clickHandler);\n        EventHandler.remove(this.element, 'keydown', this.keyBoardHandler);\n        EventHandler.remove(this.getPopUpElement(), 'keydown', this.keyBoardHandler);\n        this.rippleFn();\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @param  {DropDownButtonModel} newProp\n     * @param  {DropDownButtonModel} oldProp\n     * @returns void\n     * @private\n     */\n    DropDownButton.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var btnModel = ['content', 'cssClass', 'iconCss', 'disabled', 'enableRtl'];\n        if (newProp.iconPosition === 'Left') {\n            btnModel.push('iconPosition');\n        }\n        this.button.setProperties(getModel(newProp, btnModel));\n        var popupElement = this.getPopUpElement();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'content':\n                    if (!this.element.querySelector('span.e-caret')) {\n                        this.appendArrowSpan();\n                    }\n                    break;\n                case 'disabled':\n                    if (newProp.disabled) {\n                        this.unWireEvents();\n                        if (!this.canOpen()) {\n                            this.closePopup();\n                        }\n                    }\n                    else {\n                        this.wireEvents();\n                    }\n                    break;\n                case 'cssClass':\n                    if (newProp.cssClass.indexOf(classNames.VERTICAL) > -1) {\n                        var arrowSpan = this.element.querySelector('span.e-caret');\n                        classList(arrowSpan, ['e-icon-bottom'], ['e-icon-right']);\n                    }\n                    if (oldProp.cssClass) {\n                        removeClass([popupElement], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([popupElement], newProp.cssClass.split(' '));\n                    }\n                    break;\n                case 'iconPosition':\n                    this.setIconPositionTop();\n                    break;\n                case 'enableRtl':\n                    popupElement.classList.toggle(classNames.RTL);\n                    break;\n                case 'target':\n                    this.target = newProp.target;\n                    detach(this.getULElement());\n                    popupElement.appendChild(this.getTargetElement());\n                    this.dropDown.content = this.getTargetElement();\n                    break;\n                case 'items':\n                    this.dropDown.refresh();\n                    if (popupElement.classList.contains('e-popup-open')) {\n                        classList(popupElement, ['e-popup-close'], ['e-popup-open']);\n                    }\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property('')\n    ], DropDownButton.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], DropDownButton.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownButton.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('')\n    ], DropDownButton.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('Left')\n    ], DropDownButton.prototype, \"iconPosition\", void 0);\n    __decorate([\n        Collection([], Item)\n    ], DropDownButton.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], DropDownButton.prototype, \"target\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"select\", void 0);\n    DropDownButton = __decorate([\n        NotifyPropertyChanges\n    ], DropDownButton);\n    return DropDownButton;\n}(Component));\nexport { DropDownButton };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/// <reference path='../drop-down-button/drop-down-button-model.d.ts'/>\nimport { Event, remove, addClass, removeClass, detach, getValue, setValue } from '@syncfusion/ej2-base';\nimport { EventHandler, Collection, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { attributes, getUniqueID, getInstance, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { getModel, Item } from './../common/common';\nimport { DropDownButton } from '../drop-down-button/drop-down-button';\nvar RTL = 'e-rtl';\nvar TAGNAME = 'EJS-SPLITBUTTON';\n/**\n * SplitButton component has primary and secondary button. Primary button is used to select\n * default action and secondary button is used to toggle contextual overlays for displaying list of\n * action items. It can contain both text and images.\n * ```html\n * <button id=\"element\"></button>\n * ```\n * ```typescript\n * <script>\n * var splitBtnObj = new SplitButton({content: 'SplitButton'});\n * splitBtnObj.appendTo(\"#element\");\n * </script>\n * ```\n */\nvar SplitButton = /** @class */ (function (_super) {\n    __extends(SplitButton, _super);\n    /**\n     * Constructor for creating the widget\n     * @param  {SplitButtonModel} options?\n     * @param  {string|HTMLButtonElement} element?\n     */\n    function SplitButton(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize Angular support.\n     * @private\n     */\n    SplitButton.prototype.preRender = function () {\n        var ele = this.element;\n        if (ele.tagName === TAGNAME) {\n            var ejInstance = getValue('ej2_instances', ele);\n            var btn = this.createElement('button', { attrs: { 'type': 'button' } });\n            var wrapper = this.createElement(TAGNAME, { className: 'e-' + this.getModuleName() + '-wrapper' });\n            for (var idx = 0, len = ele.attributes.length; idx < len; idx++) {\n                btn.setAttribute(ele.attributes[idx].nodeName, ele.attributes[idx].nodeValue);\n            }\n            ele.parentNode.insertBefore(wrapper, ele);\n            detach(ele);\n            ele = btn;\n            wrapper.appendChild(ele);\n            setValue('ej2_instances', ejInstance, ele);\n            this.wrapper = wrapper;\n            this.element = ele;\n        }\n        if (!this.element.id) {\n            this.element.id = getUniqueID('e-' + this.getModuleName());\n        }\n    };\n    SplitButton.prototype.render = function () {\n        this.initWrapper();\n        this.createPrimaryButton();\n        this.createSecondaryButton();\n        this.setActiveElem([this.element, this.secondaryBtnObj.element]);\n        this.setAria();\n        this.wireEvents();\n    };\n    SplitButton.prototype.initWrapper = function () {\n        if (!this.wrapper) {\n            this.wrapper = this.createElement('div', { className: 'e-' + this.getModuleName() + '-wrapper' });\n            this.element.parentNode.insertBefore(this.wrapper, this.element);\n        }\n        this.element.classList.remove('e-' + this.getModuleName());\n        if (this.enableRtl) {\n            this.wrapper.classList.add(RTL);\n        }\n        if (this.cssClass) {\n            addClass([this.wrapper], this.cssClass.split(' '));\n        }\n    };\n    SplitButton.prototype.createPrimaryButton = function () {\n        var btnModel = {\n            cssClass: this.cssClass,\n            enableRtl: this.enableRtl,\n            iconCss: this.iconCss,\n            content: this.content,\n            disabled: this.disabled\n        };\n        this.primaryBtnObj = new Button(btnModel, this.element);\n        this.element.classList.add('e-' + this.getModuleName());\n        this.element.type = 'button';\n        this.wrapper.appendChild(this.element);\n        this.setIconPositionTop();\n    };\n    SplitButton.prototype.createSecondaryButton = function () {\n        var _this = this;\n        var btnElem = this.createElement('button', {\n            className: 'e-icon-btn',\n            attrs: { 'tabindex': '-1' },\n            id: this.element.id + '_dropdownbtn'\n        });\n        this.wrapper.appendChild(btnElem);\n        var dropDownBtnModel = {\n            cssClass: this.cssClass,\n            disabled: this.disabled,\n            enableRtl: this.enableRtl,\n            items: this.items,\n            target: this.target,\n            beforeItemRender: function (args) {\n                _this.trigger('beforeItemRender', args);\n            },\n            beforeOpen: function (args) {\n                _this.trigger('beforeOpen', args);\n            },\n            beforeClose: function (args) {\n                _this.trigger('beforeClose', args);\n            },\n            open: function (args) {\n                _this.trigger('open', args);\n            },\n            close: function (args) {\n                _this.trigger('close', args);\n            },\n            select: function (args) {\n                _this.trigger('select', args);\n            }\n        };\n        this.secondaryBtnObj = new DropDownButton(dropDownBtnModel, btnElem);\n        this.secondaryBtnObj.dropDown.relateTo = this.wrapper;\n        this.dropDown = this.secondaryBtnObj.dropDown;\n        this.secondaryBtnObj.activeElem = [this.element, this.secondaryBtnObj.element];\n        EventHandler.remove(this.getPopUpElement(), 'keydown', this.secondaryBtnObj.keyBoardHandler);\n        this.secondaryBtnObj.element.querySelector('.e-btn-icon').classList.remove('e-icon-right');\n    };\n    SplitButton.prototype.setAria = function () {\n        attributes(this.element, {\n            'role': 'listbox', 'aria-expanded': 'false', 'aria-haspopup': 'true',\n            'aria-label': this.element.textContent + ' splitbutton', 'aria-owns': this.secondaryBtnObj.dropDown.element.id\n        });\n    };\n    /**\n     * Get component name.\n     * @returns string\n     * @private\n     */\n    SplitButton.prototype.getModuleName = function () {\n        return 'split-btn';\n    };\n    /**\n     * To open/close SplitButton popup based on current state of the SplitButton.\n     * @returns void\n     */\n    SplitButton.prototype.toggle = function () {\n        this.secondaryBtnObj.toggle();\n    };\n    SplitButton.prototype.destroy = function () {\n        var _this = this;\n        this.primaryBtnObj.destroy();\n        this.secondaryBtnObj.destroy();\n        var element = document.getElementById(this.element.id);\n        if (element && element.parentElement === this.wrapper) {\n            if (this.wrapper.tagName === TAGNAME) {\n                this.wrapper.innerHTML = '';\n                removeClass([this.wrapper], ['e-rtl', 'e-' + this.getModuleName() + '-wrapper']);\n                removeClass([this.wrapper], this.cssClass.split(' '));\n            }\n            else {\n                removeClass([this.element], ['e-' + this.getModuleName(), RTL]);\n                ['role', 'aria-label', 'aria-haspopup', 'aria-expanded', 'aria-owns', 'type'].forEach(function (key) {\n                    _this.element.removeAttribute(key);\n                });\n                this.wrapper.parentNode.insertBefore(this.element, this.wrapper);\n                remove(this.wrapper);\n            }\n            this.unWireEvents();\n        }\n    };\n    SplitButton.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.primaryBtnClickHandler, this);\n        EventHandler.add(this.getPopUpElement(), 'keydown', this.keyBoardHandler, this);\n        new KeyboardEvents(this.element, {\n            keyAction: this.btnKeyBoardHandler.bind(this),\n            keyConfigs: {\n                altdownarrow: 'alt+downarrow'\n            }\n        });\n    };\n    SplitButton.prototype.unWireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.primaryBtnClickHandler);\n        getInstance(this.element, KeyboardEvents).destroy();\n    };\n    SplitButton.prototype.primaryBtnClickHandler = function () {\n        this.trigger('click', { element: this.element });\n    };\n    SplitButton.prototype.btnKeyBoardHandler = function (e) {\n        switch (e.action) {\n            case 'altdownarrow':\n                this.clickHandler(e);\n                break;\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @param  {SplitButtonModel} newProp\n     * @param  {SplitButtonModel} oldProp\n     * @returns void\n     */\n    SplitButton.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var model = ['content', 'iconCss', 'cssClass', 'disabled', 'enableRtl'];\n        if (newProp.iconPosition === 'Left') {\n            model.push('iconPosition');\n        }\n        this.primaryBtnObj.setProperties(getModel(newProp, model));\n        model = ['items', 'beforeOpen', 'beforeItemRender', 'select', 'open',\n            'close', 'cssClass', 'disabled', 'enableRtl'];\n        this.secondaryBtnObj.setProperties(getModel(newProp, model));\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([this.wrapper], oldProp.cssClass.split(' '));\n                    }\n                    addClass([this.wrapper], newProp.cssClass.split(' '));\n                    break;\n                case 'iconPosition':\n                    this.setIconPositionTop();\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        addClass([this.wrapper], RTL);\n                    }\n                    else {\n                        removeClass([this.wrapper], RTL);\n                    }\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property('')\n    ], SplitButton.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], SplitButton.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], SplitButton.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('')\n    ], SplitButton.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('Left')\n    ], SplitButton.prototype, \"iconPosition\", void 0);\n    __decorate([\n        Collection([], Item)\n    ], SplitButton.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], SplitButton.prototype, \"target\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"click\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"select\", void 0);\n    SplitButton = __decorate([\n        NotifyPropertyChanges\n    ], SplitButton);\n    return SplitButton;\n}(DropDownButton));\nexport { SplitButton };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Event, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { Browser, closest, detach, EventHandler, getInstance, select, selectAll, formatUnit } from '@syncfusion/ej2-base';\nimport { addClass, attributes, classList, isNullOrUndefined, L10n } from '@syncfusion/ej2-base';\nimport { remove, removeClass, rippleEffect } from '@syncfusion/ej2-base';\nimport { SplitButton, getModel } from '@syncfusion/ej2-splitbuttons';\nimport { Tooltip, getZindexPartial, Popup } from '@syncfusion/ej2-popups';\nimport { Input } from './../input/index';\nimport { NumericTextBox } from './../numerictextbox/index';\nimport { Slider } from './../slider/slider';\nvar APPLY = 'e-apply';\nvar CANCEL = 'e-cancel';\nvar CURRENT = 'e-current';\nvar CONTAINER = 'e-container';\nvar CTRLBTN = 'e-ctrl-btn';\nvar CTRLSWITCH = 'e-switch-ctrl-btn';\nvar DISABLED = 'e-disabled';\nvar FORMATSWITCH = 'e-value-switch-btn';\nvar HANDLER = 'e-handler';\nvar HEX = 'e-hex';\nvar HSVAREA = 'e-hsv-color';\nvar HSVCONTAINER = 'e-hsv-container';\nvar INPUTWRAPPER = 'e-selected-value';\nvar MODESWITCH = 'e-mode-switch-btn';\nvar NOCOLOR = 'e-nocolor-item';\nvar PALETTES = 'e-palette';\nvar PALETTECONTENT = 'e-color-palette';\nvar PICKERCONTENT = 'e-color-picker';\nvar PREVIEW = 'e-preview-container';\nvar PREVIOUS = 'e-previous';\nvar RTL = 'e-rtl';\nvar SELECT = 'e-selected';\nvar SPLITPREVIEW = 'e-split-preview';\nvar TILE = 'e-tile';\nvar TOHSV = 'e-to-hsv';\nvar presets = {\n    default: ['#000000', '#f44336', '#e91e63', '#9c27b0', '#673ab7', '#2196f3', '#03a9f4', '#00bcd4', '#009688', '#ffeb3b',\n        '#ffffff', '#ffebee', '#fce4ec', '#f3e5f5', '#ede7f6', '#e3f2fd', '#e1f5fe', '#e0f7fa', '#e0f2f1', '#fffde7',\n        '#f2f2f2', '#ffcdd2', '#f8bbd0', '#e1bee7', '#d1c4e9', '#bbdefb', '#b3e5fc', '#b2ebf2', '#b2dfdb', '#fff9c4',\n        '#e6e6e6', '#ef9a9a', '#f48fb1', '#ce93d8', '#b39ddb', '#90caf9', '#81d4fa', '#80deea', '#80cbc4', '#fff59d',\n        '#cccccc', '#e57373', '#f06292', '#ba68c8', '#9575cd', '#64b5f6', '#4fc3f7', '#4dd0e1', '#4db6ac', '#fff176',\n        '#b3b3b3', '#ef5350', '#ec407a', '#ab47bc', '#7e57c2', '#42a5f5', '#29b6f6', '#26c6da', '#26a69a', '#ffee58',\n        '#999999', '#e53935', '#d81b60', '#8e24aa', '#5e35b1', '#1e88e5', '#039be5', '#00acc1', '#00897b', '#fdd835',\n        '#808080', '#d32f2f', '#c2185b', '#7b1fa2', '#512da8', '#1976d2', '#0288d1', '#0097a7', '#00796b', '#fbc02d',\n        '#666666', '#c62828', '#ad1457', '#6a1b9a', '#4527a0', '#1565c0', '#0277bd', '#00838f', '#00695c', '#f9a825',\n        '#4d4d4d', '#b71c1c', '#880e4f', '#4a148c', '#311b92', '#0d47a1', '#01579b', '#006064', '#004d40', '#f57f17']\n};\n/**\n * ColorPicker component is a user interface to select and adjust color values. It provides supports for various\n * color specification like Red Green Blue, Hue Saturation Value and Hex codes.\n * ```html\n * <input type=\"color\" id=\"color-picker\">\n * ```\n * ```typescript\n * <script>\n *   let colorPickerObj: ColorPicker = new ColorPicker(null , \"#color-picker\");\n * </script>\n * ```\n */\nvar ColorPicker = /** @class */ (function (_super) {\n    __extends(ColorPicker, _super);\n    function ColorPicker(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    ColorPicker.prototype.preRender = function () {\n        var localeText = { Apply: 'Apply', Cancel: 'Cancel', ModeSwitcher: 'Switch Mode' };\n        this.l10n = new L10n('colorpicker', localeText, this.locale);\n    };\n    /**\n     * To Initialize the component rendering\n     * @private\n     */\n    ColorPicker.prototype.render = function () {\n        this.initWrapper();\n        if (this.inline) {\n            this.createWidget();\n        }\n        else {\n            this.createSplitBtn();\n        }\n    };\n    ColorPicker.prototype.initWrapper = function () {\n        var wrapper = this.createElement('div', { className: 'e-' + this.getModuleName() + '-wrapper' });\n        this.element.parentNode.insertBefore(wrapper, this.element);\n        wrapper.appendChild(this.element);\n        attributes(this.element, { 'tabindex': '-1', 'spellcheck': 'false' });\n        this.container = this.createElement('div', { className: CONTAINER });\n        this.getWrapper().appendChild(this.container);\n        var value = this.value ? this.value : '#008000';\n        this.element.value = value.slice(0, 7);\n        if (this.mode === 'Picker') {\n            value = this.roundValue(value);\n        }\n        this.setProperties({ 'value': value }, true);\n        if (this.enableRtl) {\n            wrapper.classList.add(RTL);\n        }\n        if (this.cssClass) {\n            addClass([wrapper], this.cssClass.split(' '));\n        }\n        this.tileRipple = rippleEffect(this.container, { selector: '.' + TILE });\n        this.ctrlBtnRipple = rippleEffect(this.container, { selector: '.e-btn' });\n    };\n    ColorPicker.prototype.getWrapper = function () {\n        return this.element.parentElement;\n    };\n    ColorPicker.prototype.createWidget = function () {\n        if (this.mode === 'Palette') {\n            this.createPalette();\n            if (!this.inline) {\n                this.firstPaletteFocus();\n            }\n        }\n        else {\n            this.createPicker();\n            if (!this.inline) {\n                this.getDragHandler().focus();\n            }\n        }\n        var wrapper = this.getWrapper();\n        if ((this.isPicker() && !wrapper.classList.contains('e-hide-value')) || wrapper.classList.contains('e-show-value')) {\n            this.createInput();\n        }\n        this.createCtrlBtn();\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n        if (this.inline && this.disabled) {\n            this.toggleDisabled(true);\n        }\n        if (Browser.isDevice) {\n            this.refreshPopupPos();\n        }\n    };\n    ColorPicker.prototype.createSplitBtn = function () {\n        var _this = this;\n        var splitButton = this.createElement('button', { className: 'e-split-colorpicker' });\n        this.getWrapper().appendChild(splitButton);\n        this.splitBtn = new SplitButton({\n            iconCss: 'e-selected-color',\n            target: this.container,\n            disabled: this.disabled,\n            enableRtl: this.enableRtl,\n            beforeOpen: this.beforeOpenFn.bind(this),\n            open: this.onOpen.bind(this),\n            beforeClose: this.popupClose.bind(this),\n            click: function (args) {\n                _this.trigger('change', {\n                    currentValue: { hex: _this.value.slice(0, 7), rgba: _this.convertToRgbString(_this.hexToRgb(_this.value)) },\n                    previousValue: { hex: null, rgba: null }\n                });\n            }\n        }, splitButton);\n        var preview = this.createElement('span', { className: SPLITPREVIEW });\n        select('.e-selected-color', splitButton).appendChild(preview);\n        preview.style.backgroundColor = this.convertToRgbString(this.hexToRgb(this.value));\n        var popupEle = this.getPopupEle();\n        addClass([popupEle], 'e-colorpicker-popup');\n        if (this.cssClass) {\n            addClass([popupEle], this.cssClass.split(' '));\n        }\n        if (Browser.isDevice) {\n            var popupInst = this.getPopupInst();\n            popupInst.relateTo = document.body;\n            popupInst.position = { X: 'center', Y: 'center' };\n            popupInst.targetType = 'container';\n            popupInst.collision = { X: 'fit', Y: 'fit' };\n            popupInst.offsetY = 4;\n        }\n    };\n    ColorPicker.prototype.onOpen = function (args) {\n        this.trigger('open', { element: this.container });\n    };\n    ColorPicker.prototype.getPopupInst = function () {\n        return getInstance(this.getPopupEle(), Popup);\n    };\n    ColorPicker.prototype.beforeOpenFn = function (args) {\n        var beforeOpenArgs = { element: this.container, event: args.event, cancel: false };\n        this.trigger('beforeOpen', beforeOpenArgs);\n        args.cancel = beforeOpenArgs.cancel;\n        if (!beforeOpenArgs.cancel) {\n            var popupEle = this.getPopupEle();\n            popupEle.style.display = 'block';\n            this.createWidget();\n            popupEle.style.display = '';\n            if (Browser.isDevice) {\n                this.modal = this.createElement('div');\n                this.modal.className = 'e-' + this.getModuleName() + ' e-modal';\n                this.modal.style.display = 'none';\n                document.body.insertBefore(this.modal, popupEle);\n                document.body.className += ' e-colorpicker-overflow';\n                this.modal.style.display = 'block';\n            }\n        }\n    };\n    ColorPicker.prototype.popupClose = function (args) {\n        var beforeCloseArgs = { element: this.container, event: args.event, cancel: false };\n        this.trigger('beforeClose', beforeCloseArgs);\n        args.cancel = beforeCloseArgs.cancel;\n        if (!beforeCloseArgs.cancel) {\n            if (args.event && Browser.isDevice && args.event.target === this.modal) {\n                args.cancel = true;\n            }\n            else {\n                this.unWireEvents();\n                this.destroyOtherComp();\n                this.container.style.width = '';\n                select('.' + SPLITPREVIEW, this.splitBtn.element).style.backgroundColor\n                    = this.convertToRgbString(this.hexToRgb(this.value));\n                this.container.innerHTML = '';\n                removeClass([this.container], [PICKERCONTENT, PALETTECONTENT]);\n                if (Browser.isDevice && this.modal) {\n                    removeClass([document.body], 'e-colorpicker-overflow');\n                    this.modal.style.display = 'none';\n                    this.modal.outerHTML = '';\n                    this.modal = null;\n                }\n            }\n        }\n    };\n    ColorPicker.prototype.createPalette = function () {\n        classList(this.container, [PALETTECONTENT], [PICKERCONTENT]);\n        if (this.presetColors) {\n            var paletteGroup = this.createElement('div', { className: 'e-custom-palette' });\n            this.appendElement(paletteGroup);\n            var keys = Object.keys(this.presetColors);\n            if (keys.length === 1) {\n                this.appendPalette(this.presetColors[keys[0]], keys[0], paletteGroup);\n            }\n            else {\n                for (var i = 0, len = keys.length; i < len; i++) {\n                    this.appendPalette(this.presetColors[keys[i]], keys[i], paletteGroup);\n                }\n            }\n            if (selectAll('.e-row', paletteGroup).length > 10) {\n                addClass([paletteGroup], 'e-palette-group');\n            }\n        }\n        else {\n            this.appendPalette(presets.default, 'default');\n        }\n        if (this.mode === 'Palette' && !this.modeSwitcher && this.noColor) {\n            this.setNoColor();\n        }\n        var width = parseInt(getComputedStyle(this.container).borderBottomWidth, 10);\n        this.container.style.width = formatUnit(this.container.children[0].offsetWidth + width + width);\n        this.rgb = this.hexToRgb(this.roundValue(this.value));\n        this.hsv = this.rgbToHsv.apply(this, this.rgb);\n    };\n    ColorPicker.prototype.firstPaletteFocus = function () {\n        if (!select('.' + SELECT, this.container.children[0])) {\n            selectAll('.' + PALETTES, this.container)[0].focus();\n        }\n    };\n    ColorPicker.prototype.appendPalette = function (colors, key, refEle) {\n        var palette = this.createElement('div', { className: PALETTES, attrs: { 'tabindex': '0' } });\n        if (refEle) {\n            refEle.appendChild(palette);\n        }\n        else {\n            this.appendElement(palette);\n        }\n        var row;\n        var tile;\n        for (var i = 0, len = colors.length; i < len; i++) {\n            if (i === 0 || i % this.columns === 0) {\n                row = this.createElement('div', {\n                    className: 'e-row', attrs: { 'role': 'row' }\n                });\n                palette.appendChild(row);\n            }\n            tile = this.createElement('span', {\n                className: TILE, attrs: { 'role': 'gridcell', 'aria-label': colors[i], 'aria-selected': 'false' }\n            });\n            this.trigger('beforeTileRender', { element: tile, presetName: key, value: colors[i] });\n            row.appendChild(tile);\n            if (this.value.slice(0, colors[i].length).toLowerCase() === colors[i].toLowerCase()) {\n                this.addTileSelection(tile);\n                palette.focus();\n            }\n            tile.style.backgroundColor = colors[i];\n        }\n    };\n    ColorPicker.prototype.setNoColor = function () {\n        var noColorEle = selectAll('.e-row')[0].children[0];\n        noColorEle.classList.add(NOCOLOR);\n        if (!this.value) {\n            noColorEle.classList.add(SELECT);\n            closest(noColorEle, '.' + PALETTES).focus();\n        }\n        ['aria-selected', 'aria-label'].forEach(function (attr) { noColorEle.removeAttribute(attr); });\n        noColorEle.style.backgroundColor = '';\n    };\n    ColorPicker.prototype.appendElement = function (ele, insertPos) {\n        if (insertPos === void 0) { insertPos = 0; }\n        var refEle = this.container.children[insertPos];\n        refEle ? this.container.insertBefore(ele, refEle) : this.container.appendChild(ele);\n    };\n    ColorPicker.prototype.addTileSelection = function (ele) {\n        ele.classList.add(SELECT);\n        ele.setAttribute('aria-selected', 'true');\n    };\n    ColorPicker.prototype.createPicker = function () {\n        classList(this.container, [PICKERCONTENT], [PALETTECONTENT]);\n        var hsvContainer = this.createElement('div', { className: HSVCONTAINER });\n        this.appendElement(hsvContainer);\n        hsvContainer.appendChild(this.createElement('div', { className: HSVAREA }));\n        var dragHandler = this.createElement('span', { className: HANDLER, attrs: { 'tabindex': '0' } });\n        hsvContainer.appendChild(dragHandler);\n        this.rgb = this.hexToRgb(this.value);\n        this.hsv = this.rgbToHsv.apply(this, this.rgb);\n        this.setHsvContainerBg();\n        this.setHandlerPosition();\n        this.createSlider();\n        this.createDragTooltip();\n    };\n    ColorPicker.prototype.setHsvContainerBg = function (h) {\n        if (h === void 0) { h = this.hsv[0]; }\n        this.getHsvContainer().style.backgroundColor = this.convertToRgbString(this.hsvToRgb(h, 100, 100, 1));\n    };\n    ColorPicker.prototype.getHsvContainer = function () {\n        return select('.' + HSVCONTAINER, this.container);\n    };\n    ColorPicker.prototype.setHandlerPosition = function () {\n        var dragHandler = this.getDragHandler();\n        var hsvArea = select('.' + HSVAREA, this.container);\n        if (this.enableRtl) {\n            dragHandler.style.left = formatUnit(hsvArea.offsetWidth * Math.abs(100 - this.hsv[1]) / 100);\n        }\n        else {\n            dragHandler.style.left = formatUnit(hsvArea.offsetWidth * this.hsv[1] / 100);\n        }\n        dragHandler.style.top = formatUnit(hsvArea.offsetHeight * (100 - this.hsv[2]) / 100);\n    };\n    ColorPicker.prototype.createSlider = function () {\n        var sliderPreviewWrapper = this.createElement('div', { className: 'e-slider-preview' });\n        this.appendElement(sliderPreviewWrapper, 1);\n        this.createPreview(sliderPreviewWrapper);\n        var sliderWrapper = this.createElement('div', { className: 'e-colorpicker-slider' });\n        sliderPreviewWrapper.insertBefore(sliderWrapper, sliderPreviewWrapper.children[0]);\n        var slider = this.createElement('div', { className: 'e-hue-slider' });\n        sliderWrapper.appendChild(slider);\n        this.hueSlider = new Slider({\n            value: this.hsv[0],\n            min: 0,\n            max: 359,\n            enableRtl: this.enableRtl,\n            enabled: !this.disabled,\n            change: this.hueChange.bind(this)\n        }, slider);\n        slider = this.createElement('div', { className: 'e-opacity-slider' });\n        sliderWrapper.appendChild(slider);\n        this.opacitySlider = new Slider({\n            value: this.rgb[3] * 100,\n            min: 0,\n            max: 100,\n            enableRtl: this.enableRtl,\n            enabled: !this.disabled,\n            change: this.opacityChange.bind(this)\n        }, slider);\n        var opacityBgTrack = this.createElement('div', { className: 'e-opacity-empty-track' });\n        slider.appendChild(opacityBgTrack);\n        this.updateOpacitySliderBg();\n    };\n    ColorPicker.prototype.updateOpacitySliderBg = function () {\n        var direction = this.enableRtl ? 'to left' : 'to right';\n        select('.e-slider-track', this.opacitySlider.element).style.background =\n            'linear-gradient(' + direction + ', rgba(' + this.rgb.slice(0, 3) + ', 0) 0%, ' +\n                this.convertToRgbString(this.rgb.slice(0, 3)) + ' 100%)';\n    };\n    ColorPicker.prototype.hueChange = function (args) {\n        this.hsv[0] = args.value;\n        this.setHsvContainerBg();\n        this.convertToOtherFormat();\n    };\n    ColorPicker.prototype.opacityChange = function (args) {\n        var value = args.value;\n        var pValue = this.rgbToHex(this.rgb);\n        this.hsv[3] = value / 100;\n        this.rgb[3] = value / 100;\n        var cValue = this.rgbToHex(this.rgb);\n        if (!this.getWrapper().classList.contains('e-hide-value')) {\n            getInstance(select('.e-opacity-value', this.container), NumericTextBox).value = value;\n        }\n        var rgb = this.convertToRgbString(this.rgb);\n        this.updatePreview(rgb);\n        this.triggerEvent(cValue, pValue, rgb);\n    };\n    ColorPicker.prototype.createPreview = function (parentEle) {\n        var previewContainer = this.createElement('div', { className: PREVIEW });\n        parentEle.appendChild(previewContainer);\n        var preview = this.createElement('span', { className: 'e-preview ' + CURRENT });\n        previewContainer.appendChild(preview);\n        var colorValue = this.convertToRgbString(this.rgb);\n        preview.style.backgroundColor = colorValue;\n        preview = this.createElement('span', { className: 'e-preview ' + PREVIOUS });\n        previewContainer.appendChild(preview);\n        preview.style.backgroundColor = colorValue;\n    };\n    ColorPicker.prototype.isPicker = function () {\n        return !this.container.classList.contains(PALETTECONTENT);\n    };\n    ColorPicker.prototype.getPopupEle = function () {\n        return this.container.parentElement;\n    };\n    ColorPicker.prototype.getNumericTextBoxModel = function (value, label, max) {\n        var _this = this;\n        return {\n            value: value,\n            placeholder: label,\n            min: 0,\n            max: max,\n            format: '###.##',\n            showSpinButton: false,\n            floatLabelType: 'Always',\n            enableRtl: this.enableRtl,\n            enabled: !this.disabled,\n            readonly: this.isPicker() ? false : true,\n            change: function (args) {\n                if (args.event) {\n                    _this.inputHandler(args.event);\n                }\n            }\n        };\n    };\n    ColorPicker.prototype.createInput = function (child) {\n        if (child === void 0) { child = 2; }\n        var inputWrap = this.createElement('div', { className: INPUTWRAPPER });\n        this.appendElement(inputWrap, child);\n        var container = this.createElement('div', { className: 'e-input-container' });\n        inputWrap.appendChild(container);\n        inputWrap.appendChild(this.createElement('button', { className: 'e-icons e-btn e-flat e-icon-btn ' + FORMATSWITCH + ' ' + TOHSV }));\n        var hexInput = this.createElement('input', {\n            className: HEX,\n            attrs: { 'maxlength': '7', 'spellcheck': 'false' }\n        });\n        if (!this.isPicker()) {\n            Input.setReadonly(true, hexInput);\n        }\n        container.appendChild(hexInput);\n        Input.createInput({\n            element: hexInput,\n            floatLabelType: 'Always',\n            properties: {\n                placeholder: 'HEX',\n                enableRtl: this.enableRtl,\n                enabled: !this.disabled\n            }\n        }, this.createElement);\n        Input.setValue(this.value.slice(0, 7), hexInput);\n        var numericInput;\n        var label = 'RGB';\n        var clsName = ['rh', 'gs', 'bv'];\n        for (var i = 0; i < 3; i++) {\n            numericInput = new NumericTextBox(this.getNumericTextBoxModel(this.rgb[i], label[i], 255), container.appendChild(this.createElement('input', { className: 'e-' + clsName[i] + '-value' })));\n        }\n        numericInput = new NumericTextBox(this.getNumericTextBoxModel(this.rgb[3] * 100, 'A', 100), container.appendChild(this.createElement('input', { className: 'e-opacity-value' })));\n    };\n    ColorPicker.prototype.createCtrlBtn = function () {\n        if (this.modeSwitcher || this.showButtons) {\n            this.l10n.setLocale(this.locale);\n            var btnWrapper = this.createElement('div', { className: CTRLSWITCH });\n            this.container.appendChild(btnWrapper);\n            if (this.showButtons) {\n                var controlBtnWrapper = this.createElement('div', { className: CTRLBTN });\n                btnWrapper.appendChild(controlBtnWrapper);\n                var apply = this.l10n.getConstant('Apply');\n                controlBtnWrapper.appendChild(this.createElement('button', {\n                    innerHTML: apply,\n                    className: 'e-btn e-flat e-primary e-small ' + APPLY,\n                    attrs: { 'title': apply }\n                }));\n                var cancel = this.l10n.getConstant('Cancel');\n                controlBtnWrapper.appendChild(this.createElement('button', {\n                    innerHTML: cancel,\n                    className: 'e-btn e-flat e-small ' + CANCEL,\n                    attrs: { 'title': cancel }\n                }));\n            }\n            if (this.modeSwitcher) {\n                this.appendModeSwitchBtn();\n            }\n        }\n    };\n    ColorPicker.prototype.appendModeSwitchBtn = function () {\n        var modeSwitcher = this.createElement('button', {\n            className: 'e-icons e-btn e-flat e-icon-btn ' + MODESWITCH, attrs: { title: this.l10n.getConstant('ModeSwitcher') }\n        });\n        select('.' + CTRLSWITCH, this.container).insertBefore(modeSwitcher, select('.' + CTRLBTN, this.container));\n    };\n    ColorPicker.prototype.createDragTooltip = function () {\n        var _this = this;\n        var tooltip = new Tooltip({\n            opensOn: 'Custom',\n            showTipPointer: false,\n            cssClass: 'e-color-picker-tooltip',\n            beforeOpen: function (args) {\n                _this.tooltipEle = args.element;\n            },\n            animation: { open: { effect: 'None' }, close: { effect: 'None' } }\n        });\n        tooltip.appendTo(this.container);\n        tooltip.open(this.container);\n        this.tooltipEle.style.zIndex = getZindexPartial(this.tooltipEle).toString();\n        select('.e-tip-content', this.tooltipEle).appendChild(this.createElement('div', { className: 'e-tip-transparent' }));\n    };\n    ColorPicker.prototype.getTooltipInst = function () {\n        return getInstance(this.container, Tooltip);\n    };\n    ColorPicker.prototype.setTooltipOffset = function (value) {\n        this.getTooltipInst().offsetY = value;\n    };\n    ColorPicker.prototype.toggleDisabled = function (enable) {\n        enable ? this.getWrapper().classList.add(DISABLED) : this.getWrapper().classList.remove(DISABLED);\n        if (this.showButtons) {\n            ([].slice.call(selectAll('.e-btn', this.container))).forEach(function (ele) {\n                enable ? attributes(ele, { 'disabled': '' }) : ele.removeAttribute('disabled');\n            });\n        }\n    };\n    ColorPicker.prototype.convertToRgbString = function (rgb) {\n        return rgb.length ? rgb.length === 4 ? 'rgba(' + rgb.join() + ')' : 'rgb(' + rgb.join() + ')' : '';\n    };\n    ColorPicker.prototype.convertToHsvString = function (hsv) {\n        return hsv.length === 4 ? 'hsva(' + hsv.join() + ')' : 'hsv(' + hsv.join() + ')';\n    };\n    ColorPicker.prototype.updateHsv = function () {\n        this.hsv[1] = this.hsv[1] > 100 ? 100 : this.hsv[1];\n        this.hsv[2] = this.hsv[2] > 100 ? 100 : this.hsv[2];\n        this.setHandlerPosition();\n    };\n    ColorPicker.prototype.convertToOtherFormat = function (isKey) {\n        if (isKey === void 0) { isKey = false; }\n        var pValue = this.rgbToHex(this.rgb);\n        this.rgb = this.hsvToRgb.apply(this, this.hsv);\n        var cValue = this.rgbToHex(this.rgb);\n        var rgba = this.convertToRgbString(this.rgb);\n        this.updatePreview(rgba);\n        this.updateInput(cValue);\n        this.triggerEvent(cValue, pValue, rgba, isKey);\n    };\n    ColorPicker.prototype.updateInput = function (value) {\n        if (!this.getWrapper().classList.contains('e-hide-value')) {\n            Input.setValue(value.substr(0, 7), select('.' + HEX, this.container));\n            if (select('.' + FORMATSWITCH, this.container).classList.contains(TOHSV)) {\n                this.updateValue(this.rgb, false);\n            }\n            else {\n                this.updateValue(this.hsv, false);\n            }\n        }\n    };\n    ColorPicker.prototype.updatePreview = function (value) {\n        this.updateOpacitySliderBg();\n        select('.e-tip-transparent', this.tooltipEle).style.backgroundColor = value;\n        select('.' + PREVIEW + ' .' + CURRENT, this.container).style.backgroundColor = value;\n        select('.' + PREVIEW + ' .' + PREVIOUS, this.container).style.backgroundColor\n            = this.convertToRgbString(this.hexToRgb(this.value));\n    };\n    ColorPicker.prototype.getDragHandler = function () {\n        return select('.' + HANDLER, this.container);\n    };\n    ColorPicker.prototype.removeTileSelection = function () {\n        var selectedEle = [].slice.call(selectAll('.' + SELECT, this.container.children[0]));\n        selectedEle.forEach(function (ele) {\n            ele.classList.remove(SELECT);\n            ele.setAttribute('aria-selected', 'false');\n        });\n    };\n    ColorPicker.prototype.convertRgbToNumberArray = function (value) {\n        return (value.slice(value.indexOf('(') + 1, value.indexOf(')'))).split(',').map(function (n, i) {\n            return (i !== 3) ? parseInt(n, 10) : parseFloat(n);\n        });\n    };\n    /**\n     * To get color value in specified type.\n     * @param value - Specify the color value.\n     * @param type - Specify the converted color value type.\n     * @method getValue\n     * @return {string}\n     */\n    ColorPicker.prototype.getValue = function (value, type) {\n        if (!value) {\n            value = this.value;\n        }\n        type = !type ? 'hex' : type.toLowerCase();\n        if (value[0] === 'r') {\n            var cValue = this.convertRgbToNumberArray(value);\n            if (type === 'hex' || type === 'hexa') {\n                var hex = this.rgbToHex(cValue);\n                return type === 'hex' ? hex.slice(0, 7) : hex;\n            }\n            else {\n                if (type === 'hsv') {\n                    return this.convertToHsvString(this.rgbToHsv.apply(this, cValue.slice(0, 3)));\n                }\n                else {\n                    if (type === 'hsva') {\n                        return this.convertToHsvString(this.rgbToHsv.apply(this, cValue));\n                    }\n                    else {\n                        return 'null';\n                    }\n                }\n            }\n        }\n        else {\n            if (value[0] === 'h') {\n                var cValue = this.hsvToRgb.apply(this, this.convertRgbToNumberArray(value));\n                if (type === 'rgba') {\n                    return this.convertToRgbString(cValue);\n                }\n                else {\n                    if (type === 'hex' || type === 'hexa') {\n                        var hex = this.rgbToHex(cValue);\n                        return type === 'hex' ? hex.slice(0, 7) : hex;\n                    }\n                    else {\n                        if (type === 'rgb') {\n                            return this.convertToRgbString(cValue.slice(0, 3));\n                        }\n                        else {\n                            return 'null';\n                        }\n                    }\n                }\n            }\n            else {\n                value = this.roundValue(value);\n                var rgb = this.hexToRgb(value);\n                if (type === 'rgb' || type === 'hsv') {\n                    rgb = rgb.slice(0, 3);\n                }\n                if (type === 'rgba' || type === 'rgb') {\n                    return this.convertToRgbString(rgb);\n                }\n                else {\n                    if (type === 'hsva' || type === 'hsv') {\n                        return this.convertToHsvString(this.rgbToHsv.apply(this, rgb));\n                    }\n                    else {\n                        if (type === 'hex') {\n                            return value.slice(0, 7);\n                        }\n                        else {\n                            if (type === 'a') {\n                                return rgb[3].toString();\n                            }\n                            else {\n                                return 'null';\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * To show/hide ColorPicker popup based on current state of the SplitButton.\n     * @method toggle\n     * @return {void}\n     */\n    ColorPicker.prototype.toggle = function () {\n        this.splitBtn.toggle();\n    };\n    /**\n     * Get component name.\n     * @returns string\n     * @private\n     */\n    ColorPicker.prototype.getModuleName = function () {\n        return 'colorpicker';\n    };\n    /**\n     * Gets the properties to be maintained in the persisted state.\n     * @return {string}\n     */\n    ColorPicker.prototype.getPersistData = function () {\n        return this.addOnPersist(['value']);\n    };\n    ColorPicker.prototype.wireEvents = function () {\n        if (this.isPicker()) {\n            var dragHandler = this.getDragHandler();\n            EventHandler.add(dragHandler, 'keydown', this.pickerKeyDown, this);\n            EventHandler.add(this.getHsvContainer(), 'mousedown touchstart', this.handlerDown, this);\n            if (this.modeSwitcher || this.showButtons) {\n                this.addCtrlSwitchEvent();\n            }\n            if (!this.getWrapper().classList.contains('e-hide-value')) {\n                this.addvalueEventHandler();\n            }\n            EventHandler.add(select('.' + PREVIOUS, this.container), 'click', this.previewHandler, this);\n        }\n        else {\n            EventHandler.add(this.container, 'click', this.paletteClickHandler, this);\n            EventHandler.add(this.container, 'keydown', this.paletteKeyDown, this);\n        }\n    };\n    ColorPicker.prototype.addCtrlSwitchEvent = function () {\n        EventHandler.add(select('.' + CTRLSWITCH, this.container), 'click', this.btnClickHandler, this);\n    };\n    ColorPicker.prototype.addInputEvent = function () {\n        EventHandler.add(select('.' + HEX, this.container), 'input', this.inputHandler, this);\n    };\n    ColorPicker.prototype.addvalueEventHandler = function () {\n        this.addInputEvent();\n        EventHandler.add(select('.' + FORMATSWITCH, this.container), 'click', this.formatSwitchHandler, this);\n    };\n    ColorPicker.prototype.pickerKeyDown = function (e) {\n        switch (e.keyCode) {\n            case 39:\n                this.handlerDragPosition(1, this.enableRtl ? -1 : 1, e);\n                break;\n            case 37:\n                this.handlerDragPosition(1, this.enableRtl ? 1 : -1, e);\n                break;\n            case 38:\n                this.handlerDragPosition(2, 1, e);\n                break;\n            case 40:\n                this.handlerDragPosition(2, -1, e);\n                break;\n            case 13:\n                e.preventDefault();\n                var cValue = this.rgbToHex(this.rgb);\n                this.enterKeyHandler(cValue);\n        }\n    };\n    ColorPicker.prototype.enterKeyHandler = function (value) {\n        this.triggerChangeEvent(value);\n        if (!this.inline) {\n            this.toggle();\n            this.splitBtn.element.focus();\n        }\n    };\n    ColorPicker.prototype.triggerChangeEvent = function (value) {\n        var hex = value.slice(0, 7);\n        this.trigger('change', {\n            currentValue: { hex: hex, rgba: this.convertToRgbString(this.rgb) },\n            previousValue: { hex: this.value.slice(0, 7), rgba: this.convertToRgbString(this.hexToRgb(this.value)) }\n        });\n        this.setProperties({ 'value': value }, true);\n        this.element.value = hex ? hex : '#000000';\n    };\n    ColorPicker.prototype.handlerDragPosition = function (prob, value, e) {\n        e.preventDefault();\n        this.hsv[prob] += value * (e.ctrlKey ? 1 : 3);\n        if (this.hsv[prob] < 0) {\n            this.hsv[prob] = 0;\n        }\n        this.updateHsv();\n        this.convertToOtherFormat(true);\n    };\n    ColorPicker.prototype.handlerDown = function (e) {\n        e.preventDefault();\n        var x;\n        var y;\n        if (e.type === 'mousedown') {\n            this.clientX = Math.abs(e.pageX - pageXOffset);\n            this.clientY = Math.abs(e.pageY - pageYOffset);\n            this.setTooltipOffset(8);\n        }\n        else {\n            this.clientX = Math.abs(e.changedTouches[0].pageX - pageXOffset);\n            this.clientY = Math.abs(e.changedTouches[0].pageY - pageYOffset);\n            this.setTooltipOffset(-8);\n        }\n        this.setHsv(this.clientX, this.clientY);\n        this.getDragHandler().style.transition = 'left .4s cubic-bezier(.25, .8, .25, 1), top .4s cubic-bezier(.25, .8, .25, 1)';\n        this.updateHsv();\n        this.convertToOtherFormat();\n        this.getDragHandler().focus();\n        EventHandler.add(document, 'mousemove touchmove', this.handlerMove, this);\n        EventHandler.add(document, 'mouseup touchend', this.handlerEnd, this);\n    };\n    ColorPicker.prototype.handlerMove = function (e) {\n        if (e.type !== 'touchmove') {\n            e.preventDefault();\n        }\n        var x;\n        var y;\n        if (e.type === 'mousemove') {\n            x = Math.abs(e.pageX - pageXOffset);\n            y = Math.abs(e.pageY - pageYOffset);\n        }\n        else {\n            x = Math.abs(e.changedTouches[0].pageX - pageXOffset);\n            y = Math.abs(e.changedTouches[0].pageY - pageYOffset);\n        }\n        this.setHsv(x, y);\n        var dragHandler = this.getDragHandler();\n        var left = parseInt(dragHandler.style.left, 10);\n        var top = parseInt(dragHandler.style.top, 10);\n        this.updateHsv();\n        this.convertToOtherFormat();\n        this.getTooltipInst().refresh(dragHandler);\n        if (!this.tooltipEle.style.transform) {\n            if (Math.abs(this.clientX - x) > 8 || Math.abs(this.clientY - y) > 8) {\n                select('.' + HSVAREA, this.container).style.cursor = 'pointer';\n                dragHandler.style.transition = 'none';\n                if (!this.inline) {\n                    this.tooltipEle.style.zIndex = (parseInt(this.getPopupEle().style.zIndex, 10) + 1).toString();\n                }\n                this.tooltipEle.style.transform = 'rotate(45deg)';\n                dragHandler.classList.add('e-hide-handler');\n            }\n        }\n    };\n    ColorPicker.prototype.setHsv = function (clientX, clientY) {\n        var ele = select('.' + HSVAREA, this.container);\n        var position = ele.getBoundingClientRect();\n        if (this.enableRtl) {\n            clientX = clientX > position.right ? 0 : Math.abs(clientX - position.right);\n        }\n        else {\n            clientX = clientX > position.left ? Math.abs(clientX - position.left) : 0;\n        }\n        clientY = clientY > position.top ? Math.abs(clientY - position.top) : 0;\n        this.hsv[2] = Math.round(Number(100 * (ele.offsetHeight -\n            Math.max(0, Math.min(ele.offsetHeight, (clientY - ele.offsetTop)))) / ele.offsetHeight) * 10) / 10;\n        this.hsv[1] =\n            Math.round(Number(100 * (Math.max(0, Math.min(ele.offsetWidth, (clientX - ele.offsetLeft)))) / ele.offsetWidth) * 10) / 10;\n    };\n    ColorPicker.prototype.handlerEnd = function (e) {\n        if (e.type !== 'touchend') {\n            e.preventDefault();\n        }\n        EventHandler.remove(document, 'mousemove touchmove', this.handlerMove);\n        EventHandler.remove(document, 'mouseup touchend', this.handlerEnd);\n        var dragHandler = this.getDragHandler();\n        select('.' + HSVAREA, this.container).style.cursor = '';\n        if (this.tooltipEle.style.transform) {\n            this.tooltipEle.style.transform = '';\n            dragHandler.classList.remove('e-hide-handler');\n        }\n        if (!this.inline && !this.showButtons) {\n            this.toggle();\n        }\n    };\n    ColorPicker.prototype.btnClickHandler = function (e) {\n        var target = e.target;\n        if (closest(target, '.' + MODESWITCH)) {\n            e.stopPropagation();\n            this.switchToPalette();\n        }\n        else {\n            if (target.classList.contains(APPLY) || target.classList.contains(CANCEL)) {\n                this.ctrlBtnClick(target);\n            }\n        }\n    };\n    ColorPicker.prototype.switchToPalette = function () {\n        this.trigger('beforeModeSwitch', { element: this.container, mode: 'Palette' });\n        this.unWireEvents();\n        this.destroyOtherComp();\n        detach(select('.e-slider-preview', this.container));\n        if (!this.getWrapper().classList.contains('e-hide-value')) {\n            detach(select('.' + INPUTWRAPPER, this.container));\n        }\n        detach(this.getHsvContainer());\n        this.createPalette();\n        this.firstPaletteFocus();\n        if (this.getWrapper().classList.contains('e-show-value')) {\n            this.createInput(1);\n        }\n        this.refreshPopupPos();\n        this.wireEvents();\n    };\n    ColorPicker.prototype.refreshPopupPos = function () {\n        if (!this.inline) {\n            var popupEle = this.getPopupEle();\n            popupEle.style.left = '0px';\n            popupEle.style.top = '0px';\n            this.getPopupInst().refreshPosition(this.splitBtn.element.parentElement);\n        }\n    };\n    ColorPicker.prototype.formatSwitchHandler = function (e) {\n        var target = e.target;\n        if (target.classList.contains(TOHSV)) {\n            this.updateValue(this.hsv, true, 3, [360, 100, 100]);\n            target.classList.remove(TOHSV);\n        }\n        else {\n            this.updateValue(this.rgb, true, 2);\n            target.classList.add(TOHSV);\n        }\n    };\n    ColorPicker.prototype.updateValue = function (value, format, idx, max) {\n        var clsName = ['e-rh-value', 'e-gs-value', 'e-bv-value'];\n        var inst;\n        for (var i = 0, len = clsName.length; i < len; i++) {\n            inst = getInstance(select('.' + clsName[i], this.container), NumericTextBox);\n            inst.value = Math.round(value[i]);\n            if (format) {\n                inst.placeholder = clsName[i].substr(idx, 1).toUpperCase();\n                inst.max = max ? max[i] : 255;\n            }\n            inst.dataBind();\n        }\n    };\n    ColorPicker.prototype.previewHandler = function (e) {\n        var target = e.target;\n        var pValue = this.rgbToHex(this.rgb);\n        this.rgb = this.convertRgbToNumberArray(target.style.backgroundColor);\n        if (!this.rgb[3]) {\n            this.rgb[3] = 1;\n        }\n        var cValue = this.rgbToHex(this.rgb);\n        var hsv = this.rgbToHsv.apply(this, this.rgb);\n        if (hsv[0] !== this.hsv[0]) {\n            this.hueSlider.setProperties({ 'value': hsv[0] }, true);\n            this.hueSlider.refresh();\n        }\n        this.setHsvContainerBg(hsv[0]);\n        if (hsv[3] !== this.hsv[3]) {\n            this.opacitySlider.setProperties({ 'value': hsv[3] * 100 }, true);\n            this.opacitySlider.refresh();\n        }\n        this.updateOpacitySliderBg();\n        this.hsv = hsv;\n        this.setHandlerPosition();\n        this.updateInput(cValue);\n        select('.' + PREVIEW + ' .' + CURRENT, this.container).style.backgroundColor = this.convertToRgbString(this.rgb);\n        this.triggerEvent(cValue, pValue, this.convertToRgbString(this.rgb));\n    };\n    ColorPicker.prototype.paletteClickHandler = function (e) {\n        e.preventDefault();\n        var target = e.target;\n        if (target.classList.contains(TILE)) {\n            this.removeTileSelection();\n            this.addTileSelection(target);\n            if (target.classList.contains(NOCOLOR)) {\n                this.noColorTile();\n            }\n            else {\n                var cValue = target.getAttribute('aria-label');\n                var pValue = this.rgbToHex(this.rgb);\n                this.rgb = this.hexToRgb(this.roundValue(cValue));\n                this.hsv = this.rgbToHsv.apply(this, this.rgb);\n                if (this.getWrapper().classList.contains('e-show-value')) {\n                    this.updateInput(cValue);\n                }\n                this.triggerEvent(cValue, pValue, this.convertToRgbString(this.rgb));\n            }\n            if (!this.inline && !this.showButtons) {\n                this.toggle();\n            }\n        }\n        else {\n            if (closest(target, '.' + MODESWITCH)) {\n                this.switchToPicker();\n            }\n            else {\n                if (target.classList.contains(APPLY) || target.classList.contains(CANCEL)) {\n                    this.ctrlBtnClick(target);\n                }\n                else {\n                    if (this.getWrapper().classList.contains('e-show-value') && closest(target, '.' + FORMATSWITCH)) {\n                        this.formatSwitchHandler(e);\n                    }\n                }\n            }\n        }\n    };\n    ColorPicker.prototype.noColorTile = function (isKey) {\n        if (isKey === void 0) { isKey = false; }\n        var pValue = this.rgbToHex(this.rgb);\n        this.rgb = [];\n        this.hsv = [];\n        this.triggerEvent('', pValue, '', isKey);\n    };\n    ColorPicker.prototype.switchToPicker = function () {\n        var wrapper = this.getWrapper();\n        this.trigger('beforeModeSwitch', { element: this.container, mode: 'Picker' });\n        this.unWireEvents();\n        ([].slice.call(selectAll('.' + PALETTES, this.container))).forEach(function (ele) {\n            detach(ele);\n        });\n        if (wrapper.classList.contains('e-show-value')) {\n            detach(select('.' + INPUTWRAPPER, this.container));\n        }\n        this.container.style.width = '';\n        var grpEle = select('.e-custom-palette', this.container);\n        if (this.presetColors) {\n            remove(grpEle);\n        }\n        this.createPicker();\n        this.getDragHandler().focus();\n        if (!wrapper.classList.contains('e-hide-value')) {\n            this.createInput();\n        }\n        this.refreshPopupPos();\n        this.wireEvents();\n    };\n    ColorPicker.prototype.ctrlBtnClick = function (ele) {\n        if (ele.classList.contains(APPLY)) {\n            var cValue = this.rgbToHex(this.rgb);\n            this.triggerChangeEvent(cValue);\n        }\n        if (!this.inline) {\n            this.toggle();\n            this.splitBtn.element.focus();\n        }\n    };\n    ColorPicker.prototype.paletteKeyDown = function (e) {\n        var target = e.target;\n        if (!target.classList.contains(PALETTES)) {\n            return;\n        }\n        var selectedEle;\n        var idx;\n        var tiles = [].slice.call(selectAll('.' + TILE, target));\n        var prevSelectedEle = (tiles.filter(function (tile) { return tile.classList.contains('e-selected'); })).pop();\n        switch (!e.altKey && e.keyCode) {\n            case 39:\n                e.preventDefault();\n                selectedEle = prevSelectedEle ? tiles[this.tilePosition(tiles, prevSelectedEle, this.enableRtl ? -1 : 1)]\n                    : tiles[this.enableRtl ? tiles.length - 1 : 0];\n                this.keySelectionChanges(selectedEle);\n                break;\n            case 37:\n                e.preventDefault();\n                selectedEle = prevSelectedEle ? tiles[this.tilePosition(tiles, prevSelectedEle, this.enableRtl ? 1 : -1)]\n                    : tiles[this.enableRtl ? 0 : tiles.length - 1];\n                this.keySelectionChanges(selectedEle);\n                break;\n            case 38:\n                e.preventDefault();\n                idx = prevSelectedEle ? this.tilePosition(tiles, prevSelectedEle, -this.columns) : 0;\n                selectedEle = tiles[idx] ? tiles[idx] : tiles[idx - this.columns];\n                this.keySelectionChanges(selectedEle);\n                break;\n            case 40:\n                e.preventDefault();\n                idx = prevSelectedEle ? this.tilePosition(tiles, prevSelectedEle, this.columns) : tiles.length - 1;\n                if (tiles[idx]) {\n                    selectedEle = tiles[idx];\n                }\n                else {\n                    idx %= tiles.length;\n                    idx += tiles[tiles.length - 1].parentElement.childElementCount;\n                    selectedEle = tiles[idx];\n                }\n                this.keySelectionChanges(selectedEle);\n                break;\n            case 13:\n                e.preventDefault();\n                if (prevSelectedEle) {\n                    var cValue = prevSelectedEle.getAttribute('aria-label');\n                    this.enterKeyHandler(cValue ? cValue : '');\n                }\n        }\n    };\n    ColorPicker.prototype.keySelectionChanges = function (newEle) {\n        this.removeTileSelection();\n        this.addTileSelection(newEle);\n        if (newEle.classList.contains(NOCOLOR)) {\n            this.noColorTile(true);\n        }\n        else {\n            var cValue = newEle.getAttribute('aria-label');\n            var pValue = this.rgbToHex(this.rgb);\n            this.rgb = this.hexToRgb(cValue);\n            this.hsv = this.rgbToHsv.apply(this, this.rgb);\n            if (this.getWrapper().classList.contains('e-show-value')) {\n                this.updateInput(cValue);\n            }\n            this.triggerEvent(cValue, pValue, this.convertToRgbString(this.rgb), true);\n        }\n    };\n    ColorPicker.prototype.tilePosition = function (items, element, cIdx) {\n        items = Array.prototype.slice.call(items);\n        var n = items.length;\n        var emptyCount = this.columns - items[n - 1].parentElement.childElementCount;\n        var idx = items.indexOf(element);\n        idx += cIdx;\n        idx < 0 ? idx += n + emptyCount : idx %= n + emptyCount;\n        return idx;\n    };\n    ColorPicker.prototype.inputHandler = function (e) {\n        var target = e.target;\n        if (!target.value.length) {\n            return;\n        }\n        var hsv;\n        var pValue;\n        var label = select('.e-float-text', target.parentElement).textContent;\n        switch (label) {\n            case 'HEX':\n                var value = '';\n                if ((target.value[0] === '#' && target.value.length !== 5) || (target.value[0] !== '#' && target.value.length !== 4)) {\n                    value = this.roundValue(target.value);\n                }\n                if (value.length === 9) {\n                    pValue = this.rgbToHex(this.rgb);\n                    this.rgb = this.hexToRgb(value + value.substr(-2));\n                    this.inputValueChange(this.rgbToHsv.apply(this, this.rgb), pValue, target.value);\n                }\n                else {\n                    return;\n                }\n                break;\n            case 'R':\n                if (this.rgb[0] !== Number(target.value)) {\n                    pValue = this.rgbToHex(this.rgb);\n                    this.rgb[0] = Number(target.value);\n                    hsv = this.rgbToHsv.apply(this, this.rgb);\n                    this.inputValueChange(hsv, pValue);\n                }\n                break;\n            case 'G':\n                if (this.rgb[1] !== Number(target.value)) {\n                    pValue = this.rgbToHex(this.rgb);\n                    this.rgb[1] = Number(target.value);\n                    hsv = this.rgbToHsv.apply(this, this.rgb);\n                    this.inputValueChange(hsv, pValue);\n                }\n                break;\n            case 'B':\n                if (this.rgb[2] !== Number(target.value)) {\n                    pValue = this.rgbToHex(this.rgb);\n                    this.rgb[2] = Number(target.value);\n                    hsv = this.rgbToHsv.apply(this, this.rgb);\n                    this.inputValueChange(hsv, pValue);\n                }\n                break;\n            case 'H':\n                this.hueSlider.value = Number(target.value);\n                break;\n            case 'S':\n                if (this.hsv[1] !== Number(target.value)) {\n                    this.hsv[1] = Number(target.value);\n                    this.updateHsv();\n                    this.convertToOtherFormat();\n                }\n                break;\n            case 'V':\n                if (this.hsv[2] !== Number(target.value)) {\n                    this.hsv[2] = Number(target.value);\n                    this.updateHsv();\n                    this.convertToOtherFormat();\n                }\n                break;\n            case 'A':\n                this.opacitySlider.value = Number(target.value);\n                break;\n        }\n    };\n    ColorPicker.prototype.inputValueChange = function (hsv, pValue, value) {\n        if (hsv[0] !== this.hsv[0]) {\n            this.hueSlider.setProperties({ 'value': hsv[0] }, true);\n            this.hueSlider.refresh();\n            this.setHsvContainerBg(hsv[0]);\n        }\n        this.hsv = hsv;\n        var cValue = this.rgbToHex(this.rgb);\n        this.setHandlerPosition();\n        this.updateInput(value ? value : cValue);\n        var rgba = this.convertToRgbString(this.rgb);\n        this.updatePreview(rgba);\n        this.triggerEvent(cValue, pValue, rgba);\n    };\n    ColorPicker.prototype.triggerEvent = function (cValue, pValue, rgba, isKey) {\n        if (isKey === void 0) { isKey = false; }\n        var hex = cValue.slice(0, 7);\n        var eventArgs = {\n            currentValue: { hex: hex, rgba: rgba },\n            previousValue: { hex: pValue.slice(0, 7), rgba: this.convertToRgbString(this.hexToRgb(pValue)) }\n        };\n        if (!this.showButtons && !isKey) {\n            eventArgs.previousValue = { hex: this.value.slice(0, 7), rgba: this.convertToRgbString(this.hexToRgb(this.value)) };\n            this.trigger('change', eventArgs);\n            this.setProperties({ 'value': cValue }, true);\n            this.element.value = hex ? hex : '#000000';\n        }\n        else {\n            this.trigger('select', eventArgs);\n        }\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers.\n     * Also it maintains the initial input element from the DOM.\n     * @method destroy\n     * @return {void}\n     */\n    ColorPicker.prototype.destroy = function () {\n        var _this = this;\n        var wrapper = this.getWrapper();\n        _super.prototype.destroy.call(this);\n        ['tabindex', 'spellcheck'].forEach(function (attr) { _this.element.removeAttribute(attr); });\n        if (this.inline) {\n            this.unWireEvents();\n            this.destroyOtherComp();\n        }\n        else {\n            if (this.isPopupOpen()) {\n                this.unWireEvents();\n                this.destroyOtherComp();\n            }\n            this.splitBtn.destroy();\n            this.splitBtn = null;\n        }\n        this.tileRipple();\n        this.tileRipple = null;\n        this.ctrlBtnRipple();\n        this.ctrlBtnRipple = null;\n        detach(this.element.nextElementSibling);\n        wrapper.parentElement.insertBefore(this.element, wrapper);\n        detach(wrapper);\n        this.container = null;\n    };\n    ColorPicker.prototype.destroyOtherComp = function () {\n        if (this.isPicker()) {\n            this.hueSlider.destroy();\n            this.opacitySlider.destroy();\n            this.hueSlider = null;\n            this.opacitySlider = null;\n            var tooltipInst = this.getTooltipInst();\n            tooltipInst.close();\n            tooltipInst.destroy();\n            this.tooltipEle = null;\n        }\n    };\n    ColorPicker.prototype.isPopupOpen = function () {\n        return this.getPopupEle().classList.contains('e-popup-open');\n    };\n    ColorPicker.prototype.unWireEvents = function () {\n        if (this.isPicker()) {\n            var dragHandler = this.getDragHandler();\n            EventHandler.remove(dragHandler, 'keydown', this.pickerKeyDown);\n            EventHandler.remove(this.getHsvContainer(), 'mousedown touchstart', this.handlerDown);\n            if (this.modeSwitcher || this.showButtons) {\n                EventHandler.remove(select('.' + CTRLSWITCH, this.container), 'click', this.btnClickHandler);\n            }\n            if (!this.getWrapper().classList.contains('e-hide-value')) {\n                EventHandler.remove(select('.' + FORMATSWITCH, this.container), 'click', this.formatSwitchHandler);\n                EventHandler.remove(select('.' + HEX, this.container), 'input', this.inputHandler);\n            }\n            EventHandler.remove(select('.' + PREVIOUS, this.container), 'click', this.previewHandler);\n        }\n        else {\n            EventHandler.remove(this.container, 'click', this.paletteClickHandler);\n            EventHandler.remove(this.container, 'keydown', this.paletteKeyDown);\n        }\n    };\n    ColorPicker.prototype.roundValue = function (value) {\n        if (!value) {\n            return '';\n        }\n        if (value[0] !== '#') {\n            value = '#' + value;\n        }\n        var len = value.length;\n        if (len === 4) {\n            value += 'f';\n            len = 5;\n        }\n        if (len === 5) {\n            var tempValue = '';\n            for (var i = 1, len_1 = value.length; i < len_1; i++) {\n                tempValue += (value.charAt(i) + value.charAt(i));\n            }\n            value = '#' + tempValue;\n            len = 9;\n        }\n        if (len === 7) {\n            value += 'ff';\n        }\n        return value;\n    };\n    ColorPicker.prototype.hexToRgb = function (hex) {\n        if (!hex) {\n            return [];\n        }\n        hex = hex.trim();\n        if (hex.length !== 9) {\n            hex = this.roundValue(hex);\n        }\n        var opacity = Number((parseInt(hex.slice(-2), 16) / 255).toFixed(2));\n        hex = hex.slice(1, 7);\n        var bigInt = parseInt(hex, 16);\n        var h = [];\n        h.push((bigInt >> 16) & 255);\n        h.push((bigInt >> 8) & 255);\n        h.push(bigInt & 255);\n        h.push(opacity);\n        return h;\n    };\n    ColorPicker.prototype.rgbToHsv = function (r, g, b, opacity) {\n        if (this.rgb && !this.rgb.length) {\n            return [];\n        }\n        r /= 255;\n        g /= 255;\n        b /= 255;\n        var max = Math.max(r, g, b);\n        var min = Math.min(r, g, b);\n        var h;\n        var s;\n        var v = max;\n        var d = max - min;\n        s = max === 0 ? 0 : d / max;\n        if (max === min) {\n            h = 0;\n        }\n        else {\n            switch (max) {\n                case r:\n                    h = (g - b) / d + (g < b ? 6 : 0);\n                    break;\n                case g:\n                    h = (b - r) / d + 2;\n                    break;\n                case b:\n                    h = (r - g) / d + 4;\n                    break;\n            }\n            h /= 6;\n        }\n        var hsv = [Math.round(h * 360), Math.round(s * 1000) / 10, Math.round(v * 1000) / 10];\n        if (!isNullOrUndefined(opacity)) {\n            hsv.push(opacity);\n        }\n        return hsv;\n    };\n    ColorPicker.prototype.hsvToRgb = function (h, s, v, opacity) {\n        var r;\n        var g;\n        var b;\n        var i;\n        var f;\n        var p;\n        var q;\n        var t;\n        s /= 100;\n        v /= 100;\n        if (s === 0) {\n            r = g = b = v;\n            return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255), opacity];\n        }\n        h /= 60;\n        i = Math.floor(h);\n        f = h - i;\n        p = v * (1 - s);\n        q = v * (1 - s * f);\n        t = v * (1 - s * (1 - f));\n        switch (i) {\n            case 0:\n                r = v;\n                g = t;\n                b = p;\n                break;\n            case 1:\n                r = q;\n                g = v;\n                b = p;\n                break;\n            case 2:\n                r = p;\n                g = v;\n                b = t;\n                break;\n            case 3:\n                r = p;\n                g = q;\n                b = v;\n                break;\n            case 4:\n                r = t;\n                g = p;\n                b = v;\n                break;\n            default:\n                r = v;\n                g = p;\n                b = q;\n        }\n        var rgb = [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)];\n        if (!isNullOrUndefined(opacity)) {\n            rgb.push(opacity);\n        }\n        return rgb;\n    };\n    ColorPicker.prototype.rgbToHex = function (rgb) {\n        return rgb.length ? ('#' + this.hex(rgb[0]) + this.hex(rgb[1]) + this.hex(rgb[2]) +\n            (!isNullOrUndefined(rgb[3]) ? (rgb[3] !== 0 ? (Math.round(rgb[3] * 255) + 0x10000).toString(16).substr(-2) : '00') : '')) : '';\n    };\n    ColorPicker.prototype.hex = function (x) {\n        return ('0' + x.toString(16)).slice(-2);\n    };\n    ColorPicker.prototype.changeModeSwitcherProp = function (prop) {\n        var ctrlSwitchWrapper = select('.' + CTRLSWITCH, this.container);\n        if (prop) {\n            if (ctrlSwitchWrapper) {\n                this.appendModeSwitchBtn();\n            }\n            else {\n                this.createCtrlBtn();\n                if (this.isPicker() && !this.disabled) {\n                    this.addCtrlSwitchEvent();\n                }\n            }\n        }\n        else {\n            if (ctrlSwitchWrapper) {\n                if (this.showButtons) {\n                    detach(select('.' + MODESWITCH, ctrlSwitchWrapper));\n                }\n                else {\n                    remove(ctrlSwitchWrapper);\n                }\n            }\n        }\n    };\n    ColorPicker.prototype.changeShowBtnProps = function (prop) {\n        var ctrlBtnWrapper = select('.' + CTRLSWITCH, this.container);\n        if (prop) {\n            if (ctrlBtnWrapper) {\n                remove(ctrlBtnWrapper);\n            }\n            this.createCtrlBtn();\n            if (this.isPicker() && !this.disabled) {\n                this.addCtrlSwitchEvent();\n            }\n        }\n        else {\n            if (this.modeSwitcher) {\n                detach(select('.' + CTRLBTN, ctrlBtnWrapper));\n            }\n            else {\n                remove(ctrlBtnWrapper);\n            }\n        }\n    };\n    ColorPicker.prototype.changeValueProp = function (newProp) {\n        if (this.isPicker()) {\n            this.rgb = this.hexToRgb(newProp);\n            this.hsv = this.rgbToHsv.apply(this, this.rgb);\n            this.setHandlerPosition();\n            detach(closest(this.hueSlider.element, '.e-slider-preview'));\n            this.createSlider();\n            this.setHsvContainerBg();\n            this.updateOpacitySliderBg();\n            this.updateInput(newProp);\n        }\n        else {\n            this.removeTileSelection();\n            this.addTileSelection(select('span[aria-label=\"' + newProp + '\"]', this.container));\n        }\n        this.element.value = newProp.slice(0, 7);\n    };\n    ColorPicker.prototype.setInputEleProps = function (prop) {\n        remove(select('.' + INPUTWRAPPER, this.container));\n        this.createInput();\n    };\n    ColorPicker.prototype.changeDisabledProp = function (newProp) {\n        if (this.isPicker()) {\n            this.hueSlider.enabled = !newProp;\n            this.opacitySlider.enabled = !newProp;\n            this.setInputEleProps(newProp);\n        }\n        if (newProp) {\n            this.toggleDisabled(true);\n            this.unWireEvents();\n        }\n        else {\n            this.toggleDisabled(false);\n            this.wireEvents();\n        }\n    };\n    ColorPicker.prototype.changeCssClassProps = function (newProp, oldProp) {\n        var wrapper = this.getWrapper();\n        var popupWrapper = this.getPopupEle();\n        if (oldProp) {\n            removeClass([wrapper, popupWrapper], oldProp.split(' '));\n        }\n        if (newProp) {\n            addClass([wrapper, popupWrapper], newProp.split(' '));\n        }\n    };\n    ColorPicker.prototype.changeRtlProps = function (newProp) {\n        if (newProp) {\n            addClass([this.getWrapper()], 'e-rtl');\n        }\n        else {\n            removeClass([this.getWrapper()], 'e-rtl');\n        }\n    };\n    ColorPicker.prototype.changePaletteProps = function () {\n        detach(this.container.children[0]);\n        this.container.style.width = '';\n        this.createPalette();\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @param  {ColorPickerModel} newProp\n     * @param  {ColorPickerModel} oldProp\n     * @returns void\n     * @private\n     */\n    ColorPicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var _this = this;\n        var wrapper = this.getWrapper();\n        if (!this.inline && isNullOrUndefined(newProp.inline)) {\n            var otherCompModel = ['disabled', 'enableRtl'];\n            this.splitBtn.setProperties(getModel(newProp, otherCompModel));\n            if (!this.isPopupOpen()) {\n                if (newProp.value) {\n                    select('.' + SPLITPREVIEW, this.splitBtn.element).style.backgroundColor = newProp.value;\n                }\n                this.changeCssClassProps(newProp.cssClass, oldProp.cssClass);\n                this.changeRtlProps(newProp.enableRtl);\n                return;\n            }\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'inline':\n                    if (newProp.inline) {\n                        this.getWrapper().appendChild(this.container);\n                        this.splitBtn.destroy();\n                        detach(this.element.nextElementSibling);\n                        if (!this.container.children.length) {\n                            this.createWidget();\n                        }\n                    }\n                    else {\n                        this.destroyOtherComp();\n                        this.unWireEvents();\n                        this.container.innerHTML = '';\n                        this.createSplitBtn();\n                    }\n                    break;\n                case 'cssClass':\n                    if (this.isPicker()) {\n                        if (wrapper.classList.contains('e-hide-value')) {\n                            this.createInput();\n                            this.addvalueEventHandler();\n                        }\n                        newProp.cssClass.split(' ').forEach(function (cls) {\n                            if (cls === 'e-hide-value') {\n                                remove(select('.' + INPUTWRAPPER, _this.container));\n                            }\n                        });\n                    }\n                    else {\n                        if (wrapper.classList.contains('e-show-value')) {\n                            remove(select('.' + INPUTWRAPPER, this.container));\n                        }\n                        newProp.cssClass.split(' ').forEach(function (cls) {\n                            if (cls === 'e-show-value') {\n                                _this.createInput(1);\n                                _this.addInputEvent();\n                            }\n                        });\n                    }\n                    this.changeCssClassProps(newProp.cssClass, oldProp.cssClass);\n                    break;\n                case 'enableRtl':\n                    if (this.isPicker()) {\n                        this.hueSlider.enableRtl = newProp.enableRtl;\n                        this.opacitySlider.enableRtl = newProp.enableRtl;\n                        this.setInputEleProps(newProp.enableRtl);\n                    }\n                    this.changeRtlProps(newProp.enableRtl);\n                    break;\n                case 'disabled':\n                    this.changeDisabledProp(newProp.disabled);\n                    break;\n                case 'value':\n                    this.changeValueProp(newProp.value);\n                    break;\n                case 'showButtons':\n                    this.changeShowBtnProps(newProp.showButtons);\n                    break;\n                case 'mode':\n                    if (newProp.mode === 'Picker') {\n                        this.switchToPicker();\n                    }\n                    else {\n                        this.switchToPalette();\n                    }\n                    break;\n                case 'modeSwitcher':\n                    this.changeModeSwitcherProp(newProp.modeSwitcher);\n                    break;\n                case 'columns':\n                case 'presetColors':\n                    if (!this.isPicker()) {\n                        this.changePaletteProps();\n                    }\n                    break;\n                case 'noColor':\n                    if (newProp.noColor) {\n                        if (this.mode === 'Palette' && !this.modeSwitcher) {\n                            this.setNoColor();\n                        }\n                    }\n                    else {\n                        this.changePaletteProps();\n                    }\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property('#008000')\n    ], ColorPicker.prototype, \"value\", void 0);\n    __decorate([\n        Property('')\n    ], ColorPicker.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"disabled\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property('Picker')\n    ], ColorPicker.prototype, \"mode\", void 0);\n    __decorate([\n        Property(true)\n    ], ColorPicker.prototype, \"modeSwitcher\", void 0);\n    __decorate([\n        Property(null)\n    ], ColorPicker.prototype, \"presetColors\", void 0);\n    __decorate([\n        Property(true)\n    ], ColorPicker.prototype, \"showButtons\", void 0);\n    __decorate([\n        Property(10)\n    ], ColorPicker.prototype, \"columns\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"inline\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"noColor\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"beforeTileRender\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"beforeModeSwitch\", void 0);\n    ColorPicker = __decorate([\n        NotifyPropertyChanges\n    ], ColorPicker);\n    return ColorPicker;\n}(Component));\nexport { ColorPicker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/// <reference path='../drop-down-base/drop-down-base-model.d.ts'/>\nimport { EventHandler, Property, Event, compile, KeyboardEvents, append } from '@syncfusion/ej2-base';\nimport { attributes, isNullOrUndefined, getUniqueID, formatUnit, isUndefined, getValue } from '@syncfusion/ej2-base';\nimport { Animation, Browser, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, setStyleAttribute, closest, prepend, detach, classList } from '@syncfusion/ej2-base';\nimport { Popup, isCollide, createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { incrementalSearch } from '../common/incremental-search';\nimport { DropDownBase, dropDownBaseClasses } from '../drop-down-base/drop-down-base';\n/* tslint:disable */\nimport { DataManager, Query } from '@syncfusion/ej2-data';\n// don't use space in classnames \nexport var dropDownListClasses = {\n    root: 'e-dropdownlist',\n    hover: dropDownBaseClasses.hover,\n    selected: dropDownBaseClasses.selected,\n    rtl: dropDownBaseClasses.rtl,\n    li: dropDownBaseClasses.li,\n    disable: dropDownBaseClasses.disabled,\n    base: dropDownBaseClasses.root,\n    focus: dropDownBaseClasses.focus,\n    input: 'e-input-group',\n    inputFocus: 'e-input-focus',\n    icon: 'e-input-group-icon e-ddl-icon',\n    iconAnimation: 'e-icon-anim',\n    value: 'e-input-value',\n    device: 'e-ddl-device',\n    backIcon: 'e-input-group-icon e-back-icon e-icons',\n    filterBarClearIcon: 'e-input-group-icon e-clear-icon e-icons',\n    filterInput: 'e-input-filter',\n    filterParent: 'e-filter-parent',\n    mobileFilter: 'e-ddl-device-filter',\n    footer: 'e-ddl-footer',\n    header: 'e-ddl-header',\n    clearIcon: 'e-clear-icon',\n    clearIconHide: 'e-clear-icon-hide',\n    popupFullScreen: 'e-popup-full-page',\n    disableIcon: 'e-ddl-disable-icon',\n    hiddenElement: 'e-ddl-hidden'\n};\nvar inputObject = {\n    container: null,\n    buttons: []\n};\n/**\n * The DropDownList component contains a list of predefined values from which you can\n * choose a single value.\n * ```html\n * <input type=\"text\" tabindex=\"1\" id=\"list\"> </input>\n * ```\n * ```typescript\n *   let dropDownListObj:DropDownList = new DropDownList();\n *   dropDownListObj.appendTo(\"#list\");\n * ```\n */\nvar DropDownList = /** @class */ (function (_super) {\n    __extends(DropDownList, _super);\n    /**\n     * * Constructor for creating the DropDownList component.\n     */\n    function DropDownList(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.previousValue = null;\n        return _this;\n    }\n    ;\n    /**\n     * Initialize the event handler.\n     * @private\n     */\n    DropDownList.prototype.preRender = function () {\n        this.element.style.opacity = '0';\n        this.initializeData();\n        _super.prototype.preRender.call(this);\n        this.activeIndex = this.index;\n        this.queryString = '';\n    };\n    DropDownList.prototype.initializeData = function () {\n        this.isPopupOpen = false;\n        this.isDocumentClick = false;\n        this.isInteracted = false;\n        this.isFilterFocus = false;\n        this.beforePopupOpen = false;\n        this.initial = true;\n        this.initRemoteRender = false;\n        this.isNotSearchList = false;\n        this.isTyped = false;\n        this.isSelected = false;\n        this.preventFocus = false;\n        this.preventAutoFill = false;\n        this.isValidKey = false;\n        this.typedString = '';\n        this.isEscapeKey = false;\n        this.isPreventBlur = false;\n        this.isTabKey = false;\n        this.actionCompleteData = { isUpdated: false };\n        this.prevSelectPoints = {};\n        this.isSelectCustom = false;\n        this.isDropDownClick = false;\n        this.preventAltUp = false;\n        this.isCustomFilter = false;\n        this.isSecondClick = false;\n        this.keyConfigure = {\n            tab: 'tab',\n            enter: '13',\n            escape: '27',\n            end: '35',\n            home: '36',\n            down: '40',\n            up: '38',\n            pageUp: '33',\n            pageDown: '34',\n            open: 'alt+40',\n            close: 'shift+tab',\n            hide: 'alt+38',\n            space: '32'\n        };\n    };\n    DropDownList.prototype.setZIndex = function () {\n        if (this.popupObj) {\n            this.popupObj.setProperties({ 'zIndex': this.zIndex });\n        }\n    };\n    DropDownList.prototype.renderList = function (isEmptyData) {\n        _super.prototype.render.call(this, isEmptyData);\n        this.wireListEvents();\n    };\n    DropDownList.prototype.floatLabelChange = function () {\n        if (this.getModuleName() === 'dropdownlist' && this.floatLabelType === 'Auto') {\n            var floatElement = this.inputWrapper.container.querySelector('.e-float-text');\n            if (this.inputElement.value !== '' || this.isInteracted) {\n                classList(floatElement, ['e-label-top'], ['e-label-bottom']);\n            }\n            else {\n                classList(floatElement, ['e-label-bottom'], ['e-label-top']);\n            }\n        }\n    };\n    DropDownList.prototype.resetHandler = function (e) {\n        e.preventDefault();\n        this.clear(e);\n        this.onChangeEvent(e);\n    };\n    DropDownList.prototype.resetFocusElement = function () {\n        this.removeHover();\n        this.removeSelection();\n        this.removeFocus();\n        this.list.scrollTop = 0;\n        if (this.getModuleName() !== 'autocomplete') {\n            var li = this.ulElement.querySelector('.' + dropDownListClasses.li);\n            if (li) {\n                li.classList.add(dropDownListClasses.focus);\n            }\n        }\n    };\n    DropDownList.prototype.clear = function (e, property) {\n        if (property !== 'dataSource') {\n            this.resetSelection();\n        }\n        var dataItem = this.getItemData();\n        if (this.previousValue === dataItem.value) {\n            return;\n        }\n        this.onChangeEvent(e);\n    };\n    DropDownList.prototype.resetSelection = function () {\n        if (this.list) {\n            if (this.allowFiltering && this.getModuleName() !== 'autocomplete'\n                && !isNullOrUndefined(this.actionCompleteData.ulElement) && !isNullOrUndefined(this.actionCompleteData.list)) {\n                this.onActionComplete(this.actionCompleteData.ulElement.cloneNode(true), this.actionCompleteData.list);\n            }\n            this.resetFocusElement();\n        }\n        this.hiddenElement.innerHTML = '';\n        this.inputElement.value = '';\n        this.value = null;\n        this.itemData = null;\n        this.text = null;\n        this.index = null;\n        this.activeIndex = null;\n        this.item = null;\n        this.queryString = '';\n        if (this.valueTempElement) {\n            detach(this.valueTempElement);\n            this.inputElement.style.display = 'block';\n            this.valueTempElement = null;\n        }\n        this.setSelection(null, null);\n        this.isSelectCustom = false;\n        this.updateIconState();\n    };\n    DropDownList.prototype.setHTMLAttributes = function () {\n        if (Object.keys(this.htmlAttributes).length) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var htmlAttr = _a[_i];\n                if (htmlAttr === 'class') {\n                    this.inputWrapper.container.classList.add(this.htmlAttributes[htmlAttr]);\n                }\n                else if (htmlAttr === 'disabled' && this.htmlAttributes[htmlAttr] === 'disabled') {\n                    this.enabled = false;\n                    this.setEnable();\n                }\n                else if (htmlAttr === 'readonly' && this.htmlAttributes[htmlAttr] === 'readonly') {\n                    this.readonly = true;\n                    this.dataBind();\n                }\n                else if (htmlAttr === 'style') {\n                    this.inputWrapper.container.setAttribute('style', this.htmlAttributes[htmlAttr]);\n                }\n                else {\n                    var defaultAttr = ['title', 'id', 'placeholder'];\n                    var validateAttr = ['name', 'required'];\n                    if (validateAttr.indexOf(htmlAttr) > -1) {\n                        this.hiddenElement.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]);\n                    }\n                    else if (defaultAttr.indexOf(htmlAttr) > -1) {\n                        htmlAttr === 'placeholder' ? Input.setPlaceholder(this.htmlAttributes[htmlAttr], this.inputElement) :\n                            this.element.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]);\n                    }\n                    else {\n                        this.inputWrapper.container.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]);\n                    }\n                }\n            }\n        }\n    };\n    DropDownList.prototype.getAriaAttributes = function () {\n        return {\n            'aria-disabled': 'false',\n            'aria-owns': this.element.id + '_options',\n            'role': 'listbox',\n            'aria-haspopup': 'true',\n            'aria-expanded': 'false',\n            'aria-activedescendant': 'null',\n            'aria-labelledby': this.hiddenElement.id\n        };\n    };\n    DropDownList.prototype.setEnableRtl = function () {\n        Input.setEnableRtl(this.enableRtl, [this.inputElement.parentElement]);\n        if (this.popupObj) {\n            this.popupObj.enableRtl = this.enableRtl;\n            this.popupObj.dataBind();\n        }\n    };\n    DropDownList.prototype.setEnable = function () {\n        Input.setEnabled(this.enabled, this.inputElement);\n        if (this.enabled) {\n            removeClass([this.inputWrapper.container], dropDownListClasses.disable);\n            this.inputElement.setAttribute('aria-disabled', 'false');\n            this.targetElement().setAttribute('tabindex', this.tabIndex);\n        }\n        else {\n            this.hidePopup();\n            addClass([this.inputWrapper.container], dropDownListClasses.disable);\n            this.inputElement.setAttribute('aria-disabled', 'true');\n            this.targetElement().tabIndex = -1;\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     */\n    DropDownList.prototype.getPersistData = function () {\n        return this.addOnPersist(['value']);\n    };\n    ;\n    DropDownList.prototype.preventTabIndex = function (element) {\n        if (this.getModuleName() === 'dropdownlist') {\n            element.tabIndex = -1;\n        }\n    };\n    DropDownList.prototype.targetElement = function () {\n        return this.inputWrapper.container;\n    };\n    DropDownList.prototype.getNgDirective = function () {\n        return 'EJS-DROPDOWNLIST';\n    };\n    DropDownList.prototype.getElementByText = function (text) {\n        return this.getElementByValue(this.getValueByText(text));\n    };\n    DropDownList.prototype.getElementByValue = function (value) {\n        var item;\n        var listItems = this.getItems();\n        for (var _i = 0, listItems_1 = listItems; _i < listItems_1.length; _i++) {\n            var liItem = listItems_1[_i];\n            if (this.getFormattedValue(liItem.getAttribute('data-value')) === value) {\n                item = liItem;\n                break;\n            }\n        }\n        return item;\n    };\n    ;\n    DropDownList.prototype.initValue = function () {\n        this.renderList();\n        if (this.dataSource instanceof DataManager) {\n            this.initRemoteRender = true;\n        }\n        else {\n            this.updateValues();\n        }\n    };\n    DropDownList.prototype.updateValues = function () {\n        if (!isNullOrUndefined(this.value)) {\n            this.setSelection(this.getElementByValue(this.value), null);\n        }\n        else if (this.text && isNullOrUndefined(this.value)) {\n            var element = this.getElementByText(this.text);\n            if (isNullOrUndefined(element)) {\n                this.setProperties({ text: null });\n                return;\n            }\n            else {\n                this.setSelection(element, null);\n            }\n        }\n        else {\n            this.setSelection(this.liCollections[this.activeIndex], null);\n        }\n        this.setHiddenValue();\n        Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n    };\n    DropDownList.prototype.onBlur = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        var target = e.relatedTarget;\n        var currentTarget = e.target;\n        var isPreventBlur = this.isPreventBlur;\n        this.isPreventBlur = false;\n        //IE 11 - issue\n        if (isPreventBlur && !this.isDocumentClick && this.isPopupOpen && (!isNullOrUndefined(currentTarget) ||\n            !this.isFilterLayout() && isNullOrUndefined(target))) {\n            if (this.getModuleName() === 'dropdownlist' && this.allowFiltering && this.isPopupOpen) {\n                this.filterInput.focus();\n            }\n            else {\n                this.targetElement().focus();\n            }\n            return;\n        }\n        if (this.isDocumentClick || (!isNullOrUndefined(this.popupObj)\n            && document.body.contains(this.popupObj.element) &&\n            this.popupObj.element.classList.contains(dropDownListClasses.mobileFilter))) {\n            if (!this.beforePopupOpen) {\n                this.isDocumentClick = false;\n            }\n            return;\n        }\n        if (((this.getModuleName() === 'dropdownlist' && !this.isFilterFocus && target !== this.inputElement)\n            && (document.activeElement !== target || (document.activeElement === target &&\n                currentTarget.classList.contains(dropDownListClasses.inputFocus)))) ||\n            (isNullOrUndefined(target) && this.getModuleName() === 'dropdownlist' && this.allowFiltering &&\n                currentTarget !== this.inputWrapper.container) || this.getModuleName() !== 'dropdownlist' &&\n            !this.inputWrapper.container.contains(target) || this.isTabKey) {\n            this.isDocumentClick = this.isPopupOpen ? true : false;\n            this.focusOutAction();\n            this.isTabKey = false;\n        }\n        if (this.isRequested && !this.isPopupOpen && !this.isPreventBlur) {\n            this.isActive = false;\n            this.beforePopupOpen = false;\n        }\n    };\n    DropDownList.prototype.focusOutAction = function () {\n        this.isInteracted = false;\n        this.focusOut();\n        this.onFocusOut();\n    };\n    DropDownList.prototype.onFocusOut = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.isSelected) {\n            this.isSelectCustom = false;\n            this.onChangeEvent(null);\n        }\n        this.floatLabelChange();\n        this.dispatchEvent(this.hiddenElement, 'change');\n        if (this.getModuleName() === 'dropdownlist' && this.element.tagName !== 'INPUT') {\n            this.dispatchEvent(this.inputElement, 'blur');\n        }\n        if (this.inputWrapper.clearButton) {\n            addClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n        }\n        this.trigger('blur');\n    };\n    DropDownList.prototype.onFocus = function () {\n        if (!this.isInteracted) {\n            this.isInteracted = true;\n            this.trigger('focus');\n        }\n        this.updateIconState();\n    };\n    DropDownList.prototype.resetValueHandler = function () {\n        this.value = null;\n    };\n    DropDownList.prototype.wireEvent = function () {\n        EventHandler.add(this.inputWrapper.container, 'mousedown', this.dropDownClick, this);\n        EventHandler.add(this.inputWrapper.container, 'focus', this.focusIn, this);\n        EventHandler.add(this.inputWrapper.container, 'keypress', this.onSearch, this);\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement) {\n            EventHandler.add(formElement, 'reset', this.resetValueHandler, this);\n        }\n        this.bindCommonEvent();\n    };\n    DropDownList.prototype.bindCommonEvent = function () {\n        EventHandler.add(this.targetElement(), 'blur', this.onBlur, this);\n        if (!Browser.isDevice) {\n            this.keyboardModule = new KeyboardEvents(this.targetElement(), {\n                keyAction: this.keyActionHandler.bind(this), keyConfigs: this.keyConfigure, eventName: 'keydown'\n            });\n        }\n        this.bindClearEvent();\n    };\n    DropDownList.prototype.bindClearEvent = function () {\n        if (this.showClearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.resetHandler, this);\n        }\n    };\n    DropDownList.prototype.unBindCommonEvent = function () {\n        EventHandler.remove(this.targetElement(), 'blur', this.onBlur);\n        if (!Browser.isDevice) {\n            this.keyboardModule.destroy();\n        }\n        if (this.showClearButton) {\n            EventHandler.remove(this.inputWrapper.clearButton, 'mousedown', this.resetHandler);\n        }\n    };\n    DropDownList.prototype.updateIconState = function () {\n        if (this.showClearButton) {\n            if (this.inputElement.value !== '') {\n                removeClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n            else {\n                addClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n        }\n    };\n    /**\n     * Event binding for list\n     */\n    DropDownList.prototype.wireListEvents = function () {\n        EventHandler.add(this.list, 'click', this.onMouseClick, this);\n        EventHandler.add(this.list, 'mouseover', this.onMouseOver, this);\n        EventHandler.add(this.list, 'mouseout', this.onMouseLeave, this);\n    };\n    ;\n    DropDownList.prototype.onSearch = function (e) {\n        if (e.charCode !== 32 && e.charCode !== 13) {\n            if (this.list === undefined) {\n                this.renderList();\n            }\n            this.searchKeyEvent = e;\n            if (!this.isRequested && !isNullOrUndefined(this.list.querySelector('li'))) {\n                this.incrementalSearch(e);\n            }\n        }\n    };\n    DropDownList.prototype.onMouseClick = function (e) {\n        var target = e.target;\n        var classList = target.classList;\n        var li = closest(target, '.' + dropDownBaseClasses.li);\n        if (!this.isValidLI(li)) {\n            return;\n        }\n        this.setSelection(li, e);\n        if (Browser.isDevice && this.isFilterLayout()) {\n            history.back();\n        }\n        else {\n            var delay = 100;\n            this.closePopup(delay);\n        }\n    };\n    DropDownList.prototype.onMouseOver = function (e) {\n        var currentLi = closest(e.target, '.' + dropDownBaseClasses.li);\n        this.setHover(currentLi);\n    };\n    ;\n    DropDownList.prototype.setHover = function (li) {\n        if (this.enabled && this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses.hover)) {\n            this.removeHover();\n            addClass([li], dropDownBaseClasses.hover);\n        }\n    };\n    ;\n    DropDownList.prototype.onMouseLeave = function (e) {\n        this.removeHover();\n    };\n    ;\n    DropDownList.prototype.removeHover = function () {\n        var hoveredItem = this.list.querySelectorAll('.' + dropDownBaseClasses.hover);\n        if (hoveredItem && hoveredItem.length) {\n            removeClass(hoveredItem, dropDownBaseClasses.hover);\n        }\n    };\n    ;\n    DropDownList.prototype.isValidLI = function (li) {\n        return (li && li.hasAttribute('role') && li.getAttribute('role') === 'option');\n    };\n    ;\n    DropDownList.prototype.incrementalSearch = function (e) {\n        if (this.liCollections.length > 0) {\n            var li = incrementalSearch(e.charCode, this.liCollections, this.activeIndex, true);\n            if (!isNullOrUndefined(li)) {\n                this.setSelection(li, e);\n                this.setScrollPosition();\n            }\n        }\n    };\n    ;\n    /**\n     * Hides the spinner loader.\n     * @returns void.\n     */\n    DropDownList.prototype.hideSpinner = function () {\n        if (!isNullOrUndefined(this.spinnerElement)) {\n            hideSpinner(this.spinnerElement);\n            removeClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            this.spinnerElement.innerHTML = '';\n            this.spinnerElement = null;\n        }\n    };\n    /**\n     * Shows the spinner loader.\n     * @returns void.\n     */\n    DropDownList.prototype.showSpinner = function () {\n        if (isNullOrUndefined(this.spinnerElement)) {\n            this.spinnerElement = Browser.isDevice && !isNullOrUndefined(this.filterInputObj) && this.filterInputObj.buttons[1] ||\n                !isNullOrUndefined(this.filterInputObj) && this.filterInputObj.buttons[0] || this.inputWrapper.buttons[0];\n            addClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            createSpinner({\n                target: this.spinnerElement,\n                width: Browser.isDevice ? '16px' : '14px'\n            }, this.createElement);\n            showSpinner(this.spinnerElement);\n        }\n    };\n    DropDownList.prototype.keyActionHandler = function (e) {\n        var preventAction = e.action === 'pageUp' || e.action === 'pageDown';\n        var preventHomeEnd = this.getModuleName() !== 'dropdownlist' && (e.action === 'home' || e.action === 'end');\n        this.isEscapeKey = e.action === 'escape';\n        this.isTabKey = !this.isPopupOpen && e.action === 'tab';\n        var isNavigation = (e.action === 'down' || e.action === 'up' || e.action === 'pageUp' || e.action === 'pageDown'\n            || e.action === 'home' || e.action === 'end');\n        if ((this.isEditTextBox() || preventAction || preventHomeEnd) && !this.isPopupOpen) {\n            return;\n        }\n        if (!this.readonly) {\n            var isTabAction = e.action === 'tab' || e.action === 'close';\n            if (this.list === undefined && !this.isRequested && !isTabAction && e.action !== 'escape') {\n                this.searchKeyEvent = e;\n                this.renderList();\n            }\n            if (isNullOrUndefined(this.list) || (!isNullOrUndefined(this.liCollections) &&\n                isNavigation && this.liCollections.length === 0) || this.isRequested) {\n                return;\n            }\n            if (isTabAction && this.isPopupOpen || e.action === 'escape') {\n                e.preventDefault();\n            }\n            this.isSelected = e.action === 'escape' ? false : this.isSelected;\n            this.isTyped = (isNavigation || e.action === 'escape') ? false : this.isTyped;\n            switch (e.action) {\n                case 'down':\n                case 'up':\n                    var focusEle = this.list.querySelector('.' + dropDownListClasses.focus);\n                    if (this.isSelectFocusItem(focusEle)) {\n                        this.setSelection(focusEle, e);\n                    }\n                    else {\n                        var nextItem = void 0;\n                        var index = e.action === 'down' ? this.activeIndex + 1 : this.activeIndex - 1;\n                        var startIndex = 0;\n                        if (this.getModuleName() === 'autocomplete') {\n                            startIndex = e.action === 'down' && isNullOrUndefined(this.activeIndex) ? 0 : this.liCollections.length - 1;\n                            index = index < 0 ? this.liCollections.length - 1 : index === this.liCollections.length ? 0 : index;\n                        }\n                        nextItem = isNullOrUndefined(this.activeIndex) ? this.liCollections[startIndex] : this.liCollections[index];\n                        this.setSelection(nextItem, e);\n                    }\n                    e.preventDefault();\n                    break;\n                case 'pageUp':\n                    this.pageUpSelection(this.activeIndex - this.getPageCount(), e);\n                    e.preventDefault();\n                    break;\n                case 'pageDown':\n                    this.pageDownSelection(this.activeIndex + this.getPageCount(), e);\n                    e.preventDefault();\n                    break;\n                case 'home':\n                    if (this.getModuleName() === 'dropdownlist') {\n                        e.preventDefault();\n                        if (this.activeIndex === 0) {\n                            return;\n                        }\n                        this.setSelection(this.liCollections[0], e);\n                    }\n                    break;\n                case 'end':\n                    if (this.getModuleName() === 'dropdownlist') {\n                        e.preventDefault();\n                        var lastLi = this.getItems().length - 1;\n                        if (this.activeIndex === lastLi) {\n                            return;\n                        }\n                        this.setSelection(this.liCollections[lastLi], e);\n                    }\n                    break;\n                case 'space':\n                    if (this.getModuleName() === 'dropdownlist') {\n                        if (!this.beforePopupOpen) {\n                            this.showPopup();\n                        }\n                    }\n                    break;\n                case 'open':\n                    this.showPopup();\n                    break;\n                case 'hide':\n                    this.preventAltUp = this.isPopupOpen;\n                    this.hidePopup();\n                    this.focusDropDown(e);\n                    break;\n                case 'enter':\n                    this.selectCurrentItem(e);\n                    break;\n                case 'escape':\n                case 'tab':\n                case 'close':\n                    if (this.isPopupOpen) {\n                        this.hidePopup();\n                        this.focusDropDown(e);\n                    }\n                    break;\n            }\n        }\n    };\n    DropDownList.prototype.selectCurrentItem = function (e) {\n        if (this.isPopupOpen) {\n            var li = this.list.querySelector('.' + dropDownListClasses.focus);\n            if (li) {\n                this.setSelection(li, e);\n                this.isTyped = false;\n            }\n            if (this.isSelected) {\n                this.isSelectCustom = false;\n                this.onChangeEvent(e);\n            }\n            this.hidePopup();\n            this.focusDropDown(e);\n        }\n        else {\n            this.showPopup();\n        }\n    };\n    DropDownList.prototype.isSelectFocusItem = function (element) {\n        return !isNullOrUndefined(element);\n    };\n    DropDownList.prototype.getPageCount = function () {\n        var liHeight = this.list.classList.contains(dropDownBaseClasses.noData) ? null :\n            getComputedStyle(this.getItems()[0], null).getPropertyValue('height');\n        return Math.round(this.list.getBoundingClientRect().height / parseInt(liHeight, 10));\n    };\n    DropDownList.prototype.pageUpSelection = function (steps, event) {\n        var previousItem = steps >= 0 ? this.liCollections[steps + 1] : this.liCollections[0];\n        this.setSelection(previousItem, event);\n    };\n    ;\n    DropDownList.prototype.pageDownSelection = function (steps, event) {\n        var list = this.getItems();\n        var previousItem = steps <= list.length ? this.liCollections[steps - 1] : this.liCollections[list.length - 1];\n        this.setSelection(previousItem, event);\n    };\n    ;\n    DropDownList.prototype.unWireEvent = function () {\n        EventHandler.remove(this.inputWrapper.container, 'mousedown', this.dropDownClick);\n        EventHandler.remove(this.inputWrapper.container, 'keypress', this.onSearch);\n        EventHandler.remove(this.inputWrapper.container, 'focus', this.focusIn);\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement) {\n            EventHandler.remove(formElement, 'reset', this.resetValueHandler);\n        }\n        this.unBindCommonEvent();\n    };\n    /**\n     * Event un binding for list items.\n     */\n    DropDownList.prototype.unWireListEvents = function () {\n        EventHandler.remove(this.list, 'click', this.onMouseClick);\n        EventHandler.remove(this.list, 'mouseover', this.onMouseOver);\n        EventHandler.remove(this.list, 'mouseout', this.onMouseLeave);\n    };\n    ;\n    DropDownList.prototype.onDocumentClick = function (e) {\n        var target = e.target;\n        if (!(!isNullOrUndefined(this.popupObj) && closest(target, '#' + this.popupObj.element.id)) &&\n            !this.inputWrapper.container.contains(e.target)) {\n            if (this.inputWrapper.container.classList.contains(dropDownListClasses.inputFocus) || this.isPopupOpen) {\n                this.isDocumentClick = true;\n                var isActive = this.isRequested;\n                this.isInteracted = false;\n                this.hidePopup();\n                if (!isActive) {\n                    this.onFocusOut();\n                    this.inputWrapper.container.classList.remove(dropDownListClasses.inputFocus);\n                }\n            }\n        }\n        else if (target !== this.inputElement && !(this.allowFiltering && target === this.filterInput)\n            && !(this.getModuleName() === 'combobox' &&\n                !this.allowFiltering && Browser.isDevice && target === this.inputWrapper.buttons[0])) {\n            this.isPreventBlur = (Browser.isIE || Browser.info.name === 'edge') && (document.activeElement === this.targetElement() ||\n                document.activeElement === this.filterInput);\n            e.preventDefault();\n        }\n    };\n    DropDownList.prototype.activeStateChange = function () {\n        if (this.isDocumentClick) {\n            this.hidePopup();\n            this.onFocusOut();\n            this.inputWrapper.container.classList.remove(dropDownListClasses.inputFocus);\n        }\n    };\n    DropDownList.prototype.focusDropDown = function (e) {\n        if (!this.initial && this.isFilterLayout()) {\n            this.focusIn();\n        }\n    };\n    DropDownList.prototype.dropDownClick = function (e) {\n        if (e.which === 3 || e.button === 2) {\n            return;\n        }\n        if (this.targetElement().classList.contains(dropDownListClasses.disable) || this.inputWrapper.clearButton === e.target) {\n            return;\n        }\n        var target = e.target;\n        if (target !== this.inputElement && !(this.allowFiltering && target === this.filterInput) && this.getModuleName() !== 'combobox') {\n            e.preventDefault();\n        }\n        if (!this.readonly) {\n            if (this.isPopupOpen) {\n                this.hidePopup();\n                if (this.isFilterLayout()) {\n                    this.focusDropDown(e);\n                }\n            }\n            else {\n                this.focusIn();\n                this.floatLabelChange();\n                this.queryString = this.inputElement.value.trim() === '' ? null : this.inputElement.value;\n                this.isDropDownClick = true;\n                this.showPopup();\n            }\n            var proxy_1 = this;\n            if (!this.isSecondClick) {\n                setTimeout(function () { proxy_1.cloneElements(); }, 100);\n            }\n        }\n        else {\n            this.focusIn();\n        }\n    };\n    DropDownList.prototype.cloneElements = function () {\n        if (this.list) {\n            var ulElement = this.list.querySelector('ul');\n            if (ulElement) {\n                ulElement = ulElement.cloneNode ? ulElement.cloneNode(true) : ulElement;\n                this.actionCompleteData.ulElement = ulElement;\n                this.isSecondClick = true;\n            }\n        }\n    };\n    DropDownList.prototype.updateSelectedItem = function (li, e, preventSelect) {\n        this.removeSelection();\n        li.classList.add(dropDownBaseClasses.selected);\n        this.removeHover();\n        var value = this.getFormattedValue(li.getAttribute('data-value'));\n        this.item = li;\n        this.itemData = this.getDataByValue(value);\n        if (!this.initial && !preventSelect) {\n            var items = this.detachChanges();\n            this.isSelected = true;\n            var eventArgs = {\n                e: e,\n                item: this.item,\n                itemData: items,\n                isInteracted: e ? true : false,\n                cancel: false\n            };\n            this.trigger('select', eventArgs);\n            if (eventArgs.cancel) {\n                return true;\n            }\n        }\n        var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n        if (focusedItem) {\n            removeClass([focusedItem], dropDownBaseClasses.focus);\n        }\n        li.setAttribute('aria-selected', 'true');\n        this.activeIndex = this.getIndexByValue(value);\n        return false;\n    };\n    DropDownList.prototype.activeItem = function (li) {\n        if (this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses.selected)) {\n            this.removeSelection();\n            li.classList.add(dropDownBaseClasses.selected);\n            this.removeHover();\n            li.setAttribute('aria-selected', 'true');\n        }\n    };\n    DropDownList.prototype.setValue = function (e) {\n        var dataItem = this.getItemData();\n        if (dataItem.value === null) {\n            Input.setValue(null, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        else {\n            Input.setValue(dataItem.text, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        if (this.previousValue === dataItem.value) {\n            this.isSelected = false;\n            return true;\n        }\n        else {\n            this.isSelected = !this.initial ? true : false;\n            this.isSelectCustom = false;\n            if (this.getModuleName() === 'dropdownlist') {\n                this.updateIconState();\n            }\n            return false;\n        }\n    };\n    DropDownList.prototype.setSelection = function (li, e) {\n        if (this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses.selected)) {\n            this.previousItemData = (!isNullOrUndefined(this.itemData)) ? this.itemData : null;\n            var argsCancel = this.updateSelectedItem(li, e, false);\n            if (argsCancel) {\n                return;\n            }\n        }\n        if (this.list) {\n            this.removeHover();\n        }\n        this.previousSelectedLI = (!isNullOrUndefined(this.selectedLI)) ? this.selectedLI : null;\n        this.selectedLI = li;\n        if (this.setValue(e)) {\n            return;\n        }\n        if (this.valueTemplate && this.itemData !== null) {\n            this.setValueTemplate();\n        }\n        else if (this.inputElement.previousSibling === this.valueTempElement) {\n            detach(this.valueTempElement);\n            this.inputElement.style.display = 'block';\n        }\n        if (this.isPopupOpen) {\n            attributes(this.targetElement(), { 'aria-activedescendant': this.selectedLI ? this.selectedLI.id : null });\n            if (this.isFilterLayout()) {\n                attributes(this.filterInput, { 'aria-activedescendant': this.selectedLI ? this.selectedLI.id : null });\n            }\n        }\n        if ((!this.isPopupOpen && !isNullOrUndefined(li)) || (this.isPopupOpen && !isNullOrUndefined(e) &&\n            (e.type !== 'keydown' || e.type === 'keydown' && e.action === 'enter'))) {\n            this.isSelectCustom = false;\n            this.onChangeEvent(e);\n        }\n        if (this.isPopupOpen && !isNullOrUndefined(this.selectedLI) && this.itemData !== null && (!e || e.type !== 'click')) {\n            this.setScrollPosition(e);\n        }\n    };\n    DropDownList.prototype.setValueTemplate = function () {\n        var compiledString;\n        if (!this.valueTempElement) {\n            this.valueTempElement = this.createElement('span', { className: dropDownListClasses.value });\n            this.inputElement.parentElement.insertBefore(this.valueTempElement, this.inputElement);\n            this.inputElement.style.display = 'none';\n        }\n        this.valueTempElement.innerHTML = '';\n        compiledString = compile(this.valueTemplate);\n        for (var _i = 0, _a = compiledString(this.itemData); _i < _a.length; _i++) {\n            var item = _a[_i];\n            this.valueTempElement.appendChild(item);\n        }\n    };\n    DropDownList.prototype.removeSelection = function () {\n        var selectedItems = this.list.querySelectorAll('.' + dropDownBaseClasses.selected);\n        if (selectedItems.length) {\n            removeClass(selectedItems, dropDownBaseClasses.selected);\n            selectedItems[0].removeAttribute('aria-selected');\n        }\n    };\n    ;\n    DropDownList.prototype.getItemData = function () {\n        var fields = this.fields;\n        var dataItem = null;\n        dataItem = this.itemData;\n        var dataValue;\n        var dataText;\n        if (!isNullOrUndefined(dataItem)) {\n            dataValue = getValue(fields.value, dataItem);\n            dataText = getValue(fields.text, dataItem);\n        }\n        var value = (!isNullOrUndefined(dataItem) &&\n            !isUndefined(dataValue) ? dataValue : dataItem);\n        var text = (!isNullOrUndefined(dataItem) &&\n            !isUndefined(dataValue) ? dataText : dataItem);\n        return { value: value, text: text };\n    };\n    /**\n     * To trigger the change event for list.\n     */\n    DropDownList.prototype.onChangeEvent = function (eve) {\n        var dataItem = this.getItemData();\n        var index = this.isSelectCustom ? null : this.activeIndex;\n        this.setProperties({ 'value': dataItem.value, 'index': index, 'text': dataItem.text }, true);\n        this.detachChangeEvent(eve);\n    };\n    ;\n    DropDownList.prototype.detachChanges = function () {\n        var items;\n        if (typeof this.itemData === 'string' ||\n            typeof this.itemData === 'boolean' ||\n            typeof this.itemData === 'number') {\n            items = Object.defineProperties({}, {\n                value: {\n                    value: this.itemData,\n                    enumerable: true\n                },\n                text: {\n                    value: this.itemData,\n                    enumerable: true\n                }\n            });\n        }\n        else {\n            items = this.itemData;\n        }\n        return items;\n    };\n    DropDownList.prototype.detachChangeEvent = function (eve) {\n        this.isSelected = false;\n        this.previousValue = this.value;\n        this.activeIndex = this.index;\n        this.typedString = !isNullOrUndefined(this.text) ? this.text : '';\n        if (!this.initial) {\n            var items = this.detachChanges();\n            var preItems = void 0;\n            if (typeof this.previousItemData === 'string' ||\n                typeof this.previousItemData === 'boolean' ||\n                typeof this.previousItemData === 'number') {\n                preItems = Object.defineProperties({}, {\n                    value: {\n                        value: this.previousItemData,\n                        enumerable: true\n                    },\n                    text: {\n                        value: this.previousItemData,\n                        enumerable: true\n                    }\n                });\n            }\n            else {\n                preItems = this.previousItemData;\n            }\n            this.setHiddenValue();\n            var eventArgs = {\n                e: eve,\n                item: this.item,\n                itemData: items,\n                previousItem: this.previousSelectedLI,\n                previousItemData: preItems,\n                isInteracted: eve ? true : false,\n                value: this.value,\n                element: this.element\n            };\n            this.trigger('change', eventArgs);\n        }\n    };\n    DropDownList.prototype.setHiddenValue = function () {\n        if (!isNullOrUndefined(this.value)) {\n            this.hiddenElement.innerHTML = '<option selected>' + this.text + '</option>';\n            var selectedElement = this.hiddenElement.querySelector('option');\n            selectedElement.setAttribute('value', this.value.toString());\n        }\n        else {\n            this.hiddenElement.innerHTML = '';\n        }\n    };\n    /**\n     * Filter bar implementation\n     */\n    DropDownList.prototype.onFilterUp = function (e) {\n        this.isValidKey = e.keyCode === 40 || e.keyCode === 38 || this.isValidKey;\n        if (this.isValidKey) {\n            this.isValidKey = false;\n            switch (e.keyCode) {\n                case 38: //up arrow \n                case 40://down arrow \n                    if (this.getModuleName() === 'autocomplete' && !this.isPopupOpen && !this.preventAltUp && !this.isRequested) {\n                        this.preventAutoFill = true;\n                        this.searchLists(e);\n                    }\n                    else {\n                        this.preventAutoFill = false;\n                    }\n                    this.preventAltUp = false;\n                    e.preventDefault();\n                    break;\n                case 46: //delete\n                case 8://backspace\n                    this.typedString = this.filterInput.value;\n                    if (!this.isPopupOpen && this.typedString !== '' || this.isPopupOpen && this.queryString.length > 0) {\n                        this.preventAutoFill = true;\n                        this.searchLists(e);\n                    }\n                    else if (this.typedString === '') {\n                        this.resetFocusElement();\n                        this.activeIndex = null;\n                        if (this.getModuleName() === 'autocomplete') {\n                            this.hidePopup();\n                        }\n                    }\n                    e.preventDefault();\n                    break;\n                default:\n                    this.typedString = this.filterInput.value;\n                    this.preventAutoFill = false;\n                    this.searchLists(e);\n                    break;\n            }\n        }\n    };\n    DropDownList.prototype.onFilterDown = function (e) {\n        switch (e.keyCode) {\n            case 13://enter\n                break;\n            case 40: //down arrow \n            case 38://up arrow \n                this.queryString = this.filterInput.value;\n                e.preventDefault();\n                break;\n            case 9://tab \n                if (this.isPopupOpen) {\n                    e.preventDefault();\n                }\n                break;\n            default:\n                this.prevSelectPoints = this.getSelectionPoints();\n                this.queryString = this.filterInput.value;\n                break;\n        }\n    };\n    DropDownList.prototype.removeFillSelection = function () {\n        if (this.isInteracted) {\n            var selection = this.getSelectionPoints();\n            this.inputElement.setSelectionRange(selection.end, selection.end);\n        }\n    };\n    DropDownList.prototype.getSelectionPoints = function () {\n        var input = this.inputElement;\n        return { start: Math.abs(input.selectionStart), end: Math.abs(input.selectionEnd) };\n    };\n    DropDownList.prototype.searchLists = function (e) {\n        var _this = this;\n        this.isTyped = true;\n        this.activeIndex = null;\n        if (this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon)) {\n            var clearElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n            clearElement.style.visibility = this.filterInput.value === '' ? 'hidden' : 'visible';\n        }\n        if (this.isFiltering()) {\n            var eventArgs_1 = {\n                preventDefaultAction: false,\n                text: this.filterInput.value,\n                updateData: function (dataSource, query, fields) {\n                    if (eventArgs_1.cancel) {\n                        return;\n                    }\n                    _this.isCustomFilter = true;\n                    _this.filteringAction(dataSource, query, fields);\n                },\n                baseEventArgs: e,\n                cancel: false\n            };\n            this.trigger('filtering', eventArgs_1);\n            if (eventArgs_1.cancel) {\n                return;\n            }\n            if (!this.isCustomFilter && !eventArgs_1.preventDefaultAction) {\n                var filterQuery = this.query ? this.query.clone() : new Query();\n                var dataType = this.typeOfData(this.dataSource).typeof;\n                if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                    filterQuery.where('', 'startswith', this.filterInput.value, true, this.ignoreAccent);\n                }\n                else {\n                    var fields = this.fields;\n                    filterQuery.where(!isNullOrUndefined(fields.text) ? fields.text : '', 'startswith', this.filterInput.value, true, this.ignoreAccent);\n                }\n                this.filteringAction(this.dataSource, filterQuery, this.fields);\n            }\n        }\n    };\n    DropDownList.prototype.filteringAction = function (dataSource, query, fields) {\n        if (!isNullOrUndefined(this.filterInput)) {\n            this.beforePopupOpen = true;\n            if (this.filterInput.value.trim() === '') {\n                this.actionCompleteData.isUpdated = false;\n                this.isTyped = false;\n                if (!isNullOrUndefined(this.actionCompleteData.ulElement) && !isNullOrUndefined(this.actionCompleteData.list)) {\n                    this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list);\n                }\n                this.isTyped = true;\n                if (!isNullOrUndefined(this.itemData) && this.getModuleName() === 'dropdownlist') {\n                    this.focusIndexItem();\n                    this.setScrollPosition();\n                }\n                this.isNotSearchList = true;\n            }\n            else {\n                this.isNotSearchList = false;\n                this.resetList(dataSource, fields, query);\n            }\n        }\n    };\n    DropDownList.prototype.setSearchBox = function (popupElement) {\n        if (this.isFiltering()) {\n            var parentElement = this.createElement('span', {\n                className: dropDownListClasses.filterParent\n            });\n            this.filterInput = this.createElement('input', {\n                attrs: { type: 'text' },\n                className: dropDownListClasses.filterInput\n            });\n            this.element.parentNode.insertBefore(this.filterInput, this.element);\n            var backIcon = false;\n            if (Browser.isDevice) {\n                backIcon = true;\n            }\n            this.filterInputObj = Input.createInput({\n                element: this.filterInput,\n                buttons: backIcon ?\n                    [dropDownListClasses.backIcon, dropDownListClasses.filterBarClearIcon] : [dropDownListClasses.filterBarClearIcon],\n                properties: { placeholder: this.filterBarPlaceholder }\n            }, this.createElement);\n            append([this.filterInputObj.container], parentElement);\n            prepend([parentElement], popupElement);\n            attributes(this.filterInput, {\n                'aria-disabled': 'false',\n                'aria-owns': this.element.id + '_options',\n                'role': 'listbox',\n                'aria-activedescendant': this.selectedLI ? this.selectedLI.id : null,\n                'autocomplete': 'off',\n                'autocorrect': 'off',\n                'autocapitalize': 'off',\n                'spellcheck': 'false'\n            });\n            this.clearIconElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n            if (!Browser.isDevice && this.clearIconElement) {\n                EventHandler.add(this.clearIconElement, 'click', this.clearText, this);\n                this.clearIconElement.style.visibility = 'hidden';\n            }\n            if (!Browser.isDevice) {\n                this.searchKeyModule = new KeyboardEvents(this.filterInput, {\n                    keyAction: this.keyActionHandler.bind(this),\n                    keyConfigs: this.keyConfigure,\n                    eventName: 'keydown'\n                });\n            }\n            EventHandler.add(this.filterInput, 'input', this.onInput, this);\n            EventHandler.add(this.filterInput, 'keyup', this.onFilterUp, this);\n            EventHandler.add(this.filterInput, 'keydown', this.onFilterDown, this);\n            EventHandler.add(this.filterInput, 'blur', this.onBlur, this);\n            return this.filterInputObj;\n        }\n        else {\n            return inputObject;\n        }\n    };\n    ;\n    DropDownList.prototype.onInput = function () {\n        this.isValidKey = true;\n    };\n    DropDownList.prototype.onActionFailure = function (e) {\n        _super.prototype.onActionFailure.call(this, e);\n        if (this.beforePopupOpen) {\n            this.renderPopup();\n        }\n    };\n    DropDownList.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        if (this.isNotSearchList) {\n            this.isNotSearchList = false;\n            return;\n        }\n        if (this.isActive) {\n            var selectedItem = this.selectedLI ? this.selectedLI.cloneNode(true) : null;\n            _super.prototype.onActionComplete.call(this, ulElement, list, e);\n            if (this.isRequested && !isNullOrUndefined(this.searchKeyEvent) && this.searchKeyEvent.type === 'keydown') {\n                this.isRequested = false;\n                this.keyActionHandler(this.searchKeyEvent);\n                this.searchKeyEvent = null;\n            }\n            if (this.isRequested && !isNullOrUndefined(this.searchKeyEvent)) {\n                this.incrementalSearch(this.searchKeyEvent);\n                this.searchKeyEvent = null;\n            }\n            this.list.scrollTop = 0;\n            if (!isNullOrUndefined(ulElement)) {\n                attributes(ulElement, { 'id': this.element.id + '_options', 'role': 'listbox', 'aria-hidden': 'false' });\n            }\n            if (this.initRemoteRender) {\n                this.initial = true;\n                this.activeIndex = this.index;\n                this.updateValues();\n                this.initRemoteRender = false;\n                this.initial = false;\n            }\n            if (this.getModuleName() !== 'autocomplete' && this.isFiltering() && !this.isTyped) {\n                if (!this.actionCompleteData.isUpdated || ((!this.isCustomFilter\n                    && !this.isFilterFocus)\n                    && ((this.dataSource instanceof DataManager)\n                        || (!isNullOrUndefined(this.dataSource.length) && this.dataSource.length !== 0)))) {\n                    this.actionCompleteData = { ulElement: ulElement.cloneNode(true), list: list, isUpdated: true };\n                }\n                this.addNewItem(list, selectedItem);\n                if (!isNullOrUndefined(this.itemData)) {\n                    this.focusIndexItem();\n                }\n            }\n            if (this.beforePopupOpen) {\n                this.renderPopup();\n            }\n        }\n    };\n    DropDownList.prototype.addNewItem = function (listData, newElement) {\n        var _this = this;\n        if (!isNullOrUndefined(this.itemData) && !isNullOrUndefined(newElement)) {\n            var value_1 = this.getItemData().value;\n            var isExist = listData.some(function (data) {\n                return (((typeof data === 'string' || typeof data === 'number') && data === value_1) ||\n                    (getValue(_this.fields.value, data) === value_1));\n            });\n            if (!isExist) {\n                this.addItem(this.itemData);\n            }\n        }\n    };\n    DropDownList.prototype.updateActionCompleteData = function (li, item) {\n        if (this.getModuleName() !== 'autocomplete' && this.actionCompleteData.ulElement) {\n            this.actionCompleteData.ulElement.appendChild(li.cloneNode(true));\n            if (this.isFiltering()) {\n                this.actionCompleteData.list.push(item);\n            }\n        }\n    };\n    DropDownList.prototype.focusIndexItem = function () {\n        var value = this.getItemData().value;\n        this.activeIndex = this.getIndexByValue(value);\n        var element = this.list.querySelector('[data-value=\"' + value + '\"]');\n        this.selectedLI = element;\n        this.activeItem(element);\n        this.removeFocus();\n    };\n    DropDownList.prototype.updateSelection = function () {\n        var selectedItem = this.list.querySelector('.' + dropDownBaseClasses.selected);\n        if (selectedItem) {\n            this.setProperties({ 'index': this.getIndexByValue(selectedItem.getAttribute('data-value')) });\n            this.activeIndex = this.index;\n        }\n        else {\n            this.removeFocus();\n            this.list.querySelector('.' + dropDownBaseClasses.li).classList.add(dropDownListClasses.focus);\n        }\n    };\n    DropDownList.prototype.removeFocus = function () {\n        var highlightedItem = this.list.querySelectorAll('.' + dropDownListClasses.focus);\n        if (highlightedItem && highlightedItem.length) {\n            removeClass(highlightedItem, dropDownListClasses.focus);\n        }\n    };\n    ;\n    DropDownList.prototype.renderPopup = function () {\n        if (this.popupObj && document.body.contains(this.popupObj.element)) {\n            this.refreshPopup();\n            return;\n        }\n        var args = { cancel: false };\n        this.trigger('beforeOpen', args);\n        if (args.cancel) {\n            return;\n        }\n        var popupEle = this.createElement('div', {\n            id: this.element.id + '_popup', className: 'e-ddl e-popup ' + (this.cssClass != null ? this.cssClass : '')\n        });\n        var searchBox = this.setSearchBox(popupEle);\n        this.listHeight = formatUnit(this.popupHeight);\n        if (this.headerTemplate) {\n            this.setHeaderTemplate(popupEle);\n        }\n        append([this.list], popupEle);\n        if (this.footerTemplate) {\n            this.setFooterTemplate(popupEle);\n        }\n        document.body.appendChild(popupEle);\n        popupEle.style.visibility = 'hidden';\n        if (this.popupHeight !== 'auto') {\n            this.searchBoxHeight = 0;\n            if (!isNullOrUndefined(searchBox.container)) {\n                this.searchBoxHeight = (searchBox.container.parentElement).getBoundingClientRect().height;\n                this.listHeight = (parseInt(this.listHeight, 10) - (this.searchBoxHeight)).toString() + 'px';\n            }\n            if (this.headerTemplate) {\n                var height = Math.round(this.header.getBoundingClientRect().height);\n                this.listHeight = (parseInt(this.listHeight, 10) - (height + this.searchBoxHeight)).toString() + 'px';\n            }\n            if (this.footerTemplate) {\n                var height = Math.round(this.footer.getBoundingClientRect().height);\n                this.listHeight = (parseInt(this.listHeight, 10) - (height + this.searchBoxHeight)).toString() + 'px';\n            }\n            this.list.style.maxHeight = (parseInt(this.listHeight, 10) - 2).toString() + 'px'; // due to box-sizing property\n            popupEle.style.maxHeight = formatUnit(this.popupHeight);\n        }\n        else {\n            popupEle.style.height = 'auto';\n        }\n        var offsetValue = 0;\n        var left;\n        if (!isNullOrUndefined(this.selectedLI) && (!isNullOrUndefined(this.activeIndex) && this.activeIndex >= 0)) {\n            this.setScrollPosition();\n        }\n        else {\n            this.list.scrollTop = 0;\n        }\n        if (Browser.isDevice && (!this.allowFiltering && (this.getModuleName() === 'dropdownlist' ||\n            (this.isDropDownClick && this.getModuleName() === 'combobox')))) {\n            offsetValue = this.getOffsetValue(popupEle);\n            var firstItem = this.isEmptyList() ? this.list : this.liCollections[0];\n            left = -(parseInt(getComputedStyle(firstItem).textIndent, 10) -\n                parseInt(getComputedStyle(this.inputElement).paddingLeft, 10) +\n                parseInt(getComputedStyle(this.inputElement.parentElement).borderLeftWidth, 10));\n        }\n        this.getFocusElement();\n        this.createPopup(popupEle, offsetValue, left);\n        this.checkCollision(popupEle);\n        if (Browser.isDevice) {\n            this.popupObj.element.classList.add(dropDownListClasses.device);\n            if (this.getModuleName() === 'dropdownlist' || (this.getModuleName() === 'combobox'\n                && !this.allowFiltering && this.isDropDownClick)) {\n                this.popupObj.collision = { X: 'fit', Y: 'fit' };\n            }\n            if (this.isFilterLayout()) {\n                this.popupObj.element.classList.add(dropDownListClasses.mobileFilter);\n                this.popupObj.position = { X: 0, Y: 0 };\n                this.popupObj.dataBind();\n                attributes(this.popupObj.element, { style: 'left:0px;right:0px;top:0px;bottom:0px;' });\n                addClass([document.body, this.popupObj.element], dropDownListClasses.popupFullScreen);\n                this.setSearchBoxPosition();\n                this.backIconElement = searchBox.container.querySelector('.e-back-icon');\n                this.clearIconElement = searchBox.container.querySelector('.' + dropDownListClasses.clearIcon);\n                EventHandler.add(this.backIconElement, 'click', this.clickOnBackIcon, this);\n                EventHandler.add(this.clearIconElement, 'click', this.clearText, this);\n            }\n        }\n        popupEle.style.visibility = 'visible';\n        addClass([popupEle], 'e-popup-close');\n        var scrollParentElements = this.popupObj.getScrollableParent(this.inputWrapper.container);\n        for (var _i = 0, scrollParentElements_1 = scrollParentElements; _i < scrollParentElements_1.length; _i++) {\n            var element = scrollParentElements_1[_i];\n            EventHandler.add(element, 'scroll', this.scrollHandler, this);\n        }\n        if (Browser.isDevice && this.isFilterLayout()) {\n            EventHandler.add(this.list, 'scroll', this.listScroll, this);\n        }\n        attributes(this.targetElement(), { 'aria-expanded': 'true' });\n        var inputParent = this.isFiltering() ? this.filterInput.parentElement : this.inputWrapper.container;\n        addClass([inputParent], [dropDownListClasses.inputFocus]);\n        var animModel = { name: 'FadeIn', duration: 100 };\n        this.beforePopupOpen = true;\n        var eventArgs = { popup: this.popupObj, cancel: false, animation: animModel };\n        this.trigger('open', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        addClass([this.inputWrapper.container], [dropDownListClasses.iconAnimation]);\n        this.popupObj.show(new Animation(eventArgs.animation), (this.zIndex === 1000) ? this.element : null);\n    };\n    DropDownList.prototype.checkCollision = function (popupEle) {\n        if (!Browser.isDevice || (Browser.isDevice && !(this.getModuleName() === 'dropdownlist' || this.isDropDownClick))) {\n            var collision = isCollide(popupEle);\n            if (collision.length > 0) {\n                popupEle.style.marginTop = -parseInt(getComputedStyle(popupEle).marginTop, 10) + 'px';\n            }\n        }\n    };\n    DropDownList.prototype.getOffsetValue = function (popupEle) {\n        var popupStyles = getComputedStyle(popupEle);\n        var borderTop = parseInt(popupStyles.borderTop, 10);\n        var borderBottom = parseInt(popupStyles.borderBottom, 10);\n        return this.setPopupPosition(borderTop + borderBottom);\n    };\n    DropDownList.prototype.createPopup = function (element, offsetValue, left) {\n        var _this = this;\n        this.popupObj = new Popup(element, {\n            width: this.setWidth(), targetType: 'relative',\n            relateTo: this.inputWrapper.container, collision: { X: 'flip', Y: 'flip' }, offsetY: offsetValue,\n            enableRtl: this.enableRtl, offsetX: left, position: { X: 'left', Y: 'bottom' },\n            zIndex: this.zIndex,\n            close: function () {\n                if (!_this.isDocumentClick) {\n                    _this.focusDropDown();\n                }\n                _this.isDocumentClick = false;\n                _this.destroyPopup();\n            },\n            open: function () {\n                EventHandler.add(document, 'mousedown', _this.onDocumentClick, _this);\n                _this.isPopupOpen = true;\n                if (_this.isFilterLayout()) {\n                    removeClass([_this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n                    _this.isFilterFocus = true;\n                    _this.filterInput.focus();\n                    if (_this.inputWrapper.clearButton) {\n                        addClass([_this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n                    }\n                }\n                _this.activeStateChange();\n            }\n        });\n    };\n    DropDownList.prototype.isEmptyList = function () {\n        return !isNullOrUndefined(this.liCollections) && this.liCollections.length === 0;\n    };\n    DropDownList.prototype.getFocusElement = function () {\n        // combo-box used this method\n    };\n    DropDownList.prototype.isFilterLayout = function () {\n        return this.getModuleName() === 'dropdownlist' && this.allowFiltering;\n    };\n    DropDownList.prototype.scrollHandler = function () {\n        if (Browser.isDevice && ((this.getModuleName() === 'dropdownlist' &&\n            !this.isFilterLayout()) || (this.getModuleName() === 'combobox' && !this.allowFiltering && this.isDropDownClick))) {\n            this.hidePopup();\n        }\n        if (this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement)) {\n            this.fixedHeaderElement.style.zIndex = '0';\n            this.fixedHeaderElement.style.display = 'none';\n        }\n    };\n    DropDownList.prototype.setSearchBoxPosition = function () {\n        var searchBoxHeight = this.filterInput.parentElement.getBoundingClientRect().height;\n        this.popupObj.element.style.maxHeight = '100%';\n        this.popupObj.element.style.width = '100%';\n        this.list.style.maxHeight = (window.innerHeight - searchBoxHeight) + 'px';\n        this.list.style.height = (window.innerHeight - searchBoxHeight) + 'px';\n        var clearElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n        detach(this.filterInput);\n        clearElement.parentElement.insertBefore(this.filterInput, clearElement);\n    };\n    DropDownList.prototype.setPopupPosition = function (border) {\n        var offsetValue;\n        var popupOffset = border;\n        var selectedLI = this.list.querySelector('.' + dropDownListClasses.focus) || this.selectedLI;\n        var firstItem = this.isEmptyList() ? this.list : this.liCollections[0];\n        var lastItem = this.isEmptyList() ? this.list : this.liCollections[this.getItems().length - 1];\n        var liHeight = firstItem.getBoundingClientRect().height;\n        var listHeight = this.list.offsetHeight / 2;\n        var height = isNullOrUndefined(selectedLI) ? firstItem.offsetTop : selectedLI.offsetTop;\n        var lastItemOffsetValue = lastItem.offsetTop;\n        if (lastItemOffsetValue - listHeight < height && !isNullOrUndefined(this.liCollections) &&\n            this.liCollections.length > 0 && !isNullOrUndefined(selectedLI)) {\n            var count = this.list.offsetHeight / liHeight;\n            var paddingBottom = parseInt(getComputedStyle(this.list).paddingBottom, 10);\n            offsetValue = (count - (this.liCollections.length - this.activeIndex)) * liHeight - popupOffset + paddingBottom;\n            this.list.scrollTop = selectedLI.offsetTop;\n        }\n        else if (height > listHeight) {\n            offsetValue = listHeight - liHeight / 2;\n            this.list.scrollTop = height - listHeight + liHeight / 2;\n        }\n        else {\n            offsetValue = height;\n        }\n        var inputHeight = this.inputWrapper.container.offsetHeight;\n        offsetValue = offsetValue + liHeight + popupOffset - ((liHeight - inputHeight) / 2);\n        return -offsetValue;\n    };\n    DropDownList.prototype.setWidth = function () {\n        var width = formatUnit(this.popupWidth);\n        if (width.indexOf('%') > -1) {\n            var inputWidth = this.inputWrapper.container.offsetWidth * parseFloat(width) / 100;\n            width = inputWidth.toString() + 'px';\n        }\n        if (Browser.isDevice && (!this.allowFiltering && (this.getModuleName() === 'dropdownlist' ||\n            (this.isDropDownClick && this.getModuleName() === 'combobox')))) {\n            var firstItem = this.isEmptyList() ? this.list : this.liCollections[0];\n            width = (parseInt(width, 10) + (parseInt(getComputedStyle(firstItem).textIndent, 10) -\n                parseInt(getComputedStyle(this.inputElement).paddingLeft, 10) +\n                parseInt(getComputedStyle(this.inputElement.parentElement).borderLeftWidth, 10)) * 2) + 'px';\n        }\n        return width;\n    };\n    DropDownList.prototype.scrollBottom = function (isInitial) {\n        var currentOffset = this.list.offsetHeight;\n        var nextBottom = this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop;\n        var nextOffset = this.list.scrollTop + nextBottom - currentOffset;\n        nextOffset = isInitial ? nextOffset + parseInt(getComputedStyle(this.list).paddingTop, 10) * 2 : nextOffset;\n        var boxRange = this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop;\n        boxRange = this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n            boxRange - this.fixedHeaderElement.offsetHeight : boxRange;\n        if (this.activeIndex === 0) {\n            this.list.scrollTop = 0;\n        }\n        else if (nextBottom > currentOffset || !(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n            this.list.scrollTop = nextOffset;\n        }\n    };\n    DropDownList.prototype.scrollTop = function () {\n        var nextOffset = this.selectedLI.offsetTop - this.list.scrollTop;\n        var nextBottom = this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop;\n        nextOffset = this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n            nextOffset - this.fixedHeaderElement.offsetHeight : nextOffset;\n        var boxRange = (this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop);\n        if (this.activeIndex === 0) {\n            this.list.scrollTop = 0;\n        }\n        else if (nextOffset < 0) {\n            this.list.scrollTop = this.list.scrollTop + nextOffset;\n        }\n        else if (!(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n            this.list.scrollTop = this.selectedLI.offsetTop - (this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n                this.fixedHeaderElement.offsetHeight : 0);\n        }\n    };\n    DropDownList.prototype.isEditTextBox = function () {\n        return false;\n    };\n    DropDownList.prototype.isFiltering = function () {\n        return this.allowFiltering;\n    };\n    DropDownList.prototype.isPopupButton = function () {\n        return true;\n    };\n    DropDownList.prototype.setScrollPosition = function (e) {\n        if (!isNullOrUndefined(e)) {\n            switch (e.action) {\n                case 'pageDown':\n                case 'down':\n                case 'end':\n                    this.scrollBottom();\n                    break;\n                default:\n                    this.scrollTop();\n                    break;\n            }\n        }\n        else {\n            this.scrollBottom(true);\n        }\n    };\n    DropDownList.prototype.clearText = function () {\n        this.filterInput.value = '';\n        this.searchLists(null);\n    };\n    DropDownList.prototype.listScroll = function () {\n        this.filterInput.blur();\n    };\n    DropDownList.prototype.closePopup = function (delay) {\n        this.isTyped = false;\n        if (!(this.popupObj && document.body.contains(this.popupObj.element) && this.beforePopupOpen)) {\n            return;\n        }\n        EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n        this.isActive = false;\n        this.filterInputObj = null;\n        this.isDropDownClick = false;\n        this.preventAutoFill = false;\n        var scrollableParentElements = this.popupObj.getScrollableParent(this.inputWrapper.container);\n        for (var _i = 0, scrollableParentElements_1 = scrollableParentElements; _i < scrollableParentElements_1.length; _i++) {\n            var element = scrollableParentElements_1[_i];\n            EventHandler.remove(element, 'scroll', this.scrollHandler);\n        }\n        if (Browser.isDevice && this.isFilterLayout()) {\n            removeClass([document.body, this.popupObj.element], dropDownListClasses.popupFullScreen);\n            EventHandler.remove(this.list, 'scroll', this.listScroll);\n        }\n        if (this.isFilterLayout()) {\n            if (!Browser.isDevice) {\n                this.searchKeyModule.destroy();\n                if (this.clearIconElement) {\n                    EventHandler.remove(this.clearIconElement, 'click', this.clearText);\n                }\n            }\n            if (this.backIconElement) {\n                EventHandler.remove(this.backIconElement, 'click', this.clickOnBackIcon);\n                EventHandler.remove(this.clearIconElement, 'click', this.clearText);\n            }\n            EventHandler.remove(this.filterInput, 'input', this.onInput);\n            EventHandler.remove(this.filterInput, 'keyup', this.onFilterUp);\n            EventHandler.remove(this.filterInput, 'keydown', this.onFilterDown);\n            EventHandler.remove(this.filterInput, 'blur', this.onBlur);\n            this.filterInput = null;\n        }\n        attributes(this.targetElement(), { 'aria-expanded': 'false', 'aria-activedescendant': null });\n        this.inputWrapper.container.classList.remove(dropDownListClasses.iconAnimation);\n        if (this.isFiltering()) {\n            this.actionCompleteData.isUpdated = false;\n        }\n        this.beforePopupOpen = false;\n        var animModel = {\n            name: 'FadeOut',\n            duration: 100,\n            delay: delay ? delay : 0\n        };\n        var eventArgs = { popup: this.popupObj, cancel: false, animation: animModel };\n        this.trigger('close', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        if (this.getModuleName() === 'autocomplete') {\n            this.rippleFun();\n        }\n        if (this.isPopupOpen) {\n            this.popupObj.hide(new Animation(eventArgs.animation));\n        }\n        else {\n            this.destroyPopup();\n        }\n    };\n    DropDownList.prototype.destroyPopup = function () {\n        this.isPopupOpen = false;\n        this.isFilterFocus = false;\n        this.popupObj.destroy();\n        detach(this.popupObj.element);\n    };\n    DropDownList.prototype.clickOnBackIcon = function () {\n        this.hidePopup();\n        this.focusIn();\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    DropDownList.prototype.render = function () {\n        if (this.element.tagName === 'INPUT') {\n            this.inputElement = this.element;\n        }\n        else {\n            this.inputElement = this.createElement('input');\n            if (this.element.tagName !== this.getNgDirective()) {\n                this.element.style.display = 'none';\n            }\n            this.element.parentElement.insertBefore(this.inputElement, this.element);\n            this.preventTabIndex(this.inputElement);\n        }\n        this.inputWrapper = Input.createInput({\n            element: this.inputElement,\n            buttons: this.isPopupButton() ? [dropDownListClasses.icon] : null,\n            floatLabelType: this.floatLabelType,\n            properties: {\n                readonly: this.getModuleName() === 'dropdownlist' ? true : this.readonly,\n                placeholder: this.placeholder,\n                cssClass: this.cssClass,\n                enabled: this.enabled,\n                enableRtl: this.enableRtl,\n                showClearButton: this.showClearButton\n            },\n        }, this.createElement);\n        if (this.element.tagName === this.getNgDirective()) {\n            this.element.appendChild(this.inputWrapper.container);\n        }\n        else {\n            this.inputElement.parentElement.insertBefore(this.element, this.inputElement);\n        }\n        this.hiddenElement = this.createElement('select', {\n            attrs: { 'aria-hidden': 'true', 'tabindex': '-1', 'class': dropDownListClasses.hiddenElement }\n        });\n        prepend([this.hiddenElement], this.inputWrapper.container);\n        this.validationAttribute(this.element, this.hiddenElement);\n        this.setFields();\n        this.inputWrapper.container.style.width = formatUnit(this.width);\n        this.inputWrapper.container.classList.add('e-ddl');\n        this.wireEvent();\n        this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n        this.element.removeAttribute('tabindex');\n        var id = this.element.getAttribute('id') ? this.element.getAttribute('id') : getUniqueID('ej2_dropdownlist');\n        this.element.id = id;\n        this.hiddenElement.id = id + '_hidden';\n        this.targetElement().setAttribute('tabindex', this.tabIndex);\n        attributes(this.targetElement(), this.getAriaAttributes());\n        this.setHTMLAttributes();\n        if (this.value !== null || this.activeIndex !== null || this.text !== null) {\n            this.initValue();\n        }\n        else if (this.element.tagName === 'SELECT' && this.element.options[0]) {\n            var selectElement = this.element;\n            this.value = selectElement.options[selectElement.selectedIndex].value;\n            this.text = isNullOrUndefined(this.value) ? null : selectElement.options[selectElement.selectedIndex].textContent;\n            this.initValue();\n        }\n        this.preventTabIndex(this.element);\n        if (!this.enabled) {\n            this.targetElement().tabIndex = -1;\n        }\n        this.initial = false;\n        this.element.style.opacity = '';\n        this.inputElement.onselect = function (e) { e.stopImmediatePropagation(); };\n        this.inputElement.onchange = function (e) { e.stopImmediatePropagation(); };\n        if (this.element.hasAttribute('autofocus')) {\n            this.focusIn();\n        }\n    };\n    ;\n    DropDownList.prototype.setFooterTemplate = function (popupEle) {\n        var compiledString;\n        if (this.footer) {\n            this.footer.innerHTML = '';\n        }\n        else {\n            this.footer = this.createElement('div');\n            addClass([this.footer], dropDownListClasses.footer);\n        }\n        compiledString = compile(this.footerTemplate);\n        for (var _i = 0, _a = compiledString({}); _i < _a.length; _i++) {\n            var item = _a[_i];\n            this.footer.appendChild(item);\n        }\n        append([this.footer], popupEle);\n    };\n    DropDownList.prototype.setHeaderTemplate = function (popupEle) {\n        var compiledString;\n        if (this.header) {\n            this.header.innerHTML = '';\n        }\n        else {\n            this.header = this.createElement('div');\n            addClass([this.header], dropDownListClasses.header);\n        }\n        compiledString = compile(this.headerTemplate);\n        for (var _i = 0, _a = compiledString({}); _i < _a.length; _i++) {\n            var item = _a[_i];\n            this.header.appendChild(item);\n        }\n        var contentEle = popupEle.querySelector('div.e-content');\n        popupEle.insertBefore(this.header, contentEle);\n    };\n    DropDownList.prototype.setOldText = function (text) {\n        this.text = text;\n    };\n    DropDownList.prototype.setOldValue = function (value) {\n        this.value = value;\n    };\n    DropDownList.prototype.refreshPopup = function () {\n        if (!isNullOrUndefined(this.popupObj) && document.body.contains(this.popupObj.element) &&\n            ((this.allowFiltering && !(Browser.isDevice && this.isFilterLayout())) || this.getModuleName() === 'autocomplete')) {\n            this.popupObj.refreshPosition(this.inputWrapper.container);\n        }\n    };\n    DropDownList.prototype.updateDataSource = function (prop) {\n        this.clear(null, prop);\n        this.resetList(this.dataSource);\n        if (!this.isCustomFilter && !this.isFilterFocus && document.activeElement !== this.filterInput) {\n            this.itemData = this.getDataByValue(this.value);\n            var dataItem = this.getItemData();\n            this.setProperties({ 'value': dataItem.value, 'text': dataItem.text });\n        }\n    };\n    /**\n     * Dynamically change the value of properties.\n     * @private\n     */\n    DropDownList.prototype.onPropertyChanged = function (newProp, oldProp) {\n        this.setUpdateInitial(['query', 'dataSource'], newProp);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'query':\n                case 'dataSource':\n                    break;\n                case 'htmlAttributes':\n                    this.setHTMLAttributes();\n                    break;\n                case 'width':\n                    setStyleAttribute(this.inputWrapper.container, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this.inputElement);\n                    break;\n                case 'filterBarPlaceholder':\n                    if (this.filterInput) {\n                        Input.setPlaceholder(newProp.filterBarPlaceholder, this.filterInput);\n                    }\n                    break;\n                case 'readonly':\n                    if (this.getModuleName() !== 'dropdownlist') {\n                        Input.setReadonly(newProp.readonly, this.inputElement);\n                    }\n                    break;\n                case 'cssClass':\n                    this.setCssClass(newProp, oldProp);\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'enabled':\n                    this.setEnable();\n                    break;\n                case 'text':\n                    if (newProp.text === null) {\n                        this.clear();\n                        break;\n                    }\n                    if (!this.list) {\n                        if (this.dataSource instanceof DataManager) {\n                            this.initRemoteRender = true;\n                        }\n                        this.renderList();\n                    }\n                    if (!this.initRemoteRender) {\n                        var li = this.getElementByText(newProp.text);\n                        if (this.isValidLI(li)) {\n                            this.setSelection(li, null);\n                        }\n                        else {\n                            this.setOldText(oldProp.text);\n                        }\n                    }\n                    break;\n                case 'value':\n                    if (newProp.value === null) {\n                        this.clear();\n                        break;\n                    }\n                    this.notify('beforeValueChange', { newProp: newProp }); // gird component value type change\n                    if (!this.list) {\n                        if (this.dataSource instanceof DataManager) {\n                            this.initRemoteRender = true;\n                        }\n                        this.renderList();\n                    }\n                    if (!this.initRemoteRender) {\n                        var item = this.getElementByValue(newProp.value);\n                        if (this.isValidLI(item)) {\n                            this.setSelection(item, null);\n                        }\n                        else {\n                            this.setOldValue(oldProp.value);\n                        }\n                    }\n                    break;\n                case 'index':\n                    if (newProp.index === null) {\n                        this.clear();\n                        break;\n                    }\n                    if (!this.list) {\n                        if (this.dataSource instanceof DataManager) {\n                            this.initRemoteRender = true;\n                        }\n                        this.renderList();\n                    }\n                    if (!this.initRemoteRender) {\n                        var element = this.liCollections[newProp.index];\n                        if (this.isValidLI(element)) {\n                            this.setSelection(element, null);\n                        }\n                        else {\n                            this.index = oldProp.index;\n                        }\n                    }\n                    break;\n                case 'footerTemplate':\n                    if (this.popupObj) {\n                        this.setFooterTemplate(this.popupObj.element);\n                    }\n                    break;\n                case 'headerTemplate':\n                    if (this.popupObj) {\n                        this.setHeaderTemplate(this.popupObj.element);\n                    }\n                    break;\n                case 'valueTemplate':\n                    if (!isNullOrUndefined(this.itemData) && this.valueTemplate != null) {\n                        this.setValueTemplate();\n                    }\n                    break;\n                case 'floatLabelType':\n                    Input.removeFloating(this.inputWrapper);\n                    Input.addFloating(this.inputElement, newProp.floatLabelType, this.placeholder, this.createElement);\n                    break;\n                case 'showClearButton':\n                    Input.setClearButton(newProp.showClearButton, this.inputElement, this.inputWrapper, null, this.createElement);\n                    this.bindClearEvent();\n                    break;\n                default:\n                    var ddlProps = void 0;\n                    ddlProps = this.getPropObject(prop, newProp, oldProp);\n                    _super.prototype.onPropertyChanged.call(this, ddlProps.newProperty, ddlProps.oldProperty);\n                    break;\n            }\n        }\n    };\n    DropDownList.prototype.setCssClass = function (newProp, oldProp) {\n        this.inputWrapper.container.classList.remove(oldProp.cssClass);\n        Input.setCssClass(newProp.cssClass, [this.inputWrapper.container]);\n        if (this.popupObj) {\n            this.popupObj.element.classList.remove(oldProp.cssClass);\n            this.popupObj.element.classList.add(newProp.cssClass);\n        }\n    };\n    /**\n     * Return the module name.\n     * @private\n     */\n    DropDownList.prototype.getModuleName = function () {\n        return 'dropdownlist';\n    };\n    /**\n     * Opens the popup that displays the list of items.\n     * @returns void.\n     */\n    DropDownList.prototype.showPopup = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.beforePopupOpen) {\n            this.refreshPopup();\n            return;\n        }\n        this.beforePopupOpen = true;\n        if (this.isFiltering() && !this.isActive && this.actionCompleteData.list && this.actionCompleteData.list[0]) {\n            this.isActive = true;\n            this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list, null, true);\n        }\n        else if (isNullOrUndefined(this.list) || !isUndefined(this.list) && this.list.classList.contains(dropDownBaseClasses.noData)) {\n            this.renderList();\n        }\n        if (Browser.isDevice && this.isFilterLayout()) {\n            var proxy_2 = this;\n            window.onpopstate = function () {\n                proxy_2.hidePopup();\n            };\n            history.pushState({}, '');\n        }\n        if (!isNullOrUndefined(this.list.children[0]) || this.list.classList.contains(dropDownBaseClasses.noData)) {\n            this.renderPopup();\n        }\n        attributes(this.targetElement(), { 'aria-activedescendant': this.selectedLI ? this.selectedLI.id : null });\n    };\n    /**\n     * Hides the popup if it is in an open state.\n     * @returns void.\n     */\n    DropDownList.prototype.hidePopup = function () {\n        if (this.isEscapeKey && this.getModuleName() === 'dropdownlist') {\n            Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.isEscapeKey = false;\n            if (!isNullOrUndefined(this.index)) {\n                this.selectedLI = this.liCollections[this.index];\n                this.updateSelectedItem(this.selectedLI, null, true);\n                if (this.valueTemplate && this.itemData !== null) {\n                    this.setValueTemplate();\n                }\n            }\n            else {\n                this.resetSelection();\n            }\n        }\n        this.closePopup();\n        var dataItem = this.getItemData();\n        if (this.inputElement.value.trim() === '' && !this.isInteracted && (this.isSelectCustom ||\n            !isNullOrUndefined(this.selectedLI) && this.inputElement.value !== dataItem.text)) {\n            this.isSelectCustom = false;\n            this.clear();\n        }\n    };\n    /**\n     * Sets the focus on the component for interaction.\n     * @returns void.\n     */\n    DropDownList.prototype.focusIn = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.targetElement().classList.contains(dropDownListClasses.disable)) {\n            return;\n        }\n        var isFocused = false;\n        if (this.preventFocus && Browser.isDevice) {\n            this.inputWrapper.container.tabIndex = 1;\n            this.inputWrapper.container.focus();\n            this.preventFocus = false;\n            isFocused = true;\n        }\n        if (!isFocused) {\n            this.targetElement().focus();\n        }\n        addClass([this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n        this.onFocus();\n    };\n    /**\n     * Moves the focus from the component if the component is already focused.\n     * @returns void.\n     */\n    DropDownList.prototype.focusOut = function () {\n        if (!this.enabled) {\n            return;\n        }\n        this.isTyped = true;\n        this.hidePopup();\n        this.targetElement().blur();\n        removeClass([this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n     * @method destroy\n     * @return {void}.\n     */\n    DropDownList.prototype.destroy = function () {\n        var _this = this;\n        this.isActive = false;\n        this.hidePopup();\n        this.unWireEvent();\n        if (this.list) {\n            this.unWireListEvents();\n        }\n        if (this.element && !this.element.classList.contains('e-' + this.getModuleName())) {\n            return;\n        }\n        var attrArray = ['readonly', 'aria-disabled', 'aria-placeholder',\n            'placeholder', 'aria-owns', 'aria-labelledby', 'aria-haspopup', 'aria-expanded',\n            'aria-activedescendant', 'autocomplete', 'aria-readonly', 'autocorrect',\n            'autocapitalize', 'spellcheck', 'aria-autocomplete'];\n        attrArray.forEach(function (value) {\n            _this.inputElement.removeAttribute(value);\n        });\n        this.inputElement.setAttribute('tabindex', this.tabIndex);\n        this.inputElement.classList.remove('e-input');\n        Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n        this.element.style.display = 'block';\n        if (this.inputWrapper.container.parentElement.tagName === this.getNgDirective()) {\n            detach(this.inputWrapper.container);\n        }\n        else {\n            this.inputWrapper.container.parentElement.insertBefore(this.element, this.inputWrapper.container);\n            detach(this.inputWrapper.container);\n        }\n        _super.prototype.destroy.call(this);\n    };\n    ;\n    /**\n     * Gets all the list items bound on this component.\n     * @returns Element[].\n     */\n    DropDownList.prototype.getItems = function () {\n        if (!this.list) {\n            if (this.dataSource instanceof DataManager) {\n                this.initRemoteRender = true;\n            }\n            this.renderList();\n        }\n        return this.ulElement ? _super.prototype.getItems.call(this) : null;\n    };\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('100%')\n    ], DropDownList.prototype, \"width\", void 0);\n    __decorate([\n        Property('300px')\n    ], DropDownList.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], DropDownList.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property({})\n    ], DropDownList.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"query\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"valueTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"index\", void 0);\n    __decorate([\n        Property('Never')\n    ], DropDownList.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"filtering\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"blur\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"focus\", void 0);\n    DropDownList = __decorate([\n        NotifyPropertyChanges\n    ], DropDownList);\n    return DropDownList;\n}(DropDownBase));\nexport { DropDownList };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/// <reference path='../drop-down-list/drop-down-list-model.d.ts'/>\nimport { EventHandler, Property, Event, addClass, Browser, removeClass, detach } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, NotifyPropertyChanges, getValue, setValue } from '@syncfusion/ej2-base';\nimport { DropDownList, dropDownListClasses } from '../drop-down-list/drop-down-list';\nimport { Search } from '../common/incremental-search';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\n/* tslint:disable */\nimport { Input } from '@syncfusion/ej2-inputs';\n/* tslint:enable */\nvar SPINNER_CLASS = 'e-atc-spinner-icon';\ndropDownListClasses.root = 'e-combobox';\nvar inputObject = {\n    container: null,\n    buttons: []\n};\n/**\n * The ComboBox component allows the user to type a value or choose an option from the list of predefined options.\n * ```html\n * <select id=\"list\">\n *      <option value='1'>Badminton</option>\n *      <option value='2'>Basketball</option>\n *      <option value='3'>Cricket</option>\n *      <option value='4'>Football</option>\n *      <option value='5'>Tennis</option>\n * </select>\n * ```\n * ```typescript\n *   let games:ComboBox = new ComboBox();\n *   games.appendTo(\"#list\");\n * ```\n */\nvar ComboBox = /** @class */ (function (_super) {\n    __extends(ComboBox, _super);\n    /**\n     * *Constructor for creating the component\n     */\n    function ComboBox(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    ;\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    ComboBox.prototype.preRender = function () {\n        _super.prototype.preRender.call(this);\n    };\n    ComboBox.prototype.wireEvent = function () {\n        if (this.getModuleName() === 'combobox') {\n            EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.preventBlur, this);\n            EventHandler.add(this.inputWrapper.container, 'blur', this.onBlur, this);\n        }\n        if (!isNullOrUndefined(this.inputWrapper.buttons[0])) {\n            EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.dropDownClick, this);\n        }\n        EventHandler.add(this.inputElement, 'focus', this.targetFocus, this);\n        if (!this.readonly) {\n            EventHandler.add(this.inputElement, 'input', this.onInput, this);\n            EventHandler.add(this.inputElement, 'keyup', this.onFilterUp, this);\n            EventHandler.add(this.inputElement, 'keydown', this.onFilterDown, this);\n        }\n        this.bindCommonEvent();\n    };\n    ComboBox.prototype.preventBlur = function (e) {\n        if ((!this.allowFiltering && document.activeElement !== this.inputElement &&\n            !document.activeElement.classList.contains(dropDownListClasses.input) && Browser.isDevice || !Browser.isDevice)) {\n            e.preventDefault();\n        }\n    };\n    ComboBox.prototype.targetElement = function () {\n        return this.inputElement;\n    };\n    ComboBox.prototype.setOldText = function (text) {\n        Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n        this.customValue();\n        this.removeSelection();\n    };\n    ComboBox.prototype.setOldValue = function (value) {\n        if (this.allowCustom) {\n            this.valueMuteChange(this.value);\n        }\n        else {\n            this.valueMuteChange(null);\n        }\n        this.removeSelection();\n        this.setHiddenValue();\n    };\n    ComboBox.prototype.valueMuteChange = function (value) {\n        var inputValue = isNullOrUndefined(value) ? null : value.toString();\n        Input.setValue(inputValue, this.inputElement, this.floatLabelType, this.showClearButton);\n        this.setProperties({ value: value, text: value, index: null }, true);\n        this.activeIndex = this.index;\n        var fields = this.fields;\n        var dataItem = {};\n        dataItem[fields.text] = isNullOrUndefined(value) ? null : value.toString();\n        dataItem[fields.value] = isNullOrUndefined(value) ? null : value.toString();\n        this.itemData = dataItem;\n        this.item = null;\n        if (this.previousValue !== this.value) {\n            this.detachChangeEvent(null);\n        }\n    };\n    ComboBox.prototype.updateValues = function () {\n        if (!isNullOrUndefined(this.value)) {\n            var li = this.getElementByValue(this.value);\n            if (li) {\n                this.setSelection(li, null);\n            }\n            else if (this.allowCustom) {\n                this.valueMuteChange(this.value);\n            }\n            else {\n                this.valueMuteChange(null);\n            }\n        }\n        else if (this.text && isNullOrUndefined(this.value)) {\n            var li = this.getElementByText(this.text);\n            if (li) {\n                this.setSelection(li, null);\n            }\n            else {\n                Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n                this.customValue();\n            }\n        }\n        else {\n            this.setSelection(this.liCollections[this.activeIndex], null);\n        }\n        this.setHiddenValue();\n        Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n    };\n    ComboBox.prototype.getAriaAttributes = function () {\n        var ariaAttributes = {\n            'aria-owns': this.element.id + '_options',\n            'role': 'combobox',\n            'aria-autocomplete': 'both',\n            'aria-labelledby': this.hiddenElement.id,\n            'aria-hasPopup': 'true',\n            'aria-expanded': 'false',\n            'aria-readonly': this.readonly.toString(),\n            'autocomplete': 'off',\n            'autocorrect': 'off',\n            'autocapitalize': 'off',\n            'spellcheck': 'false'\n        };\n        return ariaAttributes;\n    };\n    ComboBox.prototype.searchLists = function (e) {\n        this.isTyped = true;\n        if (this.isFiltering()) {\n            _super.prototype.searchLists.call(this, e);\n            if (this.filterInput.value.trim() === '') {\n                this.setHoverList(this.ulElement.querySelector('.' + dropDownListClasses.li));\n            }\n        }\n        else {\n            if (this.ulElement && this.inputElement.value === '' && this.preventAutoFill) {\n                this.setHoverList(this.ulElement.querySelector('.' + dropDownListClasses.li));\n            }\n            this.incrementalSearch(e);\n        }\n    };\n    ComboBox.prototype.getNgDirective = function () {\n        return 'EJS-COMBOBOX';\n    };\n    ComboBox.prototype.setSearchBox = function () {\n        this.filterInput = this.inputElement;\n        return (this.isFiltering() ? this.inputWrapper : inputObject);\n    };\n    ComboBox.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        if (this.isSelectCustom) {\n            this.removeSelection();\n        }\n        if (!this.preventAutoFill && this.getModuleName() === 'combobox' && this.isTyped) {\n            this.inlineSearch();\n        }\n    };\n    ComboBox.prototype.getFocusElement = function () {\n        var dataItem = this.isSelectCustom ? { text: '' } : this.getItemData();\n        var selected = this.list.querySelector('.' + dropDownListClasses.selected);\n        var isSelected = dataItem.text === this.inputElement.value && !isNullOrUndefined(selected);\n        if (isSelected) {\n            return selected;\n        }\n        if ((Browser.isDevice && !this.isDropDownClick || !Browser.isDevice) &&\n            !isNullOrUndefined(this.liCollections) && this.liCollections.length > 0) {\n            var inputValue = this.inputElement.value;\n            var activeItem = Search(inputValue, this.liCollections, 'StartsWith', true);\n            var activeElement = activeItem.item;\n            if (!isNullOrUndefined(activeElement)) {\n                var count = this.getIndexByValue(activeElement.getAttribute('data-value')) - 1;\n                var height = parseInt(getComputedStyle(this.liCollections[0], null).getPropertyValue('height'), 10);\n                if (!isNaN(height) && this.getModuleName() !== 'autocomplete') {\n                    this.removeFocus();\n                    var fixedHead = this.fields.groupBy ? this.liCollections[0].offsetHeight : 0;\n                    this.list.scrollTop = count * height + fixedHead;\n                    addClass([activeElement], dropDownListClasses.focus);\n                }\n            }\n            else {\n                if (this.isSelectCustom && this.inputElement.value.trim() !== '') {\n                    this.removeFocus();\n                    this.list.scrollTop = 0;\n                }\n            }\n            return activeElement;\n        }\n        else {\n            return null;\n        }\n    };\n    ComboBox.prototype.setValue = function (e) {\n        if (e && e.type === 'keydown' && e.action === 'enter') {\n            this.removeFillSelection();\n        }\n        if (this.autofill && this.getModuleName() === 'combobox' && e && e.type === 'keydown' && e.action !== 'enter') {\n            this.preventAutoFill = false;\n            this.inlineSearch(e);\n            return false;\n        }\n        else {\n            return _super.prototype.setValue.call(this, e);\n        }\n    };\n    /**\n     * Shows the spinner loader.\n     * @returns void.\n     */\n    ComboBox.prototype.showSpinner = function () {\n        if (isNullOrUndefined(this.spinnerElement)) {\n            this.spinnerElement = (this.getModuleName() === 'autocomplete') ? (this.inputWrapper.buttons[0] ||\n                this.inputWrapper.clearButton ||\n                Input.appendSpan('e-input-group-icon ' + SPINNER_CLASS, this.inputWrapper.container, this.createElement)) :\n                (this.inputWrapper.buttons[0] || this.inputWrapper.clearButton);\n            addClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            createSpinner({\n                target: this.spinnerElement,\n                width: Browser.isDevice ? '16px' : '14px'\n            }, this.createElement);\n            showSpinner(this.spinnerElement);\n        }\n    };\n    /**\n     * Hides the spinner loader.\n     * @returns void.\n     */\n    ComboBox.prototype.hideSpinner = function () {\n        if (!isNullOrUndefined(this.spinnerElement)) {\n            hideSpinner(this.spinnerElement);\n            removeClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            if (this.spinnerElement.classList.contains(SPINNER_CLASS)) {\n                detach(this.spinnerElement);\n            }\n            else {\n                this.spinnerElement.innerHTML = '';\n            }\n            this.spinnerElement = null;\n        }\n    };\n    ComboBox.prototype.setAutoFill = function (activeElement, isHover) {\n        if (!isHover) {\n            this.setHoverList(activeElement);\n        }\n        if (this.autofill && !this.preventAutoFill) {\n            var currentValue = this.getTextByValue(activeElement.getAttribute('data-value')).toString();\n            var currentFillValue = this.getFormattedValue(activeElement.getAttribute('data-value'));\n            if (this.getModuleName() === 'combobox') {\n                if (!this.isSelected && this.previousValue !== currentFillValue) {\n                    this.updateSelectedItem(activeElement, null);\n                    this.isSelected = true;\n                    this.previousValue = this.getFormattedValue(activeElement.getAttribute('data-value'));\n                }\n                else {\n                    this.updateSelectedItem(activeElement, null, true);\n                }\n            }\n            if (!this.isAndroidAutoFill(currentValue)) {\n                this.setAutoFillSelection(currentValue);\n            }\n        }\n    };\n    ComboBox.prototype.isAndroidAutoFill = function (value) {\n        if (Browser.isAndroid) {\n            var currentPoints = this.getSelectionPoints();\n            var prevEnd = this.prevSelectPoints.end;\n            var curEnd = currentPoints.end;\n            var prevStart = this.prevSelectPoints.start;\n            var curStart = currentPoints.start;\n            if (prevEnd !== 0 && ((prevEnd === value.length && prevStart === value.length) ||\n                (prevStart > curStart && prevEnd > curEnd) || (prevEnd === curEnd && prevStart === curStart))) {\n                return true;\n            }\n            else {\n                return false;\n            }\n        }\n        else {\n            return false;\n        }\n    };\n    ComboBox.prototype.clear = function (e, property) {\n        if (isNullOrUndefined(property) || property !== 'dataSource') {\n            _super.prototype.clear.call(this, e);\n        }\n    };\n    ComboBox.prototype.isSelectFocusItem = function (element) {\n        return !isNullOrUndefined(element);\n    };\n    ComboBox.prototype.inlineSearch = function (e) {\n        var isKeyNavigate = (e && (e.action === 'down' || e.action === 'up' ||\n            e.action === 'home' || e.action === 'end' || e.action === 'pageUp' || e.action === 'pageDown'));\n        var activeElement = isKeyNavigate ? this.liCollections[this.activeIndex] : this.getFocusElement();\n        if (!isNullOrUndefined(activeElement)) {\n            if (!isKeyNavigate) {\n                var value = this.getFormattedValue(activeElement.getAttribute('data-value'));\n                this.activeIndex = this.getIndexByValue(value);\n                this.activeIndex = !isNullOrUndefined(this.activeIndex) ? this.activeIndex : null;\n            }\n            this.preventAutoFill = this.inputElement.value === '' ? false : this.preventAutoFill;\n            this.setAutoFill(activeElement, isKeyNavigate);\n        }\n        else if (this.inputElement.value === '') {\n            this.activeIndex = null;\n            this.list.scrollTop = 0;\n            var focusItem = this.list.querySelector('.' + dropDownListClasses.li);\n            this.setHoverList(focusItem);\n        }\n        else {\n            this.activeIndex = null;\n            this.removeSelection();\n            this.removeFocus();\n        }\n    };\n    ComboBox.prototype.incrementalSearch = function (e) {\n        this.showPopup();\n        if (!isNullOrUndefined(this.listData)) {\n            this.inlineSearch(e);\n            e.preventDefault();\n        }\n    };\n    ;\n    ComboBox.prototype.setAutoFillSelection = function (currentValue) {\n        var selection = this.getSelectionPoints();\n        var value = this.inputElement.value.substr(0, selection.start);\n        if (value && (value.toLowerCase() === currentValue.substr(0, selection.start).toLowerCase())) {\n            var inputValue = value + currentValue.substr(value.length, currentValue.length);\n            Input.setValue(inputValue, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.inputElement.setSelectionRange(selection.start, this.inputElement.value.length);\n        }\n        else {\n            Input.setValue(currentValue, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.inputElement.setSelectionRange(0, this.inputElement.value.length);\n        }\n    };\n    ;\n    ComboBox.prototype.getValueByText = function (text) {\n        return _super.prototype.getValueByText.call(this, text, true, this.ignoreAccent);\n    };\n    ComboBox.prototype.unWireEvent = function () {\n        if (this.getModuleName() === 'combobox') {\n            EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.preventBlur);\n            EventHandler.remove(this.inputWrapper.container, 'blur', this.onBlur);\n        }\n        if (!isNullOrUndefined(this.inputWrapper.buttons[0])) {\n            EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.dropDownClick);\n        }\n        EventHandler.remove(this.inputElement, 'focus', this.targetFocus);\n        if (!this.readonly) {\n            EventHandler.remove(this.inputElement, 'input', this.onInput);\n            EventHandler.remove(this.inputElement, 'keyup', this.onFilterUp);\n            EventHandler.remove(this.inputElement, 'keydown', this.onFilterDown);\n        }\n        this.unBindCommonEvent();\n    };\n    ComboBox.prototype.setSelection = function (li, e) {\n        _super.prototype.setSelection.call(this, li, e);\n        if (!isNullOrUndefined(li) && !this.autofill && !this.isDropDownClick) {\n            this.removeFocus();\n        }\n    };\n    ComboBox.prototype.selectCurrentItem = function (e) {\n        var li;\n        if (this.isPopupOpen) {\n            li = this.list.querySelector('.' + dropDownListClasses.focus);\n            if (li) {\n                this.setSelection(li, e);\n                this.isTyped = false;\n            }\n            if (this.isSelected) {\n                this.isSelectCustom = false;\n                this.onChangeEvent(e);\n            }\n        }\n        if (e.action === 'enter' && this.inputElement.value.trim() === '') {\n            this.clear(e);\n        }\n        else if (this.isTyped && !this.isSelected && isNullOrUndefined(li)) {\n            this.customValue();\n        }\n        this.hidePopup();\n    };\n    ComboBox.prototype.setHoverList = function (li) {\n        this.removeSelection();\n        if (this.isValidLI(li) && !li.classList.contains(dropDownListClasses.selected)) {\n            this.removeFocus();\n            li.classList.add(dropDownListClasses.focus);\n        }\n    };\n    ;\n    ComboBox.prototype.targetFocus = function (e) {\n        if (Browser.isDevice && !this.allowFiltering) {\n            this.preventFocus = false;\n        }\n        this.onFocus();\n    };\n    ComboBox.prototype.dropDownClick = function (e) {\n        e.preventDefault();\n        if (Browser.isDevice && !this.allowFiltering) {\n            this.preventFocus = true;\n        }\n        _super.prototype.dropDownClick.call(this, e);\n    };\n    ComboBox.prototype.customValue = function () {\n        var value = this.getValueByText(this.inputElement.value);\n        if (!this.allowCustom && this.inputElement.value !== '') {\n            this.setProperties({ value: value });\n            if (isNullOrUndefined(this.value)) {\n                Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n            }\n        }\n        else if (this.inputElement.value.trim() !== '') {\n            var previousValue = this.value;\n            if (isNullOrUndefined(value)) {\n                var value_1 = this.inputElement.value === '' ? null : this.inputElement.value;\n                var fields = this.fields;\n                var eventArgs = void 0;\n                eventArgs = { text: value_1, item: {} };\n                if (!this.initial) {\n                    this.trigger('customValueSpecifier', eventArgs);\n                }\n                var item = eventArgs.item;\n                var dataItem = {};\n                if (item && getValue(fields.text, item) && getValue(fields.value, item)) {\n                    dataItem = item;\n                }\n                else {\n                    setValue(fields.text, value_1, dataItem);\n                    setValue(fields.value, value_1, dataItem);\n                }\n                this.itemData = dataItem;\n                var changeData = {\n                    text: getValue(fields.text, this.itemData),\n                    value: getValue(fields.value, this.itemData),\n                    index: null\n                };\n                this.setProperties(changeData, true);\n                this.setSelection(null, null);\n                this.isSelectCustom = true;\n            }\n            else {\n                this.isSelectCustom = false;\n                this.setProperties({ value: value });\n            }\n            if (previousValue !== this.value) {\n                this.onChangeEvent(null);\n            }\n        }\n        else if (this.allowCustom) {\n            this.isSelectCustom = true;\n        }\n    };\n    /**\n     * Dynamically change the value of properties.\n     * @private\n     */\n    ComboBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        this.setUpdateInitial(['query', 'dataSource'], newProp);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.inputElement);\n                    if (this.readonly) {\n                        EventHandler.remove(this.inputElement, 'keyup', this.onFilterUp);\n                        EventHandler.remove(this.inputElement, 'keydown', this.onFilterDown);\n                    }\n                    else {\n                        EventHandler.add(this.inputElement, 'keyup', this.onFilterUp, this);\n                        EventHandler.add(this.inputElement, 'keydown', this.onFilterDown, this);\n                    }\n                    break;\n                case 'allowFiltering':\n                    this.setSearchBox();\n                    if (this.isFiltering() && this.getModuleName() === 'combobox' && isNullOrUndefined(this.list)) {\n                        _super.prototype.renderList.call(this);\n                    }\n                    break;\n                case 'allowCustom':\n                    break;\n                default:\n                    var comboProps = void 0;\n                    comboProps = this.getPropObject(prop, newProp, oldProp);\n                    _super.prototype.onPropertyChanged.call(this, comboProps.newProperty, comboProps.oldProperty);\n                    break;\n            }\n        }\n    };\n    /**\n     * To initialize the control rendering.\n     * @private\n     */\n    ComboBox.prototype.render = function () {\n        _super.prototype.render.call(this);\n        this.setSearchBox();\n        if (this.isFiltering() && this.getModuleName() === 'combobox' && isNullOrUndefined(this.list)) {\n            _super.prototype.renderList.call(this);\n        }\n    };\n    ;\n    /**\n     * Return the module name of this component.\n     * @private\n     */\n    ComboBox.prototype.getModuleName = function () {\n        return 'combobox';\n    };\n    /**\n     * Hides the popup if it is in open state.\n     * @returns void.\n     */\n    ComboBox.prototype.hidePopup = function () {\n        var inputValue = this.inputElement.value === '' ? null : this.inputElement.value;\n        if (!isNullOrUndefined(this.listData)) {\n            var isEscape = this.isEscapeKey;\n            if (this.isEscapeKey) {\n                Input.setValue(this.typedString, this.inputElement, this.floatLabelType, this.showClearButton);\n                this.isEscapeKey = false;\n            }\n            if (this.autofill) {\n                this.removeFillSelection();\n            }\n            var dataItem = this.isSelectCustom ? { text: '' } : this.getItemData();\n            var selected = this.list.querySelector('.' + dropDownListClasses.selected);\n            if (dataItem.text === this.inputElement.value && !isNullOrUndefined(selected)) {\n                if (this.isSelected) {\n                    this.onChangeEvent(null);\n                    this.isSelectCustom = false;\n                }\n                _super.prototype.hidePopup.call(this);\n                return;\n            }\n            if (this.getModuleName() === 'combobox' && this.inputElement.value.trim() !== '') {\n                var searchItem = Search(this.inputElement.value, this.liCollections, 'Equal', true);\n                this.selectedLI = searchItem.item;\n                if (isNullOrUndefined(searchItem.index)) {\n                    searchItem.index = Search(this.inputElement.value, this.liCollections, 'StartsWith', true).index;\n                }\n                this.activeIndex = searchItem.index;\n                if (!isNullOrUndefined(this.selectedLI)) {\n                    this.updateSelectedItem(this.selectedLI, null, true);\n                }\n                else if (isEscape) {\n                    this.isSelectCustom = true;\n                    this.removeSelection();\n                }\n            }\n            if (!this.isEscapeKey && this.isTyped && !this.isInteracted) {\n                this.customValue();\n            }\n        }\n        if (isNullOrUndefined(this.listData) && this.allowCustom && !isNullOrUndefined(inputValue) && inputValue !== this.value) {\n            this.customValue();\n        }\n        _super.prototype.hidePopup.call(this);\n    };\n    /**\n     * Sets the focus to the component for interaction.\n     * @returns void.\n     */\n    ComboBox.prototype.focusIn = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (Browser.isDevice && !this.allowFiltering) {\n            this.preventFocus = true;\n        }\n        _super.prototype.focusIn.call(this);\n    };\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"autofill\", void 0);\n    __decorate([\n        Property(true)\n    ], ComboBox.prototype, \"allowCustom\", void 0);\n    __decorate([\n        Property({})\n    ], ComboBox.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"query\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"index\", void 0);\n    __decorate([\n        Property(true)\n    ], ComboBox.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Event()\n    ], ComboBox.prototype, \"customValueSpecifier\", void 0);\n    __decorate([\n        Event()\n    ], ComboBox.prototype, \"filtering\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"valueTemplate\", void 0);\n    __decorate([\n        Property('Never')\n    ], ComboBox.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"filterBarPlaceholder\", void 0);\n    ComboBox = __decorate([\n        NotifyPropertyChanges\n    ], ComboBox);\n    return ComboBox;\n}(DropDownList));\nexport { ComboBox };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/// <reference path='../combo-box/combo-box-model.d.ts'/>\nimport { Property, EventHandler, isNullOrUndefined, detach } from '@syncfusion/ej2-base';\nimport { Event, Complex } from '@syncfusion/ej2-base';\nimport { removeClass, attributes, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { dropDownListClasses } from '../drop-down-list/drop-down-list';\nimport { ComboBox } from '../combo-box/combo-box';\nimport { highlightSearch } from '../common/highlight-search';\nimport { Search } from '../common/incremental-search';\nimport { FieldSettings } from '../drop-down-base/drop-down-base';\n/* tslint:disable */\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\n/* tslint:enable */\ndropDownListClasses.root = 'e-autocomplete';\ndropDownListClasses.icon = 'e-input-group-icon e-ddl-icon e-search-icon';\n/**\n * The AutoComplete component provides the matched suggestion list when type into the input,\n * from which the user can select one.\n * ```html\n * <input id=\"list\" type=\"text\"/>\n * ```\n * ```typescript\n *   let atcObj:AutoComplete = new AutoComplete();\n *   atcObj.appendTo(\"#list\");\n * ```\n */\nvar AutoComplete = /** @class */ (function (_super) {\n    __extends(AutoComplete, _super);\n    /**\n     * * Constructor for creating the widget\n     */\n    function AutoComplete(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isFiltered = false;\n        return _this;\n    }\n    ;\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    AutoComplete.prototype.preRender = function () {\n        _super.prototype.preRender.call(this);\n    };\n    AutoComplete.prototype.getNgDirective = function () {\n        return 'EJS-AUTOCOMPLETE';\n    };\n    AutoComplete.prototype.getQuery = function (query) {\n        var filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n        var filterType = (this.queryString === '' && !isNullOrUndefined(this.value)) ? 'equal' : this.filterType;\n        var queryString = (this.queryString === '' && !isNullOrUndefined(this.value)) ? this.value : this.queryString;\n        if (this.isFiltered) {\n            return filterQuery;\n        }\n        if (this.queryString !== null) {\n            var dataType = this.typeOfData(this.dataSource).typeof;\n            if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                filterQuery.where('', filterType, queryString, this.ignoreCase, this.ignoreAccent);\n            }\n            else {\n                var mapping = !isNullOrUndefined(this.fields.value) ? this.fields.value : '';\n                filterQuery.where(mapping, filterType, queryString, this.ignoreCase, this.ignoreAccent);\n            }\n        }\n        if (!isNullOrUndefined(this.suggestionCount)) {\n            filterQuery.take(this.suggestionCount);\n        }\n        return filterQuery;\n    };\n    AutoComplete.prototype.searchLists = function (e) {\n        var _this = this;\n        this.isTyped = true;\n        this.isSelectCustom = false;\n        if (isNullOrUndefined(this.list)) {\n            _super.prototype.renderList.call(this, true);\n        }\n        var isDownUpKey = e.keyCode === 40 || e.keyCode === 38;\n        this.queryString = this.filterInput.value;\n        if (isDownUpKey) {\n            this.queryString = this.queryString === '' ? null : this.queryString;\n            this.beforePopupOpen = true;\n            this.resetList(this.dataSource, this.fields);\n            return;\n        }\n        this.isSelected = false;\n        this.activeIndex = null;\n        var eventArgs = {\n            preventDefaultAction: false,\n            text: this.filterInput.value,\n            updateData: function (dataSource, query, fields) {\n                if (eventArgs.cancel) {\n                    return;\n                }\n                _this.isFiltered = true;\n                _this.filterAction(dataSource, query, fields);\n            },\n            cancel: false\n        };\n        this.trigger('filtering', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        if (!this.isFiltered && !eventArgs.preventDefaultAction) {\n            this.filterAction(this.dataSource, null, this.fields);\n        }\n    };\n    AutoComplete.prototype.filterAction = function (dataSource, query, fields) {\n        this.beforePopupOpen = true;\n        if (this.queryString !== '' && (this.queryString.length >= this.minLength || this.isFiltered)) {\n            this.resetList(dataSource, fields, query);\n        }\n        else {\n            this.hidePopup();\n        }\n    };\n    AutoComplete.prototype.clear = function (e, property) {\n        if (isNullOrUndefined(property) || property !== 'dataSource') {\n            _super.prototype.clear.call(this, e);\n        }\n        if (this.beforePopupOpen) {\n            this.hidePopup();\n        }\n    };\n    AutoComplete.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        this.fixedHeaderElement = null;\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        var item = this.list.querySelector('.' + dropDownListClasses.li);\n        if (!isNullOrUndefined(item)) {\n            removeClass([item], dropDownListClasses.focus);\n        }\n        this.postBackAction();\n    };\n    AutoComplete.prototype.postBackAction = function () {\n        if (this.autofill && !isNullOrUndefined(this.liCollections[0])) {\n            var items = [this.liCollections[0]];\n            var searchItem = Search(this.inputElement.value, items, 'StartsWith', this.ignoreCase);\n            if (!isNullOrUndefined(searchItem.item)) {\n                _super.prototype.setAutoFill.call(this, this.liCollections[0], true);\n            }\n        }\n    };\n    AutoComplete.prototype.setSelection = function (li, e) {\n        if (!this.isValidLI(li)) {\n            return;\n        }\n        if (!isNullOrUndefined(e) && e.type === 'keydown' && e.action !== 'enter' && this.isValidLI(li)) {\n            var value = this.getFormattedValue(li.getAttribute('data-value'));\n            this.activeIndex = this.getIndexByValue(value);\n            this.setHoverList(li);\n            this.selectedLI = li;\n            this.setScrollPosition(e);\n            if (this.autofill) {\n                this.preventAutoFill = false;\n                _super.prototype.setAutoFill.call(this, li);\n            }\n            attributes(this.inputElement, { 'aria-activedescendant': this.selectedLI ? this.selectedLI.id : null });\n        }\n        else {\n            _super.prototype.setSelection.call(this, li, e);\n        }\n    };\n    AutoComplete.prototype.listOption = function (dataSource, fieldsSettings) {\n        var _this = this;\n        var fields = _super.prototype.listOption.call(this, dataSource, fieldsSettings);\n        if (isNullOrUndefined(fields.itemCreated)) {\n            fields.itemCreated = function (e) {\n                if (_this.highlight) {\n                    highlightSearch(e.item, _this.queryString, _this.ignoreCase, _this.filterType);\n                }\n            };\n        }\n        else {\n            var itemCreated_1 = fields.itemCreated;\n            fields.itemCreated = function (e) {\n                if (_this.highlight) {\n                    highlightSearch(e.item, _this.queryString, _this.ignoreCase, _this.filterType);\n                }\n                itemCreated_1.apply(_this, [e]);\n            };\n        }\n        return fields;\n    };\n    ;\n    AutoComplete.prototype.isFiltering = function () {\n        return true;\n    };\n    AutoComplete.prototype.renderPopup = function () {\n        this.list.scrollTop = 0;\n        _super.prototype.renderPopup.call(this);\n    };\n    AutoComplete.prototype.isEditTextBox = function () {\n        return true && this.inputElement.value.trim() !== '';\n    };\n    AutoComplete.prototype.isPopupButton = function () {\n        return this.showPopupButton;\n    };\n    AutoComplete.prototype.isSelectFocusItem = function (element) {\n        return false;\n    };\n    /**\n     * Search the entered text and show it in the suggestion list if available.\n     * @returns void.\n     */\n    AutoComplete.prototype.showPopup = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.beforePopupOpen) {\n            this.refreshPopup();\n            return;\n        }\n        this.beforePopupOpen = true;\n        this.preventAutoFill = true;\n        if (isNullOrUndefined(this.list)) {\n            this.renderList();\n        }\n        else {\n            this.resetList(this.dataSource, this.fields);\n        }\n    };\n    /**\n     * Hides the popup if it is in open state.\n     * @returns void.\n     */\n    AutoComplete.prototype.hidePopup = function () {\n        _super.prototype.hidePopup.call(this);\n        this.activeIndex = -1;\n    };\n    /**\n     * Dynamically change the value of properties.\n     * @private\n     */\n    AutoComplete.prototype.onPropertyChanged = function (newProp, oldProp) {\n        this.setUpdateInitial(['query', 'dataSource'], newProp);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'showPopupButton':\n                    if (this.showPopupButton) {\n                        var button = Input.appendSpan(dropDownListClasses.icon, this.inputWrapper.container, this.createElement);\n                        this.inputWrapper.buttons[0] = button;\n                        EventHandler.add(this.inputWrapper.buttons[0], 'click', this.dropDownClick, this);\n                    }\n                    else {\n                        detach(this.inputWrapper.buttons[0]);\n                        this.inputWrapper.buttons[0] = null;\n                    }\n                    break;\n                default:\n                    var atcProps = void 0;\n                    atcProps = this.getPropObject(prop, newProp, oldProp);\n                    _super.prototype.onPropertyChanged.call(this, atcProps.newProperty, atcProps.oldProperty);\n                    break;\n            }\n        }\n    };\n    /**\n     * Return the module name of this component.\n     * @private\n     */\n    AutoComplete.prototype.getModuleName = function () {\n        return 'autocomplete';\n    };\n    /**\n     * To initialize the control rendering\n     * @private\n     */\n    AutoComplete.prototype.render = function () {\n        _super.prototype.render.call(this);\n    };\n    ;\n    __decorate([\n        Complex({ value: null, iconCss: null, groupBy: null }, FieldSettings)\n    ], AutoComplete.prototype, \"fields\", void 0);\n    __decorate([\n        Property(true)\n    ], AutoComplete.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(false)\n    ], AutoComplete.prototype, \"showPopupButton\", void 0);\n    __decorate([\n        Property(false)\n    ], AutoComplete.prototype, \"highlight\", void 0);\n    __decorate([\n        Property(20)\n    ], AutoComplete.prototype, \"suggestionCount\", void 0);\n    __decorate([\n        Property({})\n    ], AutoComplete.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"query\", void 0);\n    __decorate([\n        Property(1)\n    ], AutoComplete.prototype, \"minLength\", void 0);\n    __decorate([\n        Property('Contains')\n    ], AutoComplete.prototype, \"filterType\", void 0);\n    __decorate([\n        Event()\n    ], AutoComplete.prototype, \"filtering\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"index\", void 0);\n    __decorate([\n        Property('Never')\n    ], AutoComplete.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"valueTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property(false)\n    ], AutoComplete.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"text\", void 0);\n    AutoComplete = __decorate([\n        NotifyPropertyChanges\n    ], AutoComplete);\n    return AutoComplete;\n}(ComboBox));\nexport { AutoComplete };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/// <reference path='../drop-down-base/drop-down-base-model.d.ts'/>\nimport { DropDownBase, dropDownBaseClasses } from '../drop-down-base/drop-down-base';\nimport { Popup, createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { attributes, setValue } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, extend } from '@syncfusion/ej2-base';\nimport { EventHandler, Property, Event, compile, L10n } from '@syncfusion/ej2-base';\nimport { Animation, Browser, prepend } from '@syncfusion/ej2-base';\nimport { Search } from '../common/incremental-search';\nimport { append, addClass, removeClass, setStyleAttribute, closest, detach, remove } from '@syncfusion/ej2-base';\nimport { getUniqueID, formatUnit, isNullOrUndefined, isUndefined } from '@syncfusion/ej2-base';\n/* tslint:disable */\nimport { DataManager, Query, Predicate } from '@syncfusion/ej2-data';\nimport { createFloatLabel, removeFloating, floatLabelFocus, floatLabelBlur } from './float-label';\n/* tslint:enable */\nvar FOCUS = 'e-input-focus';\nvar DISABLED = 'e-disabled';\nvar OVER_ALL_WRAPPER = 'e-multiselect e-input-group';\nvar ELEMENT_WRAPPER = 'e-multi-select-wrapper';\nvar ELEMENT_MOBILE_WRAPPER = 'e-mob-wrapper';\nvar HIDE_LIST = 'e-hide-listitem';\nvar DELIMITER_VIEW = 'e-delim-view';\nvar CHIP_WRAPPER = 'e-chips-collection';\nvar CHIP = 'e-chips';\nvar CHIP_CONTENT = 'e-chipcontent';\nvar CHIP_CLOSE = 'e-chips-close';\nvar CHIP_SELECTED = 'e-chip-selected';\nvar SEARCHBOX_WRAPPER = 'e-searcher';\nvar DELIMITER_VIEW_WRAPPER = 'e-delimiter';\nvar ZERO_SIZE = 'e-zero-size';\nvar REMAIN_WRAPPER = 'e-remain';\nvar CLOSEICON_CLASS = 'e-chips-close e-close-hooker';\nvar DELIMITER_WRAPPER = 'e-delim-values';\nvar POPUP_WRAPPER = 'e-ddl e-popup e-multi-select-list-wrapper';\nvar INPUT_ELEMENT = 'e-dropdownbase';\nvar RTL_CLASS = 'e-rtl';\nvar CLOSE_ICON_HIDE = 'e-close-icon-hide';\nvar MOBILE_CHIP = 'e-mob-chip';\nvar FOOTER = 'e-ddl-footer';\nvar HEADER = 'e-ddl-header';\nvar DISABLE_ICON = 'e-ddl-disable-icon';\nvar SPINNER_CLASS = 'e-ms-spinner-icon';\nvar HIDDEN_ELEMENT = 'e-multi-hidden';\nvar destroy = 'destroy';\nvar dropdownIcon = 'e-input-group-icon e-ddl-icon';\nvar iconAnimation = 'e-icon-anim';\n/**\n * The Multiselect allows the user to pick a more than one value from list of predefined values.\n * ```html\n * <select id=\"list\">\n *      <option value='1'>Badminton</option>\n *      <option value='2'>Basketball</option>\n *      <option value='3'>Cricket</option>\n *      <option value='4'>Football</option>\n *      <option value='5'>Tennis</option>\n * </select>\n * ```\n * ```typescript\n * <script>\n *   var multiselectObj = new Multiselect();\n *   multiselectObj.appendTo(\"#list\");\n * </script>\n * ```\n */\nvar MultiSelect = /** @class */ (function (_super) {\n    __extends(MultiSelect, _super);\n    /**\n     * Constructor for creating the DropDownList widget.\n     */\n    function MultiSelect(option, element) {\n        var _this = _super.call(this, option, element) || this;\n        _this.isValidKey = false;\n        _this.selectAllEventData = [];\n        _this.selectAllEventEle = [];\n        _this.scrollFocusStatus = false;\n        _this.keyDownStatus = false;\n        return _this;\n    }\n    ;\n    MultiSelect.prototype.enableRTL = function (state) {\n        if (state) {\n            this.overAllWrapper.classList.add(RTL_CLASS);\n        }\n        else {\n            this.overAllWrapper.classList.remove(RTL_CLASS);\n        }\n        if (this.popupObj) {\n            this.popupObj.enableRtl = state;\n            this.popupObj.dataBind();\n        }\n    };\n    MultiSelect.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.mode === 'CheckBox') {\n            this.allowCustomValue = false;\n            this.hideSelectedItem = false;\n            this.closePopupOnSelect = false;\n            this.allowFiltering = true;\n            modules.push({\n                member: 'CheckBoxSelection',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    MultiSelect.prototype.updateHTMLAttribute = function () {\n        if (Object.keys(this.htmlAttributes).length) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var htmlAttr = _a[_i];\n                switch (htmlAttr) {\n                    case 'class':\n                        this.overAllWrapper.classList.add(this.htmlAttributes[htmlAttr]);\n                        this.popupWrapper.classList.add(this.htmlAttributes[htmlAttr]);\n                        break;\n                    case 'disabled':\n                        this.enable(false);\n                        break;\n                    case 'placeholder':\n                        this.inputElement.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]);\n                        break;\n                    default:\n                        var defaultAttr = ['id'];\n                        var validateAttr = ['name', 'required', 'aria-required', 'form'];\n                        var containerAttr = ['title', 'role', 'style', 'class'];\n                        if (defaultAttr.indexOf(htmlAttr) > -1) {\n                            this.element.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]);\n                        }\n                        else if (validateAttr.indexOf(htmlAttr) > -1) {\n                            this.hiddenElement.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]);\n                        }\n                        else if (containerAttr.indexOf(htmlAttr) > -1) {\n                            this.overAllWrapper.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]);\n                        }\n                        else {\n                            this.inputElement.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]);\n                        }\n                        break;\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.updateReadonly = function (state) {\n        if (state || this.mode === 'CheckBox') {\n            this.inputElement.setAttribute('readonly', 'true');\n        }\n        else {\n            this.inputElement.removeAttribute('readonly');\n        }\n    };\n    MultiSelect.prototype.updateClearButton = function (state) {\n        if (state) {\n            if (this.overAllClear.parentNode) {\n                this.overAllClear.style.display = '';\n            }\n            else {\n                this.componentWrapper.appendChild(this.overAllClear);\n            }\n            this.componentWrapper.classList.remove(CLOSE_ICON_HIDE);\n        }\n        else {\n            this.overAllClear.style.display = 'none';\n            this.componentWrapper.classList.add(CLOSE_ICON_HIDE);\n        }\n    };\n    MultiSelect.prototype.updateCssClass = function () {\n        if (this.cssClass) {\n            this.popupWrapper.classList.add(this.cssClass);\n            this.overAllWrapper.classList.add(this.cssClass);\n        }\n    };\n    MultiSelect.prototype.onPopupShown = function () {\n        if (Browser.isDevice && (this.mode === 'CheckBox' && this.allowFiltering)) {\n            var proxy_1 = this;\n            window.onpopstate = function () {\n                proxy_1.hidePopup();\n            };\n            history.pushState({}, '');\n        }\n        var animModel = { name: 'FadeIn', duration: 100 };\n        var eventArgs = { popup: this.popupObj, cancel: false, animation: animModel };\n        this.trigger('open', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        this.focusAtFirstListItem();\n        document.body.appendChild(this.popupObj.element);\n        if (this.mode === 'CheckBox') {\n            addClass([this.overAllWrapper], [iconAnimation]);\n        }\n        this.popupObj.show(eventArgs.animation, (this.zIndex === 1000) ? this.element : null);\n        attributes(this.inputElement, { 'aria-expanded': 'true' });\n        if (!this.isFirstClick) {\n            var ulElement = this.list.querySelector('ul');\n            if (ulElement) {\n                this.mainList = ulElement.cloneNode ? ulElement.cloneNode(true) : ulElement;\n            }\n            this.isFirstClick = true;\n        }\n        if ((this.allowFiltering || this.allowCustomValue) && this.mainList && this.listData) {\n            if (this.value && this.value.length) {\n                this.refreshSelection();\n            }\n        }\n        this.notify('reOrder', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', e: this });\n    };\n    MultiSelect.prototype.focusAtFirstListItem = function () {\n        if (this.ulElement && this.ulElement.querySelector('li.'\n            + dropDownBaseClasses.li)) {\n            var element = void 0;\n            if (this.mode === 'CheckBox') {\n                element = this.list.querySelector('li.'\n                    + dropDownBaseClasses.li + ':not(.'\n                    + HIDE_LIST + ')');\n            }\n            else {\n                element = this.ulElement.querySelector('li.'\n                    + dropDownBaseClasses.li + ':not(.'\n                    + HIDE_LIST + ')');\n            }\n            if (element !== null) {\n                this.removeFocus();\n                this.addListFocus(element);\n            }\n        }\n    };\n    MultiSelect.prototype.focusAtLastListItem = function (data) {\n        var activeElement;\n        if (data) {\n            activeElement = Search(data, this.liCollections, 'StartsWith', this.ignoreCase);\n        }\n        else {\n            if (this.value && this.value.length) {\n                Search(this.value[this.value.length - 1], this.liCollections, 'StartsWith', this.ignoreCase);\n            }\n            else {\n                activeElement = null;\n            }\n        }\n        if (activeElement && activeElement.item !== null) {\n            this.addListFocus(activeElement.item);\n            this.scrollBottom(activeElement.item, activeElement.index);\n        }\n    };\n    MultiSelect.prototype.getAriaAttributes = function () {\n        var ariaAttributes = {\n            'aria-disabled': 'false',\n            'aria-owns': this.element.id + '_options',\n            'role': 'listbox',\n            'aria-multiselectable': 'true',\n            'aria-activedescendant': 'null',\n            'aria-haspopup': 'true',\n            'aria-expanded': 'false'\n        };\n        return ariaAttributes;\n    };\n    MultiSelect.prototype.updateListARIA = function () {\n        attributes(this.ulElement, { 'id': this.element.id + '_options', 'role': 'listbox', 'aria-hidden': 'false' });\n        var disableStatus = (this.inputElement.disabled) ? true : false;\n        attributes(this.inputElement, this.getAriaAttributes());\n        if (disableStatus) {\n            attributes(this.inputElement, { 'aria-disabled': 'true' });\n        }\n    };\n    MultiSelect.prototype.removelastSelection = function (e) {\n        var elements;\n        elements = this.chipCollectionWrapper.querySelectorAll('span.' + CHIP);\n        var value = elements[elements.length - 1].getAttribute('data-value');\n        if (!isNullOrUndefined(this.value)) {\n            this.tempValues = this.value.slice();\n        }\n        this.removeValue(value, e);\n        this.removeChipSelection();\n        this.updateDelimeter(this.delimiterChar);\n        this.makeTextBoxEmpty();\n        if (this.mainList && this.listData) {\n            var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n            this.onActionComplete(list, this.mainData);\n            this.refreshSelection();\n        }\n        //this.focusAtLastListItem(value);\n    };\n    MultiSelect.prototype.onActionFailure = function (e) {\n        _super.prototype.onActionFailure.call(this, e);\n        this.renderPopup();\n        this.onPopupShown();\n    };\n    MultiSelect.prototype.targetElement = function () {\n        this.targetInputElement = this.inputElement;\n        if (this.mode === 'CheckBox') {\n            this.notify('targetElement', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n        }\n        return this.targetInputElement.value;\n    };\n    MultiSelect.prototype.getForQuery = function (valuecheck) {\n        var predicate;\n        var field = isNullOrUndefined(this.fields.value) ? this.fields.text : this.fields.value;\n        for (var i = 0; i < valuecheck.length; i++) {\n            if (i === 0) {\n                predicate = new Predicate(field, 'equal', valuecheck[i]);\n            }\n            else {\n                predicate = predicate.or(field, 'equal', valuecheck[i]);\n            }\n        }\n        return new Query().where(predicate);\n    };\n    MultiSelect.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        var proxy = this;\n        var valuecheck = [];\n        if (!isNullOrUndefined(this.value)) {\n            for (var i = 0; i < this.value.length; i++) {\n                var checkEle = ulElement.querySelector('li[data-value=\"' + proxy.value[i] + '\"]');\n                if (!checkEle) {\n                    valuecheck.push(proxy.value[i]);\n                }\n            }\n        }\n        if (valuecheck.length > 0 && this.dataSource instanceof DataManager && !isNullOrUndefined(this.value)) {\n            this.dataSource.executeQuery(this.getForQuery(valuecheck)).then(function (e) {\n                proxy.addItem(e.result, list.length);\n                proxy.updateActionList(ulElement, list, e);\n            });\n        }\n        else {\n            this.updateActionList(ulElement, list, e);\n        }\n    };\n    MultiSelect.prototype.updateActionList = function (ulElement, list, e, isUpdated) {\n        if (this.mode === 'CheckBox' && this.showSelectAll) {\n            this.notify('selectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n        }\n        if (!this.mainList && !this.mainData) {\n            this.mainList = ulElement.cloneNode ? ulElement.cloneNode(true) : ulElement;\n            this.mainData = list;\n            this.mainListCollection = this.liCollections;\n        }\n        else if (!isNullOrUndefined(this.mainData) && this.mainData.length === 0) {\n            this.mainData = list;\n        }\n        if ((this.remoteCustomValue || list.length <= 0) && this.allowCustomValue && this.inputFocus && this.allowFiltering) {\n            this.checkForCustomValue(this.tempQuery, this.fields);\n            return;\n        }\n        if (this.value && this.value.length && this.inputElement.value !== '') {\n            this.refreshSelection();\n        }\n        this.updateListARIA();\n        this.unwireListEvents();\n        this.wireListEvents();\n        if (!isNullOrUndefined(this.setInitialValue)) {\n            this.setInitialValue();\n        }\n        if (!isNullOrUndefined(this.selectAllAction)) {\n            this.selectAllAction();\n        }\n        if (this.setDynValue) {\n            this.initialValueUpdate();\n            this.initialUpdate();\n            this.refreshPlaceHolder();\n            this.updateValueState(null, this.value, null);\n        }\n        this.renderPopup();\n        if (this.beforePopupOpen) {\n            this.beforePopupOpen = false;\n            this.onPopupShown();\n        }\n    };\n    MultiSelect.prototype.refreshSelection = function () {\n        var value;\n        var element;\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        if (!isNullOrUndefined(this.value)) {\n            for (var index = 0; !isNullOrUndefined(this.value[index]); index++) {\n                value = this.value[index];\n                element = this.list.querySelector('li[data-value=\"' + value + '\"]');\n                if (element) {\n                    addClass([element], className);\n                    if (this.hideSelectedItem && element.previousSibling\n                        && element.previousElementSibling.classList.contains(dropDownBaseClasses.group)\n                        && (!element.nextElementSibling ||\n                            element.nextElementSibling.classList.contains(dropDownBaseClasses.group))) {\n                        addClass([element.previousElementSibling], className);\n                    }\n                    if (this.hideSelectedItem && this.fields.groupBy && !element.previousElementSibling.classList.contains(HIDE_LIST)) {\n                        this.hideGroupItem(value);\n                    }\n                    if (this.hideSelectedItem && element.classList.contains(dropDownBaseClasses.focus)) {\n                        removeClass([element], dropDownBaseClasses.focus);\n                        var listEle = element.parentElement.querySelectorAll('.' +\n                            dropDownBaseClasses.li + ':not(.' + HIDE_LIST + ')');\n                        if (listEle.length > 0) {\n                            addClass([listEle[0]], dropDownBaseClasses.focus);\n                        }\n                        else {\n                            this.ulElement = this.ulElement.cloneNode ? this.ulElement.cloneNode(true) : this.ulElement;\n                            this.l10nUpdate();\n                            addClass([this.list], dropDownBaseClasses.noData);\n                        }\n                    }\n                    element.setAttribute('aria-selected', 'true');\n                    if (this.mode === 'CheckBox' && element.classList.contains('e-active')) {\n                        var ariaValue = element.firstElementChild.getAttribute('aria-checked');\n                        if (isNullOrUndefined(ariaValue) || ariaValue === 'false') {\n                            var args = {\n                                module: 'CheckBoxSelection',\n                                enable: this.mode === 'CheckBox',\n                                li: element,\n                                e: null\n                            };\n                            this.notify('updatelist', args);\n                        }\n                    }\n                }\n            }\n        }\n        this.checkSelectAll();\n        this.checkMaxSelection();\n    };\n    MultiSelect.prototype.hideGroupItem = function (value) {\n        var element;\n        var element1;\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        element1 = element = this.ulElement.querySelector('li[data-value=\"' + value + '\"]');\n        var i = 0;\n        var j = 0;\n        var temp = true;\n        var temp1 = true;\n        do {\n            if (element && element.previousElementSibling\n                && (!element.previousElementSibling.classList.contains(HIDE_LIST) &&\n                    element.previousElementSibling.classList.contains(dropDownBaseClasses.li))) {\n                temp = false;\n            }\n            if (!temp || !element || (element.previousElementSibling\n                && element.previousElementSibling.classList.contains(dropDownBaseClasses.group))) {\n                i = 10;\n            }\n            else {\n                element = element.previousElementSibling;\n            }\n            if (element1 && element1.nextElementSibling\n                && (!element1.nextElementSibling.classList.contains(HIDE_LIST) &&\n                    element1.nextElementSibling.classList.contains(dropDownBaseClasses.li))) {\n                temp1 = false;\n            }\n            if (!temp1 || !element1 || (element1.nextElementSibling\n                && element1.nextElementSibling.classList.contains(dropDownBaseClasses.group))) {\n                j = 10;\n            }\n            else {\n                element1 = element1.nextElementSibling;\n            }\n        } while (i < 10 || j < 10);\n        if (temp && temp1 && !element.previousElementSibling.classList.contains(HIDE_LIST)) {\n            addClass([element.previousElementSibling], className);\n        }\n        else if (temp && temp1 && element.previousElementSibling.classList.contains(HIDE_LIST)) {\n            removeClass([element.previousElementSibling], className);\n        }\n    };\n    MultiSelect.prototype.checkSelectAll = function () {\n        var searchCount = this.list.querySelectorAll('li.' + dropDownBaseClasses.li).length;\n        var searchActiveCount = this.list.querySelectorAll('li.' + dropDownBaseClasses.selected).length;\n        if ((searchCount === searchActiveCount) && (this.mode === 'CheckBox' && this.showSelectAll)) {\n            this.notify('checkSelectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', value: 'check' });\n        }\n        if ((searchCount !== searchActiveCount) && (this.mode === 'CheckBox' && this.showSelectAll)) {\n            this.notify('checkSelectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', value: 'uncheck' });\n        }\n    };\n    MultiSelect.prototype.openClick = function (e) {\n        if (!this.openOnClick && this.mode !== 'CheckBox') {\n            if (this.targetElement() !== '') {\n                this.showPopup();\n            }\n            else {\n                this.hidePopup();\n            }\n        }\n        else if (!this.openOnClick && this.mode === 'CheckBox' && !this.isPopupOpen()) {\n            this.showPopup();\n        }\n    };\n    MultiSelect.prototype.KeyUp = function (e) {\n        var _this = this;\n        if (this.mode === 'CheckBox' && !this.openOnClick) {\n            var char = String.fromCharCode(e.keyCode);\n            var isWordCharacter = char.match(/\\w/);\n            if (!isNullOrUndefined(isWordCharacter)) {\n                this.isValidKey = true;\n            }\n        }\n        this.isValidKey = (this.isPopupOpen() && e.keyCode === 8) || this.isValidKey;\n        if (this.isValidKey) {\n            this.isValidKey = false;\n            this.expandTextbox();\n            this.showOverAllClear();\n            switch (e.keyCode) {\n                default:\n                    if (!this.isPopupOpen() && this.openOnClick) {\n                        this.showPopup();\n                    }\n                    this.openClick(e);\n                    if (this.checkTextLength() && !this.allowFiltering && (e.keyCode !== 8)) {\n                        this.focusAtFirstListItem();\n                    }\n                    else {\n                        var text = this.targetElement();\n                        this.keyCode = e.keyCode;\n                        if (this.allowFiltering) {\n                            var eventArgs_1 = {\n                                preventDefaultAction: false,\n                                text: this.targetElement(),\n                                updateData: function (dataSource, query, fields) {\n                                    if (eventArgs_1.cancel) {\n                                        return;\n                                    }\n                                    _this.isFiltered = true;\n                                    _this.remoteFilterAction = true;\n                                    _this.dataUpdater(dataSource, query, fields);\n                                },\n                                event: e,\n                                cancel: false\n                            };\n                            this.trigger('filtering', eventArgs_1);\n                            if (eventArgs_1.cancel) {\n                                return;\n                            }\n                            if (!this.isFiltered && !eventArgs_1.preventDefaultAction) {\n                                this.filterAction = true;\n                                this.dataUpdater(this.dataSource, null, this.fields);\n                            }\n                        }\n                        else if (this.allowCustomValue) {\n                            var query = new Query();\n                            query = (text !== '') ? query.where(this.fields.text, 'startswith', text, this.ignoreCase, this.ignoreAccent) : query;\n                            this.dataUpdater(this.mainData, query, this.fields);\n                            break;\n                        }\n                        else {\n                            var liCollections = void 0;\n                            liCollections = this.list.querySelectorAll('li.' + dropDownBaseClasses.li + ':not(.e-hide-listitem)');\n                            var activeElement = Search(this.targetElement(), liCollections, 'StartsWith', this.ignoreCase);\n                            if (activeElement && activeElement.item !== null) {\n                                this.addListFocus(activeElement.item);\n                                this.list.scrollTop =\n                                    activeElement.item.offsetHeight * activeElement.index;\n                            }\n                            else if (this.targetElement() !== '') {\n                                this.removeFocus();\n                            }\n                            else {\n                                this.focusAtFirstListItem();\n                            }\n                        }\n                    }\n            }\n        }\n    };\n    MultiSelect.prototype.getQuery = function (query) {\n        var filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n        if (this.filterAction) {\n            if (this.targetElement() !== null) {\n                var dataType = this.typeOfData(this.dataSource).typeof;\n                if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                    filterQuery.where('', 'startswith', this.targetElement(), this.ignoreCase, this.ignoreAccent);\n                }\n                else {\n                    var fields = this.fields;\n                    filterQuery.where(!isNullOrUndefined(fields.text) ? fields.text : '', 'startswith', this.targetElement(), this.ignoreCase, this.ignoreAccent);\n                }\n            }\n            return filterQuery;\n        }\n        else {\n            return query ? query : this.query ? this.query : new Query();\n        }\n    };\n    MultiSelect.prototype.dataUpdater = function (dataSource, query, fields) {\n        if (this.targetElement().trim() === '') {\n            var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n            if (this.backCommand) {\n                this.remoteCustomValue = false;\n                this.onActionComplete(list, this.mainData);\n                if (this.value && this.value.length) {\n                    this.refreshSelection();\n                }\n                if (this.keyCode !== 8) {\n                    this.focusAtFirstListItem();\n                }\n                this.notify('reOrder', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', e: this });\n            }\n        }\n        else {\n            this.resetList(dataSource, fields, query);\n            if (this.allowCustomValue) {\n                if (!(dataSource instanceof DataManager)) {\n                    this.checkForCustomValue(query, fields);\n                }\n                else {\n                    this.remoteCustomValue = true;\n                    this.tempQuery = query;\n                }\n            }\n        }\n        this.refreshPopup();\n    };\n    MultiSelect.prototype.checkForCustomValue = function (query, fields) {\n        var dataChecks = !this.getValueByText(this.inputElement.value, this.ignoreCase);\n        if (this.allowCustomValue && dataChecks) {\n            var value = this.inputElement.value;\n            var customData = (!isNullOrUndefined(this.mainData) && this.mainData.length > 0) ?\n                this.mainData[0] : this.mainData;\n            if (typeof (customData) !== 'string') {\n                var dataItem = {};\n                setValue(fields.text, value, dataItem);\n                setValue(fields.value, value, dataItem);\n                var tempData = JSON.parse(JSON.stringify(this.listData));\n                tempData.splice(0, 0, dataItem);\n                this.resetList(tempData, fields ? fields : this.fields, query);\n            }\n            else {\n                var tempData = [this.inputElement.value];\n                this.resetList(tempData, fields ? fields : this.fields);\n            }\n        }\n        if (this.value && this.value.length) {\n            this.refreshSelection();\n        }\n    };\n    MultiSelect.prototype.getNgDirective = function () {\n        return 'EJS-MULTISELECT';\n    };\n    MultiSelect.prototype.wrapperClick = function (e) {\n        this.setDynValue = false;\n        if (this.readonly || !this.enabled) {\n            return;\n        }\n        if (e.target === this.overAllClear) {\n            e.preventDefault();\n            return;\n        }\n        if (!this.inputFocus && this.mode !== 'CheckBox') {\n            this.dispatchEvent(this.inputElement, 'focus');\n        }\n        if (this.mode === 'CheckBox') {\n            this.focusIn();\n        }\n        if (e.target && e.target.classList.toString().indexOf(CHIP_CLOSE) !== -1) {\n            if (this.isPopupOpen()) {\n                this.refreshPopup();\n            }\n            return;\n        }\n        if (!this.isPopupOpen() && this.openOnClick) {\n            this.showPopup();\n        }\n        else {\n            this.hidePopup();\n            if (this.mode === 'CheckBox') {\n                this.focusIn();\n            }\n        }\n        e.preventDefault();\n    };\n    MultiSelect.prototype.enable = function (state) {\n        if (state) {\n            this.overAllWrapper.classList.remove(DISABLED);\n            this.inputElement.removeAttribute('disabled');\n            attributes(this.inputElement, { 'aria-disabled': 'false' });\n        }\n        else {\n            this.overAllWrapper.classList.add(DISABLED);\n            this.inputElement.setAttribute('disabled', 'true');\n            attributes(this.inputElement, { 'aria-disabled': 'true' });\n        }\n        if (this.enabled !== state) {\n            this.enabled = state;\n        }\n        this.hidePopup();\n    };\n    MultiSelect.prototype.onBlur = function (eve) {\n        var target;\n        if (!isNullOrUndefined(eve)) {\n            target = eve.relatedTarget;\n        }\n        if (this.popupObj && document.body.contains(this.popupObj.element) && this.popupObj.element.contains(target)) {\n            if (this.mode !== 'CheckBox') {\n                this.inputElement.focus();\n            }\n            return;\n        }\n        if (this.mode === 'CheckBox' && Browser.isIE && !isNullOrUndefined(eve)) {\n            this.inputFocus = false;\n            this.overAllWrapper.classList.remove(FOCUS);\n            return;\n        }\n        if (this.scrollFocusStatus) {\n            eve.preventDefault();\n            this.inputElement.focus();\n            this.scrollFocusStatus = false;\n            return;\n        }\n        this.inputFocus = false;\n        this.overAllWrapper.classList.remove(FOCUS);\n        if (this.mode !== 'Box' && this.mode !== 'CheckBox') {\n            this.refreshListItems(null);\n            this.updateDelimView();\n        }\n        this.updateValueState(eve, this.value, this.tempValues);\n        this.dispatchEvent(this.hiddenElement, 'change');\n        this.overAllClear.style.display = 'none';\n        if (this.isPopupOpen()) {\n            this.hidePopup();\n        }\n        this.makeTextBoxEmpty();\n        this.trigger('blur');\n        this.focused = true;\n        if (Browser.isDevice && this.mode !== 'Delimiter' && this.mode !== 'CheckBox') {\n            this.removeChipFocus();\n        }\n        this.removeChipSelection();\n        this.refreshInputHight();\n        floatLabelBlur(this.overAllWrapper, this.componentWrapper, this.value, this.floatLabelType, this.placeholder);\n        this.refreshPlaceHolder();\n    };\n    MultiSelect.prototype.refreshInputHight = function () {\n        if (!this.value || !this.value.length) {\n            this.searchWrapper.classList.remove(ZERO_SIZE);\n        }\n        else {\n            this.searchWrapper.classList.add(ZERO_SIZE);\n        }\n    };\n    MultiSelect.prototype.validateValues = function (newValue, oldValue) {\n        return JSON.stringify(newValue.slice().sort()) !== JSON.stringify(oldValue.slice().sort());\n    };\n    MultiSelect.prototype.updateValueState = function (event, newVal, oldVal) {\n        var newValue = newVal ? newVal : [];\n        var oldValue = oldVal ? oldVal : [];\n        if (this.initStatus && this.validateValues(newValue, oldValue)) {\n            var eventArgs = {\n                e: event,\n                oldValue: oldVal,\n                value: newVal,\n                isInteracted: event ? true : false,\n                element: this.element\n            };\n            this.trigger('change', eventArgs);\n        }\n    };\n    MultiSelect.prototype.getPagingCount = function () {\n        var height = this.list.classList.contains(dropDownBaseClasses.noData) ? null :\n            getComputedStyle(this.getItems()[0], null).getPropertyValue('height');\n        return Math.round(this.list.offsetHeight / parseInt(height, 10));\n    };\n    MultiSelect.prototype.pageUpSelection = function (steps) {\n        var collection = this.list.querySelectorAll('li.'\n            + dropDownBaseClasses.li + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n        var previousItem;\n        previousItem = steps >= 0 ? collection[steps + 1] : collection[0];\n        this.addListFocus(previousItem);\n        this.scrollBottom(previousItem, this.getIndexByValue(previousItem.getAttribute('data-value')));\n    };\n    ;\n    MultiSelect.prototype.pageDownSelection = function (steps) {\n        var list = this.getItems();\n        var collection = this.list.querySelectorAll('li.'\n            + dropDownBaseClasses.li + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n        var previousItem;\n        previousItem = steps <= collection.length ? collection[steps - 1] : collection[collection.length - 1];\n        this.addListFocus(previousItem);\n        this.scrollBottom(previousItem, this.getIndexByValue(previousItem.getAttribute('data-value')));\n    };\n    MultiSelect.prototype.getItems = function () {\n        if (!this.list) {\n            _super.prototype.render.call(this);\n        }\n        return this.ulElement ? this.ulElement.querySelectorAll('.' + dropDownBaseClasses.li\n            + ':not(.' + HIDE_LIST + ')') : null;\n    };\n    MultiSelect.prototype.focusIn = function () {\n        if (this.enabled && !this.readonly) {\n            this.showOverAllClear();\n            this.inputFocus = true;\n            if (!this.value) {\n                this.tempValues = this.value;\n            }\n            else {\n                this.tempValues = this.value.slice();\n            }\n            if (this.value && this.value.length) {\n                if (this.mode !== 'Delimiter' && this.mode !== 'CheckBox') {\n                    this.chipCollectionWrapper.style.display = '';\n                }\n                else {\n                    this.showDelimWrapper();\n                }\n                if (this.mode !== 'CheckBox') {\n                    this.viewWrapper.style.display = 'none';\n                }\n            }\n            if (this.mode !== 'CheckBox') {\n                this.searchWrapper.classList.remove(ZERO_SIZE);\n            }\n            if (this.focused) {\n                this.inputElement.focus();\n                this.trigger('focus');\n                this.focused = false;\n            }\n            if (!this.overAllWrapper.classList.contains(FOCUS)) {\n                this.overAllWrapper.classList.add(FOCUS);\n            }\n            floatLabelFocus(this.overAllWrapper, this.componentWrapper);\n            if (this.isPopupOpen()) {\n                this.refreshPopup();\n            }\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    MultiSelect.prototype.showDelimWrapper = function () {\n        if (this.mode === 'CheckBox') {\n            this.viewWrapper.style.display = '';\n        }\n        else {\n            this.delimiterWrapper.style.display = '';\n        }\n        this.componentWrapper.classList.add(DELIMITER_VIEW_WRAPPER);\n    };\n    MultiSelect.prototype.hideDelimWrapper = function () {\n        this.delimiterWrapper.style.display = 'none';\n        this.componentWrapper.classList.remove(DELIMITER_VIEW_WRAPPER);\n    };\n    MultiSelect.prototype.expandTextbox = function () {\n        var size = 5;\n        if (this.placeholder) {\n            size = size > this.inputElement.placeholder.length ? size : this.inputElement.placeholder.length;\n        }\n        if (this.inputElement.value.length > size) {\n            this.inputElement.size = this.inputElement.value.length;\n        }\n        else {\n            this.inputElement.size = size;\n        }\n    };\n    MultiSelect.prototype.isPopupOpen = function () {\n        return ((this.popupWrapper !== null) && (this.popupWrapper.parentElement !== null));\n    };\n    MultiSelect.prototype.refreshPopup = function () {\n        if (this.popupObj && this.mobFilter) {\n            this.popupObj.setProperties({ width: this.calcPopupWidth() });\n            this.popupObj.refreshPosition(this.overAllWrapper);\n        }\n    };\n    MultiSelect.prototype.checkTextLength = function () {\n        return this.targetElement().length < 1;\n    };\n    MultiSelect.prototype.popupKeyActions = function (keyCode) {\n        switch (keyCode) {\n            case 38:\n                this.hidePopup();\n                if (this.mode === 'CheckBox') {\n                    this.inputElement.focus();\n                }\n                break;\n            case 40:\n                if (!this.isPopupOpen()) {\n                    this.showPopup();\n                }\n                break;\n        }\n    };\n    MultiSelect.prototype.updateAriaAttribute = function () {\n        var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n        if (!isNullOrUndefined(focusedItem)) {\n            this.inputElement.setAttribute('aria-activedescendant', focusedItem.id);\n        }\n    };\n    MultiSelect.prototype.onKeyDown = function (e) {\n        if (this.readonly || !this.enabled && this.mode !== 'CheckBox') {\n            return;\n        }\n        this.keyDownStatus = true;\n        if (e.keyCode > 111 && e.keyCode < 124) {\n            return;\n        }\n        if (e.altKey) {\n            this.popupKeyActions(e.keyCode);\n            e.preventDefault();\n            return;\n        }\n        else if (this.isPopupOpen()) {\n            var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n            var activeIndex = void 0;\n            switch (e.keyCode) {\n                case 36:\n                case 35: break;\n                case 33:\n                    e.preventDefault();\n                    if (focusedItem) {\n                        this.getIndexByValue(focusedItem.getAttribute('data-value'));\n                        this.pageUpSelection(activeIndex - this.getPagingCount());\n                        this.updateAriaAttribute();\n                    }\n                    return;\n                case 34:\n                    e.preventDefault();\n                    if (focusedItem) {\n                        this.getIndexByValue(focusedItem.getAttribute('data-value'));\n                        this.pageDownSelection(activeIndex + this.getPagingCount());\n                        this.updateAriaAttribute();\n                    }\n                    return;\n                case 38:\n                    e.preventDefault();\n                    this.moveByList(-1);\n                    this.updateAriaAttribute();\n                    break;\n                case 40:\n                    e.preventDefault();\n                    this.moveByList(1);\n                    this.updateAriaAttribute();\n                    break;\n                case 27:\n                    e.preventDefault();\n                    this.hidePopup();\n                    if (this.mode === 'CheckBox') {\n                        this.inputElement.focus();\n                    }\n                    return;\n                case 13:\n                    e.preventDefault();\n                    if (this.mode !== 'CheckBox') {\n                        this.selectByKey(e);\n                    }\n                    return;\n                case 32:\n                    if (this.mode === 'CheckBox') {\n                        e.preventDefault();\n                        this.selectByKey(e);\n                    }\n                    return;\n                case 9:\n                    e.preventDefault();\n                    this.hidePopup();\n                    this.inputElement.focus();\n                    this.overAllWrapper.classList.add(FOCUS);\n            }\n        }\n        else {\n            switch (e.keyCode) {\n                case 13:\n                case 9:\n                case 16:\n                case 17:\n                case 20:\n                    return;\n                case 40:\n                    if (this.openOnClick) {\n                        this.showPopup();\n                    }\n                    break;\n                case 27:\n                    e.preventDefault();\n                    this.escapeAction();\n                    return;\n            }\n        }\n        if (this.checkTextLength()) {\n            this.keyNavigation(e);\n        }\n        if (this.mode === 'CheckBox' && this.enableSelectionOrder) {\n            this.checkBackCommand(e);\n        }\n        this.expandTextbox();\n        this.refreshPopup();\n    };\n    MultiSelect.prototype.checkBackCommand = function (e) {\n        if (e.keyCode === 8 && this.targetElement() === '') {\n            this.backCommand = false;\n        }\n        else {\n            this.backCommand = true;\n        }\n    };\n    MultiSelect.prototype.keyNavigation = function (e) {\n        if ((this.mode !== 'Delimiter' && this.mode !== 'CheckBox') && this.value && this.value.length) {\n            switch (e.keyCode) {\n                case 37://left arrow  \n                    e.preventDefault();\n                    this.moveBy(-1, e);\n                    break;\n                case 39://right arrow  \n                    e.preventDefault();\n                    this.moveBy(1, e);\n                    break;\n                case 8:\n                    this.removelastSelection(e);\n                    break;\n                case 46://del\n                    this.removeSelectedChip(e);\n                    break;\n            }\n        }\n        else if (e.keyCode === 8 && this.mode === 'Delimiter') {\n            if (this.value && this.value.length) {\n                e.preventDefault();\n                var temp = this.value[this.value.length - 1];\n                this.removeValue(temp, e);\n                this.updateDelimeter(this.delimiterChar);\n                this.focusAtLastListItem(temp);\n            }\n        }\n    };\n    MultiSelect.prototype.selectByKey = function (e) {\n        this.removeChipSelection();\n        this.selectListByKey(e);\n        if (this.hideSelectedItem) {\n            this.focusAtFirstListItem();\n        }\n    };\n    MultiSelect.prototype.escapeAction = function () {\n        var temp = this.tempValues ? this.tempValues.slice() : [];\n        if (this.value && this.validateValues(this.value, temp)) {\n            this.value = temp;\n            this.initialValueUpdate();\n            if (this.mode !== 'Delimiter' && this.mode !== 'CheckBox') {\n                this.chipCollectionWrapper.style.display = '';\n            }\n            else {\n                this.showDelimWrapper();\n            }\n            this.refreshPlaceHolder();\n            if (this.value.length) {\n                this.showOverAllClear();\n            }\n            else {\n                this.hideOverAllClear();\n            }\n        }\n        this.makeTextBoxEmpty();\n    };\n    MultiSelect.prototype.scrollBottom = function (selectedLI, activeIndex) {\n        var currentOffset = this.list.offsetHeight;\n        var nextBottom = selectedLI.offsetTop + selectedLI.offsetHeight - this.list.scrollTop;\n        var nextOffset = this.list.scrollTop + nextBottom - currentOffset;\n        var boxRange = (selectedLI.offsetTop + selectedLI.offsetHeight - this.list.scrollTop);\n        boxRange = this.fields.groupBy && !isUndefined(this.fixedHeaderElement) ?\n            boxRange - this.fixedHeaderElement.offsetHeight : boxRange;\n        if (activeIndex === 0) {\n            this.list.scrollTop = 0;\n        }\n        else if (nextBottom > currentOffset) {\n            this.list.scrollTop = nextOffset;\n        }\n        else if (!(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n            this.list.scrollTop = nextOffset;\n        }\n    };\n    MultiSelect.prototype.scrollTop = function (selectedLI, activeIndex) {\n        var nextOffset = selectedLI.offsetTop - this.list.scrollTop;\n        var nextBottom = selectedLI.offsetTop + selectedLI.offsetHeight - this.list.scrollTop;\n        nextOffset = this.fields.groupBy && !isUndefined(this.fixedHeaderElement) ?\n            nextOffset - this.fixedHeaderElement.offsetHeight : nextOffset;\n        var boxRange = (selectedLI.offsetTop + selectedLI.offsetHeight - this.list.scrollTop);\n        if (activeIndex === 0) {\n            this.list.scrollTop = 0;\n        }\n        else if (nextOffset < 0) {\n            this.list.scrollTop = this.list.scrollTop + nextOffset;\n        }\n        else if (!(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n            this.list.scrollTop = selectedLI.offsetTop - (this.fields.groupBy && !isUndefined(this.fixedHeaderElement) ?\n                this.fixedHeaderElement.offsetHeight : 0);\n        }\n    };\n    MultiSelect.prototype.selectListByKey = function (e) {\n        var li = this.list.querySelector('li.' + dropDownBaseClasses.focus);\n        var limit = this.value && this.value.length ? this.value.length : 0;\n        if (li !== null) {\n            if (li.classList.contains('e-active')) {\n                limit = limit - 1;\n            }\n            if (this.isValidLI(li) && limit < this.maximumSelectionLength) {\n                this.updateListSelection(li, e);\n                this.addListFocus(li);\n                if (this.mode === 'CheckBox') {\n                    this.updateDelimView();\n                    this.refreshInputHight();\n                    this.updateDelimeter(this.delimiterChar);\n                }\n                else {\n                    this.updateDelimeter(this.delimiterChar);\n                }\n                this.makeTextBoxEmpty();\n                if (this.mode !== 'CheckBox') {\n                    this.refreshListItems(li.textContent);\n                }\n                this.refreshPopup();\n            }\n            if (this.closePopupOnSelect) {\n                this.hidePopup();\n            }\n        }\n        this.refreshPlaceHolder();\n    };\n    MultiSelect.prototype.refreshListItems = function (data) {\n        if ((this.allowFiltering || this.allowCustomValue) && this.mainList && this.listData) {\n            var list = void 0;\n            if (this.sortOrder === 'Descending' || this.sortOrder === 'Ascending') {\n                list = this.ulElement.cloneNode ? this.ulElement.cloneNode(true) : this.ulElement;\n            }\n            else {\n                list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n            }\n            this.onActionComplete(list, this.mainData);\n            this.focusAtLastListItem(data);\n            if (this.value && this.value.length) {\n                this.refreshSelection();\n            }\n        }\n    };\n    MultiSelect.prototype.removeSelectedChip = function (e) {\n        var selectedElem = this.chipCollectionWrapper.querySelector('span.' + CHIP_SELECTED);\n        var temp;\n        if (selectedElem !== null) {\n            if (!isNullOrUndefined(this.value)) {\n                this.tempValues = this.value.slice();\n            }\n            temp = selectedElem.nextElementSibling;\n            if (temp !== null) {\n                this.removeChipSelection();\n                this.addChipSelection(temp, e);\n            }\n            this.removeValue(selectedElem.getAttribute('data-value'), e);\n            this.makeTextBoxEmpty();\n        }\n        if (this.closePopupOnSelect) {\n            this.hidePopup();\n        }\n    };\n    MultiSelect.prototype.moveByTop = function (state) {\n        var elements = this.list.querySelectorAll('li.' + dropDownBaseClasses.li);\n        var index;\n        if (elements.length > 1) {\n            this.removeFocus();\n            index = state ? 0 : (elements.length - 1);\n            this.addListFocus(elements[index]);\n            this.scrollBottom(elements[index], index);\n        }\n        this.updateAriaAttribute();\n    };\n    MultiSelect.prototype.moveByList = function (position) {\n        if (this.list) {\n            var elements = this.list.querySelectorAll('li.'\n                + dropDownBaseClasses.li\n                + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n            var selectedElem = this.list.querySelector('li.' + dropDownBaseClasses.focus);\n            var temp = -1;\n            if (elements.length) {\n                for (var index = 0; index < elements.length; index++) {\n                    if (elements[index] === selectedElem) {\n                        temp = index;\n                        break;\n                    }\n                }\n                if (position > 0) {\n                    if (temp < (elements.length - 1)) {\n                        this.removeFocus();\n                        this.addListFocus(elements[++temp]);\n                        this.scrollBottom(elements[temp], temp);\n                    }\n                }\n                else {\n                    if (temp > 0) {\n                        this.removeFocus();\n                        this.addListFocus(elements[--temp]);\n                        this.scrollTop(elements[temp], temp);\n                    }\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.moveBy = function (position, e) {\n        var elements;\n        var selectedElem;\n        var temp;\n        elements = this.chipCollectionWrapper.querySelectorAll('span.' + CHIP);\n        selectedElem = this.chipCollectionWrapper.querySelector('span.' + CHIP_SELECTED);\n        if (selectedElem === null) {\n            if (position < 0) {\n                this.addChipSelection(elements[elements.length - 1], e);\n            }\n        }\n        else {\n            if (position < 0) {\n                temp = selectedElem.previousElementSibling;\n                if (temp !== null) {\n                    this.removeChipSelection();\n                    this.addChipSelection(temp, e);\n                }\n            }\n            else {\n                temp = selectedElem.nextElementSibling;\n                this.removeChipSelection();\n                if (temp !== null) {\n                    this.addChipSelection(temp, e);\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.chipClick = function (e) {\n        if (this.enabled) {\n            var elem = closest(e.target, '.' + CHIP);\n            this.removeChipSelection();\n            this.addChipSelection(elem, e);\n        }\n    };\n    MultiSelect.prototype.removeChipSelection = function () {\n        if (this.chipCollectionWrapper) {\n            this.removeChipFocus();\n        }\n    };\n    MultiSelect.prototype.addChipSelection = function (element, e) {\n        addClass([element], CHIP_SELECTED);\n        this.trigger('chipSelection', e);\n    };\n    MultiSelect.prototype.onChipRemove = function (e) {\n        if (e.which === 3 || e.button === 2) {\n            return;\n        }\n        if (this.enabled && !this.readonly) {\n            var element = e.target.parentElement;\n            var value = this.getFormattedValue(element.getAttribute('data-value'));\n            if (this.isPopupOpen() && this.mode !== 'CheckBox') {\n                this.hidePopup();\n            }\n            if (!this.inputFocus) {\n                this.inputElement.focus();\n            }\n            this.removeValue(value, e);\n            if (isNullOrUndefined(this.list.querySelector('li[data-value=\"' + value + '\"]')) && this.mainList && this.listData) {\n                var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n                this.onActionComplete(list, this.mainData);\n            }\n            this.updateDelimeter(this.delimiterChar);\n            this.makeTextBoxEmpty();\n            e.preventDefault();\n        }\n    };\n    MultiSelect.prototype.makeTextBoxEmpty = function () {\n        this.inputElement.value = '';\n        this.refreshPlaceHolder();\n    };\n    MultiSelect.prototype.refreshPlaceHolder = function () {\n        if (this.placeholder && this.floatLabelType === 'Never') {\n            if (this.value && this.value.length) {\n                this.inputElement.placeholder = '';\n            }\n            else {\n                this.inputElement.placeholder = this.placeholder;\n            }\n        }\n        else {\n            this.setFloatLabelType();\n        }\n        this.expandTextbox();\n    };\n    MultiSelect.prototype.removeValue = function (value, eve, length) {\n        var index = this.value.indexOf(this.getFormattedValue(value));\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        if (index !== -1) {\n            var element = this.list.querySelector('li[data-value=\"' + value + '\"]');\n            var val = this.getDataByValue(value);\n            var eventArgs = {\n                e: eve,\n                item: element,\n                itemData: val,\n                isInteracted: eve ? true : false,\n                cancel: false\n            };\n            this.trigger('removing', eventArgs);\n            if (eventArgs.cancel) {\n                return;\n            }\n            this.value.splice(index, 1);\n            this.setProperties({ value: [].concat([], this.value) }, true);\n            if (element !== null) {\n                element.setAttribute('aria-selected', 'false');\n                removeClass([element], className);\n                this.notify('activeList', {\n                    module: 'CheckBoxSelection',\n                    enable: this.mode === 'CheckBox', li: element,\n                    e: this, index: index\n                });\n                this.notify('updatelist', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', li: element, e: eve });\n                attributes(this.inputElement, { 'aria-activedescendant': element.id });\n                if ((this.value.length !== this.mainData.length) && (this.mode === 'CheckBox' && this.showSelectAll)) {\n                    this.notify('checkSelectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', value: 'uncheck' });\n                }\n            }\n            if (this.hideSelectedItem && this.fields.groupBy) {\n                this.hideGroupItem(value);\n            }\n            this.updateMainList(true, value);\n            this.removeChip(value);\n            this.updateChipStatus();\n            var limit = this.value && this.value.length ? this.value.length : 0;\n            if (limit < this.maximumSelectionLength) {\n                var collection = this.list.querySelectorAll('li.'\n                    + dropDownBaseClasses.li + ':not(.e-active)');\n                removeClass(collection, 'e-disable');\n            }\n            this.trigger('removed', eventArgs);\n            if (length) {\n                this.selectAllEventData.push(val);\n                this.selectAllEventEle.push(element);\n            }\n            if (length === 1) {\n                var args = {\n                    e: eve,\n                    items: this.selectAllEventEle,\n                    itemData: this.selectAllEventData,\n                    isInteracted: eve ? true : false,\n                    IsChecked: false\n                };\n                this.trigger('selectedAll', args);\n                this.selectAllEventData = [];\n                this.selectAllEventEle = [];\n            }\n        }\n    };\n    MultiSelect.prototype.updateMainList = function (state, value) {\n        if (this.allowFiltering) {\n            var element2 = this.mainList.querySelector('li[data-value=\"' + value + '\"]');\n            if (element2) {\n                if (state) {\n                    element2.setAttribute('aria-selected', 'false');\n                    removeClass([element2], this.hideSelectedItem ?\n                        HIDE_LIST :\n                        dropDownBaseClasses.selected);\n                    if (this.mode === 'CheckBox') {\n                        element2.firstElementChild.setAttribute('aria-checked', 'false');\n                        removeClass([element2.firstElementChild.lastElementChild], 'e-check');\n                    }\n                }\n                else {\n                    element2.setAttribute('aria-selected', 'true');\n                    addClass([element2], this.hideSelectedItem ?\n                        HIDE_LIST :\n                        dropDownBaseClasses.selected);\n                    if (this.mode === 'CheckBox') {\n                        element2.firstElementChild.setAttribute('aria-checked', 'true');\n                        addClass([element2.firstElementChild.lastElementChild], 'e-check');\n                    }\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.removeChip = function (value) {\n        if (this.chipCollectionWrapper) {\n            var element = this.chipCollectionWrapper.querySelector('span[data-value=\"' + value + '\"]');\n            if (element) {\n                remove(element);\n            }\n        }\n    };\n    MultiSelect.prototype.updateChipStatus = function () {\n        if (this.value.length) {\n            if (!isNullOrUndefined(this.chipCollectionWrapper)) {\n                (this.chipCollectionWrapper.style.display = '');\n            }\n            if (this.mode === 'Delimiter' || this.mode === 'CheckBox') {\n                this.showDelimWrapper();\n            }\n            this.showOverAllClear();\n        }\n        else {\n            if (!isNullOrUndefined(this.chipCollectionWrapper)) {\n                this.chipCollectionWrapper.style.display = 'none';\n            }\n            if (!isNullOrUndefined(this.delimiterWrapper)) {\n                (this.delimiterWrapper.style.display = 'none');\n            }\n            this.hideOverAllClear();\n        }\n    };\n    MultiSelect.prototype.addValue = function (value, text, eve) {\n        if (!this.value) {\n            this.value = [];\n        }\n        this.setProperties({ value: [].concat([], this.value, [value]) }, true);\n        var element = this.list.querySelector('li[data-value=\"' + value + '\"]');\n        this.removeFocus();\n        if (element) {\n            this.addListFocus(element);\n            this.addListSelection(element);\n        }\n        if (this.mode !== 'Delimiter' && this.mode !== 'CheckBox') {\n            this.addChip(text, value, eve);\n        }\n        if (this.hideSelectedItem && this.fields.groupBy) {\n            this.hideGroupItem(value);\n        }\n        this.updateChipStatus();\n        this.checkMaxSelection();\n    };\n    MultiSelect.prototype.checkMaxSelection = function () {\n        var limit = this.value && this.value.length ? this.value.length : 0;\n        if (limit === this.maximumSelectionLength) {\n            var collection = this.list.querySelectorAll('li.'\n                + dropDownBaseClasses.li + ':not(.e-active)');\n            addClass(collection, 'e-disable');\n        }\n    };\n    MultiSelect.prototype.dispatchSelect = function (value, eve, element, isNotTrigger, length) {\n        if (this.initStatus && !isNotTrigger) {\n            var val = this.getDataByValue(value);\n            var eventArgs = {\n                e: eve,\n                item: element,\n                itemData: val,\n                isInteracted: eve ? true : false,\n                cancel: false\n            };\n            this.trigger('select', eventArgs);\n            if (eventArgs.cancel) {\n                return true;\n            }\n            if (length) {\n                this.selectAllEventData.push(val);\n                this.selectAllEventEle.push(element);\n            }\n            if (length === 1) {\n                var args = {\n                    e: eve,\n                    items: this.selectAllEventEle,\n                    itemData: this.selectAllEventData,\n                    isInteracted: eve ? true : false,\n                    IsChecked: true\n                };\n                this.trigger('selectedAll', args);\n                this.selectAllEventData = [];\n            }\n        }\n        return false;\n    };\n    MultiSelect.prototype.addChip = function (text, value, e) {\n        if (this.chipCollectionWrapper) {\n            var item = this.getChip(text, value, e);\n            if (item.cancel) {\n                return;\n            }\n            this.chipCollectionWrapper.appendChild(item.element);\n        }\n    };\n    MultiSelect.prototype.removeChipFocus = function () {\n        var elements;\n        var closeElements;\n        elements = this.chipCollectionWrapper.querySelectorAll('span.' + CHIP);\n        closeElements = this.chipCollectionWrapper.querySelectorAll('span.' + CHIP_CLOSE.split(' ')[0]);\n        removeClass(elements, CHIP_SELECTED);\n        if (Browser.isDevice) {\n            for (var index = 0; index < closeElements.length; index++) {\n                closeElements[index].style.display = 'none';\n            }\n        }\n    };\n    MultiSelect.prototype.onMobileChipInteraction = function (e) {\n        var chipElem = closest(e.target, '.' + CHIP);\n        var chipClose = chipElem.querySelector('span.' + CHIP_CLOSE.split(' ')[0]);\n        if (this.enabled && !this.readonly) {\n            if (!chipElem.classList.contains(CHIP_SELECTED)) {\n                this.removeChipFocus();\n                chipClose.style.display = '';\n                chipElem.classList.add(CHIP_SELECTED);\n            }\n            this.refreshPopup();\n            e.preventDefault();\n        }\n    };\n    MultiSelect.prototype.getChip = function (data, value, e) {\n        var itemData = { text: value, value: value };\n        var chip = this.createElement('span', {\n            className: CHIP,\n            attrs: { 'data-value': value, 'title': data }\n        });\n        var chipContent = this.createElement('span', { className: CHIP_CONTENT });\n        var chipClose = this.createElement('span', { className: CHIP_CLOSE });\n        if (this.mainData) {\n            itemData = this.getDataByValue(value);\n        }\n        if (this.valueTemplate && !isNullOrUndefined(itemData)) {\n            var compiledString = compile(this.valueTemplate);\n            for (var _i = 0, _a = compiledString(itemData); _i < _a.length; _i++) {\n                var item = _a[_i];\n                chipContent.appendChild(item);\n            }\n        }\n        else {\n            chipContent.innerHTML = data;\n        }\n        chip.appendChild(chipContent);\n        var eventArgs = {\n            isInteracted: e ? true : false,\n            itemData: itemData,\n            e: e,\n            setClass: function (classes) {\n                addClass([chip], classes);\n            },\n            cancel: false\n        };\n        this.trigger('tagging', eventArgs);\n        if (eventArgs.cancel) {\n            return { cancel: true, element: chip };\n        }\n        if (Browser.isDevice) {\n            chip.classList.add(MOBILE_CHIP);\n            append([chipClose], chip);\n            chipClose.style.display = 'none';\n            EventHandler.add(chip, 'click', this.onMobileChipInteraction, this);\n        }\n        else {\n            EventHandler.add(chip, 'mousedown', this.chipClick, this);\n            if (this.showClearButton) {\n                chip.appendChild(chipClose);\n            }\n        }\n        EventHandler.add(chipClose, 'mousedown', this.onChipRemove, this);\n        return { cancel: false, element: chip };\n    };\n    MultiSelect.prototype.calcPopupWidth = function () {\n        var width = formatUnit(this.popupWidth);\n        if (width.indexOf('%') > -1) {\n            var inputWidth = (this.componentWrapper.offsetWidth) * parseFloat(width) / 100;\n            width = inputWidth.toString() + 'px';\n        }\n        return width;\n    };\n    MultiSelect.prototype.mouseIn = function () {\n        if (this.enabled && !this.readonly) {\n            this.showOverAllClear();\n        }\n    };\n    MultiSelect.prototype.mouseOut = function () {\n        if (!this.inputFocus) {\n            this.overAllClear.style.display = 'none';\n        }\n    };\n    MultiSelect.prototype.listOption = function (dataSource, fields) {\n        var iconCss = isNullOrUndefined(fields.iconCss) ? false : true;\n        var fieldProperty = fields.properties;\n        this.listCurrentOptions = (fields.text !== null || fields.value !== null) ? {\n            fields: fieldProperty, showIcon: iconCss, ariaAttributes: { groupItemRole: 'presentation' }\n        } : { fields: { value: 'text' } };\n        extend(this.listCurrentOptions, this.listCurrentOptions, fields, true);\n        if (this.mode === 'CheckBox') {\n            this.notify('listoption', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', dataSource: dataSource, fieldProperty: fieldProperty });\n        }\n        return this.listCurrentOptions;\n    };\n    MultiSelect.prototype.renderPopup = function () {\n        var _this = this;\n        if (!this.list) {\n            _super.prototype.render.call(this);\n        }\n        if (!this.popupObj) {\n            var args = { cancel: false };\n            this.trigger('beforeOpen', args);\n            if (args.cancel) {\n                return;\n            }\n            document.body.appendChild(this.popupWrapper);\n            var overAllHeight = parseInt(this.popupHeight, 10);\n            this.popupWrapper.style.visibility = 'hidden';\n            if (this.headerTemplate) {\n                this.setHeaderTemplate();\n                overAllHeight -= this.header.offsetHeight;\n            }\n            append([this.list], this.popupWrapper);\n            if (this.footerTemplate) {\n                this.setFooterTemplate();\n                overAllHeight -= this.footer.offsetHeight;\n            }\n            if (this.mode === 'CheckBox' && this.showSelectAll) {\n                this.notify('selectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n                overAllHeight -= this.selectAllHeight;\n            }\n            else if (this.mode === 'CheckBox' && !this.showSelectAll && (!this.headerTemplate || !this.footerTemplate)) {\n                this.notify('selectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n                overAllHeight = parseInt(this.popupHeight, 10);\n            }\n            else if (this.mode === 'CheckBox' && !this.showSelectAll) {\n                this.notify('selectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n                overAllHeight = parseInt(this.popupHeight, 10);\n                if (this.headerTemplate && this.header) {\n                    overAllHeight -= this.header.offsetHeight;\n                }\n                if (this.footerTemplate && this.footer) {\n                    overAllHeight -= this.footer.offsetHeight;\n                }\n            }\n            if (this.mode === 'CheckBox') {\n                var args_1 = {\n                    module: 'CheckBoxSelection',\n                    enable: this.mode === 'CheckBox',\n                    popupElement: this.popupWrapper\n                };\n                this.notify('searchBox', args_1);\n                overAllHeight -= this.searchBoxHeight;\n                addClass([this.popupWrapper], 'e-checkbox');\n            }\n            if (this.popupHeight !== 'auto') {\n                this.list.style.maxHeight = formatUnit(overAllHeight);\n                this.popupWrapper.style.maxHeight = formatUnit(this.popupHeight);\n            }\n            else {\n                this.list.style.maxHeight = formatUnit(this.popupHeight);\n            }\n            this.popupObj = new Popup(this.popupWrapper, {\n                width: this.calcPopupWidth(), targetType: 'relative', position: { X: 'left', Y: 'bottom' },\n                relateTo: this.overAllWrapper, collision: { X: 'flip', Y: 'flip' }, offsetY: 1,\n                enableRtl: this.enableRtl,\n                zIndex: this.zIndex,\n                close: function () {\n                    if (_this.popupObj.element.parentElement) {\n                        detach(_this.popupObj.element);\n                    }\n                },\n                open: function () {\n                    _this.notify('inputFocus', { module: 'CheckBoxSelection', enable: _this.mode === 'CheckBox', value: 'focus' });\n                }\n            });\n            this.popupObj.close();\n            this.popupWrapper.style.visibility = '';\n            if (this.mode === 'CheckBox' && Browser.isDevice) {\n                this.notify('deviceSearchBox', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n            }\n        }\n    };\n    MultiSelect.prototype.setHeaderTemplate = function () {\n        var compiledString;\n        if (this.header) {\n            this.header.remove();\n        }\n        this.header = this.createElement('div');\n        addClass([this.header], HEADER);\n        compiledString = compile(this.headerTemplate);\n        var elements = compiledString({});\n        for (var temp = 0; temp < elements.length; temp++) {\n            this.header.appendChild(elements[temp]);\n        }\n        if (this.mode === 'CheckBox' && this.showSelectAll) {\n            prepend([this.header], this.popupWrapper);\n        }\n        else {\n            append([this.header], this.popupWrapper);\n        }\n        EventHandler.add(this.header, 'mousedown', this.onListMouseDown, this);\n    };\n    MultiSelect.prototype.setFooterTemplate = function () {\n        var compiledString;\n        if (this.footer) {\n            this.footer.remove();\n        }\n        this.footer = this.createElement('div');\n        addClass([this.footer], FOOTER);\n        compiledString = compile(this.footerTemplate);\n        var elements = compiledString({});\n        for (var temp = 0; temp < elements.length; temp++) {\n            this.footer.appendChild(elements[temp]);\n        }\n        append([this.footer], this.popupWrapper);\n        EventHandler.add(this.footer, 'mousedown', this.onListMouseDown, this);\n    };\n    MultiSelect.prototype.ClearAll = function (e) {\n        if (this.enabled && !this.readonly) {\n            var temp = void 0;\n            var tempValues = this.value ? this.value.slice() : [];\n            if (this.value) {\n                for (temp = this.value[0]; this.value.length !== 0; temp = this.value[0]) {\n                    this.removeValue(temp, e);\n                }\n            }\n            if (this.mainList && this.listData && this.allowFiltering) {\n                var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n                this.onActionComplete(list, this.mainData);\n            }\n            this.focusAtFirstListItem();\n            this.updateDelimeter(this.delimiterChar);\n            if (this.mode !== 'Box') {\n                this.updateDelimView();\n            }\n            this.makeTextBoxEmpty();\n            if (this.isPopupOpen()) {\n                this.refreshPopup();\n            }\n            if (!this.inputFocus) {\n                this.updateValueState(e, this.value, tempValues);\n                if (this.mode !== 'CheckBox') {\n                    this.inputElement.focus();\n                }\n            }\n            if (this.mode === 'CheckBox') {\n                this.refreshPlaceHolder();\n                this.refreshInputHight();\n            }\n            e.preventDefault();\n        }\n    };\n    MultiSelect.prototype.windowResize = function () {\n        this.refreshPopup();\n        if (!this.inputFocus && this.viewWrapper && this.viewWrapper.parentElement) {\n            this.updateDelimView();\n        }\n    };\n    MultiSelect.prototype.resetValueHandler = function () {\n        this.value = null;\n    };\n    MultiSelect.prototype.wireEvent = function () {\n        EventHandler.add(this.componentWrapper, 'mousedown', this.wrapperClick, this);\n        EventHandler.add(window, 'resize', this.windowResize, this);\n        EventHandler.add(this.inputElement, 'focus', this.focusIn, this);\n        EventHandler.add(this.inputElement, 'keydown', this.onKeyDown, this);\n        EventHandler.add(this.inputElement, 'keyup', this.KeyUp, this);\n        if (this.mode !== 'CheckBox') {\n            EventHandler.add(this.inputElement, 'input', this.onInput, this);\n        }\n        EventHandler.add(this.inputElement, 'blur', this.onBlur, this);\n        EventHandler.add(this.componentWrapper, 'mousemove', this.mouseIn, this);\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement) {\n            EventHandler.add(formElement, 'reset', this.resetValueHandler, this);\n        }\n        EventHandler.add(this.componentWrapper, 'mouseout', this.mouseOut, this);\n        EventHandler.add(this.overAllClear, 'mouseup', this.ClearAll, this);\n    };\n    MultiSelect.prototype.onInput = function () {\n        if (this.keyDownStatus) {\n            this.isValidKey = true;\n        }\n        else {\n            this.isValidKey = false;\n        }\n        this.keyDownStatus = false;\n    };\n    MultiSelect.prototype.preRender = function () {\n        this.initializeData();\n        _super.prototype.preRender.call(this);\n    };\n    MultiSelect.prototype.initializeData = function () {\n        this.mainListCollection = [];\n        this.beforePopupOpen = false;\n        this.filterAction = false;\n        this.remoteFilterAction = false;\n        this.isFirstClick = false;\n        this.mobFilter = true;\n        this.isFiltered = false;\n        this.focused = true;\n        this.initial = true;\n        this.backCommand = true;\n    };\n    MultiSelect.prototype.updateData = function (delimiterChar) {\n        var data = '';\n        var delim = this.mode === 'Delimiter' || this.mode === 'CheckBox';\n        var text = [];\n        var temp;\n        var tempData = this.listData;\n        this.listData = this.mainData;\n        this.hiddenElement.innerHTML = '';\n        if (!isNullOrUndefined(this.value)) {\n            for (var index = 0; !isNullOrUndefined(this.value[index]); index++) {\n                if (this.listData) {\n                    temp = this.getTextByValue(this.value[index]);\n                }\n                else {\n                    temp = this.value[index];\n                }\n                data += temp + delimiterChar + ' ';\n                text.push(temp);\n                this.hiddenElement.innerHTML += '<option selected value =\"' + this.value[index] + '\">' + index + '</option>';\n            }\n        }\n        this.text = text.toString();\n        if (delim) {\n            this.delimiterWrapper.innerHTML = data;\n        }\n        this.listData = tempData;\n    };\n    MultiSelect.prototype.initialValueUpdate = function () {\n        if (this.list) {\n            var text = void 0;\n            var textField = void 0;\n            var valueField = void 0;\n            var element = void 0;\n            var value = void 0;\n            if (this.chipCollectionWrapper) {\n                this.chipCollectionWrapper.innerHTML = '';\n            }\n            this.removeListSelection();\n            if (!isNullOrUndefined(this.value)) {\n                for (var index = 0; !isNullOrUndefined(this.value[index]); index++) {\n                    value = this.value[index];\n                    element = this.hideSelectedItem ? this.ulElement.querySelector('li[data-value=\"' + value + '\"]')\n                        : this.list.querySelector('li[data-value=\"' + value + '\"]');\n                    text = this.getTextByValue(value);\n                    if ((element && (element.getAttribute('aria-selected') !== 'true')) ||\n                        (element && (element.getAttribute('aria-selected') === 'true' && this.hideSelectedItem) &&\n                            (this.mode === 'Box' || this.mode === 'Default'))) {\n                        this.addChip(text, value);\n                        this.addListSelection(element);\n                    }\n                    else if (value && this.allowCustomValue) {\n                        var indexItem = this.listData.length;\n                        var newValue = {};\n                        setValue(this.fields.text, value, newValue);\n                        setValue(this.fields.value, value, newValue);\n                        this.addItem(newValue, indexItem);\n                        this.addChip(text, value);\n                        this.addListSelection(element);\n                    }\n                }\n            }\n            if (this.mode === 'CheckBox') {\n                this.updateDelimView();\n                this.updateValueState(null, this.value, this.tempValues);\n                this.refreshInputHight();\n                this.updateDelimeter(this.delimiterChar);\n            }\n            else {\n                this.updateDelimeter(this.delimiterChar);\n            }\n            if (this.mode === 'CheckBox' && this.showSelectAll && isNullOrUndefined(this.value)) {\n                this.notify('checkSelectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', value: 'uncheck' });\n            }\n            if (!this.inputFocus) {\n                if (this.mode === 'Box') {\n                    this.chipCollectionWrapper.style.display = '';\n                }\n                else if (this.mode === 'Delimiter' || this.mode === 'CheckBox') {\n                    this.showDelimWrapper();\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.isValidLI = function (li) {\n        return (li && !li.classList.contains(dropDownBaseClasses.disabled) && !li.classList.contains(dropDownBaseClasses.group) &&\n            li.classList.contains(dropDownBaseClasses.li));\n    };\n    ;\n    MultiSelect.prototype.updateListSelection = function (li, e, length) {\n        var value = this.getFormattedValue(li.getAttribute('data-value'));\n        var text = this.getTextByValue(value);\n        this.removeHover();\n        if (!this.value || this.value.indexOf(value) === -1) {\n            var argsCancel = this.dispatchSelect(value, e, li, (li.getAttribute('aria-selected') === 'true'), length);\n            if (argsCancel) {\n                return;\n            }\n            if ((this.allowCustomValue || this.allowFiltering) && !this.mainList.querySelector('li[data-value=\"' + value + '\"]')) {\n                var temp = li.cloneNode(true);\n                var data = this.getDataByValue(value);\n                append([temp], this.mainList);\n                this.mainData.push(data);\n                var eventArgs = {\n                    newData: data,\n                    cancel: false\n                };\n                this.trigger('customValueSelection', eventArgs);\n                if (eventArgs.cancel) {\n                    return;\n                }\n            }\n            this.remoteCustomValue = false;\n            this.addValue(value, text, e);\n        }\n        else {\n            this.removeValue(value, e, length);\n        }\n    };\n    MultiSelect.prototype.removeListSelection = function () {\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        var selectedItems = this.list.querySelectorAll('.' + className);\n        var temp = selectedItems.length;\n        if (selectedItems && selectedItems.length) {\n            removeClass(selectedItems, className);\n            while (temp > 0) {\n                selectedItems[temp - 1].setAttribute('aria-selected', 'false');\n                temp--;\n            }\n        }\n        if (!isNullOrUndefined(this.mainList)) {\n            var selectItems = this.mainList.querySelectorAll('.' + className);\n            var temp1 = selectItems.length;\n            if (selectItems && selectItems.length) {\n                removeClass(selectItems, className);\n                while (temp1 > 0) {\n                    selectItems[temp1 - 1].setAttribute('aria-selected', 'false');\n                    if (this.mode === 'CheckBox') {\n                        selectItems[temp1 - 1].firstElementChild.setAttribute('aria-checked', 'false');\n                        removeClass([selectItems[temp1 - 1].firstElementChild.lastElementChild], 'e-check');\n                    }\n                    temp1--;\n                }\n            }\n        }\n    };\n    ;\n    MultiSelect.prototype.removeHover = function () {\n        var hoveredItem = this.list.querySelectorAll('.' + dropDownBaseClasses.hover);\n        if (hoveredItem && hoveredItem.length) {\n            removeClass(hoveredItem, dropDownBaseClasses.hover);\n        }\n    };\n    ;\n    MultiSelect.prototype.removeFocus = function () {\n        if (this.list) {\n            var hoveredItem = this.list.querySelectorAll('.' + dropDownBaseClasses.focus);\n            var mainlist = this.mainList.querySelectorAll('.' + dropDownBaseClasses.focus);\n            if (hoveredItem && hoveredItem.length) {\n                removeClass(hoveredItem, dropDownBaseClasses.focus);\n                removeClass(mainlist, dropDownBaseClasses.focus);\n            }\n        }\n    };\n    ;\n    MultiSelect.prototype.addListHover = function (li) {\n        if (this.enabled && this.isValidLI(li)) {\n            this.removeHover();\n            addClass([li], dropDownBaseClasses.hover);\n        }\n    };\n    ;\n    MultiSelect.prototype.addListFocus = function (element) {\n        if (this.enabled && this.isValidLI(element)) {\n            this.removeFocus();\n            addClass([element], dropDownBaseClasses.focus);\n        }\n    };\n    MultiSelect.prototype.addListSelection = function (element) {\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        if (this.isValidLI(element) && !element.classList.contains(dropDownBaseClasses.hover)) {\n            addClass([element], className);\n            this.updateMainList(false, element.getAttribute('data-value'));\n            element.setAttribute('aria-selected', 'true');\n            if (this.mode === 'CheckBox') {\n                var ariaCheck = element.firstElementChild.getAttribute('aria-checked');\n                if (ariaCheck === 'false' || isNullOrUndefined(ariaCheck)) {\n                    this.notify('updatelist', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', li: element, e: this });\n                }\n            }\n            this.notify('activeList', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', li: element, e: this });\n            if (this.chipCollectionWrapper !== null) {\n                this.removeChipSelection();\n            }\n            attributes(this.inputElement, { 'aria-activedescendant': element.id });\n        }\n    };\n    MultiSelect.prototype.updateDelimeter = function (delimChar) {\n        this.updateData(delimChar);\n    };\n    MultiSelect.prototype.onMouseClick = function (e) {\n        this.scrollFocusStatus = false;\n        var target = e.target;\n        var li = closest(target, '.' + dropDownBaseClasses.li);\n        if (this.isValidLI(li)) {\n            var limit = this.value && this.value.length ? this.value.length : 0;\n            if (li.classList.contains('e-active')) {\n                limit = limit - 1;\n            }\n            if (limit < this.maximumSelectionLength) {\n                this.updateListSelection(li, e);\n                this.addListFocus(li);\n                if ((this.allowCustomValue || this.allowFiltering) && this.mainList && this.listData) {\n                    if (this.mode !== 'CheckBox') {\n                        this.focusAtLastListItem(li.getAttribute('data-value'));\n                    }\n                    this.refreshSelection();\n                }\n                else {\n                    this.makeTextBoxEmpty();\n                }\n            }\n            if (this.mode === 'CheckBox') {\n                this.updateDelimView();\n                this.refreshInputHight();\n                this.updateDelimeter(this.delimiterChar);\n            }\n            else {\n                this.updateDelimeter(this.delimiterChar);\n            }\n            this.checkSelectAll();\n            this.refreshPopup();\n            if (this.hideSelectedItem) {\n                this.focusAtFirstListItem();\n            }\n            if (this.closePopupOnSelect) {\n                this.hidePopup();\n            }\n            else {\n                e.preventDefault();\n            }\n            this.makeTextBoxEmpty();\n        }\n        else {\n            e.preventDefault();\n        }\n        if (this.mode !== 'CheckBox') {\n            this.refreshListItems(isNullOrUndefined(li) ? null : li.textContent);\n        }\n        this.refreshPlaceHolder();\n    };\n    MultiSelect.prototype.onMouseOver = function (e) {\n        var currentLi = closest(e.target, '.' + dropDownBaseClasses.li);\n        this.addListHover(currentLi);\n    };\n    MultiSelect.prototype.onMouseLeave = function (e) {\n        this.removeHover();\n    };\n    MultiSelect.prototype.onListMouseDown = function (e) {\n        e.preventDefault();\n        this.scrollFocusStatus = true;\n    };\n    MultiSelect.prototype.onDocumentClick = function (e) {\n        if (this.mode !== 'CheckBox') {\n            var target = e.target;\n            if (!(!isNullOrUndefined(this.popupObj) && closest(target, '#' + this.popupObj.element.id)) &&\n                !this.overAllWrapper.contains(e.target)) {\n                this.scrollFocusStatus = false;\n            }\n            else {\n                this.scrollFocusStatus = (Browser.isIE || Browser.info.name === 'edge') && (document.activeElement === this.inputElement);\n            }\n        }\n    };\n    MultiSelect.prototype.wireListEvents = function () {\n        EventHandler.add(document, 'mousedown', this.onDocumentClick, this);\n        EventHandler.add(this.list, 'mousedown', this.onListMouseDown, this);\n        EventHandler.add(this.list, 'mouseup', this.onMouseClick, this);\n        EventHandler.add(this.list, 'mouseover', this.onMouseOver, this);\n        EventHandler.add(this.list, 'mouseout', this.onMouseLeave, this);\n    };\n    ;\n    MultiSelect.prototype.unwireListEvents = function () {\n        EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n        if (this.list) {\n            EventHandler.remove(this.list, 'mousedown', this.onListMouseDown);\n            EventHandler.remove(this.list, 'mouseup', this.onMouseClick);\n            EventHandler.remove(this.list, 'mouseover', this.onMouseOver);\n            EventHandler.remove(this.list, 'mouseout', this.onMouseLeave);\n        }\n    };\n    ;\n    MultiSelect.prototype.hideOverAllClear = function () {\n        if (!this.value || !this.value.length || this.inputElement.value === '') {\n            this.overAllClear.style.display = 'none';\n        }\n    };\n    MultiSelect.prototype.showOverAllClear = function () {\n        if ((this.value && this.value.length) || this.inputElement.value !== '') {\n            this.overAllClear.style.display = '';\n        }\n        else {\n            this.overAllClear.style.display = 'none';\n        }\n    };\n    /**\n     * Shows the spinner loader.\n     * @returns void.\n     */\n    MultiSelect.prototype.showSpinner = function () {\n        if (isNullOrUndefined(this.spinnerElement)) {\n            if (this.overAllClear.style.display !== 'none') {\n                this.spinnerElement = this.overAllClear;\n            }\n            else {\n                this.spinnerElement = this.createElement('span', { className: CLOSEICON_CLASS + ' ' + SPINNER_CLASS });\n                this.componentWrapper.appendChild(this.spinnerElement);\n            }\n            createSpinner({ target: this.spinnerElement, width: Browser.isDevice ? '16px' : '14px' }, this.createElement);\n            addClass([this.spinnerElement], DISABLE_ICON);\n            showSpinner(this.spinnerElement);\n        }\n    };\n    /**\n     * Hides the spinner loader.\n     * @returns void.\n     */\n    MultiSelect.prototype.hideSpinner = function () {\n        if (!isNullOrUndefined(this.spinnerElement)) {\n            hideSpinner(this.spinnerElement);\n            removeClass([this.spinnerElement], DISABLE_ICON);\n            if (this.spinnerElement.classList.contains(SPINNER_CLASS)) {\n                detach(this.spinnerElement);\n            }\n            else {\n                this.spinnerElement.innerHTML = '';\n            }\n            this.spinnerElement = null;\n        }\n    };\n    MultiSelect.prototype.updateDelimView = function () {\n        if (this.delimiterWrapper) {\n            this.hideDelimWrapper();\n        }\n        if (this.chipCollectionWrapper) {\n            this.chipCollectionWrapper.style.display = 'none';\n        }\n        this.viewWrapper.style.display = '';\n        if (this.value && this.value.length) {\n            var data = '';\n            var temp = void 0;\n            var tempData = void 0;\n            var tempIndex = 1;\n            var wrapperleng = void 0;\n            var remaining = void 0;\n            this.viewWrapper.innerHTML = '';\n            var l10nLocale = {\n                noRecordsTemplate: 'No Records Found',\n                actionFailureTemplate: 'The Request Failed',\n                overflowCountTemplate: '+${count} more..'\n            };\n            var l10n = new L10n('dropdowns', l10nLocale, this.locale);\n            var remainContent = l10n.getConstant('overflowCountTemplate');\n            var raminElement = this.createElement('span', {\n                className: REMAIN_WRAPPER\n            });\n            var compiledString = compile(remainContent);\n            raminElement.appendChild(compiledString({ 'count': this.value.length })[0]);\n            this.viewWrapper.appendChild(raminElement);\n            var remainSize = raminElement.offsetWidth;\n            remove(raminElement);\n            this.viewWrapper.innerHTML = '';\n            var inputleng = this.searchWrapper.offsetWidth;\n            var overAllContainer = parseInt(window.getComputedStyle(this.componentWrapper).width, 10) -\n                parseInt(window.getComputedStyle(this.componentWrapper).paddingLeft, 10) -\n                parseInt(window.getComputedStyle(this.componentWrapper).paddingRight, 10);\n            var remainValue = void 0;\n            if (!isNullOrUndefined(this.value)) {\n                for (var index = 0; !isNullOrUndefined(this.value[index]); index++) {\n                    data += (index === 0) ? '' : this.delimiterChar + ' ';\n                    if (this.mainData && this.mainData.length) {\n                        if (this.mode === 'CheckBox') {\n                            remainValue = 110;\n                            var newTemp = this.listData;\n                            this.listData = this.mainData;\n                            temp = this.getTextByValue(this.value[index]);\n                            this.listData = newTemp;\n                        }\n                        else {\n                            remainValue = 0;\n                            temp = this.getTextByValue(this.value[index]);\n                        }\n                    }\n                    else {\n                        temp = this.value[index];\n                    }\n                    data += temp;\n                    temp = this.viewWrapper.innerHTML;\n                    this.viewWrapper.innerHTML = data;\n                    wrapperleng = this.viewWrapper.offsetWidth;\n                    if ((wrapperleng) > overAllContainer - remainValue) {\n                        if (tempData !== undefined) {\n                            temp = tempData;\n                            index = tempIndex + 1;\n                        }\n                        this.viewWrapper.innerHTML = temp;\n                        remaining = this.value.length - index;\n                        break;\n                    }\n                    else if ((wrapperleng + remainSize) <= overAllContainer) {\n                        tempData = data;\n                        tempIndex = index;\n                    }\n                    else if (index === 0) {\n                        tempData = '';\n                        tempIndex = -1;\n                    }\n                }\n            }\n            if (remaining > 0) {\n                raminElement.innerHTML = '';\n                raminElement.appendChild(compiledString({ 'count': remaining })[0]);\n                this.viewWrapper.appendChild(raminElement);\n            }\n        }\n        else {\n            this.viewWrapper.innerHTML = '';\n            this.viewWrapper.style.display = 'none';\n        }\n    };\n    MultiSelect.prototype.unWireEvent = function () {\n        EventHandler.remove(this.componentWrapper, 'mousedown', this.wrapperClick);\n        EventHandler.remove(window, 'resize', this.windowResize);\n        EventHandler.remove(this.inputElement, 'focus', this.focusIn);\n        EventHandler.remove(this.inputElement, 'keydown', this.onKeyDown);\n        if (this.mode !== 'CheckBox') {\n            EventHandler.remove(this.inputElement, 'input', this.onInput);\n        }\n        EventHandler.remove(this.inputElement, 'keyup', this.KeyUp);\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement) {\n            EventHandler.remove(formElement, 'reset', this.resetValueHandler);\n        }\n        EventHandler.remove(this.inputElement, 'blur', this.onBlur);\n        EventHandler.remove(this.componentWrapper, 'mousemove', this.mouseIn);\n        EventHandler.remove(this.componentWrapper, 'mouseout', this.mouseOut);\n        EventHandler.remove(this.overAllClear, 'mousedown', this.ClearAll);\n    };\n    MultiSelect.prototype.selectAllItem = function (state) {\n        var li;\n        li = this.list.querySelectorAll(state ?\n            'li.e-list-item:not([aria-selected=\"true\"]):not(.e-reorder-hide)' :\n            'li[aria-selected=\"true\"]:not(.e-reorder-hide)');\n        var length = li.length;\n        if (li && li.length) {\n            while (length > 0) {\n                this.updateListSelection(li[length - 1], null, length);\n                length--;\n            }\n        }\n        if (this.mode !== 'Box' && !this.isPopupOpen()) {\n            this.updateDelimView();\n        }\n        else {\n            this.searchWrapper.classList.remove(ZERO_SIZE);\n        }\n        if (this.mode === 'CheckBox') {\n            this.updateDelimView();\n            this.refreshInputHight();\n            this.updateDelimeter(this.delimiterChar);\n        }\n        else {\n            this.updateDelimeter(this.delimiterChar);\n        }\n        this.refreshPlaceHolder();\n    };\n    MultiSelect.prototype.setZIndex = function () {\n        if (this.popupObj) {\n            this.popupObj.setProperties({ 'zIndex': this.zIndex });\n        }\n    };\n    MultiSelect.prototype.updateDataSource = function (prop) {\n        if (isNullOrUndefined(this.list)) {\n            this.renderPopup();\n        }\n        else {\n            this.resetList(this.dataSource);\n        }\n        if (this.value && this.value.length) {\n            this.refreshSelection();\n        }\n    };\n    MultiSelect.prototype.onLoadSelect = function () {\n        this.setDynValue = true;\n        this.renderPopup();\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     */\n    MultiSelect.prototype.getPersistData = function () {\n        return this.addOnPersist(['value']);\n    };\n    ;\n    /**\n     * Dynamically change the value of properties.\n     * @private\n     */\n    MultiSelect.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (newProp.dataSource && !isNullOrUndefined(Object.keys(newProp.dataSource))) {\n            this.mainList = null;\n            this.mainData = null;\n        }\n        this.setUpdateInitial(['query', 'dataSource'], newProp);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'query':\n                case 'dataSource':\n                    if (this.mode === 'CheckBox' && this.showSelectAll) {\n                        if (!isNullOrUndefined(this.popupObj)) {\n                            this.popupObj.destroy();\n                            this.popupObj = null;\n                        }\n                        this.renderPopup();\n                    }\n                    break;\n                case 'htmlAttributes':\n                    this.updateHTMLAttribute();\n                    break;\n                case 'showClearButton':\n                    this.updateClearButton(newProp.showClearButton);\n                    break;\n                case 'value':\n                    if (!this.list) {\n                        this.onLoadSelect();\n                    }\n                    else if (!this.inputFocus) {\n                        this.initialValueUpdate();\n                        if (this.mode !== 'Box') {\n                            this.updateDelimView();\n                        }\n                        this.refreshInputHight();\n                        this.refreshPlaceHolder();\n                        this.updateValueState(null, this.value, oldProp.value);\n                    }\n                    break;\n                case 'width':\n                    setStyleAttribute(this.overAllWrapper, { 'width': formatUnit(newProp.width) });\n                    this.popupObj.setProperties({ width: this.calcPopupWidth() });\n                    break;\n                case 'placeholder':\n                    this.refreshPlaceHolder();\n                    break;\n                case 'filterBarPlaceholder':\n                    this.notify('filterBarPlaceholder', { filterBarPlaceholder: newProp.filterBarPlaceholder });\n                    break;\n                case 'delimiterChar':\n                    if (this.mode !== 'Box') {\n                        this.updateDelimView();\n                    }\n                    this.updateData(newProp.delimiterChar);\n                    break;\n                case 'cssClass':\n                    this.popupWrapper.classList.remove(oldProp.cssClass);\n                    this.overAllWrapper.classList.remove(oldProp.cssClass);\n                    this.updateCssClass();\n                    break;\n                case 'enableRtl':\n                    this.enableRTL(newProp.enableRtl);\n                    _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n                    break;\n                case 'readonly':\n                    this.updateReadonly(newProp.readonly);\n                    this.hidePopup();\n                    break;\n                case 'enabled':\n                    this.hidePopup();\n                    this.enable(newProp.enabled);\n                    break;\n                case 'showSelectAll':\n                    if (this.popupObj) {\n                        this.popupObj.destroy();\n                        this.popupObj = null;\n                    }\n                    this.renderPopup();\n                    break;\n                case 'showDropDownIcon':\n                    this.dropDownIcon();\n                    break;\n                case 'floatLabelType':\n                    this.setFloatLabelType();\n                    break;\n                case 'enableSelectionOrder':\n                    break;\n                case 'selectAllText':\n                    this.notify('selectAllText', false);\n                    break;\n                case 'popupHeight':\n                case 'headerTemplate':\n                case 'footerTemplate':\n                    if (this.popupObj) {\n                        this.popupObj.destroy();\n                        this.popupObj = null;\n                    }\n                    this.renderPopup();\n                    break;\n                default:\n                    var msProps = void 0;\n                    msProps = this.getPropObject(prop, newProp, oldProp);\n                    _super.prototype.onPropertyChanged.call(this, msProps.newProperty, msProps.oldProperty);\n                    break;\n            }\n        }\n    };\n    /**\n     * Hides the popup, if the popup in a open state.\n     * @returns void\n     */\n    MultiSelect.prototype.hidePopup = function () {\n        var delay = 100;\n        if (this.isPopupOpen()) {\n            var animModel = {\n                name: 'FadeOut',\n                duration: 100,\n                delay: delay ? delay : 0\n            };\n            var eventArgs = { popup: this.popupObj, cancel: false, animation: animModel };\n            this.trigger('close', eventArgs);\n            if (eventArgs.cancel) {\n                return;\n            }\n            this.beforePopupOpen = false;\n            this.overAllWrapper.classList.remove(iconAnimation);\n            this.popupObj.hide(new Animation(eventArgs.animation));\n            attributes(this.inputElement, { 'aria-expanded': 'false' });\n            this.notify('inputFocus', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', value: 'clear' });\n            this.popupObj.hide();\n            removeClass([document.body, this.popupObj.element], 'e-popup-full-page');\n        }\n    };\n    /**\n     * Shows the popup, if the popup in a closed state.\n     * @returns void\n     */\n    MultiSelect.prototype.showPopup = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (!this.ulElement) {\n            this.beforePopupOpen = true;\n            _super.prototype.render.call(this);\n            return;\n        }\n        var mainLiLength = this.ulElement.querySelectorAll('li.' + 'e-list-item').length;\n        var liLength = this.ulElement.querySelectorAll('li.'\n            + dropDownBaseClasses.li + '.' + HIDE_LIST).length;\n        if (mainLiLength > 0 && (mainLiLength === liLength) && (liLength === this.mainData.length)) {\n            this.beforePopupOpen = false;\n            return;\n        }\n        this.onPopupShown();\n    };\n    /**\n     * Based on the state parameter, entire list item will be selected/deselected.\n     * parameter\n     * `true`   - Selects entire list items.\n     * `false`  - Un Selects entire list items.\n     * @returns void\n     */\n    MultiSelect.prototype.selectAll = function (state) {\n        var _this = this;\n        if (isNullOrUndefined(this.list)) {\n            this.selectAllAction = function () {\n                if (_this.mode === 'CheckBox' && _this.showSelectAll) {\n                    var args = {\n                        module: 'CheckBoxSelection',\n                        enable: _this.mode === 'CheckBox',\n                        value: state ? 'check' : 'uncheck'\n                    };\n                    _this.notify('checkSelectAll', args);\n                }\n                _this.selectAllItem(state);\n                _this.selectAllAction = null;\n            };\n            _super.prototype.render.call(this);\n        }\n        else {\n            this.selectAllAction = null;\n            if (this.mode === 'CheckBox' && this.showSelectAll) {\n                var args = {\n                    module: 'CheckBoxSelection',\n                    enable: this.mode === 'CheckBox',\n                    value: state ? 'check' : 'uncheck'\n                };\n                this.notify('checkSelectAll', args);\n            }\n            this.selectAllItem(state);\n        }\n    };\n    MultiSelect.prototype.getModuleName = function () {\n        return 'multiselect';\n    };\n    ;\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    MultiSelect.prototype.render = function () {\n        var _this = this;\n        this.initStatus = false;\n        this.setDynValue = false;\n        this.searchWrapper = this.createElement('span', { className: SEARCHBOX_WRAPPER });\n        this.viewWrapper = this.createElement('span', { className: DELIMITER_VIEW + ' ' + DELIMITER_WRAPPER, styles: 'display:none;' });\n        var iconClass;\n        this.overAllClear = this.createElement('span', {\n            className: CLOSEICON_CLASS, styles: 'display:none;'\n        });\n        this.componentWrapper = this.createElement('div', { className: ELEMENT_WRAPPER });\n        this.overAllWrapper = this.createElement('div', { className: OVER_ALL_WRAPPER });\n        if (this.mode === 'CheckBox') {\n            addClass([this.overAllWrapper], 'e-checkbox');\n        }\n        if (Browser.isDevice) {\n            this.componentWrapper.classList.add(ELEMENT_MOBILE_WRAPPER);\n        }\n        this.overAllWrapper.style.width = formatUnit(this.width);\n        this.overAllWrapper.appendChild(this.componentWrapper);\n        this.popupWrapper = this.createElement('div', { id: this.element.id + '_popup', className: POPUP_WRAPPER });\n        if (this.mode === 'Delimiter' || this.mode === 'CheckBox') {\n            this.delimiterWrapper = this.createElement('span', { className: DELIMITER_WRAPPER, styles: 'display:none' });\n            this.componentWrapper.appendChild(this.delimiterWrapper);\n        }\n        else {\n            this.chipCollectionWrapper = this.createElement('span', {\n                className: CHIP_WRAPPER,\n                styles: 'display:none'\n            });\n            this.componentWrapper.appendChild(this.chipCollectionWrapper);\n        }\n        if (this.mode !== 'Box') {\n            this.componentWrapper.appendChild(this.viewWrapper);\n        }\n        this.componentWrapper.appendChild(this.searchWrapper);\n        if (this.showClearButton && !Browser.isDevice) {\n            this.componentWrapper.appendChild(this.overAllClear);\n        }\n        else {\n            this.componentWrapper.classList.add(CLOSE_ICON_HIDE);\n        }\n        this.dropDownIcon();\n        this.inputElement = this.createElement('input', {\n            className: INPUT_ELEMENT,\n            attrs: {\n                spellcheck: 'false',\n                type: 'text',\n                autocomplete: 'off',\n                tabindex: '0'\n            }\n        });\n        if (this.element.tagName !== this.getNgDirective()) {\n            this.element.style.display = 'none';\n        }\n        if (this.element.tagName === this.getNgDirective()) {\n            this.element.appendChild(this.overAllWrapper);\n            this.searchWrapper.appendChild(this.inputElement);\n        }\n        else {\n            this.element.parentElement.insertBefore(this.overAllWrapper, this.element);\n            this.searchWrapper.appendChild(this.inputElement);\n            this.searchWrapper.appendChild(this.element);\n            this.element.removeAttribute('tabindex');\n        }\n        if (this.floatLabelType !== 'Never') {\n            createFloatLabel(this.overAllWrapper, this.searchWrapper, this.element, this.inputElement, this.value, this.floatLabelType, this.placeholder);\n        }\n        else if (this.floatLabelType === 'Never') {\n            this.refreshPlaceHolder();\n        }\n        this.element.style.opacity = '';\n        var id = this.element.getAttribute('id') ? this.element.getAttribute('id') : getUniqueID('ej2_dropdownlist');\n        this.element.id = id;\n        this.hiddenElement = this.createElement('select', {\n            attrs: { 'aria-hidden': 'true', 'class': HIDDEN_ELEMENT, 'tabindex': '-1', 'multiple': 'true' }\n        });\n        this.componentWrapper.appendChild(this.hiddenElement);\n        this.validationAttribute(this.element, this.hiddenElement);\n        if (this.mode !== 'CheckBox') {\n            this.hideOverAllClear();\n        }\n        this.wireEvent();\n        this.enable(this.enabled);\n        this.enableRTL(this.enableRtl);\n        if (this.value && this.value.length) {\n            this.renderPopup();\n            if (!(this.dataSource instanceof DataManager)) {\n                this.initialValueUpdate();\n                this.initialUpdate();\n            }\n            else {\n                this.setInitialValue = function () {\n                    _this.initStatus = false;\n                    _this.initialValueUpdate();\n                    _this.initialUpdate();\n                    _this.setInitialValue = null;\n                    _this.initStatus = true;\n                };\n            }\n        }\n        else {\n            this.initialUpdate();\n        }\n        this.initStatus = true;\n        this.checkAutoFocus();\n    };\n    MultiSelect.prototype.checkAutoFocus = function () {\n        if (this.element.hasAttribute('autofocus')) {\n            this.focusIn();\n        }\n    };\n    MultiSelect.prototype.setFloatLabelType = function () {\n        removeFloating(this.overAllWrapper, this.componentWrapper, this.searchWrapper, this.inputElement, this.value, this.floatLabelType, this.placeholder);\n        if (this.floatLabelType !== 'Never') {\n            createFloatLabel(this.overAllWrapper, this.searchWrapper, this.element, this.inputElement, this.value, this.floatLabelType, this.placeholder);\n        }\n    };\n    MultiSelect.prototype.dropDownIcon = function () {\n        if (this.mode === 'CheckBox' && this.showDropDownIcon) {\n            this.dropIcon = this.createElement('span', { className: dropdownIcon });\n            this.componentWrapper.appendChild(this.dropIcon);\n            addClass([this.componentWrapper], ['e-down-icon']);\n        }\n        else {\n            if (!isNullOrUndefined(this.dropIcon)) {\n                this.dropIcon.parentElement.removeChild(this.dropIcon);\n                removeClass([this.componentWrapper], ['e-down-icon']);\n            }\n        }\n    };\n    MultiSelect.prototype.initialUpdate = function () {\n        if (this.mode !== 'Box') {\n            this.updateDelimView();\n        }\n        this.updateCssClass();\n        this.updateHTMLAttribute();\n        this.updateReadonly(this.readonly);\n        this.refreshInputHight();\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n     * @method destroy\n     * @return {void}\n     */\n    MultiSelect.prototype.destroy = function () {\n        if (this.popupObj) {\n            this.popupObj.hide();\n        }\n        this.notify(destroy, {});\n        this.unwireListEvents();\n        this.unWireEvent();\n        this.list = null;\n        this.popupObj = null;\n        this.mainList = null;\n        this.mainData = null;\n        _super.prototype.destroy.call(this);\n        var temp = ['readonly', 'aria-disabled', 'aria-placeholder', 'placeholder'];\n        var length = temp.length;\n        while (length > 0) {\n            this.inputElement.removeAttribute(temp[length - 1]);\n            length--;\n        }\n        this.element.style.display = 'block';\n        if (this.overAllWrapper.parentElement) {\n            if (this.overAllWrapper.parentElement.tagName === this.getNgDirective()) {\n                remove(this.overAllWrapper);\n            }\n            else {\n                this.overAllWrapper.parentElement.insertBefore(this.element, this.overAllWrapper);\n                remove(this.overAllWrapper);\n            }\n        }\n    };\n    ;\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('100%')\n    ], MultiSelect.prototype, \"width\", void 0);\n    __decorate([\n        Property('300px')\n    ], MultiSelect.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], MultiSelect.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property({})\n    ], MultiSelect.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"valueTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"allowCustomValue\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(1000)\n    ], MultiSelect.prototype, \"maximumSelectionLength\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"value\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"hideSelectedItem\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"closePopupOnSelect\", void 0);\n    __decorate([\n        Property('Default')\n    ], MultiSelect.prototype, \"mode\", void 0);\n    __decorate([\n        Property(',')\n    ], MultiSelect.prototype, \"delimiterChar\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"showDropDownIcon\", void 0);\n    __decorate([\n        Property('Never')\n    ], MultiSelect.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"showSelectAll\", void 0);\n    __decorate([\n        Property('Select All')\n    ], MultiSelect.prototype, \"selectAllText\", void 0);\n    __decorate([\n        Property('Unselect All')\n    ], MultiSelect.prototype, \"unSelectAllText\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"enableSelectionOrder\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"openOnClick\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"removing\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"removed\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"selectedAll\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"blur\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"focus\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"chipSelection\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"filtering\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"tagging\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"customValueSelection\", void 0);\n    MultiSelect = __decorate([\n        NotifyPropertyChanges\n    ], MultiSelect);\n    return MultiSelect;\n}(DropDownBase));\nexport { MultiSelect };\n","import { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { EventHandler, select, removeClass, addClass, detach, compile, L10n } from '@syncfusion/ej2-base';\nimport { Browser, attributes, isNullOrUndefined, append, closest, prepend } from '@syncfusion/ej2-base';\nimport { dropDownBaseClasses } from '../drop-down-base/drop-down-base';\nvar ICON = 'e-icons';\nvar CHECKBOXFRAME = 'e-frame';\nvar CHECK = 'e-check';\nvar CHECKBOXWRAP = 'e-checkbox-wrapper';\nvar CHECKBOXRIPPLE = 'e-ripple-container';\nvar INDETERMINATE = 'e-stop';\nvar checkAllParent = 'e-selectall-parent';\nvar searchBackIcon = 'e-input-group-icon e-back-icon e-icons';\nvar filterBarClearIcon = 'e-input-group-icon e-clear-icon e-icons';\nvar filterInput = 'e-input-filter';\nvar filterParent = 'e-filter-parent';\nvar mobileFilter = 'e-ddl-device-filter';\nvar clearIcon = 'e-clear-icon';\nvar popupFullScreen = 'e-popup-full-page';\nvar device = 'e-ddl-device';\nvar FOCUS = 'e-input-focus';\n/**\n * The Multiselect enable CheckBoxSelection call this inject module.\n */\nvar CheckBoxSelection = /** @class */ (function () {\n    function CheckBoxSelection(parent) {\n        this.activeLi = [];\n        this.activeEle = [];\n        this.parent = parent;\n        this.addEventListener();\n    }\n    CheckBoxSelection.prototype.getModuleName = function () {\n        return 'CheckBoxSelection';\n    };\n    CheckBoxSelection.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on('updatelist', this.listSelection, this);\n        this.parent.on('listoption', this.listOption, this);\n        this.parent.on('selectAll', this.setSelectAll, this);\n        this.parent.on('checkSelectAll', this.checkSelectAll, this);\n        this.parent.on('searchBox', this.setSearchBox, this);\n        this.parent.on('blur', this.onBlur, this);\n        this.parent.on('targetElement', this.targetElement, this);\n        this.parent.on('deviceSearchBox', this.setDeviceSearchBox, this);\n        this.parent.on('inputFocus', this.getFocus, this);\n        this.parent.on('reOrder', this.setReorder, this);\n        this.parent.on('activeList', this.getActiveList, this);\n        this.parent.on('selectAllText', this.setLocale, this);\n        this.parent.on('filterBarPlaceholder', this.setPlaceholder, this);\n        EventHandler.add(document, 'mousedown', this.onDocumentClick, this);\n    };\n    CheckBoxSelection.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('updatelist', this.listSelection);\n        this.parent.off('listoption', this.listOption);\n        this.parent.off('selectAll', this.setSelectAll);\n        this.parent.off('checkSelectAll', this.checkSelectAll);\n        this.parent.off('searchBox', this.setSearchBox);\n        this.parent.off('blur', this.onBlur);\n        this.parent.off('targetElement', this.targetElement);\n        this.parent.off('deviceSearchBox', this.setDeviceSearchBox);\n        this.parent.off('inputFocus', this.getFocus);\n        this.parent.off('reOrder', this.setReorder);\n        this.parent.off('activeList', this.getActiveList);\n        this.parent.off('selectAllText', this.setLocale);\n        this.parent.off('filterBarPlaceholder', this.setPlaceholder);\n        EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n    };\n    CheckBoxSelection.prototype.listOption = function (args) {\n        var _this = this;\n        if (isNullOrUndefined(this.parent.listCurrentOptions.itemCreated)) {\n            this.parent.listCurrentOptions.itemCreated = function (e) {\n                _this.checboxCreate(e);\n            };\n        }\n        else {\n            var itemCreated_1 = this.parent.listCurrentOptions.itemCreated;\n            this.parent.listCurrentOptions.itemCreated = function (e) {\n                _this.checboxCreate(e);\n                itemCreated_1.apply(_this, [e]);\n            };\n        }\n    };\n    ;\n    CheckBoxSelection.prototype.setPlaceholder = function (props) {\n        Input.setPlaceholder(props.filterBarPlaceholder, this.filterInput);\n    };\n    CheckBoxSelection.prototype.checboxCreate = function (e) {\n        var item;\n        if (!isNullOrUndefined(e.item)) {\n            item = e.item;\n        }\n        else {\n            item = e;\n        }\n        if (item.className !== 'e-list-group-item ' && item.className !== 'e-list-group-item') {\n            var checkboxEle = createCheckBox(this.parent.createElement, true);\n            var icon = select('div.' + ICON, item);\n            var id = item.getAttribute('data-uid');\n            item.insertBefore(checkboxEle, item.childNodes[isNullOrUndefined(icon) ? 0 : 1]);\n            select('.' + CHECKBOXFRAME, checkboxEle);\n            var frame = select('.' + CHECKBOXFRAME, checkboxEle);\n            return item;\n        }\n        else {\n            return item;\n        }\n    };\n    CheckBoxSelection.prototype.setSelectAll = function () {\n        if (this.parent.showSelectAll) {\n            if (isNullOrUndefined(this.checkAllParent)) {\n                this.checkAllParent = this.parent.createElement('div', {\n                    className: checkAllParent\n                });\n                this.selectAllSpan = this.parent.createElement('span', {\n                    className: 'e-all-text'\n                });\n                this.selectAllSpan.textContent = '';\n                this.checkAllParent.appendChild(this.selectAllSpan);\n                this.setLocale();\n                this.checboxCreate(this.checkAllParent);\n                if (this.parent.headerTemplate) {\n                    if (!isNullOrUndefined(this.filterParent)) {\n                        append([this.checkAllParent], this.filterParent);\n                    }\n                    else {\n                        append([this.checkAllParent], this.parent.popupWrapper);\n                    }\n                }\n                if (!this.parent.headerTemplate) {\n                    if (!isNullOrUndefined(this.filterParent)) {\n                        append([this.checkAllParent], this.filterParent);\n                    }\n                    else {\n                        prepend([this.checkAllParent], this.parent.popupWrapper);\n                    }\n                }\n                EventHandler.add(this.checkAllParent, 'mousedown', this.clickHandler, this);\n            }\n            if (this.parent.list.classList.contains('e-nodata')) {\n                this.checkAllParent.style.display = 'none';\n            }\n            else {\n                this.checkAllParent.style.display = 'block';\n            }\n            this.parent.selectAllHeight = this.checkAllParent.getBoundingClientRect().height;\n        }\n        else if (!isNullOrUndefined(this.checkAllParent)) {\n            this.checkAllParent.parentElement.removeChild(this.checkAllParent);\n            this.checkAllParent = null;\n        }\n    };\n    CheckBoxSelection.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    CheckBoxSelection.prototype.listSelection = function (args) {\n        var target;\n        if (!isNullOrUndefined(args.e)) {\n            target = !isNullOrUndefined(args.e.target) ?\n                args.e.target.classList.contains('e-frame') ?\n                    args.e.target : args.li.querySelector('.e-checkbox-wrapper').childNodes[1]\n                : args.li.querySelector('.e-checkbox-wrapper').childNodes[1];\n        }\n        else {\n            target = args.li.lastElementChild.childNodes[1];\n        }\n        if (this.parent.itemTemplate) {\n            target = args.li.firstElementChild.childNodes[1];\n        }\n        this.checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n        if (!isNullOrUndefined(this.checkWrapper)) {\n            var checkElement = select('.' + CHECKBOXFRAME, this.checkWrapper);\n            var selectAll = false;\n            this.validateCheckNode(this.checkWrapper, checkElement.classList.contains(CHECK), args.li, args.e, selectAll);\n        }\n    };\n    CheckBoxSelection.prototype.validateCheckNode = function (checkWrap, isCheck, li, e, selectAll) {\n        this.changeState(checkWrap, isCheck ? 'uncheck' : 'check', e, true, selectAll);\n    };\n    CheckBoxSelection.prototype.clickHandler = function (e) {\n        var target;\n        if (e.currentTarget.classList.contains(this.checkAllParent.className)) {\n            target = e.currentTarget.firstElementChild.lastElementChild;\n        }\n        else {\n            target = e.currentTarget;\n        }\n        this.checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n        var selectAll = true;\n        if (!isNullOrUndefined(this.checkWrapper)) {\n            var checkElement = select('.' + CHECKBOXFRAME, this.checkWrapper);\n            this.validateCheckNode(this.checkWrapper, checkElement.classList.contains(CHECK), null, e, selectAll);\n        }\n        e.preventDefault();\n    };\n    CheckBoxSelection.prototype.changeState = function (wrapper, state, e, isPrevent, selectAll) {\n        var ariaState;\n        var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME)[0];\n        if (state === 'check' && !frameSpan.classList.contains(CHECK)) {\n            frameSpan.classList.remove(INDETERMINATE);\n            frameSpan.classList.add(CHECK);\n            ariaState = 'true';\n            if (selectAll) {\n                this.parent.selectAll(true);\n                this.setLocale(true);\n            }\n        }\n        else if (state === 'uncheck' && (frameSpan.classList.contains(CHECK) || frameSpan.classList.contains(INDETERMINATE))) {\n            removeClass([frameSpan], [CHECK, INDETERMINATE]);\n            ariaState = 'false';\n            if (selectAll) {\n                this.parent.selectAll(false);\n                this.setLocale();\n            }\n        }\n        ariaState = state === 'check' ? 'true' : state === 'uncheck' ? 'false' : ariaState;\n        if (!isNullOrUndefined(ariaState)) {\n            wrapper.setAttribute('aria-checked', ariaState);\n        }\n    };\n    CheckBoxSelection.prototype.setSearchBox = function (args) {\n        if (isNullOrUndefined(this.filterParent)) {\n            this.filterParent = this.parent.createElement('span', {\n                className: filterParent\n            });\n            this.filterInput = this.parent.createElement('input', {\n                attrs: { type: 'text' },\n                className: filterInput\n            });\n            this.parent.element.parentNode.insertBefore(this.filterInput, this.parent.element);\n            var backIcon = false;\n            if (Browser.isDevice) {\n                backIcon = true;\n                this.parent.mobFilter = false;\n            }\n            this.filterInputObj = Input.createInput({\n                element: this.filterInput,\n                buttons: backIcon ? [searchBackIcon, filterBarClearIcon] : [filterBarClearIcon],\n                properties: { placeholder: this.parent.filterBarPlaceholder }\n            }, this.parent.createElement);\n            append([this.filterInputObj.container], this.filterParent);\n            prepend([this.filterParent], args.popupElement);\n            attributes(this.filterInput, {\n                'aria-disabled': 'false',\n                'aria-owns': this.parent.element.id + '_options',\n                'role': 'listbox',\n                'aria-activedescendant': null,\n                'autocomplete': 'off',\n                'autocorrect': 'off',\n                'autocapitalize': 'off',\n                'spellcheck': 'false'\n            });\n            this.clearIconElement = this.filterInput.parentElement.querySelector('.' + clearIcon);\n            if (!Browser.isDevice && this.clearIconElement) {\n                EventHandler.add(this.clearIconElement, 'mousedown', this.clearText, this);\n                this.clearIconElement.style.visibility = 'hidden';\n            }\n            EventHandler.add(this.filterInput, 'input', this.parent.onInput, this.parent);\n            EventHandler.add(this.filterInput, 'keyup', this.parent.KeyUp, this.parent);\n            EventHandler.add(this.filterInput, 'keydown', this.parent.onKeyDown, this.parent);\n            EventHandler.add(this.filterInput, 'blur', this.onBlur, this);\n            this.parent.searchBoxHeight = (this.filterInputObj.container.parentElement).getBoundingClientRect().height;\n            return this.filterInputObj;\n        }\n    };\n    ;\n    CheckBoxSelection.prototype.clickOnBackIcon = function (e) {\n        this.parent.hidePopup();\n        removeClass([document.body, this.parent.popupObj.element], popupFullScreen);\n    };\n    CheckBoxSelection.prototype.clearText = function (e) {\n        this.parent.targetInputElement.value = '';\n        this.parent.refreshPopup();\n        this.parent.refreshListItems(null);\n        this.clearIconElement.style.visibility = 'hidden';\n        this.filterInput.focus();\n        this.setReorder(e);\n        e.preventDefault();\n    };\n    CheckBoxSelection.prototype.setDeviceSearchBox = function () {\n        this.parent.popupObj.element.classList.add(device);\n        this.parent.popupObj.element.classList.add(mobileFilter);\n        this.parent.popupObj.position = { X: 0, Y: 0 };\n        this.parent.popupObj.dataBind();\n        attributes(this.parent.popupObj.element, { style: 'left:0px;right:0px;top:0px;bottom:0px;' });\n        addClass([document.body, this.parent.popupObj.element], popupFullScreen);\n        this.setSearchBoxPosition();\n        this.backIconElement = this.filterInputObj.container.querySelector('.e-back-icon');\n        this.clearIconElement = this.filterInputObj.container.querySelector('.' + clearIcon);\n        this.clearIconElement.style.visibility = 'hidden';\n        EventHandler.add(this.backIconElement, 'click', this.clickOnBackIcon, this);\n        EventHandler.add(this.clearIconElement, 'click', this.clearText, this);\n    };\n    CheckBoxSelection.prototype.setSearchBoxPosition = function () {\n        var searchBoxHeight = this.filterInput.parentElement.getBoundingClientRect().height;\n        this.parent.popupObj.element.style.maxHeight = '100%';\n        this.parent.popupObj.element.style.width = '100%';\n        this.parent.list.style.maxHeight = (window.innerHeight - searchBoxHeight) + 'px';\n        this.parent.list.style.height = (window.innerHeight - searchBoxHeight) + 'px';\n        var clearElement = this.filterInput.parentElement.querySelector('.' + clearIcon);\n        detach(this.filterInput);\n        clearElement.parentElement.insertBefore(this.filterInput, clearElement);\n    };\n    CheckBoxSelection.prototype.targetElement = function () {\n        this.parent.targetInputElement = this.filterInput;\n        this.clearIconElement.style.visibility = this.parent.targetInputElement.value === '' ? 'hidden' : 'visible';\n        return this.parent.targetInputElement.value;\n    };\n    CheckBoxSelection.prototype.onBlur = function (e) {\n        var target;\n        if (Browser.isIE) {\n            target = !isNullOrUndefined(e) && e.target;\n        }\n        if (!Browser.isIE) {\n            target = !isNullOrUndefined(e) && e.relatedTarget;\n        }\n        if (document.body.contains(this.parent.popupObj.element) && this.parent.popupObj.element.contains(target) && !Browser.isIE) {\n            this.filterInput.focus();\n            return;\n        }\n        if (this.parent.scrollFocusStatus) {\n            e.preventDefault();\n            this.filterInput.focus();\n            this.parent.scrollFocusStatus = false;\n            return;\n        }\n        if (document.body.contains(this.parent.popupObj.element) && !this.parent.popupObj.element.classList.contains('e-popup-close')) {\n            this.parent.inputFocus = false;\n            this.parent.updateValueState(e, this.parent.value, this.parent.tempValues);\n            this.parent.dispatchEvent(this.parent.hiddenElement, 'change');\n        }\n        if (document.body.contains(this.parent.popupObj.element) &&\n            !this.parent.popupObj.element.classList.contains('e-popup-close')) {\n            this.parent.inputFocus = false;\n            this.parent.overAllWrapper.classList.remove(FOCUS);\n            this.parent.trigger('blur');\n            this.parent.focused = true;\n        }\n        if (document.body.contains(this.parent.popupObj.element) &&\n            !this.parent.popupObj.element.classList.contains('e-popup-close') && !Browser.isDevice) {\n            this.parent.hidePopup();\n        }\n    };\n    CheckBoxSelection.prototype.onDocumentClick = function (e) {\n        var target = e.target;\n        if (!isNullOrUndefined(this.parent.popupObj) && closest(target, '#' + this.parent.popupObj.element.id)) {\n            e.preventDefault();\n        }\n        if (!(!isNullOrUndefined(this.parent.popupObj) && closest(target, '#' + this.parent.popupObj.element.id)) &&\n            !this.parent.overAllWrapper.contains(e.target)) {\n            if (this.parent.overAllWrapper.classList.contains(dropDownBaseClasses.focus) || this.parent.isPopupOpen()) {\n                this.parent.inputFocus = false;\n                this.parent.hidePopup();\n                this.parent.onBlur();\n                this.parent.focused = true;\n            }\n        }\n        else {\n            this.parent.scrollFocusStatus = (Browser.isIE || Browser.info.name === 'edge') && (document.activeElement === this.filterInput);\n        }\n        if (!this.parent.overAllWrapper.contains(e.target) && this.parent.overAllWrapper.classList.contains('e-input-focus') &&\n            !this.parent.isPopupOpen()) {\n            this.parent.onBlur(e);\n        }\n    };\n    CheckBoxSelection.prototype.getFocus = function (e) {\n        this.parent.overAllWrapper.classList.remove(FOCUS);\n        if (e.value === 'focus') {\n            this.filterInput.focus();\n        }\n        if (e.value === 'clear') {\n            this.filterInput.value = '';\n            this.clearIconElement.style.visibility = 'hidden';\n        }\n    };\n    CheckBoxSelection.prototype.checkSelectAll = function (e) {\n        if (e.value === 'check' && this.checkAllParent.getAttribute('aria-checked') !== 'true') {\n            this.changeState(this.checkAllParent, e.value, null, null, false);\n            this.setLocale(true);\n        }\n        if (e.value === 'uncheck') {\n            this.changeState(this.checkAllParent, e.value, null, null, false);\n            this.setLocale();\n        }\n    };\n    CheckBoxSelection.prototype.setLocale = function (unSelect) {\n        if (this.parent.selectAllText !== 'Select All' || this.parent.unSelectAllText !== 'Unselect All') {\n            var template = unSelect ? this.parent.unSelectAllText : this.parent.selectAllText;\n            var compiledString = void 0;\n            this.selectAllSpan.textContent = '';\n            compiledString = compile(template);\n            for (var _i = 0, _a = compiledString({}); _i < _a.length; _i++) {\n                var item = _a[_i];\n                this.selectAllSpan.textContent = item.textContent;\n            }\n        }\n        else {\n            var l10nLocale = { selectAllText: 'Select All', unSelectAllText: 'Unselect All' };\n            var l10n = new L10n('dropdowns', l10nLocale, this.parent.locale);\n            this.selectAllSpan.textContent = unSelect ? l10n.getConstant('unSelectAllText') : l10n.getConstant('selectAllText');\n        }\n    };\n    CheckBoxSelection.prototype.getActiveList = function (args) {\n        if (args.li.classList.contains('e-active')) {\n            this.activeLi.push(args.li.cloneNode(true));\n        }\n        else {\n            this.activeLi.splice(args.index, 1);\n        }\n    };\n    CheckBoxSelection.prototype.setReorder = function (args) {\n        if (this.parent.enableSelectionOrder && !isNullOrUndefined(this.parent.value)) {\n            var activeLiCount = this.parent.ulElement.querySelectorAll('li.e-active').length;\n            var remLi = void 0;\n            var ulEle = this.parent.createElement('ul', {\n                className: 'e-list-parent e-ul e-reorder'\n            });\n            var removeEle = this.parent.createElement('div');\n            if (activeLiCount > 0) {\n                append(this.parent.ulElement.querySelectorAll('li.e-active'), ulEle);\n                remLi = this.parent.ulElement.querySelectorAll('li.e-active');\n                addClass(remLi, 'e-reorder-hide');\n                prepend([ulEle], this.parent.list);\n            }\n            this.parent.focusAtFirstListItem();\n        }\n    };\n    return CheckBoxSelection;\n}());\nexport { CheckBoxSelection };\n"],"names":["incrementalSearch","keyCode","items","selectedIndex","ignoreCase","queryString","String","fromCharCode","setTimeout","index","toLowerCase","prevString","i","matches","length","classList","contains","activeClass","listItems","strLength","item","innerText","substr","push","Search","inputVal","searchType","undefined","itemData","queryStr","toLocaleLowerCase","itemsData","text","textContent","replace","highlightSearch","element","query","type","ignoreRegex","test","replaceQuery","findTextNode","RegExp","pattern","childNodes","nodeType","innerHTML","revertHighlightSearch","content","contentElement","querySelectorAll","parent_1","parentNode","document","createTextNode","replaceChild","createInstance","classFunction","params","arrayParam","unshift","Function","prototype","bind","apply","setImmediate","handler","unbind","num","Uint16Array","window","msCrypto","crypto","getRandomValues","secret","combineArray","messageHandler","event","source","data","addEventListener","postMessage","removeEventListener","getValue","nameSpace","obj","value","splits","split","isUndefined","setValue","key","keys","start","fromObj","isNullOrUndefined","deleteObject","isObject","objCon","constructor","getEnumValue","enumObject","enumValue","merge","destination","temrObj","tempProp","_i","keys_1","Object","indexOf","Array","isArray","extend","copied","first","second","deep","result","arguments","arguments_1","obj1","forEach","clone","src","copy","getUniqueID","definedName","uid","debounce","eventFunction","delay","out","_this","this","args","later","clearTimeout","queryParams","array","keys_2","encodeURIComponent","join","isObjectArray","parser","toString","call","compareElementParent","child","parent","node","throwError","message","Error","e","stack","print","printWindow","div","createElement","links","slice","getElementsByTagName","reference","open","appendChild","cloneNode","len","outerHTML","write","close","focus","interval","setInterval","ready","clearInterval","formatUnit","getInstance","component","elem","querySelector","instances","_a","inst","addInstance","instance","uniqueID","ret","tagName","properties","SVG_REG","createElementNS","className","id","styles","setAttribute","attrs","attributes","addClass","elements","classes","getClassList","ele","_b","classList_1","add","removeClass","classList_2","remove","isVisible","style","visibility","offsetWidth","prepend","fromElements","toElement","docFrag","createDocumentFragment","insertBefore","firstElementChild","append","detach","removeChild","EventHandler","clearEvents","select","selector","context","selectAll","closest","el","siblings","childNodes_1","curNode","Node","ELEMENT_NODE","getAttributeOrDefault","property","attrVal","getAttribute","setStyleAttribute","addClasses","removeClasses","msMatchesSelector","webkitMatchesSelector","getComponent","comp","ej2_instances","getModuleName","getObject","curKey","defaultValue","hasOwnProperty","getObjectArray","isSetter","isFactory","curType","setProperties","propertyGetter","propertySetter","newValue","oldVal","saveChanges","complexGetter","complexSetter","complexFactoryGetter","complexFactorySetter","complexArrayGetter","defCollection","complexArraySetter","oldValueCollection","newValCollection","complexArrayFactorySetter","complexArrayFactoryGetter","Property","target","propertyDescriptor","set","get","enumerable","configurable","defineProperty","addPropertyCollection","Complex","ComplexFactory","Collection","CollectionFactory","Event","eventDescriptor","oldValue","finalContext","getParentContext","prefix","NotifyPropertyChanges","classConstructor","propertyType","propList","props","complexProps","colProps","events","propNames","complexPropNames","colPropNames","eventNames","propertyName","getBuilderProperties","builderObject","propCollections","isPropertyArray","rex","_c","prop","childType","tempValue","CreateBuilder","builderFunction","create","temp","curText","rippleEffect","rippleOptions","done","rippleModel","getRippleModel","rippleFlag","isRippleEnabled","rippleHandler","rippleUpHandler","rippleLeaveHandler","Browser","isPointer","removeAttribute","ignore","isCenterRipple","duration","offset","getBoundingClientRect","offsetX","pageX","body","scrollLeft","offsetY","pageY","scrollTop","documentElement","Math","max","abs","left","right","top","bottom","radius","sqrt","diameter","x","y","rippleElement","getComputedStyle","getPropertyValue","transform","removeRipple","eventArgs","rippleElements","opacity","getElementsByClassName","enableRipple","isRipple","setCulture","cultureName","defaultCulture","onIntlChange","notify","locale","setCurrencyCode","currencyCode","defaultCurrencyCode","loadCldr","data_1","cldrData","enableRtl","status","rightToLeft","getNumericObject","numObject","IntlBase","getDependables","mapper","dateObject","numSystem","symbPattern","getSymbolPattern","getFormatData","dateSeparator","getDateSeparator","getDefaultDateObject","compile","template","helper","fnCode","evalExp","str","varCOunt","localKeys","LINES","DBL_QUOTED_STR","exp","match","cnt","matchStr","CALL_FUNCTION","rlStr","ELSEIF_STMT","WORD","trim","addNameSpace","QUOTES","IF_STMT","strs","FOR_STMT","rlStr_1","mtc","fnStr","fNameSpace","ELSE_STMT","IF_OR_FOR","addNS","ignoreList","NOT_NUMBER","templateString","compiler","engineObj","propName","HAS_SVG","HAS_ROW","setTemplateEngine","classObj","getTemplateEngine","wrapperInitialize","tag","WRAPPER","role","ejInstance","input","wrapper","aria-checked","nodeName","nodeValue","getTextNode","childnode","destroy","ejInst","checked","preRender","proxy","control","moduleName","createCheckBox","options","cssClass","rippleSpan","frameSpan","label","labelSpan","rippleMouseHandler","event_1","createEvent","initEvent","dispatchEvent","getFieldValues","dataItem","fields","fieldData","isHeader","dataField","calculateRelativeBasedPosition","anchor","fixedElement","anchorPos","tempAnchor","offsetParent","position","offsetLeft","offsetTop","parentElement","calculatePosition","currentElement","positionX","positionY","targetValues","popupRect","fixedParent","parentDocument","ownerDocument","pos","updatePosition","setPosx","setPosy","posX","posY","elementRect","getElementHCenter","getElementTop","getElementRight","getElementVCenter","getElementLeft","getElementBottom","getBodyScrollTop","getBodyScrollLeft","height","width","fit","viewPortElement","axis","X","Y","elemData","targetContainer","containerWidth","getTargetContainerWidth","getViewPortWidth","containerLeft","ContainerLeft","containerRight","ContainerRight","overLeft","overRight","containerHeight","getTargetContainerHeight","getViewPortHeight","containerTop","ContainerTop","containerBottom","ContainerBottom","overTop","overBottom","isCollide","elemOffset","yAxis","topCollideCheck","xAxis","leftCollideCheck","topSide","rightSide","leftSide","bottomSide","flip","tEdge","TL","TR","BL","BR","eEdge","updateElementData","setPosition","leftFlip","topFlip","setPopup","edge","eStatus","deepCheck","collideSide","getTargetContainerLeft","getTargetContainerTop","innerHeight","innerWidth","getScrollableParent","eleStyle","scrollParents","overflowRegex","parentStyle","overflow","overflowY","overflowX","getZindexPartial","parentZindex","defaultView","childrenZindex","children","isEqualNode","siblingsZindex","finalValue","concat","createSpinner","internalCreateElement","makeElement","container","create_spinner_container","wrap","spinTemplate","theme","getTheme","calculateRadius","setTheme","createLabel","inner_wrap","CLS_SPINTEMPLATE","replaceContent","spinCSSClass","CLS_HIDESPIN","labelEle","CLS_SPINLABEL","createMaterialSpinner","random_generator","globalTimeOut","timeOut","create_material_element","mat_calculate_attributes","startMatAnimate","globalObject","globalVariables","animateMaterial","globalInfo","timeOutVar","createFabricSpinner","create_fabric_element","CLS_FABRICSPIN","fb_calculate_attributes","createHighContrastSpinner","CLS_HIGHCONTRASTSPIN","innerContainer","CLS_SPININWRAP","svg","createBootstrapSpinner","create_bootstrap_element","boot_calculate_attributes","svgBoot","CLS_BOOTSPIN","firstChild","bootCircle","CLS_SPINCIRCLE","defaultRadius","startArc","defineArcPoints","circleEle","generateSeries","begin","stop","formSeries","series","end","count","increment","parseFloat","toFixed","animateBootstrap","circle","boot_animate","isAnimate","defaultSize","DEFT_MAT_WIDTH","DEFT_FAB_WIDTH","DEFT_BOOT_WIDTH","previousId","random","combine","charAt","floor","innerCon","themeClass","svgFabric","fabricCirclePath","fabricCircleArc","CLS_SPINARC","svgMaterial","CLS_MATERIALSPIN","matCirclePath","spinnerContainer","CLS_SPINWRAP","spinnerInnerContainer","spinnerInfo","createCircle","easeAnimation","easing","mat_animation","currentTime","min","Date","getTime","startTime","updatePath","change","path","getDashOffset","strokeSize","getSize","getStrokeSize","rotate","transformOrigin","drawArc","PI","current","timestamp","timecount","innerConainer","trgClass","centerX","centerY","defineCircle","defineArc","angle","radians","cos","sin","endArc","showSpinner","showHideSpinner","isHide","spinnerWrap","inner","CLS_SHOWSPIN","svgEle","hideSpinner","setSpinner","ensureTemplate","makeEle","replaceTheme","svgElement","createMask","autocomplete","autocorrect","autocapitalize","spellcheck","aria-live","aria-valuenow","mask","splitMask","splitInnerMask","j","pushIntoRegExpCollec","chkSpace","customRegExpCollec","hiddenMask","promptChar","escapeMaskValue","promptMask","customCharacters","escapeNumber","substring","aria-invalid","applyMask","setElementValue","setMaskValue","wireEvents","maskInputKeyDownHandler","maskInputKeyPressHandler","maskInputKeyUpHandler","maskInputHandler","maskInputFocusHandler","maskInputBlurHandler","maskInputPasteHandler","maskInputCutHandler","maskInputDropHandler","enabled","bindClearEvent","unwireEvents","showClearButton","inputObj","clearButton","resetHandler","preventDefault","clear","redoCollec","startIndex","selectionStart","endIndex","selectionEnd","triggerMaskChangeEvent","setSelectionRange","unstrippedValue","strippedValue","maskValues","k","checkMask","maskValue","regExpCollec","focusEventArgs","trigger","isFocus","isDevice","info","version","isIos","placeholder","floatLabelType","labelElement","TOPLABEL","sIndex_1","eIndex_1","oldValue_1","_callPasteHandler","maskKeyPress","validateValue","i_1","preValue_1","sIndex_2","eIndex","undoCollec","value_1","ctrlKey","removeMaskInputValues","addedValues","preEleVal","val","prevValue","startValue","collec","splice","mobileRemoveFunction","sIndex","autoFillMaskInputValues","isRemove","oldEventVal","isDeleted","initStartIndex","initEndIndex","curMask","multipleDel","preValue","prompt_1","elementValue","code","isIosInvalid","changeEventArgs","isInitial","maskedValue","isInteraction","removeMaskError","val_1","startIndex_1","isSpace","isAndroid","preventUnsupportedValues","temp_1","mobileSwipeCheck","mobileValidation","isCtrlKey","eventOldVal","allowText","prevSupport","isEqualVal","keyValue","customValArr","applySupportedValues","addMaskErrorClass","changeToLowerUpperCase","sIdx","idx","ctrl","chkSupport","timer","INPUTGROUP","FLOATINPUT","ERROR","curVal","caseCount","toUpperCase","newVal","BOTTOMLABEL","Input","maskInput","inputEle","getMaskInput","UTILMASK","regularExpressions","getVal","getUtilMaskEle","getMaskedVal","getModel","model","createFloatLabel","overAllWrapper","searchWrapper","inputElement","floatLinelement","floatLabelElement","FLOATLINE","FLOATTEXT","aria-labelledby","updateFloatLabelState","LABELBOTTOM","LABELTOP","removeFloating","componentWrapper","placeholderText","placeholderElement","floatLine","setPlaceHolder","floatLabelFocus","floatLabelBlur","headerRegex","defaultType","Ajax","async","contentType","mode","emitError","url","send","cancel","Promise","resolve","reject","httpRequest","XMLHttpRequest","onreadystatechange","stateChange","onLoad","onload","onProgress","onprogress","onAbort","onabort","onError","onerror","onUploadProgress","upload","setRequestHeader","beforeSend","successHandler","onSuccess","failureHandler","reason","onFailure","responseText","dataType","JSON","parse","error","readyState","statusText","getResponseHeader","responseHeaders","header","headers","exec","getAllResponseHeaders","addOrGetEventData","__eventList","eventName","listener","bindTo","intDebounce","debounceListener","eventData","name","some","copyData","shift","eventProp","eventData_1","Observer","ranArray","boundedEvents","on","cntxt","notExist","isHandlerPresent","off","curObject","indexLocation","argument","curObject_1","cur","boundedEvents_1","Base","isProtectedOnChange","changedProperties","oldProperties","refreshing","finalUpdate","childChangedProperties","modelObserver","isDestroyed","muteOnChange","prevDetection","dataBind","callChildDataBind","obj_1","clearChanges","getOwnPropertyNames","newChanges","oldChanges","onPropertyChanged","moduleClass","filter","REGX_BROWSER","OPERA","EDGE","CHROME","PANTHOMEJS","SAFARI","WEBKIT","MSIE","MOZILLA","browserDetails","extractBrowserDetail","browserInfo","culture","clientInfo","userAgent","language","navigator","getEvent","isTouch","move","getTouchStartEvent","getTouchEndEvent","getTouchMoveEvent","getTouchCancelEvent","regX","uA","isMSPointer","isWebView","cordova","PhoneGap","phonegap","forge","touchStartEvent","touchMoveEvent","touchEndEvent","touchCancelEvent","__extends","extendStatics","setPrototypeOf","__proto__","d","b","p","__","__decorate","decorators","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","Animation","_super","ease","linear","easeIn","easeOut","easeInOut","elasticInOut","elasticIn","elasticOut","Animation_1","animate","elements_1","element_1","delayAnimation","animation","animationId","frameId","parseInt","cancelAnimationFrame","applyAnimation","timeStamp","step","timerId","prevTimeStamp","startAnimation","avg","timingFunction","progress","requestAnimationFrame","performance","now","fail","newProp","oldProp","CanvasRenderer","rootID","rootId","getOptionValue","createCanvas","canvasObj","ctx","getContext","setCanvasSize","getElementById","size","setAttributes","lineWidth","dashArray","dashArrayString","setLineDash","strokeStyle","drawLine","save","beginPath","stroke","moveTo","x1","y1","lineTo","x2","y2","restore","dataUrl","toDataURL","drawRectangle","canvasCtx","cornerRadius","rx","globalAlpha","rect","drawCornerRadius","fill","fillStyle","fillRect","arcTo","closePath","drawPath","canvasTranslate","dataSplit","borderWidth","flag","translate","innerR","cx","c1","c2","c3","c4","bezierCurveTo","arc","counterClockWise","cy","drawText","fontWeight","fontSize","fontFamily","font","textAlign","baseline","textBaseline","labelRotation","fillText","drawCircle","drawPolyline","points","point","drawEllipse","circumference","ry","scaleX","scaleY","scale","drawImage","imageObj","Image","href","createLinearGradient","colors","myGradient","colorStop","setGradientValues","createRadialGradient","colorName","color","newColorStop","stopColor","addColorStop","setElementAttributes","values","map","updateCanvasAttributes","img_1","ModuleLoader","loadedModules","inject","requiredModules","moduleList","reqLength","clean","clearUnusedModule","modl","moduleList_1","module","modName","member","isModuleLoaded","moduleObject","memberName","getMemberName","isProperty","loadedModule","modules","usedModules","arg","removableModule_1","mod","ChildProperty","parentObj","controlParent","isParentArray","updateChange","updateTimeOut","changeTime_1","clearUpdate","curIndex","defaultNumberingSystem","latn","_digits","_type","defaultNumberSymbols","decimal","group","percentSign","plusSign","minusSign","infinity","nan","exponential","latnNumberSystem","ParserBase","getMainObject","cName","getNumberingSystem","numberingSystems","reverseObject","res","propKeys_1","getSymbolRegex","regexStr","getSymbolMatch","matchKeys_1","constructRegex","convertValueParts","regex","getDefaultNumberingSystem","nSystem","getCurrentNumericOptions","curObj","numberSystem","needSymbols","digits","numericPair","numberParseRegex","numericRegex","symbolNumberSystem","symbolMatch","getNumberMapper","isNumber","numberSymbols","timeSeparator","latnNumberSystem_1","nPair","nRegex","errorText","ms","ls","mf","lf","NumberFormat","numberFormatter","option","cldr","symbolPattern","fOptions","cOptions","dOptions","dependable","base","numberMapper","parserObject","currencySymbol","getCurrencySymbol","numericObject","currency","percentSymbol","minusSymbol","symbols","formatRegex","format","customFormat","getProperNumericSkeleton","isCurrency","isPercent","isAccount","groupOne","checkValueRange","maximumSignificantDigits","minimumSignificantDigits","maximumFractionDigits","minimumFractionDigits","fractionDigits","useGrouping","defaultCurrency","nData","pData","groupSeparator","groupData","getGroupingDetails","minimumFraction","mval","maximumFraction","mfrac","lfrac","isNaN","isFinite","intNumberFormatter","negativeDataRegex","pattern_1","lastIndexOf","primary","s","secondary","val1","val2","checkbothExist","isFraction","decide","dint","str1","str2","checkRange","range","curData","zeroData","fValue","processSignificantDigits","processFraction","minimumIntegerDigits","processMinimumIntegers","toExponential","groupNumbers","latnParseRegex","nlead","nend","toPrecision","level1","sep","decimalSymbol","level2","lead","getResultantPattern","skeleton","resPattern","iType","basicPatterns","dPattern","tPattern","defaultObject","patternMatcher","needFraction","cSymbol","fractionOnly","customRegex","changeCurrencySymbol","groupPattern","fraction","fmatch","fractionRegex","sym","formatSplit","customNumberFormat","integerPart","fractionPart","isCurrencyPercent","parts","actual","symbol","part","loc","typeMapper","dateObj","getActualDateTimeFormat","isExcelFormat","actualPattern","patternRegex","patternMatch","tLength","timeZonePattern","options_1","timeZone","numMapper","timezone","getTimezoneOffset","hourFormat","gmtZeroFormat","DateFormat","getTimeZoneValue","gmtFormat","getActualNumberFormat","minFrac","parseOptions","custom","curMatch","currencyFormatRegex","curCode","hasNegativePattern","fractionDigitsPattern","minimumIntegerPattern","groupingPattern","cPattern","minDigits","maxDigits","a","diff","integer","no","getWeekData","firstDay","defaultFirstDay","iCulture","firstDayMapper","G","M","L","H","'"," a","yy","EEEE","E","sun","mon","tue","wed","thu","fri","sat","curWithoutNumberRegex","$","%","-","0","1","dateParseRegex","dates","calendars","gregorian","months","stand-alone","abbreviated","2","3","4","5","6","7","8","9","10","11","12","narrow","wide","days","short","dayPeriods","am","pm","eras","eraNames","0-alt-variant","1-alt-variant","eraAbbr","eraNarrow","dateFormats","full","long","medium","timeFormats","dateTimeFormats","availableFormats","Ed","Ehm","EHm","Ehms","EHms","Gy","GyMMM","GyMMMd","GyMMMEd","h","hm","Hm","hms","Hms","hmsv","Hmsv","hmv","Hmv","Md","MEd","MMM","MMMd","MMMEd","MMMMd","yM","yMd","yMEd","yMMM","yMMMd","yMMMEd","yMMMM","timeZoneNames","numbers","currencies","USD","displayName","symbol-alt-narrow","EUR","GBP","minimumGroupingDigits","symbols-numberSystem-latn","list","superscriptingExponent","perMille","decimalFormats-numberSystem-latn","standard","percentFormats-numberSystem-latn","currencyFormats-numberSystem-latn","accounting","scientificFormats-numberSystem-latn","monthIndex","month","C","P","N","A","lastPageID","weekdayKey","timeSetter","m","datePartMatcher","z","Z","dateFormat","formatOptions","dateSeperator","patternMatch_1","char","weekday","designator","eText","era","getDate","intDateFormatter","matches_1","length_1","curval","processNumber","curstr","getMonth","getDay","getFullYear","desig","getHours","dec","checkTwodigitNumber","tVal","curPattern","ishour","latnRegex","minute","hour","day","DateParser","dateParser","hourOnly","numOptions","regexString","evalposition","gmtCorrection","zCorrectTemp","isgmtTraversed","nRegx","canUpdate","charKey","optional","weekObject","hour12","tzone","hpattern","parseTimeZoneRegx","parserRegex","parsedDateParts","internalDateParse","getDateObject","setMilliseconds","tKeys","year","setFullYear","tKeys_1","tValue","pDate","setDate","lDate","lastDay","setHours","tzValue","setMinutes","getMinutes","retOptions","props_1","matchString","internalNumberParser","tmatch","getZoneValue","tZone","splitStr","cRegex","ival","NumberParser","numberParser","symbolRegex","symbolpattern","getParsedNumber","isNegative","Infinity","NaN","exponent","Internationalization","getDateFormat","getCulture","getNumberFormat","getDateParser","getNumberParser","formatNumber","formatDate","parseDate","parseNumber","getDatePattern","getNumberPattern","getFirstDayOfWeek","componentCount","lastHistoryLen","Component","randomId","needsID","moduleLoader","localObserver","detectFunction","appendTo","enablePersistence","setPersistData","refresh","injectModules","render","mergePersistData","event_2","getInjectedModules","injectedModules","Inject","localStorage","getItem","setItem","getPersistData","clearTemplate","templateName","isHistoryChanged","pageID","location","history","hash","charCodeAt","addOnPersist","persistObj","objValue","getActualProperties","stringify","ignoreOnPersist","iterateJsonProperties","newObj","this_1","newList","ListBase","defaultPosition","Position","Draggable","dragLimit","Draggable_1","getDefaultPosition","padding","diffX","diffY","droppables","toggleEvents","isIE","scope","isUnWire","handle","initialize","evt","currentTarget","abort","changedTouches","intCoord","getCoordinates","initialPosition","relativeXPosition","relativeYPosition","intDragStart","intDestroy","isChangeTouch","intCordinate","styleProp","margin","marginLeft","marginTop","marginRight","marginBottom","dragTarget","intClosest","calculateParentPosition","getMousePosition","distance","getHelperElement","dragTargetElement","helperElement","parentClientRect","dragStart","curTarget","getProperTargetElement","dragArea","setDragArea","enableTailMode","posValue","getProcessedPositionValue","getDragPosition","intDrag","intDragStop","setGlobalDroppables","elementInViewport","offsetHeight","pageYOffset","pageXOffset","queryPositionInfo","docHeight","getDocumentWidthHeight","docWidth","drag","eleObj","checkTargetElement","dragData","intOver","hoverObject","intOut","tLeft","tTop","pagex","pagey","dLeft","dTop","skipDistanceCheck","helperWidth","helperHeight","iTop","iLeft","dragValue","enableAutoScroll","scrollIntoView","docBody","docEle","dragStop","dragStopCalled","intDrop","eleWidthBound","eleHeightBound","elementArea","tborder","tpadding","lowerKey","prevStyle","display","elementFromPoint","clientX","clientY","cursorAt","sender","reset","draggable","draggedElement","dropIns","getDropInstance","drop","eleInst","eleInst_1","Droppable","mouseOver","area","accept","isDrag","isDropArea","canDrop","droppedElement","coord","backspace","tab","enter","alt","pause","capslock","space","escape","pageup","pagedown","home","leftarrow","uparrow","rightarrow","downarrow","insert","delete","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","semicolon","plus","comma","minus","dot","forwardslash","graveaccent","openbracket","backslash","closebracket","singlequote","KeyboardEvents","keyPressHandler","isAltKey","altKey","isShiftKey","shiftKey","curkeyCode","which","keyConfigs","configCollection_1","rconfig","rKeyObj","KeyboardEvents_1","getKeyConfigData","action","keyAction","config","configCache","keyData","Number","getKeyCode","keyVal","L10n","controlName","localeStrings","setLocale","intLocale","intGetControlConstant","currentLocale","load","localeObject","getConstant","SvgRenderer","svgLink","createSvg","svgObj","setSVGSize","line","rectangle","polyline","ellipse","drawPolygon","polygon","img","setAttributeNS","preserveAspectRatio","createText","createTSpan","tSpan","createTitle","title","createDefs","createClipPath","clipPath","createForeignObject","foreignObject","createGroup","createPattern","newOptions","fx","fy","drawGradient","gradientType","defs","gradient","stop_1","drawClipPath","drawCircularClipPath","SwipeSettings","swipeRegex","Touch","touchAction","tapCount","startEvent","isTouchMoved","movedDirection","startPoint","lastMovedPoint","startEventData","hScrollLocked","vScrollLocked","tStampStart","timeOutTapHold","tapHoldEvent","tapHoldThreshold","moveEvent","endEvent","cancelEvent","movedPoint","eScrollArgs","calcScrollPoints","startEvents","originalEvent","startX","startY","distanceX","distanceY","scrollDirection","velocity","getVelocity","timeOutTap","swipeFn","tap","tapThreshold","modeclear","endPoint","calcPoints","swipeArgs","swipeDirection","eSwipeArgs","tDistance","swipeSettings","swipeThresholdDistance","defaultArgs","canTrigger","scrollBool","isScrollable","moved","checkSwipe","modeClear","lastTapTime","eTapArgs","pnt","newX","newY","newT","xDist","yDist","Engine","Query","from","subQuery","isChild","queries","fKey","fromTable","lookups","expands","sortedColumns","groupedColumns","setKey","field","using","dataManager","execute","always","executeQuery","DataUtil","executeLocal","cloned","subQuerySelector","isCountRequired","tableName","addParams","fn","expand","tables","where","fieldName","operator","ignoreAccent","predicate","Predicate","search","searchKey","fieldNames","comparer","fnOperators","sortBy","isFromGroup","sorts","order","endsWith","fnSort","filterQueries","direction","sortByDesc","page","pageIndex","pageSize","take","nos","skip","hierarchy","selectorFn","foreignKey","requiresCount","aggregate","q","filterQueryLists","singles","filtered","isComplex","processOperator","condition","predicates","and","combinePredicates","or","fromJson","json","fromJSONData","pred","validate","record","isAnd","toJson","preds","consts","GroupGuid","startsWith","fnAscending","fnDescending","localeCompare","extractFields","jsonArray","newData","aggregates","level","groupDs","jsonData","indx","childLevels","grouped","groupedArray","records","this_2","tempObj","aggs","buildHierarchy","lookup","pKey","grp","fKeyData","getFieldList","copyObj","sort","ds","middle","ignoreDiacritics","diacritics","callAdaptorFunction","adaptor","fnName","param1","param2","isPlainObject","isCors","xhr","getGuid","rand","arr","Uint8Array","isNull","getItemFromComparer","castRequired","distinct","requiresCompleteRecord","tmp","serverTimezoneOffset","sum","average","truecount","DataManager","falsecount","operatorSymbols","<",">","<=",">=","==","!=","*=","$=","^=","odBiOperator","lessthan","lessthanorequal","greaterthan","greaterthanorequal","equal","notequal","odUniOperator","endswith","startswith","odv4UniOperator","Ⓐ","Ａ","À","Á","Â","Ầ","Ấ","Ẫ","Ẩ","Ã","Ā","Ă","Ằ","Ắ","Ẵ","Ẳ","Ȧ","Ǡ","Ä","Ǟ","Ả","Å","Ǻ","Ǎ","Ȁ","Ȃ","Ạ","Ậ","Ặ","Ḁ","Ą","Ⱥ","Ɐ","Ꜳ","Æ","Ǽ","Ǣ","Ꜵ","Ꜷ","Ꜹ","Ꜻ","Ꜽ","Ⓑ","Ｂ","Ḃ","Ḅ","Ḇ","Ƀ","Ƃ","Ɓ","Ⓒ","Ｃ","Ć","Ĉ","Ċ","Č","Ç","Ḉ","Ƈ","Ȼ","Ꜿ","Ⓓ","Ｄ","Ḋ","Ď","Ḍ","Ḑ","Ḓ","Ḏ","Đ","Ƌ","Ɗ","Ɖ","Ꝺ","Ǳ","Ǆ","ǲ","ǅ","Ⓔ","Ｅ","È","É","Ê","Ề","Ế","Ễ","Ể","Ẽ","Ē","Ḕ","Ḗ","Ĕ","Ė","Ë","Ẻ","Ě","Ȅ","Ȇ","Ẹ","Ệ","Ȩ","Ḝ","Ę","Ḙ","Ḛ","Ɛ","Ǝ","Ⓕ","Ｆ","Ḟ","Ƒ","Ꝼ","Ⓖ","Ｇ","Ǵ","Ĝ","Ḡ","Ğ","Ġ","Ǧ","Ģ","Ǥ","Ɠ","Ꞡ","Ᵹ","Ꝿ","Ⓗ","Ｈ","Ĥ","Ḣ","Ḧ","Ȟ","Ḥ","Ḩ","Ḫ","Ħ","Ⱨ","Ⱶ","Ɥ","Ⓘ","Ｉ","Ì","Í","Î","Ĩ","Ī","Ĭ","İ","Ï","Ḯ","Ỉ","Ǐ","Ȉ","Ȋ","Ị","Į","Ḭ","Ɨ","Ⓙ","Ｊ","Ĵ","Ɉ","Ⓚ","Ｋ","Ḱ","Ǩ","Ḳ","Ķ","Ḵ","Ƙ","Ⱪ","Ꝁ","Ꝃ","Ꝅ","Ꞣ","Ⓛ","Ｌ","Ŀ","Ĺ","Ľ","Ḷ","Ḹ","Ļ","Ḽ","Ḻ","Ł","Ƚ","Ɫ","Ⱡ","Ꝉ","Ꝇ","Ꞁ","Ǉ","ǈ","Ⓜ","Ｍ","Ḿ","Ṁ","Ṃ","Ɱ","Ɯ","Ⓝ","Ｎ","Ǹ","Ń","Ñ","Ṅ","Ň","Ṇ","Ņ","Ṋ","Ṉ","Ƞ","Ɲ","Ꞑ","Ꞥ","Ǌ","ǋ","Ⓞ","Ｏ","Ò","Ó","Ô","Ồ","Ố","Ỗ","Ổ","Õ","Ṍ","Ȭ","Ṏ","Ō","Ṑ","Ṓ","Ŏ","Ȯ","Ȱ","Ö","Ȫ","Ỏ","Ő","Ǒ","Ȍ","Ȏ","Ơ","Ờ","Ớ","Ỡ","Ở","Ợ","Ọ","Ộ","Ǫ","Ǭ","Ø","Ǿ","Ɔ","Ɵ","Ꝋ","Ꝍ","Ƣ","Ꝏ","Ȣ","Ⓟ","Ｐ","Ṕ","Ṗ","Ƥ","Ᵽ","Ꝑ","Ꝓ","Ꝕ","Ⓠ","Ｑ","Ꝗ","Ꝙ","Ɋ","Ⓡ","Ｒ","Ŕ","Ṙ","Ř","Ȑ","Ȓ","Ṛ","Ṝ","Ŗ","Ṟ","Ɍ","Ɽ","Ꝛ","Ꞧ","Ꞃ","Ⓢ","Ｓ","ẞ","Ś","Ṥ","Ŝ","Ṡ","Š","Ṧ","Ṣ","Ṩ","Ș","Ş","Ȿ","Ꞩ","Ꞅ","Ⓣ","Ｔ","Ṫ","Ť","Ṭ","Ț","Ţ","Ṱ","Ṯ","Ŧ","Ƭ","Ʈ","Ⱦ","Ꞇ","Ꜩ","Ⓤ","Ｕ","Ù","Ú","Û","Ũ","Ṹ","Ū","Ṻ","Ŭ","Ü","Ǜ","Ǘ","Ǖ","Ǚ","Ủ","Ů","Ű","Ǔ","Ȕ","Ȗ","Ư","Ừ","Ứ","Ữ","Ử","Ự","Ụ","Ṳ","Ų","Ṷ","Ṵ","Ʉ","Ⓥ","Ｖ","Ṽ","Ṿ","Ʋ","Ꝟ","Ʌ","Ꝡ","Ⓦ","Ｗ","Ẁ","Ẃ","Ŵ","Ẇ","Ẅ","Ẉ","Ⱳ","Ⓧ","Ｘ","Ẋ","Ẍ","Ⓨ","Ｙ","Ỳ","Ý","Ŷ","Ỹ","Ȳ","Ẏ","Ÿ","Ỷ","Ỵ","Ƴ","Ɏ","Ỿ","Ⓩ","Ｚ","Ź","Ẑ","Ż","Ž","Ẓ","Ẕ","Ƶ","Ȥ","Ɀ","Ⱬ","Ꝣ","ⓐ","ａ","ẚ","à","á","â","ầ","ấ","ẫ","ẩ","ã","ā","ă","ằ","ắ","ẵ","ẳ","ȧ","ǡ","ä","ǟ","ả","å","ǻ","ǎ","ȁ","ȃ","ạ","ậ","ặ","ḁ","ą","ⱥ","ɐ","ꜳ","æ","ǽ","ǣ","ꜵ","ꜷ","ꜹ","ꜻ","ꜽ","ⓑ","ｂ","ḃ","ḅ","ḇ","ƀ","ƃ","ɓ","ⓒ","ｃ","ć","ĉ","ċ","č","ç","ḉ","ƈ","ȼ","ꜿ","ↄ","ⓓ","ｄ","ḋ","ď","ḍ","ḑ","ḓ","ḏ","đ","ƌ","ɖ","ɗ","ꝺ","ǳ","ǆ","ⓔ","ｅ","è","é","ê","ề","ế","ễ","ể","ẽ","ē","ḕ","ḗ","ĕ","ė","ë","ẻ","ě","ȅ","ȇ","ẹ","ệ","ȩ","ḝ","ę","ḙ","ḛ","ɇ","ɛ","ǝ","ⓕ","ｆ","ḟ","ƒ","ꝼ","ⓖ","ｇ","ǵ","ĝ","ḡ","ğ","ġ","ǧ","ģ","ǥ","ɠ","ꞡ","ᵹ","ꝿ","ⓗ","ｈ","ĥ","ḣ","ḧ","ȟ","ḥ","ḩ","ḫ","ẖ","ħ","ⱨ","ⱶ","ɥ","ƕ","ⓘ","ｉ","ì","í","î","ĩ","ī","ĭ","ï","ḯ","ỉ","ǐ","ȉ","ȋ","ị","į","ḭ","ɨ","ı","ⓙ","ｊ","ĵ","ǰ","ɉ","ⓚ","ｋ","ḱ","ǩ","ḳ","ķ","ḵ","ƙ","ⱪ","ꝁ","ꝃ","ꝅ","ꞣ","ⓛ","ｌ","ŀ","ĺ","ľ","ḷ","ḹ","ļ","ḽ","ḻ","ſ","ł","ƚ","ɫ","ⱡ","ꝉ","ꞁ","ꝇ","ǉ","ⓜ","ｍ","ḿ","ṁ","ṃ","ɱ","ɯ","ⓝ","ｎ","ǹ","ń","ñ","ṅ","ň","ṇ","ņ","ṋ","ṉ","ƞ","ɲ","ŉ","ꞑ","ꞥ","ǌ","ⓞ","ｏ","ò","ó","ô","ồ","ố","ỗ","ổ","õ","ṍ","ȭ","ṏ","ō","ṑ","ṓ","ŏ","ȯ","ȱ","ö","ȫ","ỏ","ő","ǒ","ȍ","ȏ","ơ","ờ","ớ","ỡ","ở","ợ","ọ","ộ","ǫ","ǭ","ø","ǿ","ɔ","ꝋ","ꝍ","ɵ","ƣ","ȣ","ꝏ","ⓟ","ｐ","ṕ","ṗ","ƥ","ᵽ","ꝑ","ꝓ","ꝕ","ⓠ","ｑ","ɋ","ꝗ","ꝙ","ⓡ","ｒ","ŕ","ṙ","ř","ȑ","ȓ","ṛ","ṝ","ŗ","ṟ","ɍ","ɽ","ꝛ","ꞧ","ꞃ","ⓢ","ｓ","ß","ś","ṥ","ŝ","ṡ","š","ṧ","ṣ","ṩ","ș","ş","ȿ","ꞩ","ꞅ","ẛ","ⓣ","ｔ","ṫ","ẗ","ť","ṭ","ț","ţ","ṱ","ṯ","ŧ","ƭ","ʈ","ⱦ","ꞇ","ꜩ","ⓤ","ｕ","ù","ú","û","ũ","ṹ","ū","ṻ","ŭ","ü","ǜ","ǘ","ǖ","ǚ","ủ","ů","ű","ǔ","ȕ","ȗ","ư","ừ","ứ","ữ","ử","ự","ụ","ṳ","ų","ṷ","ṵ","ʉ","ⓥ","ｖ","ṽ","ṿ","ʋ","ꝟ","ʌ","ꝡ","ⓦ","ｗ","ẁ","ẃ","ŵ","ẇ","ẅ","ẘ","ẉ","ⱳ","ⓧ","ｘ","ẋ","ẍ","ⓨ","ｙ","ỳ","ý","ŷ","ỹ","ȳ","ẏ","ÿ","ỷ","ẙ","ỵ","ƴ","ɏ","ỿ","ⓩ","ｚ","ź","ẑ","ż","ž","ẓ","ẕ","ƶ","ȥ","ɀ","ⱬ","ꝣ","Ά","Έ","Ή","Ί","Ϊ","Ό","Ύ","Ϋ","Ώ","ά","έ","ή","ί","ϊ","ΐ","ό","ύ","ϋ","ΰ","ω","ς","expected","notnull","isnull","processSymbols","parseJson","jsonText","jsonReviver","iterateAndReviveArray","iterateAndReviveJson","dupValue","dateParse","toTimeZone","isJson","isGuid","replacer","jsonReplacer","arrayReplacer","keys_3","addSelfOffset","toJSON","date","toUTC","utc","unix","toLocalTime","datefn","differenceString","localtimefn","norm","getSeconds","Adaptor","requestType","dataSource","pvt","processResponse","JsonAdaptor","processQuery","countFlg","agg","batchRequest","dm","changes","addedRecords","changedRecords","update","deletedRecords","onWhere","onAggregates","onSearch","onSortBy","fnCompare","onGroup","aggQuery","onPage","onRange","onTake","onSkip","onSelect","keyField","UrlAdaptor","hierarchyFilters","getQueryRequest","request","groups","filters","searches","getFiltersFrom","req","getRequestQuery","reqParams","pvtData","convertToQueryString","request1","selects","requests","getAggregateResult","original","batchUrl","crudUrl","removeUrl","changed","added","deleted","table","insertUrl","keyColumn","updateUrl","predicats","aggregateData","groupQuery","ODataAdaptor","multipartAccept","batch","changeSet","batchPre","contentId","batchContent","changeSetContent","batchChangeSetContentType","updateType","onPredicate","requiresCast","guid","returnValue","getField","onComplexPredicate","onEachWhere","onEachSearch","onEachSort","reverse","onCount","settings","overrideMimeType","dataCopy","results","emptyAndBatch","processBatchResponse","versionCheck","requiresFormat","keys_4","localTimeReplacer","convertObj","localTime","compareAndRemove","initialGuid","cid","cSet","generateInsertRequest","generateUpdateRequest","generateDeleteRequest","stat","method","generateBodyContent","org","o","cIdx","jsonObj","exVal","changeGuid","valueOf","ODataV4Adaptor","getModulename","isDate","onExpand","selected","expanded","exArr","ex","WebApiAdaptor","Count","Items","WebMethodAdaptor","param","RemoteSaveAdaptor","updateKey","CacheAdaptor","isCrudAction","isInsertAction","cacheAdaptor","guidId","forDel","requestTime","removeItem","generateKey","currentFilter","newQuery","cachedItems","crossDomain","offline","timeTillExpiration","cachingPageSize","enableCaching","jsonp","defaultQuery","isDataAvailable","then","setDefaultQuery","deffered","Deferred","nextTick","getDeferedArgs","makeRequest","promise","extendRequest","fnSuccess","fnFail","cache","processData","isSelector","process","virtualSelectRecords","fnQueryChild","subDeffer","childArgs","subUrl","childReq","subData","virtualRecords","ajax","catch","all","pResult","cResult","deff","doAjaxRequest","defer","cssClassName","RTL","BUTTON","PRIMARY","ICONBTN","Button","isPrimary","setIconCss","disabled","controlStatus","removeRippleEffect","iconCss","span","iconPosition","isToggle","btnClickHandler","unWireEvents","RIPPLE","CheckBox","isKeyPressed","changeState","state","ariaState","getWrapper","indeterminate","clickHandler","focusOutHandler","focusHandler","setDisabled","initWrapper","for","labelPosition","setText","keyDownHandler","labelMouseHandler","mouseDownHandler","labelWrap","RadioButton","RadioButton_1","changeHandler","radioGrp","radioWrap","getLabel","nextElementSibling","labelRippleHandler","textLabel","rippleLabel","Switch","bar","onLabel","offLabel","setLabel","switchInner","rippleTouchHandler","eventType","onText","offText","switchFocusHandler","switchMouseUp","toggle","li","ul","icon","check","hasChild","collapsible","image","iconWrapper","createList","isSingleLevel","curOpt","defaultListBaseOptions","ariaAttributes","defaultAriaAttributes","typeofData","typeof","createListFromArray","createListFromJson","generateUL","createListItemFromArray","subChild","getModuleClass","generateId","itemCreating","generateSingleLevelLI","generateLI","itemCreated","createListItemFromJson","defaultMappedFields","curItem","innerEle","showCheckBox","showIcon","itemClass","tooltip","htmlAttributes","imageUrl","attr","imageAttributes","processSubChild","listClass","getSiblingLI","elementArray","isPrevious","siblingLI","liIndex","liCollections","groupDataSource","sortOrder","cusQuery","groupBy","getDataSource","addSorting","itemObj","grpItem","createJsonFromElement","curEle","jsonAr","childs","hasChildNodes","attributes_1","getAllAttributes","urlAttributes","elementAttributes","class","renderContentTemplate","ulElement","compiledString","liCollection","renderGroupTemplate","groupTemplate","headerItems","category","headerItems_1","headerData","subDS","hasChildren","subLi","expandCollapse","expandIconPosition","expandIconClass","innerElements","grpLI","elementID","groupItemRole","itemRole","anchorTag","uID","innerDiv","wrapperRole","itemText","liElement","listRole","generateIcon","isChecked","headerTemplate","effectsConfig","None","SlideLeft","SlideDown","Zoom","Fade","effectsRTLConfig","classNames","root","hover","focused","parentItem","listItem","listIcon","listItemText","groupListItem","view","headerText","headerTemplateText","disable","backIcon","checkboxWrapper","checkbox","checklist","checkboxIcon","checkboxRight","checkboxLeft","listviewCheckbox","itemCheckList","FieldSettings","ListView","setHTMLAttribute","setCSSClass","setEnable","setSize","setEnableRTL","listBaseOption","enableVirtualization","virtualizationModule","reRenderUiVirtualization","reRender","curDSLevel","headerTitle","contentContainer","setCheckbox","curViewDS","getSubDS","resetCurrentList","oldCSSClass","isWindow","enableElement","enable","isEnabled","showBack","headerEle","showHeader","innerHeaderEle","textEle","hedBackButton","headerTemplateEle","switchView","fromView","toView","fPos_1","overflow_1","anim","effect","aniObj","curUL","renderCheckbox","initialization","animateOptions","currentLiElements","isNestedList","selectedData","selectedId","isValidLI","checkboxElement","frameElement_1","checkInternally","checkBoxPosition","checkItem","toggleCheckBase","HTMLLIElement","getLiFromObjOrElement","setSelectedItemData","uncheckItem","checkAllItems","toggleAllCheckBase","uncheckAllItems","checkIcon","checkedItem","args_1","getItemData","removeElement","selectedItems","back","removeFocus","selectEventData","removeHover","removeSelect","setSelectLI","setCheckboxLI","hoverHandler","curLi","setHoverLI","leaveHandler","homeKeyHandler","focusedElement","onArrowKeyDown","prev","arrowKeyHandler","elementTop","elementHeight","firstItemBounds","heightDiff","groupItemBounds","siblingTop","siblingHeight","scrollTo","uiFirstIndex","onUIScrolled","listItemHeight","topHeight","headerBounds","enterKeyHandler","spaceKeyHandler","keyActionHandler","tabFocus","swipeActionHandler","focusout","activeElement","touchModule","swipe","focusedLI_1","hoverLI","selectedLI_1","renderSubList","isInteracted","selectedLI","lastLi","hoverSiblingLI","curLIs","levelKeys","localData","levelKeys_1","curDSJSON","findItemFromDS","curDS","getElementUID","resultJSON","getQuery","columns","column","setViewDataSource","isInAnimation","setLocalData","renderList","renderIntoDom","createUIItem","uiVirtualization","Element","tabindex","rippleFn","classAr","pID","pop","toUL","fromUL","selectItem","selectMultipleItems","getParentId","parentId","getSelectedItems","liTextCollection","liDataCollection","dataParent","tempData","findItem","enableItem","setItemState","disableItem","isEnable","showItem","showHideItem","hideItem","addItem","addListItem","removeItemFromList","dsIndex","removeMultipleItems","Virtualization","listViewInstance","firstDs","expectedDomItemCount","ValidateItemCount","domItemCount","uiLastIndex","wireScrollEvent","otherDs","topElement","bottomElement","totalHeight","topElementHeight","bottomElementHeight","listDiff","uiIndicesInitialization","onVirtualScroll","onVirtualUiScroll","dataSourceLength","itemCount","round","uiIndices","activeIndices","disabledItemIndices","hiddenItemIndices","getscrollerHeight","startingHeight","scrollPosition","scroll","onLongScroll","onNormalScroll","isScrollingDown","updateUI","nextSibling","previousElementSibling","updateUiContent","curViewDs","dataset","checkListWrapper","changeElementAttributes","checklistElement","activeIndex","findDSAndIndexFromId","dataCollection_1","textCollection_1","curViewDS_1","curViewDS_2","text_1","resutJSON","removeUiItem","addUiItem","changeUiIndices","liItem","lastElementChild","previousSibling","commonTemplate","templateElements","groupTemplateElements","templateData","nodes","flatTemplateNodes","groupTemplateNodes","compileTemplate","textProperty","classProperty","attributeProperty","onChange","listElement","updateContextData","regexMatch","resultantOutput","classNameMatch","subNode","bindedvalue","attributeNames","attributeName","attributeNameFunction","attributeValueFunction","attrNameMatch","attrValueMatch","subNode_1","attrName","attributeValue","isChildHasTextContent","textPropertyMatch","textFunction","targetElement","dropDownBaseClasses","rtl","noData","fixedHead","ListBaseClasses","grouping","DropDownBase","getPropObject","newProperty","oldProperty","getValueByText","listData","checkValueCase","isTextByValue","typeOfData","dataSource_1","checkingAccent","checkIgnoreCase","getItemValue","checkNonIgnoreCase","itemValue","textItem","typedText","getFormattedValue","l10nUpdate","actionFailure","noRecordsTemplate","actionFailureTemplate","l10nLocale","l10n","getTextByValue","setEnableRtl","enableRtlElements","bindEvent","jsonElement","resetList","renderItemsBySelect","setListData","setEnabled","getJSONfromOption","optionGroup","scrollTimer","isRequested","isActive","renderItems","onActionComplete","onActionFailure","localDataArgs","postRender","focusItem","selectedItem","listEle","createListItems","getSortedDataSource","listOption","fieldValues","setFloatingHeader","fixedHeaderElement","setFixedHeader","zIndex","scrollStop","liHeight","topIndex","currentLi","itemTemplate","templateListItem","liWidth","firstLi","textField","getIndexByValue","getItems","setFields","updateSelection","updateDataSource","setUpdateInitial","setZIndex","isEmptyData","rippleFun","wrapperElement","itemIndex","itemsCount","selectedItemValue","updateActionCompleteData","tempLi","validationAttribute","hidden","getDataByValue","PositionData","CLASSNAMES","ROOT","OPEN","CLOSE","Popup","refreshPosition","setContent","actionOnScroll","wireScrollEvents","unwireScrollEvents","orientationOnChange","getRelateToElement","scrollRefresh","parent_2","relateToElement","relateTo","hide","targetVisible","isElementOnViewport","targetInvisibleStatus","scrollElement","parent_3","isElementVisible","parent_4","win","windowView","scrollY","scrollX","outerWidth","outerHeight","elementView","reposition","checkFixedParent","checkCollision","getAnchorPosition","anchorEle","eleRect","anchorRect","targetType","callFlip","callFit","viewPortRect","horz","collision","vert","show","animationOptions","relativeElement","zIndexElement","showAnimation","hideAnimation","ButtonProps","AnimationSettings","Dialog","initRender","headerContent","classArray","clonedEle","closeIconClickEventHandler","dlgOverlayClickEventHandler","localeText","prevOnChange","keyDown","isModal","buttonObj","btnObj","focusableElements","isTagName","isContentEdit","hasAttribute","closeOnEscape","primaryButtonEle","buttonIndex_1","buttons","buttonModel","click","targetEle","setMaxHeight","initialRender","setzIndex","calculatezIndex","setTargetContent","setHeader","showCloseIcon","renderCloseIcon","footerTemplate","setButton","setFooterTemplate","allowDragging","setAllowDragging","aria-modal","setIsModal","dlgContainer","popupObj","focusContent","unBindEvent","closeArgs","storeActiveElement","positionChange","setOverlayZindex","visible","dlgOverlay","zIndexValue","setPopupPosition","dragObj","buttonContent","btn","ftrTemplateContent","aria-describedby","contentEle","innerContentElement","HTMLElement","setTemplate","maxHeight","isContent","createHeaderContent","closeIcon","closeIconBtnObj","DLG_CLOSE_ICON","closeIconTitle","getValidFocusNode","u","clientHeight","tabIndex","disableElement","getAutoFocusNode","validNode","t","elementMatch","updateIsModal","setPopupZindex","isFullScreen","fullScreen","openAnimation","animationSettings","dialogOpen","closeAnimation","Tooltip","formatPosition","tooltipPositionY","tooltipPositionX","renderArrow","setTipClass","tip","ARROW_TIP","tipClass","ARROW_TIP_OUTER","ARROW_TIP_INNER","tooltipEle","renderPopup","elePos","mouseTrail","getTooltipPosition","openPopupHandler","closePopupHandler","offsetPos","calculateTooltipOffset","collisionFlipFit","tooltipEventArgs","tooltipEleWidth","tooltipEleHeight","arrowEle","tipWidth","tipHeight","tipAdjust","showTipPointer","tipHeightAdjust","tipWidthAdjust","clientWidth","updateTipPosition","selEle","adjustArrow","leftValue","topValue","tooltipWidth","tooltipHeight","arrowInnerELe","tipPosExclude","tipPointerPosition","POINTER_ADJUST","renderContent","tooltipContent","isSticky","tipClose","ICON","onStickyClose","addDescribedBy","describedby","data-tooltip-id","removeDescribedBy","orgdescribedby","tapHoldHandler","autoCloseTimer","targetHover","touchEndHandler","targetClick","hideTooltip","targetList_1","ctrlId","target_1","restoreElement","showTooltip","wireMouseEvents","showTimer","hideTimer","isHidden","TOOLTIP_WRAP","aria-hidden","maxWidth","PopupAnimation","openDelay","horizontal","vertical","affectedPos","newpos","collidedPosition","eleOffset","arrowleft","closeAnimation_1","closeDelay","unwireMouseEvents","onMouseOut","onMouseMove","eventPageX","eventPageY","touches","colpos","touchEnd","scrollHandler","opensOn","triggerList_1","getTriggerList","wireFocusEvents","tapHold","targetList_2","triggerList_2","unwireFocusEvents","targetList_3","triggerList_3","trgt","DISABLE","INPUT","CLEARICON","CLEARICONHIDE","NOFLOATLABEL","INPUTCUSTOMTAG","FLOATCUSTOMTAG","createInput","inputObject","createInputContainer","createFloatingInput","getParentNode","setClearButton","appendSpan","setPropertyValue","_focusFn","_blurFn","wireFloatingEvents","unwireFloatingEvents","customTag","updateLabelState","setCssClass","setPlaceholder","setReadonly","readonly","updateIconState","button","createClearButton","initial","insertAdjacentElement","wireClearBtnEvents","readOnly","validateLabel","tagClass","oldClass","aria-placeholder","isReadonly","isRtl","disabledAttrs","aria-disabled","removeAttributes","addAttributes","isClear","addFloating","iconEle","floatText","setRipple","_internalRipple","argsButton","_onMouseDownRipple","_onMouseUpRipple","_onMouseRipple","parentEle","iconClass","ErrorOption","SPINICON","INTREGEXP","NumericTextBox","isPrevFocused","decimalSeparator","intRegExp","isCalled","cloneElement","angularTagName","incrementTitle","decrementTitle","isValidState","inputStyle","inputName","cultureInfo","initCultureInfo","initCultureFunc","checkAttributes","validateMinMax","validateStep","updatePlaceholder","createWrapper","showSpinButton","spinBtnCreation","changeValue","strictMode","trimValue","decimals","roundNumber","inputWrapper","aria-readonly","hiddenInput","validateHidden","spinDown","aria-label","spinUp","wireSpinBtnEvents","MAX_VALUE","formattedValue","aria-valuemin","aria-valuemax","operation","isInteract","isFocused","performAction","raiseChangeEvent","checkErrorClass","focusIn","focusOut","keyUpHandler","inputHandler","pasteHandler","mouseDownOnSpinner","mouseUpOnSpinner","touchMoveOnSpinner","unwireSpinBtnEvents","parsedInput","updateValue","previousValue","beforeUpdate","preventHandler","iOS","platform","currentPos","prevPos","ignoreKeyCode","valArray","prevVal","nextEle","cursorPosChanged","updatedValue","correctRounding","floatExp","floatValue","floatStep","valueCount","stepCount","roundValue","precision","divide","pow","updateCurrency","propVal","numberOfDecimals","decimalPart","modifyText","validateState","result1","result2","metaKey","currentChar","stopPropagation","fractionRule","validateDecimalOnType","mouseWheel","delta","rawEvent","wheelDelta","detail","formatValue_1","ele_1","getElementData","mouseUpClick","floatLabelTypeUpdate","decrement","getText","keyEntity","propValue","#","?","&","MaskUndo","MaskedTextBox","resetMaskedTextBox","setMaskPlaceholder","setWidth","setVal","dynamicPlaceholder","strippedValue_1","strippedVal","getMaskedValue","TicksData","LimitData","TooltipData","sliderHiddenInput","controlWrapper","sliderHandle","rangeBar","sliderButton","firstButton","secondButton","tick","large","tickValue","sliderTooltip","sliderHover","sliderFirstHandle","sliderSecondHandle","sliderDisabled","sliderContainer","horizontalTooltipBefore","horizontalTooltipAfter","verticalTooltipBefore","verticalTooltipAfter","materialTooltip","materialTooltipOpen","materialTooltipActive","materialSlider","sliderTrack","sliderHandleFocused","verticalSlider","horizontalSlider","sliderHandleStart","sliderTooltipStart","sliderTabHandle","sliderButtonIcon","sliderSmallSize","sliderTickPosition","sliderFirstTick","sliderLastTick","sliderButtonClass","sliderTooltipWrapper","sliderTabTrack","sliderTabRange","sliderActiveHandle","sliderMaterialHandle","sliderMaterialRange","sliderMaterialDefault","materialTooltipShow","materialTooltipHide","limits","limitBarDefault","limitBarFirst","limitBarSecond","dragHorizontal","dragVertical","Slider","horDir","verDir","transition","transitionOnMaterialTooltip","scaleTransform","customAriaText","isElementFocused","tickElementCollection","tooltipFormatInfo","ticksFormatInfo","internationalization","ticks","formatString","formatInfo","formatValue","makeRoundNumber","elementVal","fractionalToInteger","noOfDecimals","tens","setZindex","tooltipElement","firstTooltipElement","secondTooltipElement","showOn","isMaterial","isBootstrap","setHandler","createRangeBar","createLimitBar","setOrientClass","showButtons","setButtons","rangeValueUpdate","previousVal","checkHandleValue","previousChanged","setLimitBar","placement","renderScale","renderTooltip","orientation","firstElementClassName","firstHandle","secondHandle","setAriaAttributes","customValues","createSecondHandle","secondMaterialHandle","createFirstHandle","firstMaterialHandle","wireFirstHandleEvt","handleFocus","transitionEnd","handleOver","handleLeave","wireSecondHandleEvt","handleStart","activeHandle","handlePos1","handlePos2","getHandle","tooltipObj","firstTooltipObj","secondTooltipObj","refreshTooltip","openMaterialTooltip","tooltipAnimation","closeTooltip","handleFocusOut","tooltipValue","preDir","setTooltipContent","addTooltipClass","setAriaAttrValue","formatContent","handleVal1","ariaContent","handle1","handle2","handleVal2","count_1","getTooltipTransformProperties","previousTooltipClass","tooltipPlacement","tooltipPosition","tooltipBeforeOpen","transformProperties","bootstrapCollisionArgs","wireMaterialTooltipEvent","sliderDown","tooltipPositionCalculation","cursor","checkTooltipPosition","firstHandleTooltipPosition","secondHandleTooltipPosition","tooltipClass","tooltipPointer","beforeOpen","beforeCollision","afterClose","tooltipAfterClose","firstBtn","secondBtn","buttonTitle","enabledRTL","buttonFocusOut","repeatButton","openTooltip","hVal","handleValueUpdate","getLimitCorrectedValues","changeHandleValue","refreshTooltipOnMove","repeatHandlerMouse","buttonClick","repeatInterval","materialChange","repeatHandlerUp","changeEvent","customTickCounter","bigNum","tickCount","orien","smallStep","showSmallTicks","largeStep","steps","customStep","islargeTick","tickWidth","largestep","repeat","createTick","formatTicksValue","decimalPoints","tickesAlignment","lastChild","ticksWrapper","tickElements","scaleAlignment","tickText","tickElement","tickValuePosition","other","otherChild","ariaValueText","isTickFormatted","valuenow","aria-valuetext","getLimitValueAndPosition","minStart","minEnd","maxStart","maxEnd","focusSliderElement","buttonUp","setRangeBar","checkValidValueAndPos","checkHandlePosition","setLimitBarPositions","fromMinPostion","fromMaxpostion","toMinPostion","toMaxpostion","fromPosition","toPosition","currentValue","minValue","maxValue","limitBar","preHandlePos1","setHandlePosition","validateRangeValue","setRangeValue","modifyZindex","updateRangeValue","previous","setPreviousVal","preHandlePos2","values_1","tempStartEnd","onResize","startHandleFixed","endHandleFixed","xyToPosition","top_1","stepValueCalculation","percentStep","remain","addition","f","positionToValue","sliderBarClick","handlepos","handleVal","checkRepeatedValue","xPostion","yPostion","firstPartRemain","secondPartRemain","minDiff","dragRangeBarMove","dragRangeBarUp","sliderBarMove","sliderBarUp","handleValueAdjust","handleValue","assignValue","handleNumber","valueAndPostion","wireButtonEvt","sliderFocusOut","onresize","keyUp","relatedTarget","transformProperties_1","hiddenHandle_1","handle_1","blur","changeSliderType","updateConfig","changeRtl","changeOrientation","limitsPropertyChange","setMinMaxValue","setTooltip","setReadOnly","VALIDATE_EMAIL","VALIDATE_URL","VALIDATE_DATE_ISO","VALIDATE_DIGITS","VALIDATE_PHONE","VALIDATE_CREDITCARD","FormValidator","validated","errorRules","allowSubmit","required","infoElement","selectQuery","defaultMessages","email","dateIso","creditcard","number","maxLength","minLength","rangeLength","tel","equalTo","rules","inputElements","createHTML5Rules","FormValidator_1","addRules","removeRules","validateRules","rules_1","name_1","clearForm","getInputElement","errorClass","validClass","elements_2","getErrorElement","hideMessage","defRules","acceptedTypes","allRule","defRules_1","rule","defRule","annotationRule","ruleCon","ruleName","rulesList","ruleFirstName","ruleSecondName","minvalue","maxvalue","annotationMessage","isCheckable","submitHandler","excludeKeys","hiddenType","validateHiddenType","vhPos","hPos","rules_2","errorMessage","getErrorMessage","errorRule","isValid","removeErrorRules","showMessage","createErrorElement","errorElement","optionalValidationStatus","refer","currentRule","formElement","checkValidator","ruleValue","formats","errorOption","Message","errorContainer","containerId","customPlacement","checkRequired","inputType","compareTo","Label","FILE","STATUS","CLEAR_ICON","REMOVE_ICON","ABORT_ICON","RETRY_ICON","PROGRESS_WRAPPER","PROGRESSBAR","UPLOAD_SUCCESS","UPLOAD_FAILED","ICON_FOCUSED","PAUSE_UPLOAD","FilesProp","ButtonsProps","AsyncSettings","Uploader","initialAttr","multiple","fileList","filesData","uploadedFilesData","isForm","allTypes","pausedData","uploadMetaData","setExtensions","allowedExtensions","clearAll","setControlStatus","setMultipleSelection","setRTL","reRenderFileList","browse","renderButtonTemplates","unBindDropEvents","setDropArea","renderPreLoadFiles","setLocalizedTexts","preLocaleObj","browseButton","localizedTexts","uploadWrapper","updateFileList","getKeyValue","autoUpload","uploadButton","listParent","createFileList","actionButtons","removeActionButtons","renderActionButtons","checkActionButtonStatus","Browse","Clear","Upload","dropFilesHint","invalidMaxFileSize","invalidMinFileSize","invalidFileType","uploadFailedMessage","uploadSuccessMessage","removedSuccessMessage","removedFailedMessage","inProgress","readyToUploadMessage","pauseUpload","resume","retry","fileUploadCancel","checkHTMLAttributes","asyncSettings","saveUrl","isPureReactComponent","next","renderBrowseButton","initializeUpload","wireActionButtonEvents","uploadButtonClick","clearButtonClick","unwireActionButtonEvents","uploadText","clearText","dropAreaWrapper","fileDropArea","aria-activedescendant","files","clearData","files_1","fileData","rawFile","validationMessages","minSize","maxSize","statusCode","showFileList","dropTextArea","dropArea","dropZoneElement","enableDropText","bindDropEvents","newAttr","createAttribute","setAttributeNode","checkAutoUpload","browseButtonClick","onSelectFiles","keyboardModule","resetForm","setTabFocus","setReverseFocus","metaData","getCurrentMetaData","file","abortUpload","resumeUpload","chunkUpload","removeFiles","fileInfo","targetMetaData","iconElements","iconElement","dropElement","dragHover","onDragLeave","selectedElement","spinnerTarget","removeFilesData","customTemplate","getLiElement","removeUploadedFile","removeDirectly","selectedFiles","formData","FormData","currentRequest","postRawFile","updateFormData","customFormData","removeCompleted","removeFailed","customData","updateStatus","rootElement","statusElement","targetFiles","dataTransfer","sortFileList","eventArgs_1","getFileType","validatedFileSize","isModified","modifiedFilesData","progressInterval","checkExtension","dataFiles","updateSortedFileList","singleUpload","removedList","previousListClone","removedList_1","oldList","createParentUL","dropFiles","extensions_1","extension","fileSize","minSizeError","maxSizeError","minFileSize","maxFileSize","createCustomfileList","fileData_1","data-file-name","uploadTemplateFn","templateComplier","fileData_2","textContainer","textElement","getFileNameOnly","fileExtension","rtlContainer","bytesToSize","truncateName","nameElement","scrollWidth","tail","setInitialAttributes","filterfileList","filterFiles","createProgressBar","progressbarWrapper","progressBar","progressbarInnerWrapper","progressbarText","updateProgressbar","loaded","total","changeProgressValue","progressValue","uploadInProgress","customUI","removecanceledFile","updateProgressBarClasses","renderFailureState","removeProgressbar","deleteIcon","pauseButton","reloadcanceledFile","uploadComplete","raiseSuccessEvent","uploadFailed","callType","progressAnimation","animateProgressBar","extensions","uploadTemplate","exception","chunkSize","chunkIndex","blob","retryCount","sendRequest","totalChunk","ceil","chunkUploadComplete","chunkUploadInProgress","eventCancelByArgs","chunkUploadFailed","checkChunkUpload","response","updateMetaData","eventArgs_2","sendNextRequest","name_2","removeChunkFile","removeChunkProgressBar","pauseIcon","chunkCount","cancelButton","retryRequest","retryAfterDelay","checkPausePlayAction","retryUpload","fromcanceledStage","retryElement","clearIcon","loadedSize","bytes","fileNames","sortedFilesData","sortedFileNames_1","name_3","uploadFiles","validateFileType","chunkEnabled","name_4","getFilesData","validUrl","removeFiles_1","fileDataFiles","pauseUploading","getFiles","resumeFiles","retryFailedFiles","cancelUpload","Item","DISABLED","FOCUS","ITEM","POPUP","SEPARATOR","VERTICAL","DropDownButton","canOpen","openPopUp","closePopup","createPopup","dropDown","getTargetElement","getPopUpElement","createItems","hasIcon","separator","createAnchor","setIconPositionTop","appendArrowSpan","setActiveElem","iconSpan","activeElem","popupEle","getULElement","popupElement","delegateMousedownHandler","mousedownHandler","keyBoardHandler","upDownKeyHandler","keyEventHandler","defaultIdx","childElementCount","liIdx","removeCustomSelection","selectedLi","getLI","beforeOpenArgs","openArgs","focusEle","beforeCloseArgs","btnModel","TAGNAME","SplitButton","createPrimaryButton","createSecondaryButton","secondaryBtnObj","setAria","primaryBtnObj","btnElem","dropDownBtnModel","beforeItemRender","beforeClose","aria-expanded","aria-haspopup","aria-owns","primaryBtnClickHandler","btnKeyBoardHandler","altdownarrow","CTRLSWITCH","FORMATSWITCH","HEX","HSVAREA","INPUTWRAPPER","MODESWITCH","NOCOLOR","PREVIEW","SELECT","TILE","TOHSV","presets","default","ColorPicker","Apply","Cancel","ModeSwitcher","inline","createWidget","createSplitBtn","tileRipple","ctrlBtnRipple","createPalette","firstPaletteFocus","createPicker","getDragHandler","isPicker","createCtrlBtn","toggleDisabled","refreshPopupPos","splitButton","splitBtn","beforeOpenFn","onOpen","popupClose","hex","rgba","convertToRgbString","hexToRgb","preview","backgroundColor","getPopupEle","popupInst","getPopupInst","modal","destroyOtherComp","presetColors","paletteGroup","appendElement","appendPalette","modeSwitcher","noColor","setNoColor","borderBottomWidth","rgb","hsv","rgbToHsv","refEle","palette","row","tile","aria-selected","presetName","addTileSelection","noColorEle","insertPos","hsvContainer","dragHandler","setHsvContainerBg","setHandlerPosition","createSlider","createDragTooltip","getHsvContainer","hsvToRgb","hsvArea","sliderPreviewWrapper","createPreview","sliderWrapper","slider","hueSlider","hueChange","opacitySlider","opacityChange","opacityBgTrack","updateOpacitySliderBg","background","convertToOtherFormat","pValue","rgbToHex","cValue","updatePreview","triggerEvent","previewContainer","colorValue","getNumericTextBoxModel","inputWrap","hexInput","maxlength","clsName","btnWrapper","controlBtnWrapper","appendModeSwitchBtn","getTooltipInst","setTooltipOffset","convertToHsvString","updateHsv","isKey","updateInput","removeTileSelection","convertRgbToNumberArray","n","pickerKeyDown","handlerDown","addCtrlSwitchEvent","addvalueEventHandler","previewHandler","paletteClickHandler","paletteKeyDown","addInputEvent","formatSwitchHandler","handlerDragPosition","triggerChangeEvent","prob","setHsv","handlerMove","handlerEnd","switchToPalette","ctrlBtnClick","noColorTile","switchToPicker","grpEle","selectedEle","tiles","prevSelectedEle","tilePosition","keySelectionChanges","newEle","emptyCount","inputValueChange","isPopupOpen","tooltipInst","len_1","bigInt","g","v","changeModeSwitcherProp","ctrlSwitchWrapper","changeShowBtnProps","ctrlBtnWrapper","changeValueProp","setInputEleProps","changeDisabledProp","changeCssClassProps","popupWrapper","changeRtlProps","changePaletteProps","otherCompModel","cls","dropDownListClasses","inputFocus","iconAnimation","device","filterBarClearIcon","filterInput","filterParent","mobileFilter","footer","clearIconHide","popupFullScreen","disableIcon","hiddenElement","DropDownList","initializeData","isDocumentClick","isFilterFocus","beforePopupOpen","initRemoteRender","isNotSearchList","isTyped","isSelected","preventFocus","preventAutoFill","isValidKey","typedString","isEscapeKey","isPreventBlur","isTabKey","actionCompleteData","isUpdated","prevSelectPoints","isSelectCustom","isDropDownClick","preventAltUp","isCustomFilter","isSecondClick","keyConfigure","down","up","pageUp","pageDown","wireListEvents","floatLabelChange","floatElement","onChangeEvent","resetFocusElement","removeSelection","resetSelection","allowFiltering","valueTempElement","setSelection","setHTMLAttributes","htmlAttr","defaultAttr","getAriaAttributes","hidePopup","preventTabIndex","getNgDirective","getElementByText","getElementByValue","listItems_1","initValue","updateValues","setHiddenValue","onBlur","isFilterLayout","focusOutAction","onFocusOut","onFocus","resetValueHandler","wireEvent","dropDownClick","bindCommonEvent","unBindCommonEvent","onMouseClick","onMouseOver","onMouseLeave","charCode","searchKeyEvent","setHover","hoveredItem","setScrollPosition","spinnerElement","filterInputObj","preventAction","preventHomeEnd","isNavigation","isEditTextBox","isTabAction","isSelectFocusItem","nextItem","pageUpSelection","getPageCount","pageDownSelection","showPopup","focusDropDown","selectCurrentItem","previousItem","unWireEvent","unWireListEvents","onDocumentClick","activeStateChange","proxy_1","cloneElements","updateSelectedItem","preventSelect","detachChanges","focusedItem","activeItem","previousItemData","previousSelectedLI","valueTemplate","setValueTemplate","dataValue","dataText","eve","detachChangeEvent","defineProperties","preItems","onFilterUp","searchLists","onFilterDown","getSelectionPoints","removeFillSelection","selection","isFiltering","preventDefaultAction","updateData","filteringAction","baseEventArgs","filterQuery","focusIndexItem","setSearchBox","filterBarPlaceholder","clearIconElement","searchKeyModule","onInput","addNewItem","newElement","highlightedItem","refreshPopup","searchBox","listHeight","popupHeight","setHeaderTemplate","searchBoxHeight","offsetValue","getOffsetValue","firstItem","isEmptyList","textIndent","paddingLeft","borderLeftWidth","getFocusElement","setSearchBoxPosition","backIconElement","clickOnBackIcon","scrollParentElements_1","listScroll","animModel","popup","popupStyles","borderTop","borderBottom","destroyPopup","clearElement","border","popupOffset","lastItem","paddingBottom","popupWidth","scrollBottom","currentOffset","nextBottom","nextOffset","paddingTop","boxRange","isPopupButton","scrollableParentElements_1","selectElement","onselect","stopImmediatePropagation","onchange","setOldText","setOldValue","ddlProps","proxy_2","onpopstate","pushState","ComboBox","preventBlur","targetFocus","customValue","allowCustom","valueMuteChange","inputValue","aria-autocomplete","aria-hasPopup","setHoverList","inlineSearch","autofill","setAutoFill","isHover","currentFillValue","isAndroidAutoFill","setAutoFillSelection","currentPoints","prevEnd","curEnd","prevStart","curStart","isKeyNavigate","changeData","comboProps","isEscape","searchItem","AutoComplete","isFiltered","filterType","mapping","suggestionCount","isDownUpKey","filterAction","postBackAction","fieldsSettings","highlight","itemCreated_1","showPopupButton","atcProps","HIDE_LIST","CHIP","MultiSelect","selectAllEventData","selectAllEventEle","scrollFocusStatus","keyDownStatus","enableRTL","allowCustomValue","hideSelectedItem","closePopupOnSelect","updateHTMLAttribute","validateAttr","containerAttr","updateReadonly","updateClearButton","overAllClear","updateCssClass","onPopupShown","focusAtFirstListItem","isFirstClick","mainList","refreshSelection","addListFocus","focusAtLastListItem","aria-multiselectable","updateListARIA","disableStatus","removelastSelection","chipCollectionWrapper","tempValues","removeValue","removeChipSelection","updateDelimeter","delimiterChar","makeTextBoxEmpty","mainData","targetInputElement","getForQuery","valuecheck","updateActionList","showSelectAll","mainListCollection","remoteCustomValue","checkForCustomValue","tempQuery","unwireListEvents","setInitialValue","selectAllAction","setDynValue","initialValueUpdate","initialUpdate","refreshPlaceHolder","updateValueState","hideGroupItem","ariaValue","checkSelectAll","checkMaxSelection","element1","temp1","searchCount","searchActiveCount","openClick","openOnClick","KeyUp","expandTextbox","showOverAllClear","checkTextLength","remoteFilterAction","dataUpdater","backCommand","dataChecks","wrapperClick","refreshListItems","updateDelimView","removeChipFocus","refreshInputHight","validateValues","initStatus","getPagingCount","collection","showDelimWrapper","viewWrapper","delimiterWrapper","hideDelimWrapper","mobFilter","calcPopupWidth","popupKeyActions","updateAriaAttribute","onKeyDown","moveByList","selectByKey","escapeAction","keyNavigation","enableSelectionOrder","checkBackCommand","moveBy","removeSelectedChip","selectListByKey","hideOverAllClear","limit","maximumSelectionLength","updateListSelection","selectedElem","addChipSelection","moveByTop","chipClick","onChipRemove","setFloatLabelType","updateMainList","removeChip","updateChipStatus","IsChecked","element2","addValue","addListSelection","addChip","dispatchSelect","isNotTrigger","getChip","closeElements","onMobileChipInteraction","chipElem","chipClose","chip","data-value","chipContent","setClass","mouseIn","mouseOut","fieldProperty","listCurrentOptions","overAllHeight","selectAllHeight","onListMouseDown","ClearAll","windowResize","delim","removeListSelection","indexItem","selectItems","mainlist","addListHover","ariaCheck","delimChar","CLOSEICON_CLASS","tempIndex","wrapperleng","remaining","remainContent","overflowCountTemplate","raminElement","remainSize","overAllContainer","paddingRight","remainValue","newTemp","selectAllItem","onLoadSelect","dropDownIcon","msProps","mainLiLength","liLength","DELIMITER_VIEW","checkAutoFocus","showDropDownIcon","dropIcon","CheckBoxSelection","activeLi","activeEle","listSelection","setSelectAll","setDeviceSearchBox","getFocus","setReorder","getActiveList","checboxCreate","checkboxEle","checkAllParent","selectAllSpan","checkWrapper","checkElement","validateCheckNode","checkWrap","isCheck","isPrevent","unSelect","selectAllText","unSelectAllText","activeLiCount","ulEle"],"mappings":"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IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KAEdj9B,EAASoB,aAQLiH,MAAO,SAAU7uB,EAAQ0jD,EAAU54F,EAAYu8D,GAK3C,MAJIA,KACArnB,EAASwmB,EAAS4F,iBAAiBpsB,GACnC0jD,EAAWl9B,EAAS4F,iBAAiBs3B,IAErC54F,EACO07D,EAASp7D,YAAY40C,KAAYwmB,EAASp7D,YAAYs4F,GAE1D1jD,IAAW0jD,GAQtB50B,SAAU,SAAU9uB,EAAQ0jD,EAAU54F,EAAYu8D,GAK9C,MAJIA,KACArnB,EAASwmB,EAAS4F,iBAAiBpsB,GACnC0jD,EAAWl9B,EAAS4F,iBAAiBs3B,KAEjCl9B,EAASoB,YAAYiH,MAAM7uB,EAAQ0jD,EAAU54F,IAQzD2jE,SAAU,SAAUzuB,EAAQ0jD,EAAU54F,GAClC,MAAIA,GACO07D,EAASp7D,YAAY40C,GAAUwmB,EAASp7D,YAAYs4F,GAExD1jD,EAAS0jD,GAQpB/0B,YAAa,SAAU3uB,EAAQ0jD,EAAU54F,GACrC,MAAIA,GACO07D,EAASp7D,YAAY40C,GAAUwmB,EAASp7D,YAAYs4F,GAExD1jD,EAAS0jD,GAQpBh1B,gBAAiB,SAAU1uB,EAAQ0jD,EAAU54F,GACzC,MAAIA,GACO07D,EAASp7D,YAAY40C,IAAWwmB,EAASp7D,YAAYs4F,GAEzD1jD,GAAU0jD,GAQrB90B,mBAAoB,SAAU5uB,EAAQ0jD,EAAU54F,GAC5C,MAAIA,GACO07D,EAASp7D,YAAY40C,IAAWwmB,EAASp7D,YAAYs4F,GAEzD1jD,GAAU0jD,GAQrBh4F,SAAU,SAAUs0C,EAAQ0jD,EAAU54F,EAAYu8D,GAK9C,MAJIA,KACArnB,EAASwmB,EAAS4F,iBAAiBpsB,GACnC0jD,EAAWl9B,EAAS4F,iBAAiBs3B,IAErC54F,GACQ4F,EAAkBsvC,KAAYtvC,EAAkBgzF,KACsB,IAA1El9B,EAASp7D,YAAY40C,GAAQvuC,QAAQ+0D,EAASp7D,YAAYs4F,KAE1DhzF,EAAkBsvC,KAAYtvC,EAAkBgzF,KACX,IAAzC1jD,EAAOpsC,WAAWnC,QAAQiyF,IAOlCC,QAAS,SAAU3jD,GACf,MAAkB,QAAXA,GAOX4jD,OAAQ,SAAU5jD,GACd,MAAkB,QAAXA,GAQXivB,WAAY,SAAUjvB,EAAQ0jD,EAAU54F,EAAYu8D,GAKhD,MAJIA,KACArnB,EAASwmB,EAAS4F,iBAAiBpsB,GACnC0jD,EAAWl9B,EAAS4F,iBAAiBs3B,IAErC54F,EACOk1C,GAAU0jD,GAAYl9B,EAAS+D,WAAW/D,EAASp7D,YAAY40C,GAASwmB,EAASp7D,YAAYs4F,IAEjG1jD,GAAU0jD,GAAYl9B,EAAS+D,WAAWvqB,EAAQ0jD,IAQ7D10B,SAAU,SAAUhvB,EAAQ0jD,EAAU54F,EAAYu8D,GAK9C,MAJIA,KACArnB,EAASwmB,EAAS4F,iBAAiBpsB,GACnC0jD,EAAWl9B,EAAS4F,iBAAiBs3B,IAErC54F,EACOk1C,GAAU0jD,GAAYl9B,EAASyB,SAASzB,EAASp7D,YAAY40C,GAASwmB,EAASp7D,YAAYs4F,IAE/F1jD,GAAU0jD,GAAYl9B,EAASyB,SAASjoB,EAAQ0jD,IAO3DG,eAAgB,SAAUz8B,GACtB,GAAIoF,GAAShG,EAASsH,gBAAgB1G,EACtC,OAAIoF,GACShG,EAASoB,YAAY4E,GAG3BhG,EAAStyD,WAAW,gDAO/Bo1D,gBAAiB,SAAUlC,GACvB,GAAIL,GAAKP,EAASoB,YAAYR,EAC9B,OAAIL,IAGGP,EAASoB,YAAYi8B,eAAez8B,KAMnDZ,EAAS7hC,OAKLm/D,UAAW,SAAUC,GAUjB,MATwB,gBAAbA,GACPA,EAAWr/D,KAAKC,MAAMo/D,EAAUv9B,EAAS7hC,MAAMq/D,aAE1CD,YAAoBryF,OACzB80D,EAAS7hC,MAAMs/D,sBAAsBF,GAEZ,gBAAbA,IACZv9B,EAAS7hC,MAAMu/D,qBAAqBH,GAEjCA,GAOXE,sBAAuB,SAAU3wF,GAC7B,IAAK,GAAIhI,GAAI,EAAGA,EAAIgI,EAAM9H,OAAQF,IACN,gBAAbgI,GAAMhI,GACbk7D,EAAS7hC,MAAMu/D,qBAAqB5wF,EAAMhI,IAEjB,gBAAbgI,GAAMhI,IAAoB,wBAAwB4B,KAAKoG,EAAMhI,IAIzEgI,EAAMhI,GAAKk7D,EAAS7hC,MAAMm/D,UAAUxwF,EAAMhI,IAH1CgI,EAAMhI,GAAKk7D,EAAS7hC,MAAMq/D,YAAY,GAAI1wF,EAAMhI,KAY5D44F,qBAAsB,SAAUr6B,GAG5B,IAAK,GAFD55D,GAEKqB,EAAK,EAAGiC,EADN/B,OAAOjB,KAAKs5D,GACSv4D,EAAKiC,EAAO/H,OAAQ8F,IAAM,CACtD,GAAI6M,GAAO5K,EAAOjC,EACdk1D,GAAS+D,WAAWpsD,EAAM,QAIT,iBADrBlO,EAAQ45D,EAAK1rD,IAELlO,YAAiByB,OACjB80D,EAAS7hC,MAAMs/D,sBAAsBh0F,GAEhCA,GACLu2D,EAAS7hC,MAAMu/D,qBAAqBj0F,GAIxC45D,EAAK1rD,GAAQqoD,EAAS7hC,MAAMq/D,YAAYn6B,EAAK1rD,GAAOlO,MAUhE+zF,YAAa,SAAU99B,EAAOj2D,GAC1B,GAAIk0F,GAAWl0F,CACf,IAAqB,gBAAVA,GAAoB,CAC3B,GAAIgpC,GAAK,6CAA6C9T,KAAKl1B,EAC3D,IAAIgpC,EACA,MAAOutB,GAAS49B,UAAUC,WAAW,GAAIpvE,MAAK2X,SAASqM,EAAG,GAAI,KAAMutB,EAASgH,sBAAsB,EAElG,IAAI,sEAAsEtgE,KAAK+C,GAAQ,CACxF,GAAI+8D,GAAMm3B,EAASh0F,MAAM,SACzBF,GAAQu2D,EAAS49B,UACZC,WAAW,GAAIpvE,MAAK2X,SAASogC,EAAI,GAAI,IAAKpgC,SAASogC,EAAI,GAAI,IAAM,EAAGpgC,SAASogC,EAAI,GAAI,IAAKpgC,SAASogC,EAAI,GAAI,IAAKpgC,SAASogC,EAAI,GAAI,IAAKpgC,SAASogC,EAAI,GAAI,KAAMxG,EAASgH,sBAAsB,IAGzM,MAAOv9D,IAMXq0F,OAAQ,SAAUr5B,GACd,MAA2B,gBAAhBA,GAAS,GACTA,EAEJzE,EAAS7hC,MAAMm/D,UAAU74B,IAMpCs5B,OAAQ,SAAUt0F,GAGd,MAAgB,OAFJ,wDACMk1B,KAAKl1B,IAS3Bu0F,SAAU,SAAUv0F,EAAO6iD,GACvB,MAAI0T,GAASmG,cAAc18D,GAChBu2D,EAAS7hC,MAAM8/D,aAAax0F,EAAO6iD,GAE1C7iD,YAAiByB,OACV80D,EAAS7hC,MAAM+/D,cAAcz0F,GAEpCA,YAAiBglB,MACVuxC,EAAS7hC,MAAM8/D,cAAe1nE,IAAK9sB,GAAS6iD,GAAW/1B,IAE3D9sB,GAQXw0F,aAAc,SAAU1nE,EAAK+1B,GAGzB,IAAK,GAFD7iD,GAEKqB,EAAK,EAAGqzF,EADNnzF,OAAOjB,KAAKwsB,GACSzrB,EAAKqzF,EAAOn5F,OAAQ8F,IAAM,CACtD,GAAI6M,GAAOwmF,EAAOrzF,EAElB,KADArB,EAAQ8sB,EAAI5e,aACW8W,MAAvB,CAGA,GAAI6V,GAAI76B,CACR8sB,GAAI5e,GAAQqoD,EAAS49B,UAAUC,WAAW79B,EAAS49B,UAAUQ,cAAc95D,GAAI07B,EAASgH,sBAAsBq3B,UAElH,MAAO9nE,IAQX2nE,cAAe,SAAU3nE,GACrB,IAAK,GAAIzxB,GAAI,EAAGA,EAAIyxB,EAAIvxB,OAAQF,IACxBk7D,EAASmG,cAAc5vC,EAAIzxB,IAC3ByxB,EAAIzxB,GAAKk7D,EAAS7hC,MAAM8/D,aAAa1nE,EAAIzxB,IAEpCyxB,EAAIzxB,YAAc2pB,QACvB8H,EAAIzxB,GAAKk7D,EAAS7hC,MAAM8/D,cAAeK,KAAM/nE,EAAIzxB,KAAMw5F,KAG/D,OAAO/nE,KAMfypC,EAAS49B,WACLQ,cAAe,SAAUr+E,GACrB,MAAO,IAAI0O,OAAM1O,EAAqC,IAA5BA,EAAM06B,sBAEpC8jD,MAAO,SAAUx+E,GACb,MAAO,IAAI0O,OAAM1O,EAAqC,IAA5BA,EAAM06B,sBAEpCojD,WAAY,SAAU99E,EAAO5G,EAAQqlF,GACjC,GAAe,OAAXrlF,EACA,MAAO4G,EAEX,IAAI0+E,GAAOD,EAAMx+B,EAAS49B,UAAUW,MAAMx+E,GAASA,CACnD,OAAO,IAAI0O,OAAMgwE,EAAiB,KAATtlF,IAE7BulF,YAAa,SAAU3+E,GACnB,GAAI4+E,GAAS5+E,EACTu6B,GAAYqkD,EAAOlkD,oBACnBmkD,EAAmBtkD,GAAY,EAAI,IAAM,IACzCukD,EAAc,SAAUt2F,GACxB,GAAIu2F,GAAOjlF,KAAKwT,MAAMxT,KAAKE,IAAIxR,GAC/B,QAAQu2F,EAAO,GAAK,IAAM,IAAMA,EAQpC,OANUH,GAAOx5C,cAAgB,IAAM05C,EAAYF,EAAO15C,WAAa,GAAK,IAAM45C,EAAYF,EAAOj6C,WACjG,IAAMm6C,EAAYF,EAAOt5C,YACzB,IAAMw5C,EAAYF,EAAOz2C,cACzB,IAAM22C,EAAYF,EAAOI,cACzBH,EAAmBC,EAAYvkD,EAAW,IAC1C,IAAMukD,EAAYvkD,EAAW,MAIlC0lB,KCtzDP97B,GAAwC,WACxC,GAAIC,GAAgBn5B,OAAOo5B,iBACpBC,uBAA2Bn5B,QAAS,SAAUo5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAExwB,eAAeywB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOh4B,KAAKnC,YAAcg6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAEr8B,UAAkB,OAANs8B,EAAav5B,OAAOgN,OAAOusB,IAAME,EAAGx8B,UAAYs8B,EAAEt8B,UAAW,GAAIw8B,QAWnFu6D,GAAyB,WACzB,QAASA,GAAQt5B,GAEbj5D,KAAKqU,SACDi+C,KAAM,QACNkgC,YAAa,OACb59B,OAAQ,SACRjvD,OAAQ,SACR+vD,KAAM,OACNryB,MAAO,QACPmyB,KAAM,OACNjB,OAAQ,SACR30C,MAAO,iBACPq0C,MAAO,QACP4D,WAAY,cAMhB73D,KAAKjG,KAAOw4F,EACZvyF,KAAKyyF,WAAax5B,EAClBj5D,KAAK0yF,OAaT,MAHAH,GAAQ/2F,UAAUm3F,gBAAkB,SAAUl2F,EAAMw8D,EAAIn/D,EAAO8/D,GAC3D,MAAOn9D,IAEJ81F,KAOPK,GAA6B,SAAUl6D,GAEvC,QAASk6D,KACL,MAAkB,QAAXl6D,GAAmBA,EAAOh9B,MAAMsE,KAAMf,YAAce,KAoR/D,MAtRAy3B,IAAUm7D,EAAal6D,GAUvBk6D,EAAYp3F,UAAUq3F,aAAe,SAAU1/B,EAAar5D,GAOxD,IAAK,GAHDuJ,GACAhG,EAJA2B,EAASm0D,EAAYs/B,WAAW77B,KAAKj1D,MAAM,GAC3Cie,EAAQ5gB,EAAOzG,OACfu6F,GAAW,EAGXC,KACK16F,EAAI,EAAGA,EAAIyB,EAAM24D,QAAQl6D,OAAQF,IAEtCgL,EAAMrD,MADN3C,EAAMvD,EAAM24D,QAAQp6D,IACLy7D,IAAIlzD,KAAKZ,KAAMhB,EAAQ3B,EAAI+D,EAAGtH,GAC9B,iBAAXuD,EAAIy2D,GACJi/B,EAAI11F,EAAI+D,EAAE6xD,MAAQ,MAAQ51D,EAAI+D,EAAErH,MAAQsJ,EAGxCrE,MAAiB5F,KAARiK,EAAoBA,EAAMrE,EAExB,WAAX3B,EAAIy2D,IAA8B,WAAXz2D,EAAIy2D,IAA8B,WAAXz2D,EAAIy2D,IAA8B,YAAXz2D,EAAIy2D,KACzEg/B,GAAW,GAEXA,IACAlzE,EAAQ5gB,EAAOzG,OAUvB,OAPIuB,GAAM65D,kBACN30D,GACIA,OAAQA,EACR4gB,MAAOA,EACPi4C,WAAYk7B,IAGb/zF,GAQX4zF,EAAYp3F,UAAUw3F,aAAe,SAAUC,EAAIC,EAAS9xF,GACxD,GAAI/I,EACJ,KAAKA,EAAI,EAAGA,EAAI66F,EAAQC,aAAa56F,OAAQF,IACzC2H,KAAK2oD,OAAOsqC,EAAIC,EAAQC,aAAa96F,GAEzC,KAAKA,EAAI,EAAGA,EAAI66F,EAAQE,eAAe76F,OAAQF,IAC3C2H,KAAKqzF,OAAOJ,EAAI7xF,EAAE/D,IAAK61F,EAAQE,eAAe/6F,GAElD,KAAKA,EAAI,EAAGA,EAAI66F,EAAQI,eAAe/6F,OAAQF,IAC3C2H,KAAK0E,OAAOuuF,EAAI7xF,EAAE/D,IAAK61F,EAAQI,eAAej7F,GAElD,OAAO66F,IAOXN,EAAYp3F,UAAU+3F,QAAU,SAAUt6B,EAAI73D,GAC1C,MAAK63D,IAAOA,EAAG1gE,OAGR0gE,EAAG7jC,OAAO,SAAUr4B,GACvB,GAAIqE,EACA,MAAOA,GAAE21D,SAASh6D,KAJfk8D,GAcf25B,EAAYp3F,UAAUg4F,aAAe,SAAUv6B,EAAI73D,GAC/C,GAAI0yD,GAAKP,GAASsE,WAAWz2D,EAAErH,KAC/B,OAAKk/D,IAAOnF,GAAoB,IAAdmF,EAAG1gE,OAGdu7D,EAAGmF,EAAI73D,EAAE6xD,OAFL,MASf2/B,EAAYp3F,UAAUi4F,SAAW,SAAUx6B,EAAI73D,GAC3C,MAAK63D,IAAOA,EAAG1gE,QAGa,IAAxB6I,EAAEqzD,WAAWl8D,QACbg7D,GAASuF,aAAaG,EAAG,GAAI73D,EAAEqzD,YAE5BwE,EAAG7jC,OAAO,SAAUr4B,GACvB,IAAK,GAAIooB,GAAI,EAAGA,EAAI/jB,EAAEqzD,WAAWl8D,OAAQ4sB,IACrC,GAAI/jB,EAAEszD,SAAS9zD,KAAK7D,EAAKw2D,GAASpsD,UAAU/F,EAAEqzD,WAAWtvC,GAAIpoB,GAAMqE,EAAEozD,UAAWpzD,EAAEvJ,WAAYuJ,EAAEgzD,cAC5F,OAAO,CAGf,QAAO,KAXA6E,GAoBf25B,EAAYp3F,UAAUk4F,SAAW,SAAUz6B,EAAI73D,EAAGtH,GAC9C,IAAKm/D,IAAOA,EAAG1gE,OACX,MAAO0gE,EAEX,IAAI06B,GACA1gC,EAAQM,GAAS12D,SAASuE,EAAE8yD,UAAWp6D,EAC3C,KAAKm5D,EACD,MAAOgG,GAAGD,KAAK53D,EAAEszD,SAErB,IAAIzB,YAAiBx0D,OAAO,CAExB,IAAK,GAAIpG,IADT46D,EAAQA,EAAMtxD,MAAM,IACDpJ,OAAS,EAAGF,GAAK,EAAGA,IAC9B46D,EAAM56D,KAGXs7F,EAAYvyF,EAAEszD,SACVnB,GAASyB,SAAS/B,EAAM56D,GAAI,WAC5Bs7F,EAAYpgC,GAAS0B,OAAO,cAC5BhC,EAAM56D,GAAK46D,EAAM56D,GAAGsB,QAAQ,QAAS,KAEzCs/D,EAAK1F,GAASyF,KAAKC,EAAIhG,EAAM56D,GAAIs7F,GAErC,OAAO16B,GAEX,MAAO1F,IAASyF,KAAKC,EAAIhG,EAAO7xD,EAAEszD,WAQtCk+B,EAAYp3F,UAAUo4F,QAAU,SAAU36B,EAAI73D,EAAGtH,GAC7C,IAAKm/D,IAAOA,EAAG1gE,OACX,MAAO0gE,EAEX,IAAI46B,GAAWxhC,GAAM6C,cAAcp7D,EAAM24D,QAAS,gBAC9CsgC,IACJ,IAAIc,EAASt7F,OAET,IAAK,GADD+hE,OAAM,GACDjiE,EAAI,EAAGA,EAAIw7F,EAASt7F,OAAQF,IACjCiiE,EAAMu5B,EAASx7F,GAAG+I,EAClB2xF,EAAI/5F,MAAOe,KAAMugE,EAAIvgE,KAAMk5D,MAAOM,GAAS12D,SAASy9D,EAAIrH,MAAOn5D,IAGvE,OAAOy5D,IAASlwB,MAAM41B,EAAI1F,GAAS12D,SAASuE,EAAE8yD,UAAWp6D,GAAQi5F,EAAK,KAAM,KAAM3xF,EAAEszD,WASxFk+B,EAAYp3F,UAAUs4F,OAAS,SAAU76B,EAAI73D,EAAGtH,GAC5C,GAAIwhC,GAAOi4B,GAAS12D,SAASuE,EAAEm0D,SAAUz7D,GACrCyD,GAASg2D,GAAS12D,SAASuE,EAAEk0D,UAAWx7D,GAAS,GAAKwhC,EACtD3b,EAAMpiB,EAAQ+9B,CAClB,OAAK29B,IAAOA,EAAG1gE,OAGR0gE,EAAGt3D,MAAMpE,EAAOoiB,GAFZs5C,GAUf25B,EAAYp3F,UAAUu4F,QAAU,SAAU96B,EAAI73D,GAC1C,MAAK63D,IAAOA,EAAG1gE,OAGR0gE,EAAGt3D,MAAM4xD,GAAS12D,SAASuE,EAAE7D,OAAQg2D,GAAS12D,SAASuE,EAAEue,MAFrDs5C,GASf25B,EAAYp3F,UAAUw4F,OAAS,SAAU/6B,EAAI73D,GACzC,MAAK63D,IAAOA,EAAG1gE,OAGR0gE,EAAGt3D,MAAM,EAAG4xD,GAAS12D,SAASuE,EAAEq0D,MAF5BwD,GASf25B,EAAYp3F,UAAUy4F,OAAS,SAAUh7B,EAAI73D,GACzC,MAAK63D,IAAOA,EAAG1gE,OAGR0gE,EAAGt3D,MAAM4xD,GAAS12D,SAASuE,EAAEq0D,MAFzBwD,GASf25B,EAAYp3F,UAAU04F,SAAW,SAAUj7B,EAAI73D,GAC3C,MAAK63D,IAAOA,EAAG1gE,OAGRg7D,GAAS5tD,OAAOszD,EAAI1F,GAAS12D,SAASuE,EAAEqzD,aAFpCwE,GAUf25B,EAAYp3F,UAAUmtD,OAAS,SAAUsqC,EAAIx2F,EAAMm3D,EAAW95D,EAAO8b,GACjE,MAAInY,GAAkBmY,GACXq9E,EAAGR,WAAW77B,KAAK59D,KAAKyD,GAGxBw2F,EAAGR,WAAW77B,KAAK1sC,OAAOtU,EAAU,EAAGnZ,IAWtDm2F,EAAYp3F,UAAUkJ,OAAS,SAAUuuF,EAAIkB,EAAUn3F,EAAO42D,GAC1D,GACIv7D,GADA4gE,EAAKg6B,EAAGR,WAAW77B,IAKvB,KAHqB,gBAAV55D,KACPA,EAAQA,EAAMm3F,IAEb97F,EAAI,EAAGA,EAAI4gE,EAAG1gE,QACX0gE,EAAG5gE,GAAG87F,KAAcn3F,EADD3E,KAK3B,MAAOA,KAAM4gE,EAAG1gE,OAAS0gE,EAAG/uC,OAAO7xB,EAAG,GAAK,MAU/Cu6F,EAAYp3F,UAAU63F,OAAS,SAAUJ,EAAIkB,EAAUn3F,EAAO42D,GAC1D,GACIv7D,GADA4gE,EAAKg6B,EAAGR,WAAW77B,KAEnBv5D,EAAML,EAAMm3F,EAChB,KAAK97F,EAAI,EAAGA,EAAI4gE,EAAG1gE,QACX0gE,EAAG5gE,GAAG87F,KAAc92F,EADDhF,KAK3B,MAAOA,GAAI4gE,EAAG1gE,OAAS0F,EAAMg7D,EAAG5gE,GAAI2E,GAAS,MAE1C41F,GACTL,IAOE6B,GAA4B,SAAU17D,GAEtC,QAAS07D,KACL,MAAkB,QAAX17D,GAAmBA,EAAOh9B,MAAMsE,KAAMf,YAAce,KA+W/D,MAjXAy3B,IAAU28D,EAAY17D,GAWtB07D,EAAW54F,UAAUq3F,aAAe,SAAUI,EAAIn5F,EAAOu6F,GACrD,GAII7oF,GACAkqD,EALAjD,EAAUzyD,KAAKs0F,gBAAgBx6F,GAC/Bo8D,EAAU7D,GAAM4D,iBAAiBn8D,EAAM24D,SAAU,WAAY,SAAU,SAAU,SAAU,YAC3Fr3D,EAAStB,EAAMsB,OACfw0B,EAAMqjE,EAAGR,WAAW7iE,IAGpB4lC,EAAO,KACPnhD,EAAUrU,KAAKqU,QACfkgF,GAAYz/B,SAAW0/B,UAAYC,WAAaC,YAAc78B,cAE9D,WAAY3B,IACZ1qD,EAAO0qD,EAAQ49B,OAGfp+B,IAFAA,EAAOnC,GAAS12D,SAAS2O,EAAK8pD,UAAWx7D,IAE1B,IADf07D,EAAOjC,GAAS12D,SAAS2O,EAAK+pD,SAAUz7D,KAGnC,WAAao8D,KAElBR,GADAlqD,EAAO0qD,EAAQ69B,SACHx2F,MACZi4D,EAAOhqD,EAAKmU,IAAMnU,EAAKjO,MAG3B,KAASlF,EAAI,EAAGA,EAAIo6D,EAAQqC,MAAMv8D,OAAQF,IACtCmT,EAAO+nD,GAAS12D,SAAS41D,EAAQqC,MAAMz8D,GAAG+I,EAAE8yD,UAAWp6D,GACvDy6F,EAAQz/B,MAAM97D,KAAKu6D,GAAS8F,oBAAoBr5D,KAAM,cAAgB4yB,KAAMpnB,EAAM2pD,UAAW1C,EAAQqC,MAAMz8D,GAAG+I,EAAE+zD,WAAar7D,GAG7Hu6F,KACA7oF,EAAOxL,KAAK20F,eAAeN,EAAkBv6F,KAEzCy6F,EAAQE,QAAQz7F,KAAKu6D,GAAS8F,oBAAoBr5D,KAAM,cAAewL,EAAK0rD,SAAUp9D,GAI9F,KAASzB,EAAI,EAAGA,EAAIo6D,EAAQgiC,QAAQl8F,OAAQF,IAAK,CAC7Ck8F,EAAQE,QAAQz7F,KAAKu6D,GAAS8F,oBAAoBr5D,KAAM,cAAeyyD,EAAQgiC,QAAQp8F,GAAG+I,EAAE81D,SAAUp9D,GAEtG,KAAK,GAAIuE,GAAK,EAAGiC,EAD0B,gBAAvBi0F,GAAQE,QAAQp8F,GAAkBkG,OAAOjB,KAAKi3F,EAAQE,QAAQp8F,OAChDgG,EAAKiC,EAAO/H,OAAQ8F,IAAM,CACpD6M,EAAO5K,EAAOjC,EACdk1D,IAAS0G,OAAO,EAAU/uD,WACnBqpF,GAAQrpF,IAK3B,IAAS7S,EAAI,EAAGA,EAAIo6D,EAAQiiC,SAASn8F,OAAQF,IACzCmT,EAAOinD,EAAQiiC,SAASr8F,GAAG+I,EAC3BmzF,EAAQG,SAAS17F,KAAKu6D,GAAS8F,oBAAoBr5D,KAAM,gBACrDkV,OAAQ1J,EAAKipD,WACbN,SAAU3oD,EAAK2oD,SACf92D,IAAKmO,EAAKgpD,UACV38D,WAAY2T,EAAK3T,YAClBiC,GAGP,KAASzB,EAAI,EAAGA,EAAIo6D,EAAQ+hC,OAAOj8F,OAAQF,IACvCk8F,EAAQC,OAAOx7F,KAAKu6D,GAAS12D,SAAS41D,EAAQ+hC,OAAOn8F,GAAG+I,EAAE8yD,UAAWp6D,GAGzE,KAAK,GAAIzB,GAAI,EAAGA,EAAIo6D,EAAQoF,WAAWt/D,OAAQF,IAC3CmT,EAAOinD,EAAQoF,WAAWx/D,GAAG+I,EAC7BmzF,EAAQ18B,WAAW7+D,MAAOe,KAAMyR,EAAKzR,KAAMk5D,MAAOM,GAAS12D,SAAS2O,EAAKynD,MAAOn5D,IAEpF,IAAI86F,KACJ50F,MAAK60F,gBAAgBxgF,EAASva,EAAOo8D,EAASq+B,EAASK,GAEvDrhC,GAAS8F,oBAAoBr5D,KAAM,aAAeizF,GAAIA,EAAIn5F,MAAOA,EAAOsB,OAAQA,EAAQ05F,UAAWF,GAGnG,KAAK,GAAI5xF,GAAK,EAAG0uF,EADNnzF,OAAOjB,KAAKs3F,GACS5xF,EAAK0uF,EAAOn5F,OAAQyK,IAAM,CACtD,GAAIkI,GAAOwmF,EAAO1uF,IACduwD,GAAS0G,OAAO26B,EAAI1pF,KAAwB,KAAd0pF,EAAI1pF,IAAqC,IAArB0pF,EAAI1pF,GAAM3S,eACrDq8F,GAAI1pF,GAGbmJ,EAAQqhD,OAAQk/B,IAAOvgF,EAAQmhD,OAAQo/B,IAAiB,OAATp/B,IACjDo/B,EAAIvgF,EAAQqhD,MAAQnC,GAAS8F,oBAAoBr5D,KAAM,SAAU01D,EAAM57D,GACvE86F,EAAIvgF,EAAQmhD,MAAQjC,GAAS8F,oBAAoBr5D,KAAM,SAAUw1D,EAAM17D,GAE3E,IAAIi+B,GAAI/3B,KAAK0yF,GAEb,OADA1yF,MAAK0yF,OAC4B,SAA7B1yF,KAAKqU,QAAQm+E,aAET/1F,KAAMg1B,KAAKouB,UAAU+0C,GACrBhlE,IAAKA,EACLmlE,QAASh9D,EACTh+B,KAAM,OACN01B,YAAa,oCAGrBjkB,EAAOxL,KAAKg1F,qBAAqBJ,EAAK96F,EAAOm5F,GAC7CznF,IAA4C,IAApCynF,EAAGR,WAAW7iE,IAAIpxB,QAAQ,KAAc,IAAM,KAAOgN,GAEzDzR,KAAM,MAAO61B,IAAKpkB,EAAKjT,OAASq3B,EAAIj2B,QAAQ,OAAQ6R,GAAQokB,EAAKmlE,QAASh9D,KAGlFq8D,EAAW54F,UAAUq5F,gBAAkB,SAAUxgF,EAASva,EAAOo8D,EAASq+B,EAASU,GAC/E,GACIL,GAAMK,CACVL,GAAIvgF,EAAQi+C,MAAQx4D,EAAM64D,UACtBt+C,EAAQ0/C,SACR6gC,EAAIvgF,EAAQ0/C,QAAU,YAAc/zD,OAAQ,YAAck2D,GACtD3C,GAAS8F,oBAAoBr5D,KAAM,YAAck1F,QAAS3hC,GAAS12D,SAASq5D,EAAQg+B,SAASz/B,WAAY36D,GAAQ+4D,QAAS/4D,EAAM+4D,SAAW/4D,GAASA,EAAM+4D,SAElK+hC,EAAIvgF,EAAQ1O,QAAU,YAAcuwD,GAChC3C,GAAS8F,oBAAoBr5D,KAAM,WAAYuzD,GAAS12D,SAASq5D,EAAQg+B,SAASz/B,WAAY36D,GAAQA,GAAS,GACnH86F,EAAIvgF,EAAQuL,OAAS9lB,EAAM65D,gBAAkBJ,GAAS8F,oBAAoBr5D,KAAM,UAAWlG,EAAM65D,gBAAiB75D,GAAS,GAC3H86F,EAAIvgF,EAAQkgD,QAAUggC,EAAQG,SAASn8F,OAASg7D,GAAS8F,oBAAoBr5D,KAAM,WAAYu0F,EAAQG,SAAU56F,GAAS,GAC1H86F,EAAIvgF,EAAQqhD,MAAQ,UAAYQ,GAC5B3C,GAAS8F,oBAAoBr5D,KAAM,SAAUuzD,GAAS12D,SAASq5D,EAAQ+9B,OAAOx+B,IAAK37D,GAAQA,GAAS,GACxG86F,EAAIvgF,EAAQmhD,MAAQ,UAAYU,GAC5B3C,GAAS8F,oBAAoBr5D,KAAM,SAAUuzD,GAAS12D,SAASq5D,EAAQ89B,OAAOv+B,IAAK37D,GAAQA,GAAS,GACxG86F,EAAIvgF,EAAQ4/C,OAASsgC,EAAQE,QAAQl8F,QAAUg8F,EAAQG,SAASn8F,OAC5Dg7D,GAAS8F,oBAAoBr5D,KAAM,UAAWu0F,EAAQE,QAAS36F,GAAS,GAC5E86F,EAAIvgF,EAAQugD,QAAU2/B,EAAQz/B,MAAMv8D,OAASg7D,GAAS8F,oBAAoBr5D,KAAM,WAAYu0F,EAAQz/B,MAAOh7D,GAAS,GACpH86F,EAAIvgF,EAAQgvB,OAASkxD,EAAQC,OAAOj8F,OAASg7D,GAAS8F,oBAAoBr5D,KAAM,UAAWu0F,EAAQC,OAAQ16F,GAAS,GACpH86F,EAAIvgF,EAAQwjD,YAAc08B,EAAQ18B,WAAWt/D,OACzCg7D,GAAS8F,oBAAoBr5D,KAAM,eAAgBu0F,EAAQ18B,WAAY/9D,GAAS,GACpF86F,EAAS,UAQbR,EAAW54F,UAAUw5F,qBAAuB,SAAUT,EAASz6F,EAAOm5F,GAClE,MAAO,IAYXmB,EAAW54F,UAAUm3F,gBAAkB,SAAUl2F,EAAMw8D,EAAIn/D,EAAO8/D,EAAK26B,EAASrB,GAC5E,GAAIiC,GAAWZ,EACX7B,EAAMyC,EAASJ,YACfh9B,EAAUt7D,EAAKs7D,OACnB,IAAI6B,GAAOA,EAAI9nC,kBAAkB,kBAC6B,IAA1D8nC,EAAI9nC,kBAAkB,gBAAgBtzB,QAAQ,OAC9C,MAAQ1E,GAAM65D,iBAAoB30D,UAAY4gB,MAAO,KAEzD,IAAIiY,GAAIpG,KAAKC,MAAMyjE,EAAS14F,KAC5B,IAAIo7B,GAAkB,UAAbA,EAAEqzB,QAAsBzuD,EAAK02F,aAElC,MADAD,GAAQC,aAAe12F,EAAK02F,aACrBD,CAEPz2F,GAAKo7B,IACLp7B,EAAOA,EAAKo7B,EAEhB,IAAI53B,KAMJ,OALI,SAAWxD,KACXwD,EAAK2f,MAAQnjB,EAAKmjB,OAEtB3f,EAAKjB,OAASvC,EAAKuC,OAASvC,EAAKuC,OAASvC,EAC1CuD,KAAKo1F,mBAAmB1C,EAAKj2F,EAAMwD,EAAM83D,EAASj+D,GAC3Cy5D,GAAS0G,OAAOh6D,EAAK2f,OAAS3f,EAAKjB,QAAWA,OAAQiB,EAAKjB,OAAQ4gB,MAAO3f,EAAK2f,MAAOi4C,WAAY53D,EAAK43D,aAOlHu8B,EAAW54F,UAAUo4F,QAAU,SAAUxyF,GAErC,MADApB,MAAK0yF,IAAI8B,OAASpzF,EACXA,GAOXgzF,EAAW54F,UAAUg4F,aAAe,SAAUpyF,GAC1CpB,KAAK0yF,IAAI76B,WAAaz2D,GAS1BgzF,EAAW54F,UAAUw3F,aAAe,SAAUC,EAAIC,EAAS9xF,EAAGtH,EAAOu7F,GAGjE,OACIt7F,KAAM,OACN61B,IAAKqjE,EAAGR,WAAW6C,UAAYrC,EAAGR,WAAW8C,SAAWtC,EAAGR,WAAW+C,WAAavC,EAAGR,WAAW7iE,IACjGH,YAAa,kCACb+B,SAAU,OACV/0B,KAAMg1B,KAAKouB,WACP41C,QAASvC,EAAQE,eACjBsC,MAAOxC,EAAQC,aACfwC,QAASzC,EAAQI,eACjBpoC,OAAQ,QACR0qC,MAAOx0F,MAZXwuB,IAaIvyB,IAAK+D,MAZT/D,QAuBR+2F,EAAW54F,UAAUy1B,WAAa,SAAUgiE,EAAIsB,KAShDH,EAAW54F,UAAUmtD,OAAS,SAAUsqC,EAAIx2F,EAAMm3D,GAC9C,OACIhkC,IAAKqjE,EAAGR,WAAWoD,WAAa5C,EAAGR,WAAW8C,SAAWtC,EAAGR,WAAW7iE,IACvEnzB,KAAMg1B,KAAKouB,WACP7iD,MAAOP,EACPm5F,MAAOhiC,EACP1I,OAAQ,aAWpBkpC,EAAW54F,UAAUkJ,OAAS,SAAUuuF,EAAIkB,EAAUn3F,EAAO42D,GACzD,OACI75D,KAAM,OACN61B,IAAKqjE,EAAGR,WAAW+C,WAAavC,EAAGR,WAAW8C,SAAWtC,EAAGR,WAAW7iE,IACvEnzB,KAAMg1B,KAAKouB,WACPxiD,IAAKL,EACL84F,UAAW3B,EACXyB,MAAOhiC,EACP1I,OAAQ,aAWpBkpC,EAAW54F,UAAU63F,OAAS,SAAUJ,EAAIkB,EAAUn3F,EAAO42D,GACzD,OACI75D,KAAM,OACN61B,IAAKqjE,EAAGR,WAAWsD,WAAa9C,EAAGR,WAAW8C,SAAWtC,EAAGR,WAAW7iE,IACvEnzB,KAAMg1B,KAAKouB,WACP7iD,MAAOA,EACPkuD,OAAQ,SACR4qC,UAAW3B,EACX92F,IAAKL,EAAMm3F,GACXyB,MAAOhiC,MAUnBwgC,EAAW54F,UAAUm5F,eAAiB,SAAUl4F,EAAM3C,GAClD,GACIkD,GADAK,EAAMvD,EAAM44D,KAEZxnD,EAAO7N,EACPs7D,EAAO7+D,EAAMuD,IACb24F,IACmB,iBAAZv5F,GAAK,KACZyO,EAAO,KAEX,KAAK,GAAI7S,GAAI,EAAGA,EAAIoE,EAAKlE,OAAQF,IAEzB2E,EADmB,gBAAZP,GAAK,GACJ82D,GAASpsD,UAAUwxD,GAAQztD,EAAMzO,EAAKpE,IAGtCoE,EAAKpE,GAEjB29F,EAAUh9F,KAAK,GAAIs7D,IAAUj3D,EAAK,QAASL,GAE/C,OAAOs3D,IAAUoC,GAAGs/B,IAExB5B,EAAW54F,UAAU45F,mBAAqB,SAAU1C,EAAKj2F,EAAMwD,EAAM83D,EAASj+D,GAC1E,GAAI0uC,GAAQ/rC,CAIZ,IAHIA,GAAQA,EAAKuC,SACbwpC,EAAQ/rC,EAAKuC,QAEb0zF,GAAOA,EAAI76B,YAAc66B,EAAI76B,WAAWt/D,OAAQ,CAChD,GAAIw6F,GAAML,EAAI76B,WACV/D,MAAK,GACLmiC,EAAgBztD,EAChBrE,IACA1nC,GAAKs5D,YACLkgC,EAAgBx5F,EAAKs5D,UAEzB,KAAS19D,EAAI,EAAGA,EAAI06F,EAAIx6F,OAAQF,KAC5By7D,EAAKP,GAASsE,WAAWk7B,EAAI16F,GAAG0B,SAE5BoqC,EAAI4uD,EAAI16F,GAAG46D,MAAQ,MAAQ8/B,EAAI16F,GAAG0B,MAAQ+5D,EAAGmiC,EAAelD,EAAI16F,GAAG46D,OAG3EhzD,GAAK43D,WAAa1zB,EAEtB,GAAIuuD,GAAOA,EAAI8B,QAAU9B,EAAI8B,OAAOj8F,OAAQ,CAExC,IAAK,GADDi8F,GAAS9B,EAAI8B,OACRn8F,EAAI,EAAGA,EAAIm8F,EAAOj8F,OAAQF,IAAK,CAE/BoF,EAAkBs6D,KACnBA,EAAUxE,GAASlwB,MAAM00B,EAASy8B,EAAOn8F,IAE7C,IAAI69F,GAAa7jC,GAAM6C,cAAcp7D,EAAM24D,QAAS,WAAWp6D,GAAG+I,CAClEonC,GAAQ+qB,GAASlwB,MAAMmF,EAAOgsD,EAAOn8F,GAAIq6F,EAAI76B,WALjC,KAKoDE,EAASm+B,EAAWxhC,UAExFz0D,EAAKjB,OAASwpC,EAElB,MAAOvoC,IAEXm0F,EAAW54F,UAAU84F,gBAAkB,SAAUx6F,GAC7C,GAAI86F,IAAQ9/B,SAAW0/B,UAAYC,WAAaC,YAAc78B,cAM9D,OALA+8B,GAAI9/B,MAAQzC,GAAM6C,cAAcp7D,EAAM24D,QAAS,YAC/CmiC,EAAIJ,OAASniC,GAAM6C,cAAcp7D,EAAM24D,QAAS,WAChDmiC,EAAIH,QAAUpiC,GAAM6C,cAAcp7D,EAAM24D,QAAS,WACjDmiC,EAAIF,SAAWriC,GAAM6C,cAAcp7D,EAAM24D,QAAS,YAClDmiC,EAAI/8B,WAAaxF,GAAM6C,cAAcp7D,EAAM24D,QAAS,gBAC7CmiC,GAEXR,EAAW54F,UAAUq4D,UAAY,SAAUx/C,GACvC,GAAIugF,GAAMvgF,EAAQygF,SACdzgF,GAAQjZ,OAAO7C,SACfq8F,EAAIx5F,UAER,KAAK,GAAIiD,GAAK,EAAG2E,EAAKqR,EAAQjZ,OAAQiD,EAAK2E,EAAGzK,OAAQ8F,IAAM,CACxD,GAAIi8D,GAAMt3D,EAAG3E,EACb,IAAIu2F,EAAIt6B,EAAIj9D,KACR,KAAM,IAAI8D,OAAM,2EAEpByzF,GAAIt6B,EAAIj9D,KAAOi9D,EAAIt9D,MACfs9D,EAAIxG,KACJ8gC,EAAIt6B,EAAIj9D,KAAOi9D,EAAIxG,GAAGlzD,KAAKyT,EAAQva,MAAOwgE,EAAIj9D,IAAKgX,EAAQva,MAAOua,EAAQ4+E,KAE9E2B,EAAIx5F,OAAOk/D,EAAIj9D,KAAOu3F,EAAIt6B,EAAIj9D,OAG/B+2F,GACT7B,IAME4D,GAA8B,SAAUz9D,GAExC,QAASy9D,GAAahsF,GAClB,GAAIpK,GAAQ24B,EAAO93B,KAAKZ,OAASA,IAwBjC,OAtBAD,GAAMsU,QAAU1V,KAAWoB,EAAMsU,SAC7Bm+E,YAAa,MACblrC,OAAQ,wEACR8uC,gBAAiB,kBACjBxhC,OAAQ,WACRjvD,OAAQ,UACR+vD,KAAM,QACNF,KAAM,OACN51C,MAAO,eACPq0C,MAAO,UACPF,OAAQ,UACRsiC,MAAO,SACPC,UAAW,eACXC,SAAU,SACVC,UAAW,eACXC,aAAc,2CACdC,iBAAkB,qEAClBC,0BAA2B,iDAC3BC,WAAY,QAEhB72F,EAAMmH,cAAgBrK,EAAS,gBAAiBkD,GAChDpB,EAAOoB,EAAMsU,QAASlK,OACfpK,EA0fX,MAphBA03B,IAAU0+D,EAAcz9D,GAiCxBy9D,EAAa36F,UAAUq7F,YAAc,SAAUxiC,EAAWv6D,EAAOg9F,GAC7D,GACI3iC,GACA4iC,EAFAC,EAAc,GAGdltE,EAAMuqC,EAAUr3D,MAChBjD,QAAc+vB,GACdmpC,EAAQoB,EAAUpB,MAAQkjC,EAAac,SAAS5iC,EAAUpB,OAAS,IAoBvE,IAnBInpC,YAAe9H,QACf8H,EAAM,YAAeypC,GAAS7hC,MAAM6/D,SAASznE,GAAO,KAE3C,WAAT/vB,IACA+vB,EAAM,IAAOA,EAAM,IACfgtE,IACA7jC,EAAQ,QAAUA,EAAQ,mBAE1BM,GAAS7hC,MAAM4/D,OAAOxnE,KACtBitE,EAAO,QAEP1iC,EAAUx8D,aACLk/F,IACD9jC,EAAQ,WAAaA,EAAQ,KAEjCnpC,EAAMA,EAAI3xB,gBAGlBg8D,EAAWZ,GAASgI,aAAalH,EAAUF,UAOvC,MALA6iC,IAAe/jC,EACf+jC,GAAe7iC,EACX4iC,IACAC,GAAeD,GAEZC,EAAcltE,CAUzB,IARKrsB,EAAkBuC,KAAKkH,eAMxBitD,EAAWZ,GAASuI,cAAczH,EAAUF,UALf,mBAAzBn0D,KAAKkH,kBACLitD,EAAWZ,GAAS0I,gBAAgB5H,EAAUF,WAMrC,gBAAbA,EAA4B,CAC5B,GAAI3oD,GAAOse,CACXA,GAAMmpC,EACNA,EAAQznD,EAQZ,MANAwrF,IAAe7iC,EAAW,IAC1B6iC,GAAe/jC,EAAQ,IACnB8jC,IACAC,GAAeD,GAEnBC,GAAeltE,EAAM,KAGzBqsE,EAAa36F,UAAUq4D,UAAY,SAAUx/C,GACzCqkB,EAAOl9B,UAAUq4D,UAAUjzD,KAAKZ,KAAMqU,SAC/BA,GAAQygF,UAAU15F,QAO7B+6F,EAAa36F,UAAU07F,mBAAqB,SAAU7iC,EAAWv6D,EAAOg9F,GAEpE,IAAK,GADD3yD,MACK9rC,EAAI,EAAGA,EAAIg8D,EAAUkC,WAAWh+D,OAAQF,IAC7C8rC,EAAInrC,KAAK,IAAMgH,KAAKm3F,YAAY9iC,EAAUkC,WAAWl+D,GAAIyB,EAAOg9F,GAAgB,IAEpF,OAAO3yD,GAAI3jC,KAAK,IAAM6zD,EAAUiC,UAAY,MAOhD6/B,EAAa36F,UAAU27F,YAAc,SAAU/hE,EAAQt7B,EAAOg9F,GAC1D,MAAO1hE,GAAOghC,UAAYp2D,KAAKk3F,mBAAmB9hE,EAAQt7B,EAAOg9F,GAAgB92F,KAAK62F,YAAYzhE,EAAQt7B,EAAOg9F,IAMrHX,EAAa36F,UAAU+3F,QAAU,SAAUkB,GAIvC,MAHIz0F,MAAK0yF,IAAIn+B,QACTkgC,EAAQz7F,KAAKgH,KAAKm3F,YAAYn3F,KAAK0yF,IAAIn+B,OAAQ,MAAM,IAElDkgC,EAAQj0F,KAAK,UASxB21F,EAAa36F,UAAU47F,aAAe,SAAUh2F,GACxCA,EAAE8T,QAA8B,IAApB9T,EAAE8T,OAAO3c,QACrBg7D,GAAStyD,WAAW,yEAGxB,KAAK,GADDm0B,GAASp1B,KAAK0yF,IAAIn+B,WACbl8D,EAAI,EAAGA,EAAI+I,EAAE8T,OAAO3c,OAAQF,IACjC+8B,EAAOp8B,KAAK,GAAIs7D,IAAUlzD,EAAE8T,OAAO7c,GAAI+I,EAAE+yD,SAAU/yD,EAAE/D,IAAK+D,EAAEvJ,YAEhEmI,MAAK0yF,IAAIn+B,OAASn/B,GAMtB+gE,EAAa36F,UAAUi4F,SAAW,SAAUryF,GAExC,MADApB,MAAK0yF,IAAIn+B,OAASD,GAAUoC,GAAG12D,KAAK0yF,IAAIn+B,QACjC,IAMX4hC,EAAa36F,UAAU67F,WAAa,SAAUj2F,GAC1C,GAAI+iC,KACJ,IAAI/iC,EAAEwxB,eAAgBn0B,OAClB,IAAK,GAAIpG,GAAI,EAAGA,EAAI+I,EAAEwxB,KAAKr6B,OAAQF,IAC/B8rC,EAAInrC,KAAKm9F,EAAac,SAAS71F,EAAEwxB,KAAKv6B,KAAuB,eAAhB+I,EAAE+zD,UAA6B,QAAU,SAI1FhxB,GAAInrC,KAAKm9F,EAAac,SAAS71F,EAAEwxB,OAAyB,eAAhBxxB,EAAE+zD,UAA6B,QAAU,IAEvF,OAAOhxB,GAAI3jC,KAAK,MAMpB21F,EAAa36F,UAAUk4F,SAAW,SAAUtyF,GACxC,MAAOA,GAAEk2F,UAAU92F,KAAK,MAO5B21F,EAAa36F,UAAUo4F,QAAU,SAAUxyF,GAEvC,MADApB,MAAK0yF,IAAI8B,OAASpzF,MAOtB+0F,EAAa36F,UAAU04F,SAAW,SAAU9yF,GACxC,IAAK,GAAI/I,GAAI,EAAGA,EAAI+I,EAAE7I,OAAQF,IAC1B+I,EAAE/I,GAAK89F,EAAac,SAAS71F,EAAE/I,GAEnC,OAAO+I,GAAEZ,KAAK,MAOlB21F,EAAa36F,UAAUg4F,aAAe,SAAUpyF,GAE5C,MADApB,MAAK0yF,IAAI76B,WAAaz2D,EACf,IAOX+0F,EAAa36F,UAAU+7F,QAAU,SAAUn2F,GACvC,OAAa,IAANA,EAAa,WAAa,IASrC+0F,EAAa36F,UAAUy1B,WAAa,SAAUgiE,EAAIsB,EAASiD,GACnDjkC,GAASyB,SAASwiC,EAAS5nE,IAAK5vB,KAAKqU,QAAQgiF,QAA0C,SAAhCmB,EAASz9F,KAAK5B,eACrEo8F,EAAQvjE,iBAAiB,SAAUhxB,KAAKqU,QAAQ+hF,iBAChD7B,EAAQvjE,iBAAiB,qBAAsB,OAC/CujE,EAAQkD,iBAAiB,uCAGzBlD,EAAQvjE,iBAAiB,SAAUhxB,KAAKqU,QAAQizC,QAEpDitC,EAAQvjE,iBAAiB,qBAAsB,OAC/CujE,EAAQvjE,iBAAiB,wBAAyB,QAYtDmlE,EAAa36F,UAAUm3F,gBAAkB,SAAUl2F,EAAMw8D,EAAIn/D,EAAO8/D,EAAK26B,EAASrB,GAE9E,IAAKz1F,EAAkBhB,EAAKo7B,GAAI,CAC5B,GAAI6/D,GAAa59F,GAASA,EAAM65D,gBAAmBl3D,EAAKo7B,EAAE8/D,QAAUl7F,EAAKo7B,CAEzE,KAAKp6B,EAAkBi6F,GACnB,IAAK,GAAIr/F,GAAI,EAAGA,EAAIq/F,EAASn/F,OAAQF,IAC5BoF,EAAkBi6F,EAASr/F,GAAW,mBAChCq/F,GAASr/F,GAAW,WAK3C,GAAIq6F,GAAM6B,GAAWA,EAAe,QAChCqD,EAAgB53F,KAAK63F,qBAAqBp7F,EAAM3C,EAAO8/D,EAAK26B,EAASrB,EACzE,IAAI0E,EACA,MAAOA,EAEX,IAAIE,GAAel+B,GAAO26B,EAAQziE,kBAAkB,sBAChDlS,EAAQ,KACR4I,EAAWsvE,GAAgBn+D,SAASm+D,EAAc,KAAQ,CAC9D,IAAIh+F,GAASA,EAAM65D,gBAAiB,EAE5Bl3D,EAAe,SAAKA,EAAK,kBACzBmjB,EAAQnjB,EAAe,SAAKA,EAAK,gBAEjCA,EAAKo7B,IACLp7B,EAAOA,EAAKo7B,IAEZp7B,EAAe,SAAKA,EAAK,kBACzBmjB,EAAQnjB,EAAe,SAAKA,EAAK,gBAGzB,IAAZ+rB,GAAiB/rB,EAAKO,QACtBP,EAAOA,EAAKO,OAEZP,EAAKo7B,IACLp7B,EAAOA,EAAKo7B,GAEZrP,EAAU,GAAK/rB,EAAKk7F,UACpBl7F,EAAOA,EAAKk7F,QAEhB,IAAI13F,KAIJ,OAHAA,GAAK2f,MAAQA,EACb3f,EAAKjB,OAASvC,EACduD,KAAKo1F,mBAAmB1C,EAAKj2F,EAAMwD,EAAM,KAAMnG,GACxCy5D,GAAS0G,OAAOr6C,GAAS3f,EAAKjB,QAAWA,OAAQiB,EAAKjB,OAAQ4gB,MAAO3f,EAAK2f,MAAOi4C,WAAY53D,EAAK43D,aAS7Gs+B,EAAa36F,UAAUw5F,qBAAuB,SAAUT,EAASz6F,EAAOm5F,GACpE,GAAI9uD,MAEAyvB,EAAY2gC,EAAa,OAAK,SAE3BA,GAAa,MAChBtB,EAAGR,WAAWsF,iBACdxD,EAAc,QAAI,OAGtB,KAAK,GAAIl2F,GAAK,EAAG25F,EADNz5F,OAAOjB,KAAKi3F,GACSl2F,EAAK25F,EAAOz/F,OAAQ8F,IAAM,CACtD,GAAI6M,GAAO8sF,EAAO35F,EAClB8lC,GAAInrC,KAAKkS,EAAO,IAAMqpF,EAAQrpF,IAGlC,MADAi5B,GAAMA,EAAI3jC,KAAK,KACXyyF,EAAGR,WAAW7iE,MAA2C,IAApCqjE,EAAGR,WAAW7iE,IAAIpxB,QAAQ,OAAgBo1D,EACxDzvB,EAEJA,EAAI5rC,OAASq7D,EAAY,IAAMzvB,EAAMyvB,GAAa,IAE7DuiC,EAAa36F,UAAUy8F,kBAAoB,SAAU56F,EAAK66F,GACtD,IAAK,GAAI75F,GAAK,EAAG2E,EAAMvF,EAAkBy6F,MAAc35F,OAAOjB,KAAK46F,GAAkB75F,EAAK2E,EAAGzK,OAAQ8F,IAAM,CACvG,GAAI6M,GAAOlI,EAAG3E,EACT65F,GAAWhtF,YAAiB8W,QAC7Bk2E,EAAWhtF,GAAQqoD,GAAS49B,UAAUc,YAAYiG,EAAWhtF,KAGrE,MAAOgtF,IAQX/B,EAAa36F,UAAUmtD,OAAS,SAAUsqC,EAAIx2F,EAAMm3D,GAChD,OACIhkC,IAAKqjE,EAAGR,WAAW7iE,IAAIj2B,QAAQ,OAAQi6D,EAAY,IAAMA,EAAY,IACrEn3D,KAAMg1B,KAAKouB,UAAUpjD,EAAMuD,KAAKqU,QAAQ8jF,UAAYn4F,KAAKi4F,kBAAoB,QAUrF9B,EAAa36F,UAAUkJ,OAAS,SAAUuuF,EAAIkB,EAAUn3F,EAAO42D,GAC3D,OACI75D,KAAM,SACN61B,IAAKqjE,EAAGR,WAAW7iE,IAAIj2B,QAAQ,OAAQi6D,EAAY,IAAMA,EAAY,IAAM,IAAM52D,EAAQ,MAWjGm5F,EAAa36F,UAAU63F,OAAS,SAAUJ,EAAIkB,EAAUn3F,EAAO42D,EAAW95D,EAAOu7F,GAI7E,MAHgC,UAA5Br1F,KAAKqU,QAAQuiF,YAA2Bn5F,EAAkB43F,KAC1Dr4F,EAAQgD,KAAKo4F,iBAAiBp7F,EAAOq4F,EAAUlB,KAG/Cp6F,KAAMiG,KAAKqU,QAAQuiF,WACnBhnE,IAAKqjE,EAAGR,WAAW7iE,IAAIj2B,QAAQ,OAAQi6D,EAAY,IAAMA,EAAY,IAAM,IAAM52D,EAAMm3F,GAAY,IACnG13F,KAAMg1B,KAAKouB,UAAU7iD,EAAOgD,KAAKqU,QAAQ8jF,UAAYn4F,KAAKi4F,kBAAoB,MAC9E3wC,OAAQtnD,KAAKqU,QAAQizC,SAW7B6uC,EAAa36F,UAAUw3F,aAAe,SAAUC,EAAIC,EAAS9xF,EAAGtH,EAAOu7F,GACnE,GAAIgD,GAAcj3F,EAAE21F,KAAOxjC,GAASsG,QAAQ75D,KAAKqU,QAAQkiF,UACrD3mE,EAAMqjE,EAAGR,WAAW7iE,IAAIj2B,QAAQ,OAAQ,IAAMqG,KAAKqU,QAAQgiF,OAC3Dp2F,GACA2vB,IAAKxuB,EAAEwuB,IACPvyB,IAAK+D,EAAE/D,IACPi7F,IAAK,EACLC,KAAMhlC,GAASsG,QAAQ75D,KAAKqU,QAAQiiF,YAEpC1B,EAAM,KAAOyD,EAAc,IAQ/B,OAPAzD,IAAO,2CAA6C30F,EAAKs4F,KAAK5+F,QAAQ,KAAM,IAAM,KAClFqG,KAAK0yF,IAAI4D,UAAY,EACrB1B,GAAO50F,KAAKw4F,sBAAsBtF,EAAQC,aAAclzF,GACxD20F,GAAO50F,KAAKy4F,sBAAsBvF,EAAQE,eAAgBnzF,EAAMo1F,EAAWA,EAASjC,mBACpFwB,GAAO50F,KAAK04F,sBAAsBxF,EAAQI,eAAgBrzF,GAC1D20F,GAAO30F,EAAKs4F,KAAO,OACnB3D,GAAO,KAAOyD,EAAc,MAExBt+F,KAAM,OACN61B,IAAKA,EACL4B,SAAU,OACV/B,YAAa,2CAA6C4oE,EAC1D57F,KAAMm4F,IAUduB,EAAa36F,UAAUk9F,sBAAwB,SAAU3+B,EAAK34D,GAC1D,IAAK24D,EACD,MAAO,EAEX,IACI4+B,IACAC,OAAU,UACVhpE,IAAO,SAAUnzB,EAAMpE,EAAGgF,GAAO,MAAO,IAAMZ,EAAKpE,GAAGgF,GAAO,KAC7DZ,KAAQ,SAAUA,EAAMpE,GAAK,MAAO,IAGxC,OADM2H,MAAK64F,oBAAoB9+B,EAAK34D,EAAGu3F,GAC1B,MAQjBxC,EAAa36F,UAAUg9F,sBAAwB,SAAUz+B,EAAK34D,GAC1D,IAAK24D,EACD,MAAO,EAEX,IACI4+B,IACAC,OAAU,QACVhpE,IAAO,SAAUnzB,EAAMpE,EAAGgF,GAAO,MAAO,IACxCZ,KAAQ,SAAUA,EAAMpE,GAAK,MAAOo5B,MAAKouB,UAAUpjD,EAAKpE,IAAM,QAGlE,OADM2H,MAAK64F,oBAAoB9+B,EAAK34D,EAAGu3F,IAS3CxC,EAAa36F,UAAUi9F,sBAAwB,SAAU1+B,EAAK34D,EAAG03F,GAC7D,GAAI/4F,GAAQC,IACZ,KAAK+5D,EACD,MAAO,EAGXA,GAAI36D,QAAQ,SAAUgjB,GAAU,MAAOA,GAASriB,EAAMq4F,iBAAiBh2E,EAAQ02E,EAAI1jE,OAAO,SAAU2jE,GAAK,MAAOxlC,IAASpsD,UAAU/F,EAAE/D,IAAK07F,KAAOxlC,GAASpsD,UAAU/F,EAAE/D,IAAK+kB,KAAY,GAAIhhB,EAAE/D,MAC7L,IAAIs7F,IACAC,OAAU54F,KAAKqU,QAAQuiF,WAAa,IACpChnE,IAAO,SAAUnzB,EAAMpE,EAAGgF,GAAO,MAAO,IAAMZ,EAAKpE,GAAGgF,GAAO,KAC7DZ,KAAQ,SAAUA,EAAMpE,GAAK,MAAOo5B,MAAKouB,UAAUpjD,EAAKpE,IAAM,QAGlE,OADM2H,MAAK64F,oBAAoB9+B,EAAK34D,EAAGu3F,IAG3CxC,EAAac,SAAW,SAAU/rF,GAC9B,MAAOA,GAAKvR,QAAQ,MAAO,MAE/Bw8F,EAAa36F,UAAUq9F,oBAAsB,SAAU9+B,EAAK34D,EAAGu3F,GAE3D,IAAK,GADD/D,GAAM,GACDv8F,EAAI,EAAGA,EAAI0hE,EAAIxhE,OAAQF,IAC5Bu8F,GAAO,KAAOxzF,EAAEm3F,KAAO,KACvB3D,GAAO50F,KAAKqU,QAAQqiF,iBAAmB,OACvC9B,GAAO+D,EAAKC,OACZhE,GAAOxzF,EAAEwuB,IAAM+oE,EAAK/oE,IAAImqC,EAAK1hE,EAAG+I,EAAE/D,KAAO,cACzCu3F,GAAO,WAAa50F,KAAKqU,QAAQizC,OAAS,KAC1CstC,GAAO,eAAiB50F,KAAK0yF,IAAI4D,YAAc,KAC/C1B,GAAO50F,KAAKqU,QAAQsiF,0BAA4B,KAC/Cl5F,EAAkBs8D,EAAI1hE,GAAG,gBAAyEu8F,GAAO,KAA9DA,GAAO,aAAe76B,EAAI1hE,GAAG,eAAiB,OAC1Fu8F,GAAO+D,EAAKl8F,KAAKs9D,EAAK1hE,EAE1B,OAAOu8F,IAEXuB,EAAa36F,UAAUq8F,qBAAuB,SAAUp7F,EAAM3C,EAAO8/D,EAAK26B,EAASrB,GAC/E,GAAIt5B,GAAOA,EAAI9nC,kBAAkB,kBAA6E,IAA1D8nC,EAAI9nC,kBAAkB,gBAAgBtzB,QAAQ,OAC9F,MAAQ1E,GAAM65D,iBAAoB30D,UAAY4gB,MAAO,KAEzD,IAAI20E,GAAWv0F,KAAKqU,QAAQgiF,OAAS9iC,GAASyB,SAASu/B,EAAQ3kE,IAAK5vB,KAAKqU,QAAQgiF,QAAyC,SAA/B9B,EAAQx6F,KAAK5B,cAA0B,CAC9H,GAAI4+F,GAAOn9B,EAAI9nC,kBAAkB,gBAC7BknE,MAAO,GACPC,MAAU,GACVphE,EAAIp7B,EAAO,EAGf,IAFAs6F,EAAOA,EAAKlxE,UAAUkxE,EAAKv4F,QAAQ,kBAAoB,IACvDq5B,EAAIA,EAAE36B,MAAM65F,IACNx+F,OAAS,EACX,QAEJs/B,GAAIA,EAAE,EACN,IAAIqhE,GAAQ,sDAAsDhnE,KAAK2F,EACnEqhE,IACArhE,EAAEl+B,QAAQu/F,EAAM,GAAI,GAIxB,KAAK,GAFDC,GAAaD,EAAQA,EAAM,GAAK,GAE3B7gG,GADTw/B,EAAIA,EAAE36B,MAAMi8F,IACG5gG,OAAQF,GAAK,EAAGA,IACtB,iBAAiB4B,KAAK49B,EAAEx/B,KAAQ,cAAc4B,KAAK49B,EAAEx/B,MAG1D2gG,EAAOr/D,SAAS,uBAAuBzH,KAAK2F,EAAEx/B,IAAI,GAAI,IAClD66F,EAAQC,aAAa6F,KACrBC,EAAU1lC,GAAS7hC,MAAMm/D,UAAU,WAAW3+D,KAAK2F,EAAEx/B,IAAI,IACzDsG,KAAWu0F,EAAQC,aAAa6F,GAAOh5F,KAAK2yF,gBAAgBsG,KAGpE,OAAO/F,GAEX,MAAO,OAEXiD,EAAa36F,UAAU48F,iBAAmB,SAAU37F,EAAM44F,EAAUh4F,GAChE,GAAI0C,GAAQC,IACZ,OAAIvC,GAAkB43F,GACX54F,GAEX8B,OAAOjB,KAAKb,GAAM2C,QAAQ,SAAU8L,GAC5BA,IAAS7N,IACLk2D,GAASmG,cAAcj9D,EAAKyO,KAC5BnL,EAAMq4F,iBAAiB37F,EAAKyO,GAAOmqF,EAASnqF,IACL,IAAnC3M,OAAOjB,KAAKb,EAAKyO,IAAO3S,cACjBkE,GAAKyO,IAGXzO,EAAKyO,KAAUmqF,EAASnqF,SACtBzO,GAAKyO,GAEPzO,EAAKyO,IAASmqF,EAASnqF,IAASzO,EAAKyO,GAAMkuF,YAAc/D,EAASnqF,GAAMkuF,iBACtE38F,GAAKyO,MAIjBzO,IAEJ05F,GACT/B,IAOEiF,GAAgC,SAAU3gE,GAE1C,QAAS2gE,GAAelvF,GACpB,GAAIpK,GAAQ24B,EAAO93B,KAAKZ,KAAMmK,IAAUnK,IA0BxC,OAxBAD,GAAMsU,QAAU1V,KAAWoB,EAAMsU,SAC7Bm+E,YAAa,MACblrC,OAAQ,iDACR8uC,gBAAiB,kBACjBxhC,OAAQ,WACRjvD,OAAQ,UACR+vD,KAAM,QACNF,KAAM,OACN51C,MAAO,SACP20C,OAAQ,UACRN,MAAO,UACPF,OAAQ,UACRsiC,MAAO,SACPC,UAAW,eACXC,SAAU,SACVC,UAAW,eACXC,aAAc,2CACdC,iBAAkB,qEAClBC,0BAA2B,iDAC3BC,WAAY,QACZuB,WAAW,IAEft7F,EAAS,gBAAiBkD,EAAMu5F,iBAChC36F,EAAOoB,EAAMsU,QAASlK,OACfpK,EAqIX,MAjKA03B,IAAU4hE,EAAgB3gE,GAiC1B2gE,EAAe79F,UAAU89F,cAAgB,WACrC,MAAO,kBAQXD,EAAe79F,UAAU+7F,QAAU,SAAUn2F,GACzC,OAAa,IAANA,EAAa,OAAS,IAOjCi4F,EAAe79F,UAAUq7F,YAAc,SAAUxiC,EAAWv6D,EAAOg9F,GAC/D,GAAIE,GAAc,GAEduC,EADMllC,EAAUr3D,gBACQglB,KAK5B,OAJAg1E,GAAct+D,EAAOl9B,UAAUq7F,YAAYj2F,KAAKZ,KAAMq0D,EAAWv6D,EAAOg9F,GACpEyC,IACAvC,EAAcA,EAAYr9F,QAAQ,kBAAmB,OAElDq9F,GASXqC,EAAe79F,UAAU47F,aAAe,SAAUh2F,GAC9C,GAAImzD,GAASv0D,KAAK0yF,IAAIgC,YACtBngC,GAAOv7D,KAAKoI,EAAE/D,KACd2C,KAAK0yF,IAAIgC,SAAWngC,GAMxB8kC,EAAe79F,UAAUi4F,SAAW,SAAUryF,GAC1C,MAAOpB,MAAK0yF,IAAIgC,SAASl0F,KAAK,SAMlC64F,EAAe79F,UAAUg+F,SAAW,SAAUp4F,GAC1C,GAAIrB,GAAQC,KACRy5F,KACAC,KACA7mC,EAAUzxD,EAAEyxD,QAAQlxD,QACpBg4F,IAmBJ,OAlBcv4F,GAAE8zF,QAAQ9/D,OAAO,SAAUv8B,GAAQ,MAAOA,GAAK2F,QAAQ,MAAQ,IACrEY,QAAQ,SAAUuG,GACtB,GAAI1I,GAAS0I,EAAOzI,MAAM,IACpBD,GAAO,IAAMw8F,KACfA,EAASx8F,EAAO,QAEpBw8F,EAASx8F,EAAO,IAAIjE,KAAKiE,EAAO,MAGpCsB,OAAOjB,KAAKm8F,GAAUr6F,QAAQ,SAAU20D,IACF,IAA7BlB,EAAQr0D,QAAQu1D,IACjBlB,EAAQ75D,KAAK+6D,KAGrBlB,EAAQzzD,QAAQ,SAAU20D,GACtB2lC,EAAS3lC,GAAUA,IAAU0lC,GAAW1lC,EAAS,IAAMh0D,EAAMsU,QAAQ1O,OAAS,IAAM8zF,EAAS1lC,GAAQvzD,KAAK,KAAO,IAAMuzD,IAE3Hx1D,OAAOjB,KAAKo8F,GAAUt6F,QAAQ,SAAUw6F,GAAM,MAAOD,GAAM3gG,KAAK0gG,EAASE,MAClED,EAAMn5F,KAAK,MAMtB64F,EAAe79F,UAAU04F,SAAW,SAAU9yF,GAC1C,MAAOs3B,GAAOl9B,UAAU04F,SAAStzF,KAAKZ,KAAMoB,EAAEg0B,OAAO,SAAUv8B,GAAQ,OAA8B,IAAvBA,EAAK2F,QAAQ,SAU/F66F,EAAe79F,UAAUy1B,WAAa,SAAUgiE,EAAIsB,EAASiD,GACnC,SAAlBA,EAASz9F,MAAqC,QAAlBy9F,EAASz9F,MAAoC,UAAlBy9F,EAASz9F,MAChEw6F,EAAQvjE,iBAAiB,SAAU,yBAEvCujE,EAAQvjE,iBAAiB,SAAUhxB,KAAKqU,QAAQizC,SAYpD+xC,EAAe79F,UAAUm3F,gBAAkB,SAAUl2F,EAAMw8D,EAAIn/D,EAAO8/D,EAAK26B,EAASrB,GAChF,GACIR,GAAM6B,GAAWA,EAAe,QAChCqD,EAAgBl/D,EAAOl9B,UAAUq8F,qBAAqBj3F,KAAKZ,KAAMvD,EAAM3C,EAAO8/D,EAAK26B,EAASrB,EAChG,IAAI0E,EACA,MAAOA,EAEX,IAAIh4E,GAAQ,IAER9lB,IAASA,EAAM65D,iBADH,gBAEKl3D,KACbmjB,EAAQnjB,EAHA,iBAMhBA,EAAQgB,EAAkBhB,EAAKO,OAAsBP,EAAbA,EAAKO,KAC7C,IAAIiD,KAIJ,OAHAA,GAAK2f,MAAQA,EACb3f,EAAKjB,OAASvC,EACduD,KAAKo1F,mBAAmB1C,EAAKj2F,EAAMwD,EAAM,KAAMnG,GACxCy5D,GAAS0G,OAAOr6C,GAAS3f,EAAKjB,QAAWA,OAAQiB,EAAKjB,OAAQ4gB,MAAOA,EAAOi4C,WAAY53D,EAAK43D,aAEjGwhC,GACTlD,IAQE0D,GAA+B,SAAUnhE,GAEzC,QAASmhE,KACL,MAAkB,QAAXnhE,GAAmBA,EAAOh9B,MAAMsE,KAAMf,YAAce,KAuF/D,MAzFAy3B,IAAUoiE,EAAenhE,GAUzBmhE,EAAcr+F,UAAUmtD,OAAS,SAAUsqC,EAAIx2F,EAAMm3D,GACjD,OACI75D,KAAM,OACN61B,IAAKqjE,EAAGR,WAAW7iE,IACnBnzB,KAAMg1B,KAAKouB,UAAUpjD,KAU7Bo9F,EAAcr+F,UAAUkJ,OAAS,SAAUuuF,EAAIkB,EAAUn3F,EAAO42D,GAC5D,OACI75D,KAAM,SACN61B,IAAKqjE,EAAGR,WAAW7iE,IAAM,IAAM5yB,EAC/BP,KAAMg1B,KAAKouB,UAAU7iD,KAU7B68F,EAAcr+F,UAAU63F,OAAS,SAAUJ,EAAIkB,EAAUn3F,EAAO42D,GAC5D,OACI75D,KAAM,MACN61B,IAAKqjE,EAAGR,WAAW7iE,IACnBnzB,KAAMg1B,KAAKouB,UAAU7iD,KAW7B68F,EAAcr+F,UAAUy1B,WAAa,SAAUgiE,EAAIsB,EAASiD,GACxDjD,EAAQvjE,iBAAiB,SAAU,mDAYvC6oE,EAAcr+F,UAAUm3F,gBAAkB,SAAUl2F,EAAMw8D,EAAIn/D,EAAO8/D,EAAK26B,EAASrB,GAC/E,GACIR,GAAM6B,GAAWA,EAAe,QAChC30E,EAAQ,KACR3f,IACJ,IAAIs0F,GAA0C,SAA/BA,EAAQx6F,KAAK5B,cAA0B,CAClD,GAAI2/F,GAAel+B,GAAO26B,EAAQziE,kBAAkB,sBAChDtJ,EAAWsvE,GAAgBn+D,SAASm+D,EAAc,KAAQ,CAC1Dh+F,IAASA,EAAM65D,kBACVJ,GAAS0G,OAAOx9D,EAAKq9F,SACtBl6E,EAAQnjB,EAAKq9F,QAGjBtxE,EAAU,GAAK/rB,EAAKs9F,QACpBt9F,EAAOA,EAAKs9F,OAEhB95F,EAAK2f,MAAQA,EACb3f,EAAKjB,OAASvC,EACduD,KAAKo1F,mBAAmB1C,EAAKj2F,EAAMwD,EAAM,KAAMnG,GAGnD,MADAmG,GAAKjB,OAASiB,EAAKjB,QAAUvC,EACtB82D,GAAS0G,OAAOr6C,GAAS3f,EAAKjB,QAAWA,OAAQiB,EAAKjB,OAAQ4gB,MAAO3f,EAAK2f,MAAOi4C,WAAY53D,EAAK43D,aAEtGgiC,GACT1D,IAME6D,GAAkC,SAAUthE,GAE5C,QAASshE,KACL,MAAkB,QAAXthE,GAAmBA,EAAOh9B,MAAMsE,KAAMf,YAAce,KAkC/D,MApCAy3B,IAAUuiE,EAAkBthE,GAY5BshE,EAAiBx+F,UAAUq3F,aAAe,SAAUI,EAAIn5F,EAAOu6F,GAC3D,GAAIt3F,IAAM,GAAIq3F,KAAavB,aAAaI,EAAIn5F,EAAOu6F,GAE/C53F,EAAO82D,GAAS7hC,MAAMm/D,UAAU9zF,EAAW,MAC3CiC,IAEJ,IAAIvC,EAAKw9F,MACL,IAAK,GAAI5hG,GAAI,EAAGA,EAAIoE,EAAKw9F,MAAM1hG,OAAQF,IAAK,CACxC,GAAI4hG,GAAQx9F,EAAKw9F,MAAM5hG,GACnBgF,EAAMkB,OAAOjB,KAAK28F,GAAO,EAC7Bj7F,GAAO3B,GAAO48F,EAAM58F,GAG5B2B,EAAY,MAAIvC,CAGhB,QACIA,KAAMg1B,KAAKouB,UAAU7gD,GACrB4wB,IAAK7yB,EAAO,IACZg4F,QAASh4F,EAAW,QACpBhD,KAAM,OACN01B,YAAa,oCAGduqE,GACT5F,IAOE8F,GAAmC,SAAUxhE,GAK7C,QAASwhE,KACL,GAAIn6F,GAAQ24B,EAAO93B,KAAKZ,OAASA,IAEjC,OADA5C,GAAS,aAAcg3F,GAAW54F,UAAUy1B,WAAYlxB,GACjDA,EA0FX,MAjGA03B,IAAUyiE,EAAmBxhE,GAS7BwhE,EAAkB1+F,UAAUmtD,OAAS,SAAUsqC,EAAIx2F,EAAMm3D,GAErD,MADA5zD,MAAK42F,WAAa,OAEdhnE,IAAKqjE,EAAGR,WAAWoD,WAAa5C,EAAGR,WAAW8C,SAAWtC,EAAGR,WAAW7iE,IACvEnzB,KAAMg1B,KAAKouB,WACP7iD,MAAOP,EACPm5F,MAAOhiC,EACP1I,OAAQ,aAIpBgvC,EAAkB1+F,UAAUkJ,OAAS,SAAUuuF,EAAIkB,EAAUn3F,EAAO42D,GAEhE,MADAl7B,GAAOl9B,UAAUkJ,OAAO9D,KAAKZ,KAAMizF,EAAIkB,EAAUn3F,IAE7CjD,KAAM,OACN61B,IAAKqjE,EAAGR,WAAW+C,WAAavC,EAAGR,WAAW8C,SAAWtC,EAAGR,WAAW7iE,IACvEnzB,KAAMg1B,KAAKouB,WACPxiD,IAAKL,EACL84F,UAAW3B,EACXyB,MAAOhiC,EACP1I,OAAQ,aAIpBgvC,EAAkB1+F,UAAU63F,OAAS,SAAUJ,EAAIkB,EAAUn3F,EAAO42D,GAGhE,MAFA5zD,MAAK42F,WAAa,SAClB52F,KAAKm6F,UAAYhG,GAEbp6F,KAAM,OACN61B,IAAKqjE,EAAGR,WAAWsD,WAAa9C,EAAGR,WAAW8C,SAAWtC,EAAGR,WAAW7iE,IACvEnzB,KAAMg1B,KAAKouB,WACP7iD,MAAOA,EACPkuD,OAAQ,SACR4qC,UAAW3B,EACX92F,IAAKL,EAAMm3F,GACXyB,MAAOhiC,MAInBsmC,EAAkB1+F,UAAUm3F,gBAAkB,SAAUl2F,EAAMw8D,EAAIn/D,EAAO8/D,EAAK26B,EAASrB,EAAS9xF,GAC5F,GAAI/I,EAOJ,IANwB,QAApB2H,KAAK42F,YACLl+D,EAAOl9B,UAAUmtD,OAAO/nD,KAAKZ,KAAMi5D,EAAIx8D,EAAM,KAAM,KAAM,GAErC,WAApBuD,KAAK42F,YACLl+D,EAAOl9B,UAAU63F,OAAOzyF,KAAKZ,KAAMi5D,EAAIj5D,KAAKm6F,UAAW19F,GAEvDA,EAAKi5F,MACL,IAAKr9F,EAAI,EAAGA,EAAIoE,EAAKi5F,MAAMn9F,OAAQF,IAC/BqgC,EAAOl9B,UAAUmtD,OAAO/nD,KAAKZ,KAAMi5D,EAAIx8D,EAAKi5F,MAAMr9F,GAG1D,IAAIoE,EAAKg5F,QACL,IAAKp9F,EAAI,EAAGA,EAAIoE,EAAKg5F,QAAQl9F,OAAQF,IACjCqgC,EAAOl9B,UAAU63F,OAAOzyF,KAAKZ,KAAMi5D,EAAI73D,EAAE/D,IAAKZ,EAAKg5F,QAAQp9F,GAGnE,IAAIoE,EAAKk5F,QACL,IAAKt9F,EAAI,EAAGA,EAAIoE,EAAKk5F,QAAQp9F,OAAQF,IACjCqgC,EAAOl9B,UAAUkJ,OAAO9D,KAAKZ,KAAMi5D,EAAI73D,EAAE/D,IAAKZ,EAAKk5F,QAAQt9F,GAGnE,OAAOoE,IAUXy9F,EAAkB1+F,UAAUw3F,aAAe,SAAUC,EAAIC,EAAS9xF,GAC9D,OACIrH,KAAM,OACN61B,IAAKqjE,EAAGR,WAAW6C,UAAYrC,EAAGR,WAAW8C,SAAWtC,EAAGR,WAAW7iE,IACtEH,YAAa,kCACb+B,SAAU,OACV/0B,KAAMg1B,KAAKouB,WACP41C,QAASvC,EAAQE,eACjBsC,MAAOxC,EAAQC,aACfwC,QAASzC,EAAQI,eACjBpoC,OAAQ,QACR0qC,MAAOx0F,EAAEwuB,IACTvyB,IAAK+D,EAAE/D,QAIZ68F,GACTtH,IAOEwH,GAA8B,SAAU1hE,GASxC,QAAS0hE,GAAa9gC,EAASx/B,EAAWy7B,GACtC,GAAIx1D,GAAQ24B,EAAO93B,KAAKZ,OAASA,IACjCD,GAAMs6F,cAAe,EACrBt6F,EAAMu6F,gBAAiB,EAClB78F,EAAkB67D,KACnBv5D,EAAMw6F,aAAejhC,GAEzBv5D,EAAMw1D,SAAWA,EACjBx1D,EAAMy6F,OAASjnC,GAASsG,QAAQ,eAChC,IAAI98D,IAAQO,QAAUq6F,WACtB37F,QAAO6iD,aAAaE,QAAQh/C,EAAMy6F,OAAQ/oE,KAAKouB,UAAU9iD,GACzD,IAAIg6F,GAAOh3F,EAAMy6F,MAsBjB,OArBK/8F,GAAkBq8B,IACnBv3B,YAAY,WACR,GAAI9F,EACJA,GAAO82D,GAAS7hC,MAAMm/D,UAAU70F,OAAO6iD,aAAaC,QAAQi4C,GAE5D,KAAK,GADD0D,MACKpiG,EAAI,EAAGA,EAAIoE,EAAKk7F,QAAQp/F,OAAQF,IAAK,CAC1C,GAAIypB,IAAe,GAAIE,MACnB04E,GAAe,GAAI14E,MAAKvlB,EAAKk7F,QAAQt/F,GAAGyhC,UAC5Cr9B,GAAKk7F,QAAQt/F,GAAGyhC,UAAYhY,EAAc44E,EACtC54E,EAAc44E,EAAc5gE,GAC5B2gE,EAAOzhG,KAAKX,GAGpB,IAASA,EAAI,EAAGA,EAAIoiG,EAAOliG,OAAQF,IAC/BoE,EAAKk7F,QAAQztE,OAAOuwE,EAAOpiG,GAAI,GAC/BoE,EAAKa,KAAK4sB,OAAOuwE,EAAOpiG,GAAI,EAEhC2D,QAAO6iD,aAAa87C,WAAW5D,GAC/B/6F,OAAO6iD,aAAaE,QAAQg4C,EAAMtlE,KAAKouB,UAAUpjD,KAClDq9B,GAEA/5B,EAoJX,MA7LA03B,IAAU2iE,EAAc1hE,GAiDxB0hE,EAAa5+F,UAAUo/F,YAAc,SAAUhrE,EAAK91B,GAChD,GAAI24D,GAAUzyD,KAAKs0F,gBAAgBx6F,GAC/Bo8D,EAAU7D,GAAM4D,iBAAiBn8D,EAAM24D,SAAU,WAAY,SAAU,SAAU,SAAU,YAC3Fp1D,EAAMuyB,CACC,WACCsmC,KACR74D,GAAO64D,EAAY,OAAEZ,WAEzB7C,EAAQqC,MAAM11D,QAAQ,SAAUrC,GAC5BM,GAAON,EAAIqE,EAAE+zD,UAAYp4D,EAAIqE,EAAE8yD,YAEnCzB,EAAQ+hC,OAAOp1F,QAAQ,SAAUrC,GAC7BM,GAAON,EAAIqE,EAAE8yD,YAEjBzB,EAAQiiC,SAASt1F,QAAQ,SAAUrC,GAC/BM,GAAON,EAAIqE,EAAEozD,WAEjB,KAAK,GAAIp/B,GAAS,EAAGA,EAASq9B,EAAQgiC,QAAQl8F,OAAQ68B,IAAU,CAC5D,GAAIylE,GAAgBpoC,EAAQgiC,QAAQr/D,EACpC,IAAIylE,EAAcz5F,EAAEg1D,UAAW,CAC3B,GAAI0kC,GAAWhhG,EAAMuF,OACrBy7F,GAASroC,UACT,KAAK,GAAIp6D,GAAI,EAAGA,EAAIwiG,EAAcz5F,EAAEm1D,WAAWh+D,OAAQF,IACnDyiG,EAASroC,QAAQz5D,MAAO86D,GAAI,UAAW1yD,EAAGy5F,EAAcz5F,EAAEm1D,WAAWl+D,GAAI+8B,OAAQt7B,EAAM24D,QAAQr9B,QAEnG/3B,IAAOw9F,EAAcz5F,EAAEk1D,UAAYt2D,KAAK46F,YAAYhrE,EAAKkrE,OAGzDz9F,IAAOw9F,EAAcz5F,EAAE6xD,MAAQ4nC,EAAcz5F,EAAE+yD,SAAW0mC,EAAcz5F,EAAEpE,MAGlF,MAAOK,IASX+8F,EAAa5+F,UAAUq3F,aAAe,SAAUI,EAAIn5F,EAAOu6F,GACvD,GACI0G,GADA19F,EAAM2C,KAAK46F,YAAY3H,EAAGR,WAAW7iE,IAAK91B,GAG1C2C,GADJs+F,EAAcxnC,GAAS7hC,MAAMm/D,UAAU70F,OAAO6iD,aAAaC,QAAQ9+C,KAAKw6F,UAC/CO,EAAYpD,QAAQoD,EAAYz9F,KAAKkB,QAAQnB,IAAQ,IAC9E,OAAY,OAARZ,GAAiBuD,KAAKq6F,cAAiBr6F,KAAKs6F,gBAGhDt6F,KAAKq6F,aAAe,KACpBr6F,KAAKs6F,eAAiB,KACft6F,KAAKu6F,aAAa1H,aAAan3F,MAAMsE,KAAKu6F,gBAAiB54F,MAAMf,KAAK3B,UAAW,KAJ7ExC,GAgBf29F,EAAa5+F,UAAUm3F,gBAAkB,SAAUl2F,EAAMw8D,EAAIn/D,EAAO8/D,EAAK26B,EAASrB,GAC9E,GAAIlzF,KAAKs6F,gBAAmB/F,GAAWv0F,KAAKu6F,aAAalmF,QAAQgiF,OAC7D9iC,GAASyB,SAASu/B,EAAQ3kE,IAAK5vB,KAAKu6F,aAAalmF,QAAQgiF,QAAyC,SAA/B9B,EAAQx6F,KAAK5B,cAChF,MAAO6H,MAAKu6F,aAAa5H,gBAAgBl2F,EAAMw8D,EAAIn/D,EAAO8/D,EAAK26B,EAASrB,EAE5Ez2F,GAAOuD,KAAKu6F,aAAa5H,gBAAgBj3F,MAAMsE,KAAKu6F,gBAAiB54F,MAAMf,KAAK3B,UAAW,GAC3F,IAAI5B,GAAMvD,EAAQkG,KAAK46F,YAAY3hC,EAAGw5B,WAAW7iE,IAAK91B,GAASm/D,EAAGw5B,WAAW7iE,IACzE7yB,KAEA7E,GADJ6E,EAAMw2D,GAAS7hC,MAAMm/D,UAAU70F,OAAO6iD,aAAaC,QAAQ9+C,KAAKw6F,UAChDl9F,KAAKkB,QAAQnB,EAM7B,MALe,IAAXnF,IACA6E,EAAI46F,QAAQztE,OAAOhyB,EAAO,GAC1B6E,EAAIO,KAAK4sB,OAAOhyB,EAAO,IAE3B6E,EAAI46F,QAAQ56F,EAAIO,KAAKtE,KAAKqE,GAAO,IAAOC,KAAMD,EAAK2B,OAAQvC,EAAKuC,OAAQ86B,UAAW,GAAI9X,MAAQpC,MAAOnjB,EAAKmjB,OACpG7iB,EAAI46F,QAAQp/F,OAASyH,KAAKu1D,UAC7Bx4D,EAAI46F,QAAQztE,OAAO,EAAG,GACtBntB,EAAIO,KAAK4sB,OAAO,EAAG,EAGvB,OADAluB,QAAO6iD,aAAaE,QAAQ/+C,KAAKw6F,OAAQ/oE,KAAKouB,UAAU9iD,IACjDN,GAQX29F,EAAa5+F,UAAUy1B,WAAa,SAAUgiE,EAAIsB,EAASiD,GACnDjkC,GAASyB,SAASwiC,EAAS5nE,IAAK5vB,KAAKu6F,aAAalmF,QAAQgiF,QAA0C,SAAhCmB,EAASz9F,KAAK5B,eAClFo8F,EAAQvjE,iBAAiB,SAAUhxB,KAAKu6F,aAAalmF,QAAQ+hF,iBAE5DnD,EAAGR,WAAWuI,aACfzG,EAAQvjE,iBAAiB,SAAUhxB,KAAKu6F,aAAalmF,QAAQizC,SAUrE8yC,EAAa5+F,UAAU63F,OAAS,SAAUJ,EAAIkB,EAAUn3F,EAAO42D,GAE3D,MADA5zD,MAAKq6F,cAAe,EACbr6F,KAAKu6F,aAAalH,OAAOJ,EAAIkB,EAAUn3F,EAAO42D,IAQzDwmC,EAAa5+F,UAAUmtD,OAAS,SAAUsqC,EAAIx2F,EAAMm3D,GAEhD,MADA5zD,MAAKs6F,gBAAiB,EACft6F,KAAKu6F,aAAa5xC,OAAOsqC,EAAIx2F,EAAMm3D,IAS9CwmC,EAAa5+F,UAAUkJ,OAAS,SAAUuuF,EAAIkB,EAAUn3F,EAAO42D,GAE3D,MADA5zD,MAAKq6F,cAAe,EACbr6F,KAAKu6F,aAAa71F,OAAOuuF,EAAIkB,EAAUn3F,EAAO42D,IASzDwmC,EAAa5+F,UAAUw3F,aAAe,SAAUC,EAAIC,EAAS9xF,GACzD,MAAOpB,MAAKu6F,aAAavH,aAAaC,EAAIC,EAAS9xF,IAEhDg5F,GACThG,IC30DEz5B,GAA6B,WAQ7B,QAASA,GAAY83B,EAAY34F,EAAOw/D,GACpC,GAAIv5D,GAAQC,IAEZA,MAAKmxF,WAAY,EACjBnxF,KAAKm1F,YACA1C,GAAezyF,KAAKyyF,aACrBA,MAEJn5B,EAAUA,GAAWm5B,EAAWn5B,OAChC,IAAI78D,EAoEJ,OAnEIg2F,aAAsBh0F,OACtBhC,GACIm6D,KAAM67B,EACNwI,SAAS,GAGc,gBAAfxI,IACPA,EAAW77B,OACZ67B,EAAW77B,SAEfn6D,GACImzB,IAAK6iE,EAAW7iE,IAChBimE,UAAWpD,EAAWoD,UACtBL,UAAW/C,EAAW+C,UACtBO,UAAWtD,EAAWsD,UACtBR,QAAS9C,EAAW8C,QACpBD,SAAU7C,EAAW6C,SACrB1+B,KAAM67B,EAAW77B,KACjB3kC,QAASwgE,EAAWxgE,QACpBq1B,OAAQmrC,EAAWnrC,OACnB7qD,KAAMg2F,EAAWh2F,KACjBy+F,mBAAoBzI,EAAWyI,mBAC/BC,gBAAiB1I,EAAW0I,gBAC5BC,cAAe3I,EAAW2I,cAC1B5I,YAAaC,EAAWD,YACxBn1F,IAAKo1F,EAAWp1F,IAChB29F,YAAavI,EAAWuI,YACxBK,MAAO5I,EAAW4I,MAClB7pE,SAAUihE,EAAWjhE,SACrBypE,YAAgC7hG,KAAvBq5F,EAAWwI,QAAwBxI,EAAWwI,UACjDxI,EAAWn5B,kBAAmB4gC,OAA4BzH,EAAW7iE,IAC3EmoE,eAAgBtF,EAAWsF,iBAI/BxkC,GAAStyD,WAAW,sCAEI7H,KAAxBqD,EAAKs7F,gBAAiCxkC,GAASoG,WAC/Cl9D,EAAKs7F,iBAAiBt6F,EAAkBhB,EAAKu+F,cAAsBv+F,EAAKu+F,iBAEtD5hG,KAAlBqD,EAAK+0B,WACL/0B,EAAK+0B,SAAW,QAEpBxxB,KAAKyyF,WAAah2F,EAClBuD,KAAKs7F,aAAexhG,EAChB2C,EAAKmzB,KAAOnzB,EAAKw+F,UAAYx+F,EAAKm6D,KAAKr+D,QACvCyH,KAAKu7F,iBAAkB,EACvBv7F,KAAKs5D,QAAUA,GAAW,GAAI68B,IAC9Bn2F,KAAKyyF,WAAWwI,SAAU,EAC1Bj7F,KAAKwC,MAAQxC,KAAKszD,aAAax5D,GAAS,GAAIu4D,KAC5CryD,KAAKwC,MAAMg5F,KAAK,SAAUp6F,GACtBrB,EAAM0yF,WAAWwI,SAAU,EAC3Bl7F,EAAMw7F,iBAAkB,EACxB9+F,EAAKm6D,KAAOx1D,EAAEpC,OACde,EAAMu5D,QAAU,GAAIs5B,OAIxB5yF,KAAKs5D,QAAU78D,EAAKw+F,QAAU,GAAIrI,IAAgB,GAAIuD,KAErD15F,EAAK4+F,OAASr7F,KAAKs5D,kBAAmB68B,MACvC15F,EAAK4+F,MAAQ,YAEjBr7F,KAAKs5D,QAAUA,GAAWt5D,KAAKs5D,QAC3B78D,EAAK2+F,gBACLp7F,KAAKs5D,QAAU,GAAI8gC,IAAap6F,KAAKs5D,QAAS78D,EAAKy+F,mBAAoBz+F,EAAK0+F,kBAEzEn7F,KAqVX,MA/UA26D,GAAYn/D,UAAUigG,gBAAkB,SAAU3hG,GAE9C,MADAkG,MAAKs7F,aAAexhG,EACbkG,MAMX26D,EAAYn/D,UAAUg4D,aAAe,SAAU15D,GACtCkG,KAAKs7F,cAAkBxhG,YAAiBu4D,KACzCkB,GAAStyD,WAAW,iEAEnBjB,KAAKyyF,WAAW77B,MACjBrD,GAAStyD,WAAW,mEAExBnH,EAAQA,GAASkG,KAAKs7F,YACtB,IAAIt8F,GAASgB,KAAKs5D,QAAQu5B,aAAa7yF,KAAMlG,EAC7C,IAAIA,EAAMy4D,SAAU,CAChB,GAAID,GAAOx4D,EAAMy4D,SAASI,UACtB+F,EAAS5+D,EAAMy4D,SAASK,QACxBzuB,EAAMrqC,EAAM65D,gBAAkB30D,EAAOA,OACrCA,CACA05D,IAAUA,YAAkBj6D,QAC5B80D,GAASkF,eAAe3+D,EAAMy4D,SAASG,KAAMJ,EAAMnuB,EAAKu0B,EAAQ5+D,EAAMy4D,SAASl1D,IAEnF,KAAK,GAAI8nB,GAAI,EAAGA,EAAIgf,EAAI5rC,OAAQ4sB,IACxBgf,EAAIhf,GAAGmtC,YAAiB7zD,SACxB0lC,EAAIhf,GAAKxmB,QAAewlC,EAAIhf,IAC5Bgf,EAAIhf,GAAGmtC,GAAQtyD,KAAKs5D,QAAQq5B,gBAAgB74F,EAAMy4D,SAASW,MAAM,GAAIyH,GAAYx2B,EAAIhf,GAAGmtC,GAAM3wD,MAAM,KAAK6xD,eAAgBxzD,KAAMlG,IAI3I,MAAOkG,MAAKs5D,QAAQq5B,gBAAgB3zF,EAAQgB,KAAMlG,IAUtD6gE,EAAYn/D,UAAU83D,aAAe,SAAUx5D,EAAO8R,EAAM6uB,EAAM44B,GAC9D,GAAItzD,GAAQC,IACS,mBAAVlG,KACPu5D,EAAS54B,EACTA,EAAO7uB,EACPA,EAAO9R,EACPA,EAAQ,MAEPA,IACDA,EAAQkG,KAAKs7F,cAEXxhG,YAAiBu4D,KACnBkB,GAAStyD,WAAW,gEAExB,IAAIy6F,GAAW,GAAIC,IACf17F,GAASnG,MAAOA,EACpB,IAAKkG,KAAKyyF,WAAWwI,aAAoC7hG,KAAxB4G,KAAKyyF,WAAW7iE,KAA6C,KAAxB5vB,KAAKyyF,WAAW7iE,IAKlF+qC,EAAYihC,SAAS,WACjB,GAAIz3D,GAAMpkC,EAAMyzD,aAAa15D,EAC7BmG,GAAO06D,EAAYkhC,eAAe/hG,EAAOqqC,EAAKlkC,GAC9Cy7F,EAAS1rE,QAAQ/vB,SAR0E,CAC/F,GAAIjB,GAASgB,KAAKs5D,QAAQu5B,aAAa7yF,KAAMlG,EAC7CkG,MAAK87F,YAAY98F,EAAQ08F,EAAUz7F,EAAMnG,GAe7C,OANI8R,GAAQ6uB,IACRihE,EAASK,QAAQP,KAAK5vF,EAAM6uB,GAE5B44B,GACAqoC,EAASK,QAAQP,KAAKnoC,EAAQA,GAE3BqoC,EAASK,SAEpBphC,EAAYkhC,eAAiB,SAAU/hG,EAAOkF,EAAQiB,GASlD,MARInG,GAAM65D,iBACN1zD,EAAKjB,OAASA,EAAOA,OACrBiB,EAAK2f,MAAQ5gB,EAAO4gB,MACpB3f,EAAK43D,WAAa74D,EAAO64D,YAGzB53D,EAAKjB,OAASA,EAEXiB,GAEX06D,EAAYihC,SAAW,SAAU9nC,IAC5B93D,OAAOL,cAAgBK,OAAO/D,YAAY67D,EAAI,IAEnD6G,EAAYn/D,UAAUwgG,cAAgB,SAAUpsE,EAAKqsE,EAAWC,GAC5D,MAAOv9F,OACH5E,KAAM,MACNy3B,SAAUxxB,KAAKyyF,WAAWjhE,SAC1BwpE,YAAah7F,KAAKyyF,WAAWuI,YAC7BK,MAAOr7F,KAAKyyF,WAAW4I,MACvBc,OAAO,EACPC,aAAa,EACbjrE,UAAW8qE,EACX3qE,UAAW4qE,GACZtsE,IAEP+qC,EAAYn/D,UAAUsgG,YAAc,SAAUlsE,EAAK8rE,EAAUz7F,EAAMnG,GAC/D,GAAIiG,GAAQC,KACRq8F,IAAeviG,EAAM45D,iBACrBwoC,EAAS,SAAU96F,GACnBnB,EAAK0xB,MAAQvwB,EACbs6F,EAASzrE,OAAOhwB,IAEhBq8F,EAAU,SAAU7/F,EAAMmjB,EAAOg6C,EAAK26B,EAASxnD,EAAQ8qB,EAAY0kC,GACnEt8F,EAAK25D,IAAMA,EACX35D,EAAK2f,MAAQA,EAAQ+Z,SAAS/Z,EAAMjf,WAAY,IAAM,EACtDV,EAAKjB,OAASvC,EACdwD,EAAKs0F,QAAUA,EACft0F,EAAK43D,WAAaA,EAClB53D,EAAK8sC,OAASA,EACd9sC,EAAKs8F,qBAAuBA,EAC5Bb,EAAS1rE,QAAQ/vB,IAEjBu8F,EAAe,SAAU//F,EAAMmJ,GAC/B,GAAI62F,GAAY,GAAId,IAChBe,GAAc37F,OAAQd,EAC1BnG,GAAMy4D,SAASC,SAAU,CACzB,IAAImqC,GAAS58F,EAAMu5D,QAAQu5B,aAAa9yF,EAAOjG,EAAMy4D,SAAU91D,EAAOsD,EAAMu5D,QAAQq5B,gBAAgBl2F,GAAQmJ,GACxGg3F,EAAW78F,EAAM+7F,YAAYa,EAAQF,EAAWC,EAAW5iG,EAAMy4D,SASrE,OARK8pC,IACDI,EAAUjB,KAAK,SAAUqB,GACjBpgG,IACA82D,GAASkF,eAAe3+D,EAAMy4D,SAASG,KAAM54D,EAAMy4D,SAASI,UAAWl2D,EAAMogG,EAAS/iG,EAAMy4D,SAASl1D,KACrGi/F,EAAQ7/F,EAAMogG,EAAQj9E,MAAOi9E,EAAQjjC,OAE1CsiC,GAEAU,GAEPX,EAAY,SAAUx/F,EAAM83F,IACkD,IAA1EA,EAAQrkE,YAAY4B,kBAAkB,gBAAgBtzB,QAAQ,QAAiBuB,EAAMoxF,YACrF10F,EAAO82D,GAAS7hC,MAAMm/D,UAAUp0F,GAEpC,IAAIuC,GAASe,EAAMu5D,QAAQq5B,gBAAgBl2F,EAAMsD,EAAOjG,EAAOy6F,EAAQrkE,YAAaqkE,GAChF30E,EAAQ,EACRi4C,EAAa,KAEbilC,EAAiBrgG,EAAyB,oBAM9C,IALI3C,EAAM65D,kBACN/zC,EAAQ5gB,EAAO4gB,MACfi4C,EAAa74D,EAAO64D,WACpB74D,EAASA,EAAOA,SAEflF,EAAMy4D,SAEP,WADA+pC,GAAQt9F,EAAQ4gB,EAAO20E,EAAQrkE,YAAaqkE,EAAQx6F,KAAM0C,EAAMo7D,EAAYilC,EAG3ET,IACDG,EAAax9F,EAAQu1F,IAGzBK,EAAM50F,KAAKg8F,cAAcpsE,EAAKqsE,EAAWC,GACzCa,EAAO,GAAIxtE,IAAKqlE,EAOpB,IANAmI,EAAK9rE,WAAa,WACdlxB,EAAMkxB,WAAW8rE,EAAK7sE,YAAa6sE,KAEvCnI,EAAMmI,EAAKltE,QACPmtE,MAAM,SAAU57F,GAAK,OAAO,IAChCpB,KAAKm1F,SAASn8F,KAAK+jG,GACfV,EAAY,CACZ,GACIl4D,GAAMrqC,EAAM45D,iBAAiB9yD,KAAKZ,MAAQlG,MAAOA,EAAMy4D,SAAUxxD,OAAQjH,GACzEqqC,IAAOA,EAAI5rC,OACDw3B,QAAQktE,KAAKrI,EAAK4H,EAAa,KAAMr4D,KACvCq3D,KAAK,WAET,IAAK,GADDv7F,MACK5B,EAAK,EAAGA,EAAKY,UAAU1G,OAAQ8F,IACpC4B,EAAK5B,GAAMY,UAAUZ,EAEzB,IAAIW,GAASiB,EAAK,GACdi9F,EAAUn9F,EAAMu5D,QAAQq5B,gBAAgB3zF,EAAO,GAAIe,EAAOjG,EAAOiG,EAAMo1F,SAAS,GAAGjlE,YAAanwB,EAAMo1F,SAAS,IAC/Gv1E,EAAQ,CACR9lB,GAAM65D,kBACN/zC,EAAQs9E,EAAQt9E,MAChBs9E,EAAUA,EAAQl+F,OAEtB,IAAIm+F,GAAUp9F,EAAMu5D,QAAQq5B,gBAAgB3zF,EAAO,GAAIe,EAAOjG,EAAMy4D,SAAUxyD,EAAMo1F,SAAS,GAAGjlE,YAAanwB,EAAMo1F,SAAS,GAC5Hv1E,GAAQ,EACJ9lB,EAAMy4D,SAASoB,kBACf/zC,EAAQu9E,EAAQv9E,MAChBu9E,EAAUA,EAAQn+F,QAEtBu0D,GAASkF,eAAe3+D,EAAMy4D,SAASG,KAAM54D,EAAMy4D,SAASI,UAAWuqC,EAASC,EAASrjG,EAAMy4D,SAASl1D,KACxGg/F,GAAa,EACbC,EAAQY,EAASt9E,EAAO7f,EAAMo1F,SAAS,GAAGjlE,eAI9CmsE,GAAa,EAGrB,MAAOzH,IAEXj6B,EAAYn/D,UAAUy1B,WAAa,SAAUsjE,EAASiD,GAClDx3F,KAAKs5D,QAAQroC,WAAWjxB,KAAMu0F,EAASiD,EAGvC,KAAK,GADDrtF,GADA8nB,EAAUjyB,KAAKyyF,WAAWxgE,QAErB55B,EAAI,EAAG45B,GAAW55B,EAAI45B,EAAQ15B,OAAQF,IAAK,CAChD8R,IAEA,KAAK,GAAI9L,GAAK,EAAGC,EADNC,OAAOjB,KAAK20B,EAAQ55B,IACCgG,EAAKC,EAAO/F,OAAQ8F,IAAM,CACtD,GAAI6M,GAAO5M,EAAOD,EAClB8L,GAAMnR,KAAKkS,GACXqpF,EAAQvjE,iBAAiB9lB,EAAM+mB,EAAQ55B,GAAG6S,OAatDyvD,EAAYn/D,UAAUwM,YAAc,SAAUkrF,EAAS71F,EAAKu2D,EAAW95D,EAAOu7F,GAC1E,GAAIt1F,GAAQC,IACR4zD,aAAqBvB,MACrBv4D,EAAQ85D,EACRA,EAAY,KAEhB,IAAI3zD,IACA2vB,IAAKgkC,EACLv2D,IAAKA,GAAO2C,KAAKyyF,WAAWp1F,KAE5Bu3F,EAAM50F,KAAKs5D,QAAQ05B,aAAahzF,KAAMkzF,EAASjzF,EAAMnG,EAAOu7F,EAChE,IAAIr1F,KAAKyyF,WAAWwI,QAChB,MAAOrG,EAEX,IAAIwI,GAAO,GAAIzB,IACXoB,EAAO,GAAIxtE,IAAKqlE,EAWpB,OAVAmI,GAAK9rE,WAAa,WACdlxB,EAAMkxB,WAAW8rE,EAAK7sE,YAAa6sE,IAEvCA,EAAK5rE,UAAY,SAAU10B,EAAM83F,GAC7B6I,EAAKptE,QAAQjwB,EAAMu5D,QAAQq5B,gBAAgBp/B,GAAS7hC,MAAMm/D,UAAUp0F,GAAOsD,EAAO,KAAMw0F,EAAQrkE,YAAaqkE,EAASrB,EAASjzF,KAEnI88F,EAAKzrE,UAAY,SAAUlwB,GACvBg8F,EAAKntE,SAAU0B,MAAOvwB,MAE1B27F,EAAKltE,OAAOmtE,MAAM,SAAU57F,GAAK,OAAO,IACjCg8F,EAAKrB,SAQhBphC,EAAYn/D,UAAUmtD,OAAS,SAAUlsD,EAAMm3D,EAAW95D,EAAO8b,GACzDg+C,YAAqBvB,MACrBv4D,EAAQ85D,EACRA,EAAY,KAEhB,IAAIghC,GAAM50F,KAAKs5D,QAAQ3Q,OAAO3oD,KAAMvD,EAAMm3D,EAAW95D,EAAO8b,EAC5D,OAAI5V,MAAKyyF,WAAWwI,QACTrG,EAEJ50F,KAAKq9F,cAAczI,IAS9Bj6B,EAAYn/D,UAAUkJ,OAAS,SAAUyvF,EAAUn3F,EAAO42D,EAAW95D,GAC5C,gBAAVkD,KACPA,EAAQA,EAAMm3F,IAEdvgC,YAAqBvB,MACrBv4D,EAAQ85D,EACRA,EAAY,KAEhB,IAAIzvB,GAAMnkC,KAAKs5D,QAAQ50D,OAAO1E,KAAMm0F,EAAUn3F,EAAO42D,EAAW95D,EAChE,OAAIkG,MAAKyyF,WAAWwI,QACT92D,EAEJnkC,KAAKq9F,cAAcl5D,IAS9Bw2B,EAAYn/D,UAAU63F,OAAS,SAAUc,EAAUn3F,EAAO42D,EAAW95D,EAAOu7F,GACpEzhC,YAAqBvB,MACrBv4D,EAAQ85D,EACRA,EAAY,KAEhB,IAAIzvB,GAAMnkC,KAAKs5D,QAAQ+5B,OAAOrzF,KAAMm0F,EAAUn3F,EAAO42D,EAAW95D,EAAOu7F,EACvE,OAAIr1F,MAAKyyF,WAAWwI,QACT92D,EAEJnkC,KAAKq9F,cAAcl5D,IAE9Bw2B,EAAYn/D,UAAU6hG,cAAgB,SAAUl5D,GAC5C,GAAIpkC,GAAQC,KACRs9F,EAAQ,GAAI3B,GAChBx3D,GAAMxlC,MACF5E,KAAM,OACN01B,YAAa,kCACb2sE,aAAa,GACdj4D,EACH,IAAI44D,GAAO,GAAIxtE,IAAK4U,EAkBpB,OAjBA44D,GAAK9rE,WAAa,WACdlxB,EAAMkxB,WAAW8rE,EAAK7sE,YAAa6sE,IAEvCA,EAAK5rE,UAAY,SAAU6lC,EAAQu9B,GAC/B,IACIhhC,GAAS7hC,MAAMm/D,UAAU75B,GAE7B,MAAO51D,GACH41D,KAEJA,EAASj3D,EAAMu5D,QAAQq5B,gBAAgBp/B,GAAS7hC,MAAMm/D,UAAU75B,GAASj3D,EAAO,KAAMw0F,EAAQrkE,YAAaqkE,GAC3G+I,EAAMttE,QAAQgnC,IAElB+lC,EAAKzrE,UAAY,SAAUlwB,GACvBk8F,EAAMrtE,SAAU0B,MAAOvwB,MAE3B27F,EAAKltE,OAAOmtE,MAAM,SAAU57F,GAAK,OAAO,IACjCk8F,EAAMvB,SAEVphC,KAMPghC,GAA0B,WAC1B,QAASA,KACL,GAAI57F,GAAQC,IAIZA,MAAK+7F,QAAU,GAAIhsE,SAAQ,SAAUC,EAASC,GAC1ClwB,EAAMiwB,QAAUA,EAChBjwB,EAAMkwB,OAASA,IAKnBjwB,KAAKw7F,KAAOx7F,KAAK+7F,QAAQP,KAAK//F,KAAKuE,KAAK+7F,SAIxC/7F,KAAKg9F,MAAQh9F,KAAK+7F,QAAQiB,MAAMvhG,KAAKuE,KAAK+7F,SAE9C,MAAOJ,2OC3cPlkE,GAAwC,WACxC,GAAIC,GAAgBn5B,OAAOo5B,iBACpBC,uBAA2Bn5B,QAAS,SAAUo5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAExwB,eAAeywB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOh4B,KAAKnC,YAAcg6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAEr8B,UAAkB,OAANs8B,EAAav5B,OAAOgN,OAAOusB,IAAME,EAAGx8B,UAAYs8B,EAAEt8B,UAAW,GAAIw8B,QAGnFC,GAA0C,SAAUC,EAAYrvB,EAAQxL,EAAK86B,GAC7E,GAA2HN,GAAvHO,EAAIn5B,UAAU1G,OAAQ8/B,EAAID,EAAI,EAAIvvB,EAAkB,OAATsvB,EAAgBA,EAAO55B,OAAO+5B,yBAAyBzvB,EAAQxL,GAAO86B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYrvB,EAAQxL,EAAK86B,OACpH,KAAK,GAAI9/B,GAAI6/B,EAAW3/B,OAAS,EAAGF,GAAK,EAAGA,KAASw/B,EAAIK,EAAW7/B,MAAIggC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAEhvB,EAAQxL,EAAKg7B,GAAKR,EAAEhvB,EAAQxL,KAASg7B,EAChJ,OAAOD,GAAI,GAAKC,GAAK95B,OAAO4K,eAAeN,EAAQxL,EAAKg7B,GAAIA,GAK5DklE,IACAC,IAAK,QACLC,OAAQ,QACRC,QAAS,YACTC,QAAS,cAcTC,GAAwB,SAAUllE,GAOlC,QAASklE,GAAOvpF,EAASxa,GACrB,MAAO6+B,GAAO93B,KAAKZ,KAAMqU,EAASxa,IAAYmG,KA2NlD,MAlOAy3B,IAAUmmE,EAAQllE,GASlBklE,EAAOpiG,UAAUwY,UAAY,aAQ7B4pF,EAAOpiG,UAAU+iD,OAAS,WACtBv+C,KAAKmhD,cAETy8C,EAAOpiG,UAAU2lD,WAAa,WACtBnhD,KAAKsU,UACLtQ,GAAUhE,KAAKnG,SAAUmG,KAAKsU,SAASpX,MAAM,MAE7C8C,KAAK69F,WACL79F,KAAKnG,QAAQrB,UAAU+L,IAAIg5F,GAAaG,SAExC19F,KAAKtF,UACLsF,KAAKnG,QAAQW,UAAYwF,KAAKtF,SAElCsF,KAAK89F,aACD99F,KAAKuP,WACLvP,KAAKnG,QAAQrB,UAAU+L,IAAIg5F,GAAaC,KAExCx9F,KAAK+9F,SACL/9F,KAAKg+F,cAAch+F,KAAK+9F,UAGxB/9F,KAAKkmB,aAETlmB,KAAKi+F,mBAAqBvyF,GAAa1L,KAAKnG,SAAW+L,SAAU,IAAM23F,GAAaE,UAExFG,EAAOpiG,UAAUwiG,cAAgB,SAAUD,GACvC/9F,KAAKnG,QAAQkkG,SAAWA,GAE5BH,EAAOpiG,UAAUsiG,WAAa,WAC1B,GAAI99F,KAAKk+F,QAAS,CACd,GAAIC,GAAOn+F,KAAKyB,cAAc,QAAUiC,UAAW,cAAgB1D,KAAKk+F,SACnEl+F,MAAKnG,QAAQH,YAAY+X,OAI1B0sF,EAAK3lG,UAAU+L,IAAI,UAAYvE,KAAKo+F,aAAajmG,eAHjD6H,KAAKnG,QAAQrB,UAAU+L,IAAIg5F,GAAaI,QAK5C,IAAI38F,GAAOhB,KAAKnG,QAAQS,WAAW,EAC/B0G,IAA+B,SAAtBhB,KAAKo+F,aACdp+F,KAAKnG,QAAQuL,aAAa+4F,EAAMn9F,GAGhChB,KAAKnG,QAAQkI,YAAYo8F,KAIrCP,EAAOpiG,UAAU0qB,WAAa,WACtBlmB,KAAKq+F,UACL54F,GAAalB,IAAIvE,KAAKnG,QAAS,QAASmG,KAAKs+F,gBAAiBt+F,OAGtE49F,EAAOpiG,UAAU+iG,aAAe,WACxBv+F,KAAKq+F,UACL54F,GAAaf,OAAO1E,KAAKnG,QAAS,QAASmG,KAAKs+F,kBAGxDV,EAAOpiG,UAAU8iG,gBAAkB,WAC3Bt+F,KAAKnG,QAAQrB,UAAUC,SAAS,YAChCuH,KAAKnG,QAAQrB,UAAUkM,OAAO,YAG9B1E,KAAKnG,QAAQrB,UAAU+L,IAAI,aAOnCq5F,EAAOpiG,UAAUqY,QAAU,WACvB,GAAIsqF,GACAtkG,EAAUmG,KAAKnG,OACnB6+B,GAAOl9B,UAAUqY,QAAQjT,KAAKZ,MAC9BwE,GAAaxE,KAAKnG,UAAW0jG,GAAaG,QAASH,GAAaC,IAAKD,GAAaI,QAAS,YACvF,SAAU,WAAY,YAAa,SAAU,YAAa,UAAW,WAAY,WAAY,aAChG,WAAY,YAAYv+F,QAAQ,SAAUpC,GACvCnD,EAAQyS,gBAAgBtP,KAExBgD,KAAKtF,UACLb,EAAQW,UAAYX,EAAQW,UAAUb,QAAQqG,KAAKtF,QAAS,MAEhEyjG,EAAOtkG,EAAQiJ,cAAc,qBAEzByC,EAAO44F,GAEXn+F,KAAKu+F,eACLv+F,KAAKi+F,sBAOTL,EAAOpiG,UAAU0L,cAAgB,WAC7B,MAAO,OAMX02F,EAAOpiG,UAAUwjD,eAAiB,WAC9B,MAAOh/C,MAAKy/C,kBAShBm+C,EAAOpiG,UAAU05B,kBAAoB,SAAUwF,EAASC,GACpD,IAAK,GAAIt8B,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAKo9B,GAAUr8B,EAAK2E,EAAGzK,OAAQ8F,IAExD,OADW2E,EAAG3E,IAEV,IAAK,YACGq8B,EAAQmjE,UACR79F,KAAKnG,QAAQrB,UAAU+L,IAAIg5F,GAAaG,SAGxC19F,KAAKnG,QAAQrB,UAAUkM,OAAO64F,GAAaG,QAE/C,MACJ,KAAK,WACD19F,KAAKg+F,cAActjE,EAAQqjE,UAC3B/9F,KAAKu+F,cACL,MACJ,KAAK,UACD,GAAIJ,GAAOn+F,KAAKnG,QAAQiJ,cAAc,kBAClCq7F,IACAA,EAAKz6F,UAAY,cAAgBg3B,EAAQwjE,QACrCl+F,KAAKnG,QAAQH,YAAY+X,SACC,SAAtBzR,KAAKo+F,aACLD,EAAK3lG,UAAU+L,IAAI,eAGnB45F,EAAK3lG,UAAU+L,IAAI,kBAK3BvE,KAAK89F,YAET,MACJ,KAAK,gBACDK,EAAOn+F,KAAKnG,QAAQiJ,cAAc,qBAE9ByC,EAAO44F,GAEXn+F,KAAK89F,YACL,MACJ,KAAK,WACGnjE,EAAQrmB,UACR9P,GAAaxE,KAAKnG,SAAU8gC,EAAQrmB,SAASpX,MAAM,MAEnDw9B,EAAQpmB,UACRtQ,GAAUhE,KAAKnG,SAAU6gC,EAAQpmB,SAASpX,MAAM,KAEpD,MACJ,KAAK,YACGw9B,EAAQnrB,UACRvP,KAAKnG,QAAQrB,UAAU+L,IAAIg5F,GAAaC,KAGxCx9F,KAAKnG,QAAQrB,UAAUkM,OAAO64F,GAAaC,IAE/C,MACJ,KAAK,UACU7pF,GAAY3T,KAAKnG,UAExBmG,KAAKnG,QAAQrB,UAAUkM,OAAO64F,GAAaI,SAE/C39F,KAAKnG,QAAQW,UAAYkgC,EAAQhgC,QACjCsF,KAAK89F,YACL,MACJ,KAAK,WACGpjE,EAAQ2jE,SACR54F,GAAalB,IAAIvE,KAAKnG,QAAS,QAASmG,KAAKs+F,gBAAiBt+F,OAG9DyF,GAAaf,OAAO1E,KAAKnG,QAAS,QAASmG,KAAKs+F,iBAChD95F,GAAaxE,KAAKnG,UAAW,gBAMjDo+B,IACIrvB,GAAS,SACVg1F,EAAOpiG,UAAW,mBAAgB,IACrCy8B,IACIrvB,GAAS,KACVg1F,EAAOpiG,UAAW,cAAW,IAChCy8B,IACIrvB,IAAS,IACVg1F,EAAOpiG,UAAW,eAAY,IACjCy8B,IACIrvB,IAAS,IACVg1F,EAAOpiG,UAAW,gBAAa,IAClCy8B,IACIrvB,GAAS,KACVg1F,EAAOpiG,UAAW,eAAY,IACjCy8B,IACIrvB,GAAS,KACVg1F,EAAOpiG,UAAW,cAAW,IAChCy8B,IACIrvB,IAAS,IACVg1F,EAAOpiG,UAAW,eAAY,IACjCoiG,EAAS3lE,IACLluB,IACD6zF,IAELhgD,ICzQEnmB,GAAwC,WACxC,GAAIC,GAAgBn5B,OAAOo5B,iBACpBC,uBAA2Bn5B,QAAS,SAAUo5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAExwB,eAAeywB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOh4B,KAAKnC,YAAcg6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAEr8B,UAAkB,OAANs8B,EAAav5B,OAAOgN,OAAOusB,IAAME,EAAGx8B,UAAYs8B,EAAEt8B,UAAW,GAAIw8B,QAGnFC,GAA0C,SAAUC,EAAYrvB,EAAQxL,EAAK86B,GAC7E,GAA2HN,GAAvHO,EAAIn5B,UAAU1G,OAAQ8/B,EAAID,EAAI,EAAIvvB,EAAkB,OAATsvB,EAAgBA,EAAO55B,OAAO+5B,yBAAyBzvB,EAAQxL,GAAO86B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYrvB,EAAQxL,EAAK86B,OACpH,KAAK,GAAI9/B,GAAI6/B,EAAW3/B,OAAS,EAAGF,GAAK,EAAGA,KAASw/B,EAAIK,EAAW7/B,MAAIggC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAEhvB,EAAQxL,EAAKg7B,GAAKR,EAAEhvB,EAAQxL,KAASg7B,EAChJ,OAAOD,GAAI,GAAKC,GAAK95B,OAAO4K,eAAeN,EAAQxL,EAAKg7B,GAAIA,GAW5DmmE,GAAS,qBAITrrF,GAAU,qBC7BVskB,IDyC0B,SAAUiB,GAMpC,QAAS+lE,GAASpqF,EAASxa,GACvB,GAAIkG,GAAQ24B,EAAO93B,KAAKZ,KAAMqU,EAASxa,IAAYmG,IAEnD,OADAD,GAAM2+F,cAAe,EACd3+F,EARX03B,GAAUgnE,EAAU/lE,GAUpB+lE,EAASjjG,UAAUmjG,YAAc,SAAUC,GACvC,GAAIC,GACAtqF,EACAC,EAAYxU,KAAK8+F,aAAatwF,uBAjC9B,WAiC4D,EAC5DxC,MACAuI,EAAavU,KAAK8+F,aAAatwF,uBAAuBgwF,IAAQ,IAEpD,UAAVI,GACApqF,EAAUhc,UAAUkM,OArCZ,UAsCR8P,EAAUhc,UAAU+L,IAzCpB,WA0CIgQ,IACAA,EAAW/b,UAAUkM,OApCX,iBAqCV6P,EAAW/b,UAAU+L,IAtCnB,mBAwCNs6F,EAAY,OACZ7+F,KAAKnG,QAAQka,SAAU,GAER,YAAV6qF,GACLp6F,GAAagQ,IAlDb,UAGQ,WAgDJD,GACA/P,GAAa+P,IA9CX,iBACQ,kBA+CdsqF,EAAY,QACZ7+F,KAAKnG,QAAQka,SAAU,IAGvBS,EAAUhc,UAAUkM,OA1DpB,WA2DA8P,EAAUhc,UAAU+L,IAxDZ,UAyDJgQ,IACAA,EAAW/b,UAAUkM,OAvDnB,kBAwDF6P,EAAW/b,UAAU+L,IAvDX,kBAyDds6F,EAAY,QACZ7+F,KAAKnG,QAAQklG,eAAgB,GAEjC/+F,KAAK8+F,aAAaj7F,aAAa,eAAgBg7F,IAEnDJ,EAASjjG,UAAUwjG,aAAe,SAAUziG,GACxCyD,KAAKi/F,kBACDj/F,KAAK++F,eACL/+F,KAAK2+F,YAAY3+F,KAAK+T,QAAU,QAAU,WAC1C/T,KAAK++F,eAAgB,EACrB/+F,KAAKnG,QAAQklG,eAAgB,GAExB/+F,KAAK+T,SACV/T,KAAK2+F,YAAY,WACjB3+F,KAAK+T,SAAU,IAGf/T,KAAK2+F,YAAY,SACjB3+F,KAAK+T,SAAU,EAEnB,IAAImX,IAAoBnX,QAAS/T,KAAKnG,QAAQka,QAASxX,MAAOA,EAC9DyD,MAAKooB,QAAQ,SAAU8C,IAM3BuzE,EAASjjG,UAAUqY,QAAU,WACzB,GAAI9T,GAAQC,KACRuT,EAAUvT,KAAK8+F,YACnBpmE,GAAOl9B,UAAUqY,QAAQjT,KAAKZ,MACzBA,KAAK+9F,UACN/9F,KAAKu+F,eAEY,UAAjBv+F,KAAKsD,SACLiQ,EAAQzY,WAAWsK,aAAapF,KAAKnG,QAAS0Z,GAC9ChO,EAAOgO,GACPvT,KAAKnG,QAAQka,SAAU,EACnB/T,KAAK++F,gBACL/+F,KAAKnG,QAAQklG,eAAgB,IAEhC,OAAQ,QAAS,YAAY3/F,QAAQ,SAAU/B,GAC5C0C,EAAMlG,QAAQyS,gBAAgBjP,QAIjC,OAAQ,eAAgB,SAAS+B,QAAQ,SAAU/B,GAChDkW,EAAQjH,gBAAgBjP,KAExB2C,KAAKnG,QAAQ8J,IACb4P,EAAQ1P,aAAa,KAAM7D,KAAKnG,QAAQ8J,IAE5C4P,EAAQ/Y,UAAY,KAG5BikG,EAASjjG,UAAU0jG,aAAe,WAC1Bl/F,KAAK0+F,cACL1+F,KAAK8+F,aAAatmG,UAAU+L,IAAI,YAGxCk6F,EAASjjG,UAAUyjG,gBAAkB,WACjCj/F,KAAK8+F,aAAatmG,UAAUkM,OAAO,YAMvC+5F,EAASjjG,UAAU0L,cAAgB,WAC/B,MAAO,YAMXu3F,EAASjjG,UAAUwjD,eAAiB,WAChC,MAAOh/C,MAAKy/C,cAAc,UAAW,mBAEzCg/C,EAASjjG,UAAUsjG,WAAa,WAC5B,MAAO9+F,MAAKnG,QAAQkc,cAAcA,eAEtC0oF,EAASjjG,UAAU2lD,WAAa,WACxBnhD,KAAK4yB,MACL5yB,KAAKnG,QAAQgK,aAAa,OAAQ7D,KAAK4yB,MAEvC5yB,KAAKhD,OACLgD,KAAKnG,QAAQgK,aAAa,QAAS7D,KAAKhD,OAExCgD,KAAK+T,SACL/T,KAAK2+F,YAAY,SAEjB3+F,KAAK++F,eACL/+F,KAAK2+F,cAEL3+F,KAAK+9F,UACL/9F,KAAKm/F,eAGbV,EAASjjG,UAAU4jG,YAAc,WAC7B,GAAI7rF,GAAUvT,KAAKnG,QAAQkc,aACtBxC,GAAQ/a,UAAUC,SAAS0a,MAC5BI,EAAUvT,KAAKyB,cAAc,OACzBiC,UAAWyP,GAASrP,OAASsP,KAAQ,WAAYI,eAAgB,WAErExT,KAAKnG,QAAQiB,WAAWsK,aAAamO,EAASvT,KAAKnG,SAEvD,IAAI4a,GAAQzU,KAAKyB,cAAc,SAAWqC,OAASu7F,IAAKr/F,KAAKnG,QAAQ8J,MACjE6Q,EAAYxU,KAAKyB,cAAc,QAAUiC,UAAW,mBAUxD,IATI1D,KAAKuP,WACLgE,EAAQ/a,UAAU+L,IApKpB,SAsKEvE,KAAKsU,UACLtQ,GAAUuP,GAAUvT,KAAKsU,SAASpX,MAAM,MAE5CqW,EAAQxR,YAAY0S,GACpBA,EAAM1S,YAAY/B,KAAKnG,SACvB4a,EAAM1S,YAAYyS,GACdxI,GAAiB,CACjB,GAAIuI,GAAavU,KAAKyB,cAAc,QAAUiC,UAAW86F,IAC9B,YAAvBx+F,KAAKs/F,cACL7qF,EAAM1S,YAAYwS,GAGlBE,EAAMrP,aAAamP,EAAYC,GAEnC9I,GAAa6I,GAAc9H,SAAU,IAAKD,gBAAgB,IAE1DxM,KAAKyU,OACLzU,KAAKu/F,QAAQv/F,KAAKyU,QAG1BgqF,EAASjjG,UAAUgkG,eAAiB,WAChCx/F,KAAK0+F,cAAe,GAExBD,EAASjjG,UAAUikG,kBAAoB,SAAUr+F,GAE7CuT,GAAmBvT,EADFpB,KAAK8+F,aAAatwF,uBAAuBgwF,IAAQ,KAGtEC,EAASjjG,UAAUkkG,iBAAmB,WAClC1/F,KAAK0+F,cAAe,GAMxBD,EAASjjG,UAAU05B,kBAAoB,SAAUwF,EAASC,GAEtD,IAAK,GADDpnB,GAAUvT,KAAK8+F,aACVzgG,EAAK,EAAG2E,EAAKzE,OAAOjB,KAAKo9B,GAAUr8B,EAAK2E,EAAGzK,OAAQ8F,IAExD,OADW2E,EAAG3E,IAEV,IAAK,UACD2B,KAAK++F,eAAgB,EACrB/+F,KAAKnG,QAAQklG,eAAgB,EAC7B/+F,KAAK2+F,YAAYjkE,EAAQ3mB,QAAU,QAAU,UAC7C,MACJ,KAAK,gBACG2mB,EAAQqkE,cACR/+F,KAAK2+F,eAGL3+F,KAAKnG,QAAQklG,eAAgB,EAC7B/+F,KAAK2+F,YAAY3+F,KAAK+T,QAAU,QAAU,WAE9C,MACJ,KAAK,WACG2mB,EAAQqjE,UACR/9F,KAAKm/F,cACLn/F,KAAKu+F,iBAGLv+F,KAAKnG,QAAQkkG,UAAW,EACxBxqF,EAAQ/a,UAAUkM,OAzO3B,uBA0OS6O,EAAQ1P,aAAa,gBAAiB,SACtC7D,KAAKkmB,aAET,MACJ,KAAK,WACGyU,EAAQrmB,UACRf,EAAQ/a,UAAUkM,OAAOi2B,EAAQrmB,UAErCf,EAAQ/a,UAAU+L,IAAIm2B,EAAQpmB,SAC9B,MACJ,KAAK,YACGomB,EAAQnrB,UACRgE,EAAQ/a,UAAU+L,IA/OhC,SAkPcgP,EAAQ/a,UAAUkM,OAlPhC,QAoPU,MACJ,KAAK,QACD1E,KAAKu/F,QAAQ7kE,EAAQjmB,MACrB,MACJ,KAAK,gBACD,GAAIA,GAAQlB,EAAQ/E,uBA7P5B,WA6P0D,GAC9CmxF,EAAYpsF,EAAQ3R,qBAAqB,SAAS,EACtD2D,GAAOkP,GACuB,UAA1BimB,EAAQ4kE,cACRK,EAAU59F,YAAY0S,GAGtBkrF,EAAUv6F,aAAaqP,EAAOlB,EAAQ/E,uBAtQlD,WAsQgF,GAExE,MACJ,KAAK,OACDxO,KAAKnG,QAAQgK,aAAa,OAAQ62B,EAAQ9H,KAC1C,MACJ,KAAK,QACD5yB,KAAKnG,QAAQgK,aAAa,QAAS62B,EAAQ19B,SAS3DyhG,EAASjjG,UAAUwY,UAAY,WAC3B,GAAIna,GAAUmG,KAAKnG,OACnBmG,MAAKsD,QAAUtD,KAAKnG,QAAQyJ,QAC5BzJ,EAAUoZ,GAAkBjT,KAAKyB,cAAe,eAAgB,WAAY5H,EAASsZ,GAAS,YAC9FnT,KAAKnG,QAAUA,EAC2B,aAAtCmG,KAAKnG,QAAQ4M,aAAa,SAC1BzG,KAAKnG,QAAQgK,aAAa,OAAQ,YAEjC7D,KAAKnG,QAAQ8J,KACd3D,KAAKnG,QAAQ8J,GAAKnE,EAAY,KAAOQ,KAAKkH,mBAOlDu3F,EAASjjG,UAAU+iD,OAAS,WACxBv+C,KAAKo/F,cACLp/F,KAAKmhD,aACAnhD,KAAK+9F,UACN/9F,KAAKkmB,cAGbu4E,EAASjjG,UAAU2jG,YAAc,WAC7B,GAAI5rF,GAAUvT,KAAK8+F,YACnB9+F,MAAKnG,QAAQkkG,UAAW,EACxBxqF,EAAQ/a,UAAU+L,IAjTX,uBAkTPgP,EAAQ1P,aAAa,gBAAiB,SAE1C46F,EAASjjG,UAAU+jG,QAAU,SAAU9lG,GACnC,GAAIgb,GAAQzU,KAAK8+F,aAAatwF,uBAlT1B,WAkTwD,EAC5D,IAAIiG,EACAA,EAAM/a,YAAcD,MAEnB,CACDgb,EAAQzU,KAAKyB,cAAc,QAAUiC,UAvTrC,UAuTuDlJ,UAAWf,GAClE,IAAIkmG,GAAY3/F,KAAK8+F,aAAal9F,qBAAqB,SAAS,EACrC,YAAvB5B,KAAKs/F,cACLK,EAAUv6F,aAAaqP,EAAOzU,KAAK8+F,aAAatwF,uBA5TpD,WA4TkF,IAG9EmxF,EAAU59F,YAAY0S,KAIlCgqF,EAASjjG,UAAU+iG,aAAe,WAC9B,GAAIhrF,GAAUvT,KAAK8+F,YACnBr5F,IAAaf,OAAO1E,KAAKnG,QAAS,QAASmG,KAAKg/F,cAChDv5F,GAAaf,OAAO3J,SAAU,UAAWiF,KAAKw/F,gBAC9C/5F,GAAaf,OAAO6O,EAAS,YAAavT,KAAK0/F,kBAC/Cj6F,GAAaf,OAAO1E,KAAKnG,QAAS,QAASmG,KAAKk/F,cAChDz5F,GAAaf,OAAO1E,KAAKnG,QAAS,WAAYmG,KAAKi/F,gBACnD,IAAIxqF,GAAQlB,EAAQ3R,qBAAqB,SAAS,EAClD6D,IAAaf,OAAO+P,EAAO,YAAazU,KAAKy/F,mBAC7Ch6F,GAAaf,OAAO+P,EAAO,UAAWzU,KAAKy/F,oBAE/ChB,EAASjjG,UAAU0qB,WAAa,WAC5B,GAAI3S,GAAUvT,KAAK8+F,YACnBr5F,IAAalB,IAAIvE,KAAKnG,QAAS,QAASmG,KAAKg/F,aAAch/F,MAC3DyF,GAAalB,IAAIxJ,SAAU,UAAWiF,KAAKw/F,eAAgBx/F,MAC3DyF,GAAalB,IAAIgP,EAAS,YAAavT,KAAK0/F,iBAAkB1/F,MAC9DyF,GAAalB,IAAIvE,KAAKnG,QAAS,QAASmG,KAAKk/F,aAAcl/F,MAC3DyF,GAAalB,IAAIvE,KAAKnG,QAAS,WAAYmG,KAAKi/F,gBAAiBj/F,KACjE,IAAIyU,GAAQlB,EAAQ3R,qBAAqB,SAAS,EAClD6D,IAAalB,IAAIkQ,EAAO,YAAazU,KAAKy/F,kBAAmBz/F,MAC7DyF,GAAalB,IAAIkQ,EAAO,UAAWzU,KAAKy/F,kBAAmBz/F,OAE/Di4B,IACIxuB,MACDg1F,EAASjjG,UAAW,aAAU,IACjCy8B,IACIrvB,IAAS,IACV61F,EAASjjG,UAAW,cAAW,IAClCy8B,IACIrvB,GAAS,KACV61F,EAASjjG,UAAW,eAAY,IACnCy8B,IACIrvB,IAAS,IACV61F,EAASjjG,UAAW,eAAY,IACnCy8B,IACIrvB,IAAS,IACV61F,EAASjjG,UAAW,oBAAiB,IACxCy8B,IACIrvB,GAAS,KACV61F,EAASjjG,UAAW,YAAS,IAChCy8B,IACIrvB,GAAS,UACV61F,EAASjjG,UAAW,oBAAiB,IACxCy8B,IACIrvB,GAAS,KACV61F,EAASjjG,UAAW,WAAQ,IAC/By8B,IACIrvB,GAAS,KACV61F,EAASjjG,UAAW,YAAS,IAChCijG,EAAWxmE,IACPluB,IACD00F,IAEL7gD,IC9Y0C,WACxC,GAAIlmB,GAAgBn5B,OAAOo5B,iBACpBC,uBAA2Bn5B,QAAS,SAAUo5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAExwB,eAAeywB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOh4B,KAAKnC,YAAcg6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAEr8B,UAAkB,OAANs8B,EAAav5B,OAAOgN,OAAOusB,IAAME,EAAGx8B,UAAYs8B,EAAEt8B,UAAW,GAAIw8B,SAGnFC,GAA0C,SAAUC,EAAYrvB,EAAQxL,EAAK86B,GAC7E,GAA2HN,GAAvHO,EAAIn5B,UAAU1G,OAAQ8/B,EAAID,EAAI,EAAIvvB,EAAkB,OAATsvB,EAAgBA,EAAO55B,OAAO+5B,yBAAyBzvB,EAAQxL,GAAO86B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYrvB,EAAQxL,EAAK86B,OACpH,KAAK,GAAI9/B,GAAI6/B,EAAW3/B,OAAS,EAAGF,GAAK,EAAGA,KAASw/B,EAAIK,EAAW7/B,MAAIggC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAEhvB,EAAQxL,EAAKg7B,GAAKR,EAAEhvB,EAAQxL,KAASg7B,EAChJ,OAAOD,GAAI,GAAKC,GAAK95B,OAAO4K,eAAeN,EAAQxL,EAAKg7B,GAAIA,GCd5DZ,IDmC6B,SAAUiB,GAMvC,QAASknE,GAAYvrF,EAASxa,GAC1B,GAAIkG,GAAQ24B,EAAO93B,KAAKZ,KAAMqU,EAASxa,IAAYmG,IAEnD,OADAD,GAAM2+F,cAAe,EACd3+F,EAyRX,MAjSA03B,IAAUmoE,EAAalnE,GAUvBmnE,EAAgBD,EAChBA,EAAYpkG,UAAUskG,cAAgB,SAAUvjG,GAC5CyD,KAAK+T,SAAU,EACf/T,KAAK20B,UACL,IAAIzJ,IAAoBluB,MAAOgD,KAAKhD,MAAOT,MAAOA,EAClDyD,MAAKooB,QAAQ,SAAU8C,IAE3B00E,EAAYpkG,UAAUknC,aAAe,SAAUk8D,GAI3C,IAAK,GAHDtrF,GACAsf,EAAO5yB,KAAKnG,QAAQ4M,aAAa,QACjCs5F,EAAWhlG,SAASH,iBAAiB,uBAAyBg4B,EAAO,MAChEv6B,EAAI,EAAGA,EAAI0nG,EAASxnG,OAAQF,KACjCib,EAAQysF,EAAS1nG,MACH2H,KAAKnG,UACf8I,EAAY2Q,EAAOusF,GAAe9rF,SAAU,IAQxD6rF,EAAYpkG,UAAUqY,QAAU,WAC5B,GAAI9T,GAAQC,KACRggG,EAAYhgG,KAAKnG,QAAQkc,aAC7B2iB,GAAOl9B,UAAUqY,QAAQjT,KAAKZ,MACzBA,KAAK+9F,UACN/9F,KAAKu+F,eAEY,UAAjBv+F,KAAKsD,SACL08F,EAAUllG,WAAWsK,aAAapF,KAAKnG,QAASmmG,GAChDz6F,EAAOy6F,GACPhgG,KAAKnG,QAAQka,SAAU,GACtB,OAAQ,QAAS,YAAY3U,QAAQ,SAAU/B,GAC5C0C,EAAMlG,QAAQyS,gBAAgBjP,QAIjC,OAAQ,eAAgB,SAAS+B,QAAQ,SAAU/B,GAChD2iG,EAAU1zF,gBAAgBjP,KAE1B2C,KAAKnG,QAAQ8J,IACbq8F,EAAUn8F,aAAa,KAAM7D,KAAKnG,QAAQ8J,IAE9Cq8F,EAAUxlG,UAAY,KAG9BolG,EAAYpkG,UAAU0jG,aAAe,WAC7Bl/F,KAAK0+F,cACL1+F,KAAKigG,WAAWznG,UAAU+L,IAAI,YAGtCq7F,EAAYpkG,UAAUyjG,gBAAkB,WACpCj/F,KAAKigG,WAAWznG,UAAUkM,OAAO,YAErCk7F,EAAYpkG,UAAU0L,cAAgB,WAClC,MAAO,SAMX04F,EAAYpkG,UAAUwjD,eAAiB,WACnC,MAAOh/C,MAAKy/C,cAAc,aAE9BmgD,EAAYpkG,UAAUykG,SAAW,WAC7B,MAAOjgG,MAAKnG,QAAQqmG,oBAExBN,EAAYpkG,UAAU2lD,WAAa,WAC/BnhD,KAAKo/F,cACDp/F,KAAK4yB,MACL5yB,KAAKnG,QAAQgK,aAAa,OAAQ7D,KAAK4yB,MAEvC5yB,KAAKhD,OACLgD,KAAKnG,QAAQgK,aAAa,QAAS7D,KAAKhD,OAExCgD,KAAK+T,UACL/T,KAAKnG,QAAQka,SAAU,GAEvB/T,KAAK+9F,UACL/9F,KAAKm/F,eAGbS,EAAYpkG,UAAU4jG,YAAc,WAChC,GAAI7qF,GACAhB,EAAUvT,KAAKnG,QAAQkc,aACtBxC,GAAQ/a,UAAUC,SA7GjB,qBA8GF8a,EAAUvT,KAAKyB,cAAc,OAASiC,UA9GpC,oBA+GF1D,KAAKnG,QAAQiB,WAAWsK,aAAamO,EAASvT,KAAKnG,SAEvD,IAAI4a,GAAQzU,KAAKyB,cAAc,SAAWqC,OAASu7F,IAAKr/F,KAAKnG,QAAQ8J,KACrE4P,GAAQxR,YAAY/B,KAAKnG,SACzB0Z,EAAQxR,YAAY0S,GAChBzI,KACAuI,EAAavU,KAAKyB,cAAc,QAAUiC,UAvHzC,uBAwHD+Q,EAAM1S,YAAYwS,GAClB7I,GAAa6I,GACT9H,SAAU,IACVD,gBAAgB,KAGpBxM,KAAKuP,WACLkF,EAAMjc,UAAU+L,IA9HlB,SAgIEvE,KAAKsU,UACLtQ,GAAUyQ,GAAQzU,KAAKsU,SAASpX,MAAM,MAEtC8C,KAAKyU,OACLzU,KAAKu/F,QAAQv/F,KAAKyU,QAG1BmrF,EAAYpkG,UAAUgkG,eAAiB,WACnCx/F,KAAK0+F,cAAe,GAExBkB,EAAYpkG,UAAU2kG,mBAAqB,SAAU/+F,GAEjDuT,GAAmBvT,EADNpB,KAAKigG,WAAWzxF,uBA5IxB,sBA4IuD,KAGhEoxF,EAAYpkG,UAAUkkG,iBAAmB,WACrC1/F,KAAK0+F,cAAe,GAMxBkB,EAAYpkG,UAAU05B,kBAAoB,SAAUwF,EAASC,GAEzD,IAAK,GADDlmB,GAAQzU,KAAKigG,WACR5hG,EAAK,EAAG2E,EAAKzE,OAAOjB,KAAKo9B,GAAUr8B,EAAK2E,EAAGzK,OAAQ8F,IAExD,OADW2E,EAAG3E,IAEV,IAAK,UACGq8B,EAAQ3mB,SACR/T,KAAK0iC,aAAahI,EAAQ3mB,SAE9B/T,KAAKnG,QAAQka,QAAU2mB,EAAQ3mB,OAC/B,MACJ,KAAK,WACG2mB,EAAQqjE,UACR/9F,KAAKm/F,cACLn/F,KAAKu+F,iBAGLv+F,KAAKnG,QAAQkkG,UAAW,EACxB/9F,KAAKkmB,aAET,MACJ,KAAK,WACGyU,EAAQrmB,UACR9P,GAAaiQ,GAAQkmB,EAAQrmB,SAASpX,MAAM,MAEhD8G,GAAUyQ,GAAQimB,EAAQpmB,SAASpX,MAAM,KACzC,MACJ,KAAK,YACGw9B,EAAQnrB,UACRkF,EAAMjc,UAAU+L,IAlL9B,SAqLckQ,EAAMjc,UAAUkM,OArL9B,QAuLU,MACJ,KAAK,QACD1E,KAAKu/F,QAAQ7kE,EAAQjmB,MACrB,MACJ,KAAK,gBAC6B,WAA1BimB,EAAQ4kE,cACR7qF,EAAMjc,UAAU+L,IAAI,WAGpBkQ,EAAMjc,UAAUkM,OAAO,UAE3B,MACJ,KAAK,OACD1E,KAAKnG,QAAQgK,aAAa,OAAQ62B,EAAQ9H,KAC1C,MACJ,KAAK,QACD5yB,KAAKnG,QAAQgK,aAAa,QAAS62B,EAAQ19B,SAS3D4iG,EAAYpkG,UAAUwY,UAAY,WAC9B,GAAIna,GAAUmG,KAAKnG,OACnBmG,MAAKsD,QAAUtD,KAAKnG,QAAQyJ,QAC5BzJ,EAAUoZ,GAAkBjT,KAAKyB,cAAe,kBAAmB,QAAS5H,EAlNtE,kBAkNwF,SAC9FmG,KAAKnG,QAAUA,EAC2B,UAAtCmG,KAAKnG,QAAQ4M,aAAa,SAC1BzG,KAAKnG,QAAQgK,aAAa,OAAQ,SAEjC7D,KAAKnG,QAAQ8J,KACd3D,KAAKnG,QAAQ8J,GAAKnE,EAAY,KAAOQ,KAAKkH,mBAOlD04F,EAAYpkG,UAAU+iD,OAAS,WAC3Bv+C,KAAKmhD,aACAnhD,KAAK+9F,UACN/9F,KAAKkmB,cAGb05E,EAAYpkG,UAAU2jG,YAAc,WAChCn/F,KAAKnG,QAAQkkG,UAAW,GAE5B6B,EAAYpkG,UAAU+jG,QAAU,SAAU9lG,GACtC,GAAIgb,GAAQzU,KAAKigG,WACbG,EAAY3rF,EAAMjG,uBA7OlB,WA6OgD,EAChD4xF,GACAA,EAAU1mG,YAAcD,GAGxB2mG,EAAYpgG,KAAKyB,cAAc,QAAUiC,UAlPzC,UAkP2DlJ,UAAWf,IACtEgb,EAAM1S,YAAYq+F,IAEK,WAAvBpgG,KAAKs/F,cACLt/F,KAAKigG,WAAWznG,UAAU+L,IAAI,WAG9BvE,KAAKigG,WAAWznG,UAAUkM,OAAO,YAGzCk7F,EAAYpkG,UAAU+iG,aAAe,WACjC,GAAI9pF,GAAQzU,KAAKigG,UACjBx6F,IAAaf,OAAO1E,KAAKnG,QAAS,SAAUmG,KAAK8/F,eACjDr6F,GAAaf,OAAO3J,SAAU,UAAWiF,KAAKw/F,gBAC9C/5F,GAAaf,OAAO+P,EAAO,YAAazU,KAAK0/F,kBAC7Cj6F,GAAaf,OAAO1E,KAAKnG,QAAS,QAASmG,KAAKk/F,cAChDz5F,GAAaf,OAAO1E,KAAKnG,QAAS,WAAYmG,KAAKi/F,gBACnD,IAAIoB,GAAc5rF,EAAMjG,uBAnQpB,WAmQkD,EAClD6xF,KACA56F,GAAaf,OAAO27F,EAAa,YAAargG,KAAKmgG,oBACnD16F,GAAaf,OAAO27F,EAAa,UAAWrgG,KAAKmgG,sBAGzDP,EAAYpkG,UAAU0qB,WAAa,WAC/B,GAAIzR,GAAQzU,KAAKigG,UACjBx6F,IAAalB,IAAIvE,KAAKnG,QAAS,SAAUmG,KAAK8/F,cAAe9/F,MAC7DyF,GAAalB,IAAIxJ,SAAU,UAAWiF,KAAKw/F,eAAgBx/F,MAC3DyF,GAAalB,IAAIkQ,EAAO,YAAazU,KAAK0/F,iBAAkB1/F,MAC5DyF,GAAalB,IAAIvE,KAAKnG,QAAS,QAASmG,KAAKk/F,aAAcl/F,MAC3DyF,GAAalB,IAAIvE,KAAKnG,QAAS,WAAYmG,KAAKi/F,gBAAiBj/F,KACjE,IAAIqgG,GAAc5rF,EAAMjG,uBAhRpB,WAgRkD,EAClD6xF,KACA56F,GAAalB,IAAI87F,EAAa,YAAargG,KAAKmgG,mBAAoBngG,MACpEyF,GAAalB,IAAI87F,EAAa,UAAWrgG,KAAKmgG,mBAAoBngG,QAG1Ei4B,IACIxuB,MACDm2F,EAAYpkG,UAAW,aAAU,IACpCy8B,IACIrvB,IAAS,IACVg3F,EAAYpkG,UAAW,cAAW,IACrCy8B,IACIrvB,GAAS,KACVg3F,EAAYpkG,UAAW,eAAY,IACtCy8B,IACIrvB,IAAS,IACVg3F,EAAYpkG,UAAW,eAAY,IACtCy8B,IACIrvB,GAAS,KACVg3F,EAAYpkG,UAAW,YAAS,IACnCy8B,IACIrvB,GAAS,UACVg3F,EAAYpkG,UAAW,oBAAiB,IAC3Cy8B,IACIrvB,GAAS,KACVg3F,EAAYpkG,UAAW,WAAQ,IAClCy8B,IACIrvB,GAAS,KACVg3F,EAAYpkG,UAAW,YAAS,IACnCokG,EAAcC,EAAgB5nE,IAC1BluB,IACD61F,EAEH,IAAIC,IACNjiD,ICvU0C,WACxC,GAAIlmB,GAAgBn5B,OAAOo5B,iBACpBC,uBAA2Bn5B,QAAS,SAAUo5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAExwB,eAAeywB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOh4B,KAAKnC,YAAcg6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAEr8B,UAAkB,OAANs8B,EAAav5B,OAAOgN,OAAOusB,IAAME,EAAGx8B,UAAYs8B,EAAEt8B,UAAW,GAAIw8B,SAGnFC,GAA0C,SAAUC,EAAYrvB,EAAQxL,EAAK86B,GAC7E,GAA2HN,GAAvHO,EAAIn5B,UAAU1G,OAAQ8/B,EAAID,EAAI,EAAIvvB,EAAkB,OAATsvB,EAAgBA,EAAO55B,OAAO+5B,yBAAyBzvB,EAAQxL,GAAO86B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYrvB,EAAQxL,EAAK86B,OACpH,KAAK,GAAI9/B,GAAI6/B,EAAW3/B,OAAS,EAAGF,GAAK,EAAGA,KAASw/B,EAAIK,EAAW7/B,MAAIggC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAEhvB,EAAQxL,EAAKg7B,GAAKR,EAAEhvB,EAAQxL,KAASg7B,EAChJ,OAAOD,GAAI,GAAKC,GAAK95B,OAAO4K,eAAeN,EAAQxL,EAAKg7B,GAAIA,GAQ5DmmE,GAAS,qBnClBFlqF,ImCiCiB,SAAUokB,GAMlC,QAAS4nE,GAAOjsF,EAASxa,GACrB,GAAIkG,GAAQ24B,EAAO93B,KAAKZ,KAAMqU,EAASxa,IAAYmG,IAGnD,OAFAD,GAAM2+F,cAAe,EACrB3+F,EAAMwnD,QAAS,EACRxnD,EATX03B,GAAU6oE,EAAQ5nE,GAWlB4nE,EAAO9kG,UAAUmjG,YAAc,SAAUC,GACrC,GAAIC,GACAtqF,EACAhB,EAAUvT,KAAK8+F,aACfyB,EAAMhtF,EAAQzQ,cAAc,mBAC5Bo+C,EAAS3tC,EAAQzQ,cAAc,mBAC/BkJ,MACAuI,EAAahB,EAAQ/E,uBAAuBgwF,IAAQ,IAEpDI,GACA56F,GAAUu8F,EAAKr/C,GAjCd,mBAkCD29C,EAAY,OACZ7+F,KAAKnG,QAAQka,SAAU,EACvB/T,KAAK+T,SAAU,EACXQ,GACAvQ,GAAUuQ,IAzCP,qBA6CP/P,GAAa+7F,EAAKr/C,GA1CjB,mBA2CD29C,EAAY,QACZ7+F,KAAKnG,QAAQka,SAAU,EACvB/T,KAAK+T,SAAU,EACXQ,GACA/P,GAAa+P,IAlDV,oBAqDXhB,EAAQ1P,aAAa,eAAgBg7F,IAEzCyB,EAAO9kG,UAAUwjG,aAAe,SAAU59C,GACtCphD,KAAKunD,QAAS,EACdvnD,KAAKi/F,kBACLj/F,KAAK2+F,aAAa3+F,KAAK+T,SACvB/T,KAAKnG,QAAQwI,OACb,IAAI6oB,IAAoBnX,QAAS/T,KAAKnG,QAAQka,QAASxX,MAAO6kD,EAC9DphD,MAAKooB,QAAQ,SAAU8C,IAM3Bo1E,EAAO9kG,UAAUqY,QAAU,WACvB6kB,EAAOl9B,UAAUqY,QAAQjT,KAAKZ,MACzBA,KAAK+9F,UACN/9F,KAAKu+F,eAET1qF,GAAQ7T,KAAMA,KAAK8+F,aAAc9+F,KAAKsD,UAE1Cg9F,EAAO9kG,UAAU0jG,aAAe,WACxBl/F,KAAK0+F,cACL1+F,KAAK8+F,aAAatmG,UAAU+L,IAAI,YAGxC+7F,EAAO9kG,UAAUyjG,gBAAkB,WAC/Bj/F,KAAK8+F,aAAatmG,UAAUkM,OAAO,YAMvC47F,EAAO9kG,UAAU0L,cAAgB,WAC7B,MAAO,UAMXo5F,EAAO9kG,UAAUwjD,eAAiB,WAC9B,MAAOh/C,MAAKy/C,cAAc,aAE9B6gD,EAAO9kG,UAAUsjG,WAAa,WAC1B,MAAO9+F,MAAKnG,QAAQkc,eAExBuqF,EAAO9kG,UAAU2lD,WAAa,WACtBnhD,KAAK4yB,MACL5yB,KAAKnG,QAAQgK,aAAa,OAAQ7D,KAAK4yB,MAEvC5yB,KAAKhD,OACLgD,KAAKnG,QAAQgK,aAAa,QAAS7D,KAAKhD,OAExCgD,KAAK+T,SACL/T,KAAK2+F,aAAY,GAEjB3+F,KAAK+9F,UACL/9F,KAAKm/F,eAELn/F,KAAKwgG,SAAWxgG,KAAKygG,WACrBzgG,KAAK0gG,SAAS1gG,KAAKwgG,QAASxgG,KAAKygG,WAGzCH,EAAO9kG,UAAU4jG,YAAc,WAC3B,GAAI7rF,GAAUvT,KAAKnG,QAAQkc,aACtBxC,GAAQ/a,UAAUC,SApHjB,sBAqHF8a,EAAUvT,KAAKyB,cAAc,OACzBiC,UAtHF,mBAsHsBI,OAASsP,KAAQ,SAAUI,eAAgB,WAEnExT,KAAKnG,QAAQiB,WAAWsK,aAAamO,EAASvT,KAAKnG,SAEvD,IAAI8mG,GAAc3gG,KAAKyB,cAAc,QAAUiC,UAAW,mBACtD88F,EAAUxgG,KAAKyB,cAAc,QAAUiC,UAAW,gBAClD+8F,EAAWzgG,KAAKyB,cAAc,QAAUiC,UAAW,iBACnDw9C,EAASlhD,KAAKyB,cAAc,QAAUiC,UAAW,mBAMrD,IALA6P,EAAQxR,YAAY/B,KAAKnG,SACzB8mG,EAAY5+F,YAAYy+F,GACxBG,EAAY5+F,YAAY0+F,GACxBltF,EAAQxR,YAAY4+F,GACpBptF,EAAQxR,YAAYm/C,GAChBl1C,GAAiB,CACjB,GAAIuI,GAAavU,KAAKyB,cAAc,QAAUiC,UAAW86F,IACzDt9C,GAAOn/C,YAAYwS,GACnB7I,GAAa6I,GAAc9H,SAAU,IAAKD,gBAAgB,IAE1DxM,KAAKuP,WACLgE,EAAQ/a,UAAU+L,IA1IpB,SA4IEvE,KAAKsU,UACLtQ,GAAUuP,GAAUvT,KAAKsU,SAASpX,MAAM,OAOhDojG,EAAO9kG,UAAU05B,kBAAoB,SAAUwF,EAASC,GAEpD,IAAK,GADDpnB,GAAUvT,KAAK8+F,aACVzgG,EAAK,EAAG2E,EAAKzE,OAAOjB,KAAKo9B,GAAUr8B,EAAK2E,EAAGzK,OAAQ8F,IAExD,OADW2E,EAAG3E,IAEV,IAAK,UACD2B,KAAK2+F,YAAYjkE,EAAQ3mB,QACzB,MACJ,KAAK,WACG2mB,EAAQqjE,UACR/9F,KAAKm/F,cACLn/F,KAAKu+F,iBAGLv+F,KAAKnG,QAAQkkG,UAAW,EACxBxqF,EAAQ/a,UAAUkM,OAtK3B,qBAuKS6O,EAAQ1P,aAAa,gBAAiB,SACtC7D,KAAKkmB,aAET,MACJ,KAAK,QACDlmB,KAAKnG,QAAQgK,aAAa,QAAS62B,EAAQ19B,MAC3C,MACJ,KAAK,OACDgD,KAAKnG,QAAQgK,aAAa,OAAQ62B,EAAQ9H,KAC1C,MACJ,KAAK,UACL,IAAK,WACD5yB,KAAK0gG,SAAShmE,EAAQ8lE,QAAS9lE,EAAQ+lE,SACvC,MACJ,KAAK,YACG/lE,EAAQnrB,UACRgE,EAAQ/a,UAAU+L,IApLhC,SAuLcgP,EAAQ/a,UAAUkM,OAvLhC,QAyLU,MACJ,KAAK,WACGi2B,EAAQrmB,UACRf,EAAQ/a,UAAUkM,OAAOi2B,EAAQrmB,UAErCf,EAAQ/a,UAAU+L,IAAIm2B,EAAQpmB,YAS9CgsF,EAAO9kG,UAAUwY,UAAY,WACzB,GAAIna,GAAUmG,KAAKnG,OACnBmG,MAAKsD,QAAUtD,KAAKnG,QAAQyJ,QAC5B0Q,GAAUhU,KAAM,aAzMV,mBAyMiCnG,EAASmG,KAAKkH,kBAMzDo5F,EAAO9kG,UAAU+iD,OAAS,WACtBv+C,KAAKo/F,cACLp/F,KAAKmhD,aACAnhD,KAAK+9F,UACN/9F,KAAKkmB,cAGbo6E,EAAO9kG,UAAUyQ,cAAgB,SAAU7K,GAEvCuT,GAAmBvT,EADFpB,KAAK8+F,aAAatwF,uBAAuBgwF,IAAQ,IAEnD,cAAXp9F,EAAErH,MAAwBqH,EAAEigD,cAAc7oD,UAAUC,SAAS,qBAAmC,IAAZ2I,EAAEupD,QACtF3qD,KAAKunD,QAAS,EACdvnD,KAAK0+F,cAAe,IAG5B4B,EAAO9kG,UAAUolG,mBAAqB,SAAUC,GAC5C,GAAItsF,GAAavU,KAAK8+F,aAAatwF,uBAAuBgwF,IAAQ,EAClE,IAAIjqF,EAAY,CACZ,GAAIK,GAAU7Z,SAAS8Z,YAAY,cACnCD,GAAQE,UAAU+rF,GAAW,GAAO,GACpCtsF,EAAWQ,cAAcH,KAGjC0rF,EAAO9kG,UAAU2jG,YAAc,WAC3B,GAAI5rF,GAAUvT,KAAK8+F,YACnB9+F,MAAKnG,QAAQkkG,UAAW,EACxBxqF,EAAQ/a,UAAU+L,IA7OX,qBA8OPgP,EAAQ1P,aAAa,gBAAiB,SAE1Cy8F,EAAO9kG,UAAUklG,SAAW,SAAUI,EAAQC,GAC1C,GAAIxtF,GAAUvT,KAAK8+F,YACfgC,KACAvtF,EAAQzQ,cAAc,gBAAgBpJ,YAAconG,GAEpDC,IACAxtF,EAAQzQ,cAAc,iBAAiBpJ,YAAcqnG,IAG7DT,EAAO9kG,UAAUwlG,mBAAqB,WAClChhG,KAAK0+F,cAAe,GAExB4B,EAAO9kG,UAAUylG,cAAgB,SAAU7/F,GACvC,GAAIyH,GAASzH,EAAEyH,MACE7I,MAAK8+F,aAAatwF,uBAAuBgwF,IAAQ,EACnD,eAAXp9F,EAAErH,MACFqH,EAAE+lB,iBAES,eAAX/lB,EAAErH,OACFiG,KAAKunD,QAAS,EACdvnD,KAAK4gG,mBAAmB,cAExB5gG,KAAKunD,SACW,YAAXnmD,EAAErH,MAAsB8O,EAAOnF,UAAUlF,QAAQ,YAAc,GAAiB,aAAX4C,EAAErH,QACxEiG,KAAKg/F,aAAa59F,GAClBpB,KAAK4gG,mBAAmB,WACxBx/F,EAAE+lB,mBAQdm5E,EAAO9kG,UAAU0lG,OAAS,WACtBlhG,KAAKg/F,gBAETsB,EAAO9kG,UAAU0qB,WAAa,WAC1B,GAAI3S,GAAUvT,KAAK8+F,YACNvrF,GAAQzQ,cAAc,mBACnC2C,IAAalB,IAAIgP,EAAS,QAASvT,KAAKg/F,aAAch/F,MACtDyF,GAAalB,IAAIvE,KAAKnG,QAAS,QAASmG,KAAKk/F,aAAcl/F,MAC3DyF,GAAalB,IAAIvE,KAAKnG,QAAS,WAAYmG,KAAKi/F,gBAAiBj/F,MACjEyF,GAAalB,IAAIxJ,SAAU,UAAWiF,KAAKihG,cAAejhG,MAC1DyF,GAAalB,IAAIxJ,SAAU,UAAWiF,KAAKghG,mBAAoBhhG,MAC/DyF,GAAalB,IAAIgP,EAAS,oBAAqBvT,KAAKiM,cAAejM,MACnEyF,GAAalB,IAAIgP,EAAS,gCAAiCvT,KAAKihG,cAAejhG,OAEnFsgG,EAAO9kG,UAAU+iG,aAAe,WAC5B,GAAIhrF,GAAUvT,KAAK8+F,YACNvrF,GAAQzQ,cAAc,mBACnC2C,IAAaf,OAAO6O,EAAS,QAASvT,KAAKg/F,cAC3Cv5F,GAAaf,OAAO1E,KAAKnG,QAAS,QAASmG,KAAKk/F,cAChDz5F,GAAaf,OAAO1E,KAAKnG,QAAS,WAAYmG,KAAKi/F,iBACnDx5F,GAAaf,OAAO3J,SAAU,UAAWiF,KAAKihG,eAC9Cx7F,GAAaf,OAAO3J,SAAU,UAAWiF,KAAKghG,oBAC9Cv7F,GAAaf,OAAO6O,EAAS,oBAAqBvT,KAAKiM,eACvDxG,GAAaf,OAAO6O,EAAS,gCAAiCvT,KAAKihG,gBAEvEhpE,IACIxuB,MACD62F,EAAO9kG,UAAW,aAAU,IAC/By8B,IACIrvB,IAAS,IACV03F,EAAO9kG,UAAW,cAAW,IAChCy8B,IACIrvB,GAAS,KACV03F,EAAO9kG,UAAW,eAAY,IACjCy8B,IACIrvB,IAAS,IACV03F,EAAO9kG,UAAW,eAAY,IACjCy8B,IACIrvB,GAAS,KACV03F,EAAO9kG,UAAW,WAAQ,IAC7By8B,IACIrvB,GAAS,KACV03F,EAAO9kG,UAAW,cAAW,IAChCy8B,IACIrvB,GAAS,KACV03F,EAAO9kG,UAAW,eAAY,IACjCy8B,IACIrvB,GAAS,KACV03F,EAAO9kG,UAAW,YAAS,IAC9B8kG,EAASroE,IACLluB,IACDu2F,IAEL1iD,KnCvVEujD,GAAI,cACJC,GAAI,qBACJ/9D,MAAO,oBACPg+D,KAAM,cACN5nG,KAAM,cACN6nG,MAAO,eACPvtF,QAAS,YACT0lF,SAAU,aACVC,SAAU,aACVhgG,YAAa,iBACb6nG,SAAU,cACVzpC,MAAO,UACPloC,IAAK,aACL4xE,YAAa,qBACbzD,SAAU,aACV0D,MAAO,aACPC,YAAa,oBAMjB,SAAWvhD,GAsDP,QAASwhD,GAAWlgG,EAAegxF,EAAYp+E,EAASutF,GACpD,GAAIC,GAASljG,KAAWmjG,EAAwBztF,GAC5C0tF,EAAiBpjG,KAAWqjG,EAAuBH,EAAOE,gBAC1DhoG,EAAOkoG,EAAWxP,GAAYyP,MAClC,OAAa,WAATnoG,GAA8B,WAATA,EACdooG,EAAoB1gG,EAAegxF,EAAYmP,EAAevtF,GAG9D+tF,EAAmB3gG,EAAegxF,EAAYp+E,EAAS0tF,EAAejqC,MAAO8pC,GAQ5F,QAASO,GAAoB1gG,EAAegxF,EAAYmP,EAAevtF,GAEnE,MAAOguF,GAAW5gG,EADH6gG,EAAwB7gG,EAAegxF,EAAYmP,EAAevtF,GACtC,KAAMA,GAOrD,QAASiuF,GAAwB7gG,EAAegxF,EAAYmP,EAAevtF,GACvE,GAAIkuF,MACAV,EAASljG,KAAWmjG,EAAwBztF,EAChDC,IAAWkuF,EAAeX,EAAO1tF,WAEjC,KAAK,GADDxQ,GAAK8+F,IACApqG,EAAI,EAAGA,EAAIo6F,EAAWl6F,OAAQF,IACnC,IAAIoF,EAAkBg1F,EAAWp6F,IAAjC,CAGA,GAAI8oG,OAAK,EACT,IAAIU,EAAOa,cAA+C,kBAAxBb,GAAOa,aAA6B,CAC9Dt4D,GACAqoD,WAAYA,EACZroD,QAASqoD,EAAWp6F,GACpBoB,KAAMg5F,EAAWp6F,GACjBgc,QAASwtF,EAEbA,GAAOa,aAAat4D,GAQxB,GALI+2D,EADAS,EACKe,EAAsBlhG,EAAegxF,EAAWp6F,OAAIe,GAAW,KAAM,QAAU,KAAMuK,EAAItL,EAAGgc,GAG5FuuF,EAAWnhG,EAAegxF,EAAWp6F,OAAIe,GAAW,KAAM,KAAMib,GAErEwtF,EAAOgB,aAA6C,kBAAvBhB,GAAOgB,YAA4B,CAChE,GAAIz4D,IACAqoD,WAAYA,EACZroD,QAASqoD,EAAWp6F,GACpBoB,KAAMg5F,EAAWp6F,GACjBQ,KAAMsoG,EACN9sF,QAASwtF,EAEbA,GAAOgB,YAAYz4D,GAEvBm4D,EAASvpG,KAAKmoG,GAElB,MAAOoB,GASX,QAASO,GAAuBrhG,EAAegxF,EAAYp+E,EAASyjD,EAAO8pC,GACvE,GAAIC,GAASljG,KAAWmjG,EAAwBztF,EAChDC,IAAWkuF,EAAeX,EAAO1tF,WACjC,IAEIxQ,GAFAuR,EAASvW,KAAWwhD,EAAS4iD,oBAAqBlB,EAAO3sF,QACzD6sF,EAAiBpjG,KAAWqjG,EAAuBH,EAAOE,eAE1DjqC,KACAiqC,EAAejqC,MAAQA,EAE3B,IACIqpC,GADArgG,IAEA2xF,GAAWl6F,SAAW0pG,EAAWxP,GAAY55F,KAAKyO,eAAe4N,EAAOvR,MACxEA,EAAK8+F,IAET,KAAK,GAAIpqG,GAAI,EAAGA,EAAIo6F,EAAWl6F,OAAQF,IAAK,CACxC,GAAI8c,GAAYH,GAAey9E,EAAWp6F,GAAI6c,EAC9C,KAAIzX,EAAkBg1F,EAAWp6F,IAAjC,CAGA,GAAIwpG,EAAOa,cAA+C,kBAAxBb,GAAOa,aAA6B,CAC9Dt4D,GACAqoD,WAAYA,EACZroD,QAASqoD,EAAWp6F,GACpBoB,KAAM0b,EAAUD,EAAOzb,MACvB4a,QAASwtF,EACT3sF,OAAQA,EAEZ2sF,GAAOa,aAAat4D,GAExB,GAAI44D,GAAUvQ,EAAWp6F,EACrBwpG,GAAOa,cAA+C,kBAAxBb,GAAOa,eACrCvtF,EAAYH,GAAey9E,EAAWp6F,GAAI6c,IAE1CC,EAAU7N,eAAe4N,EAAOvR,MAAQlG,EAAkB0X,EAAUD,EAAOvR,OAC3EA,EAAKwR,EAAUxR,GAEnB,IAAIs/F,KAIJ,IAHIpB,EAAOqB,cACPD,EAASjqG,KAAKyI,EAAc,SAAWiC,UAAW4Q,GAASgtF,MAAOx9F,OAAS/J,KAAM,gBAE/D,IAAlB6nG,EACIC,EAAOsB,UAAYhuF,EAAU7N,eAAe4N,EAAOgpF,WAC9CzgG,EAAkB0X,EAAUD,EAAOgpF,WACpC+E,EAASjqG,KAAKyI,EAAc,QAAUiC,UAAW4Q,GAAS+sF,KAAO,IAAMlsF,EAAUD,EAAOgpF,aAGhGiD,EAAKwB,EAAsBlhG,EAAeuhG,EAAS7tF,EAAWD,EAAQ2sF,EAAOuB,UAAWH,KAAWD,EAAQ17F,eAAe,cACtH07F,EAAQ5tF,UAA0BzR,EAAItL,EAAGgc,OAE5C,CAgBD,IAfA8sF,EAAKyB,EAAWnhG,EAAeuhG,EAAS7tF,EAAWD,EAAQ2sF,EAAOuB,UAAW/uF,IAC1E7b,UAAU+L,IAAI+P,GAASwjD,MAAQ,IAAMiqC,EAAejqC,OACvDqpC,EAAGt9F,aAAa,aAAck+F,EAAejqC,MAAMn3D,YAC/CwU,EAAU7N,eAAe4N,EAAOmuF,UAChClC,EAAGt9F,aAAa,QAASsR,EAAUD,EAAOmuF,UAE1CluF,EAAU7N,eAAe4N,EAAOouF,iBAAmBnuF,EAAUD,EAAOouF,iBACpEz/F,EAAas9F,EAAIhsF,EAAUD,EAAOouF,iBAElCnuF,EAAU7N,eAAe4N,EAAO0R,WAA0C,IAA9BzR,EAAUD,EAAO0R,UAC7Du6E,EAAG3oG,UAAU+L,IAAI+P,GAASypF,UAE1B5oF,EAAU7N,eAAe4N,EAAOvQ,aAA8C,IAAhCwQ,EAAUD,EAAOvQ,aAC/Dw8F,EAAGv8F,MAAMyhD,QAAU,QAEnBlxC,EAAU7N,eAAe4N,EAAOquF,YAAc9lG,EAAkB0X,EAAUD,EAAOquF,WAAY,CAC7F,GAAIC,IAASlkG,IAAK6V,EAAUD,EAAOquF,UAC/BpuF,GAAU7N,eAAe4N,EAAOquF,WAChCtlG,EAAMulG,EAAMruF,EAAUD,EAAOuuF,kBAEjC1+F,GAAStD,EAAc,OAASiC,UAAW4Q,GAASmtF,MAAO39F,MAAO0/F,KAAUrC,EAAG97F,mBAE/Ew8F,EAAOsB,UAAYhuF,EAAU7N,eAAe4N,EAAOgpF,WAAa2D,EAAOrxF,WAClE/S,EAAkB0X,EAAUD,EAAOgpF,WACpCn5F,GAAStD,EAAc,OAASiC,UAAW4Q,GAAS+sF,KAAO,IAAMlsF,EAAUD,EAAOgpF,YAAciD,EAAG97F,oBAGvG49F,EAAS1qG,QACTwM,EAAQk+F,EAAU9B,EAAG97F,mBAEzBq+F,EAAgBjiG,EAAe0T,EAAWD,EAAQu9E,EAAYoP,EAAQV,EAAIY,EAAejqC,OAE7F,GAAI+pC,EAAOgB,aAA6C,kBAAvBhB,GAAOgB,YAA4B,CAChE,GAAIz4D,IACAqoD,WAAYA,EACZroD,QAASqoD,EAAWp6F,GACpBoB,KAAM0b,EAAUD,EAAOzb,MACvBZ,KAAMsoG,EACN9sF,QAASwtF,EACT3sF,OAAQA,EAEZ2sF,GAAOgB,YAAYz4D,GAEvBtpC,EAAM9H,KAAKmoG,IAEf,MAAOrgG,GAQX,QAASshG,GAAmB3gG,EAAegxF,EAAYp+E,EAASyjD,EAAO8pC,GACnE,GAAIC,GAASljG,KAAWmjG,EAAwBztF,EAEhD,OAAOguF,GAAW5gG,EADTqhG,EAAuBrhG,EAAegxF,EAAYp+E,EAASyjD,EAAO8pC,GACtCC,EAAO8B,UAAWtvF,GAS3D,QAASuvF,GAAaC,EAAchqG,EAASiqG,GAEzC,GADAxvF,GAAWkuF,EAAeV,EAAuB3tF,YAC5C0vF,GAAiBA,EAAatrG,OAAnC,CAGA,GAAIwrG,GACAC,EACAC,EAAgBxlG,MAAMjD,UAAUmG,MAAMf,KAAKijG,EAQ/C,KADAE,EAAYE,GALRD,EADAnqG,EACU2E,EAAQ3E,EAASoqG,IAGD,IAAfH,EAAsBG,EAAc1rG,QAAU,KAET,IAAfurG,GAAuB,EAAI,IACzDC,KAAep/F,EAAUo/F,IAAcA,EAAUvrG,UAAUC,SAAS6b,GAASypF,YAEhFgG,EAAYE,EADZD,IAAoC,IAAfF,GAAuB,EAAI,EAGpD,OAAOC,IAQX,QAASvlG,GAAQ3F,EAAMgrG,GACnB,GAAKA,GAAiBhrG,EAGjB,CAGD,MADgB4F,OAAMjD,UAAUmG,MAAMf,KAAKijG,GACtBrlG,QAAQ3F,IAUrC,QAASqrG,GAAgBzR,EAAYv9E,EAAQivF,OACvB,KAAdA,IAAwBA,EAAY,OACxC,IAAIC,IAAW,GAAI/xC,KAAQhvB,MAAMnuB,EAAOmvF,SAGpCprC,EAAKqrC,EAAc7R,EADvB2R,EAAWG,EAAWJ,EAAW,MAAOC,GAExC3R,KACA,KAAK,GAAIttE,GAAI,EAAGA,EAAI8zC,EAAG1gE,OAAQ4sB,IAAK,CAChC,GAAIq/E,GAAUvrC,EAAG9zC,GAAGxtB,MAChB8sG,IAEJA,GAAQvvF,EAAOzb,MAAQw/D,EAAG9zC,GAAG9nB,IAC7BonG,EAAW,UAAI,EACfA,EAAQ9gG,GAAK,oBAAsBs1D,EAAG9zC,GAAG9nB,IACrC47D,EAAG9zC,GAAG9nB,IAAIsD,WAAW8Q,OAAS,aAClCgzF,EAAQ9sG,MAAQ6sG,EAChB/R,EAAWz5F,KAAKyrG,EAChB,KAAK,GAAI18E,GAAI,EAAGA,EAAIy8E,EAAQjsG,OAAQwvB,IAChC0qE,EAAWz5F,KAAKwrG,EAAQz8E,IAGhC,MAAO0qE,GASX,QAAS8R,GAAWJ,EAAWvvC,EAAQ96D,GAEnC,OADc,KAAVA,IAAoBA,EAAQ,GAAIu4D,KAClB,cAAd8xC,EACArqG,EAAM86D,OAAOA,EAAQ,aAAa,OAEjC,IAAkB,eAAduvC,EACLrqG,EAAM86D,OAAOA,EAAQ,cAAc,OAGnC,KAAK,GAAIv8D,GAAI,EAAGA,EAAIyB,EAAM24D,QAAQl6D,OAAQF,IACV,aAAxByB,EAAM24D,QAAQp6D,GAAGy7D,IACjBh6D,EAAM24D,QAAQvoC,OAAO7xB,EAAG,EAIpC,OAAOyB,GAQX,QAASwqG,GAAc7R,EAAY34F,GAE/B,MAAO,IAAI6gE,IAAY83B,GAClBj/B,aAAa15D,GAQtB,QAAS4qG,GAAsB7qG,EAASwa,GACpC,GAAIwtF,GAASljG,KAAWmjG,EAAwBztF,GAC5Ca,EAASvW,KAAWwhD,EAAS4iD,oBAAqBlB,EAAO3sF,QACzDyvF,EAAS9qG,EAAQmI,WAAU,GAC3B4iG,IACJD,GAAOnsG,UAAU+L,IAAI,cACrB,IAAIsgG,GAASF,EAAO/pG,iBAAiB,kBACrC+pG,GAAOnsG,UAAUkM,OAAO,cACxB,KAAK,GAAIrM,GAAI,EAAGA,EAAIwsG,EAAOtsG,OAAQF,IAAK,CAOpC,IAAK,GAND8oG,GAAK0D,EAAOxsG,GACZkd,EAAS4rF,EAAGr+F,cAAc,KAC1Bs+F,EAAKD,EAAGr+F,cAAc,MACtB8zD,KACAt8D,EAAaib,EAASA,EAAOjb,WAAa6mG,EAAG7mG,WAC7CgD,EAAOiB,OAAOjB,KAAKhD,GACd8uB,EAAM,EAAGA,EAAM9uB,EAAW/B,OAAQ6wB,IACjC9uB,EAAWixD,OAAOjuD,EAAK8rB,KAAQ07E,kBACjCluC,EAAK1hD,EAAOzb,MAAQa,EAAWixD,OAAOjuD,EAAK8rB,KAAO1vB,YAG1Dk9D,GAAK1hD,EAAOvR,IAAM8+F,GAClB,IAAIsC,GAAeC,EAAiB7D,EAChC5iG,QAAOjB,KAAKynG,GAAcxsG,SAC1Bq+D,EAAK1hD,EAAOouF,gBAAkByB,GAE9BxvF,IACAwvF,EAAeC,EAAiBzvF,GAC5BhX,OAAOjB,KAAKynG,GAAcxsG,SAC1Bq+D,EAAK1hD,EAAO+vF,eAAiBF,IAGjC3D,IACAxqC,EAAK1hD,EAAOpU,OAAS4jG,EAAsBtD,EAAI/sF,IAEnDuwF,EAAO5rG,KAAK49D,GAEhB,MAAOguC,GAGX,QAAS3C,GAAWxlG,GAEhB,IAAK,GADDyU,IAAUgxF,OAAQ,KAAMrpG,KAAM,MACzBR,EAAI,EAAGA,EAAIoE,EAAKlE,OAAQF,IAC7B,IAAKoF,EAAkBhB,EAAKpE,IACxB,MAAO6Y,IAAUgxF,aAAezlG,GAAKpE,GAAIQ,KAAM4D,EAAKpE,GAG5D,OAAO6Y,GAEX,QAASrN,GAAahK,EAASqrG,GAC3B,GAAI1B,KACJvlG,GAAMulG,EAAM0B,GACR1B,EAAK2B,QACLnhG,GAAUnK,GAAU2pG,EAAK2B,MAAMjoG,MAAM,YAC9BsmG,GAAK2B,OAEhBphG,EAAWlK,EAAS2pG,GAExB,QAASwB,GAAiBnrG,GAGtB,IAAK,GAFDkK,MACAy/F,EAAO3pG,EAAQkK,WACV7L,EAAQ,EAAGA,EAAQsrG,EAAKjrG,OAAQL,IACrC6L,EAAWy/F,EAAKtrG,GAAOub,UAAY+vF,EAAKtrG,GAAOwb,SAEnD,OAAO3P,GAQX,QAASqhG,GAAsB3jG,EAAe+O,EAAUiiF,EAAYv9E,EAAQb,GAOxE,IAAK,GALDgxF,GAAY5jG,EAAc,MAAQiC,WADtC4Q,GAAWkuF,EAAeV,EAAuB3tF,aACSitF,GAAIt9F,OAASsP,KAAM,kBACzEyuF,EAASljG,KAAWmjG,EAAwBztF,GAC5CixF,EAAiB/0F,GAAQC,GACzB+0F,KACA5hG,EAAK8+F,IACApqG,EAAI,EAAGA,EAAIo6F,EAAWl6F,OAAQF,IAAK,CACxC,GAAI8c,GAAYH,GAAey9E,EAAWp6F,GAAI6c,GAC1C8tF,EAAUvQ,EAAWp6F,GACrB+c,EAAW4tF,EAAQ5tF,SACnBpY,EAA4B,gBAAZgmG,IAA2C,gBAAZA,GAAwBA,EAAU7tF,EAAUD,EAAOlY,MACtG,IAAI6kG,EAAOa,cAA+C,kBAAxBb,GAAOa,aAA6B,CAC9Dt4D,GACAqoD,WAAYA,EACZroD,QAAS44D,EACTvpG,KAAMuD,EACNqX,QAASwtF,EACT3sF,OAAQA,EAEZ2sF,GAAOa,aAAat4D,GAEpBy3D,EAAOa,cAA+C,kBAAxBb,GAAOa,eAErC1lG,GADAmY,EAAYH,GAAey9E,EAAWp6F,GAAI6c,IACxBA,EAAOlY,OAE7B,IAAImkG,GAAK1/F,EAAc,MACnBkC,GAAIA,EAAK,IAAMtL,EACfqL,UAAW0R,EAAWd,GAAS+uB,MAAQ/uB,GAAS6sF,GAAIr9F,OAASsP,KAAM,iBAUvE,IARIgC,EACA+rF,EAAGroG,UAAYqc,EAAUD,EAAOzb,OAGhC6L,EAAOggG,EAAetC,GAAU7B,GAChCA,EAAGt9F,aAAa,aAAc7G,GAC9BmkG,EAAGt9F,aAAa,OAAQ,WAExBg+F,EAAOgB,aAA6C,kBAAvBhB,GAAOgB,YAA4B,CAChE,GAAIz4D,IACAqoD,WAAYA,EACZroD,QAAS44D,EACTvpG,KAAMuD,EACNnE,KAAMsoG,EACN9sF,QAASwtF,EACT3sF,OAAQA,EAEZ2sF,GAAOgB,YAAYz4D,GAEvBm7D,EAAavsG,KAAKmoG,GAGtB,MADA77F,GAAOigG,EAAcF,GACdA,EAUX,QAASG,GAAoBC,EAAevB,EAAiBhvF,EAAQwwF,GAGjE,IAAK,GAFDJ,GAAiB/0F,GAAQk1F,GACzBE,EAAWzwF,EAAOmvF,QACbhmG,EAAK,EAAGunG,EAAgBF,EAAarnG,EAAKunG,EAAcrtG,OAAQ8F,IAAM,CAC3E,GAAI2zB,GAAS4zE,EAAcvnG,GACvBwnG,IACJA,GAAWF,GAAY3zE,EAAOt4B,YAC9Bs4B,EAAOx3B,UAAY,GACnB8K,EAAOggG,EAAeO,GAAa7zE,GAEvC,MAAO0zE,GAGX,QAASjD,KACL,MAAOr1F,MAAKwT,MAA4B,OAArB,EAAIxT,KAAKqT,WACvB9f,SAAS,IACTklB,UAAU,GAGnB,QAAS69E,GAAgBjiG,EAAe0T,EAAWD,EAAQ+jD,EAAI5kD,EAASxa,EAASi+D,GAE7E,GAAIguC,GAAQ3wF,EAAUD,EAAOpU,WACzBilG,EAAc5wF,EAAUD,EAAO6wF,YAEnC,IAAID,EAAMvtG,SACNwtG,GAAc,EACdlsG,EAAQrB,UAAU+L,IAAI+P,GAASitF,UAC3BltF,EAAQqvF,iBAAiB,CACzB,GAAIsC,GAAQ5D,EAAmB3gG,EAAeqkG,EAAOzxF,IAAWyjD,EAChEj+D,GAAQkI,YAAYikG,GAItB3xF,EAAQ4xF,gBAAkBF,IAAgB1xF,EAAQ7D,WAChD3W,EAAQwL,kBAAkB7M,UAAUC,SAAS6b,GAAS5a,cACtDG,EAAQwL,kBAAkB7M,UAAU+L,IAAI+P,GAASotF,cAEF,SAA/BrtF,EAAQ6xF,mBAAgCnhG,EAAUO,IACvD7D,EAAc,OAASiC,UAAW,WAAa2Q,EAAQ8xF,mBAAqBtsG,EAAQiJ,cAAc,IAAMwR,GAAS5a,eAGxI,QAASipG,GAAsBlhG,EAAe5I,EAAMsc,EAAWD,EAAQxR,EAAW0iG,EAAeC,EAAO1iG,EAAIzL,EAAOmc,GAC/G,GAIIo+E,GAJAoP,EAASljG,KAAWmjG,EAAwBztF,GAC5C0tF,EAAiBpjG,KAAWqjG,EAAuBH,EAAOE,gBAC1DtoG,EAAOZ,EACPmE,EAAQnE,CAEQ,iBAATA,IAAqC,gBAATA,IAAqC,iBAATA,KAC/D45F,EAAa55F,EACbY,EAA0C,iBAA3B0b,GAAUD,EAAOzb,OAAyD,gBAA3B0b,GAAUD,EAAOzb,MAC3E0b,EAAUD,EAAOzb,MAAS0b,EAAUD,EAAOzb,OAAS,GACxDuD,EAAQmY,EAAUD,EAAOlY,OAE7B,IAAIspG,EAMAA,GALC7oG,EAAkBg1F,IAAgBh1F,EAAkB0X,EAAUD,EAAOvR,MAC1C,KAAzBwR,EAAUD,EAAOvR,IAIRA,EAAK,IAAMzL,EAHXyL,CAKhB,IAAIw9F,GAAK1/F,EAAc,MACnBiC,YAAsB,IAAV2iG,EAAiB/xF,GAAS+uB,MAAQ/uB,GAAS6sF,IAAM,KAAO1jG,EAAkBiG,GAAa,GAAKA,GACxGC,GAAI2iG,EAAWxiG,MAAyC,KAAjCi+F,EAAewE,eAAoD,KAA5BxE,EAAeyE,UACvEpzF,MAAiB,IAAVizF,EAAiBtE,EAAewE,cAAgBxE,EAAeyE,cA0BhF,OAxBI/T,IAAct9E,EAAU7N,eAAe4N,EAAO0R,UAAqD,UAAzCzR,EAAUD,EAAO0R,SAASjmB,YACpFwgG,EAAG3oG,UAAU+L,IAAI+P,GAASypF,UAE1BsI,EACAlF,EAAGroG,UAAYW,GAGVgE,EAAkBT,IACnBmkG,EAAGt9F,aAAa,aAAc7G,GAElCmkG,EAAGt9F,aAAa,OAAQ,UACpB4uF,GAAct9E,EAAU7N,eAAe4N,EAAOouF,iBAAmBnuF,EAAUD,EAAOouF,iBAClFz/F,EAAas9F,EAAIhsF,EAAUD,EAAOouF,iBAElC8C,EAAc7tG,QACd+M,EAAO8gG,EAAejF,GAEtB1O,GAAct9E,EAAU7N,eAAe4N,EAAO0a,MAAQza,EAAUD,EAAO0a,KACvEuxE,EAAGp/F,YAAY0kG,EAAUhlG,EAAegxF,EAAYv9E,EAAQzb,IAG5D0nG,EAAGp/F,YAAYhH,SAASC,eAAevB,KAGxC0nG,EAEX,QAASqB,GAAeruF,GAEpB,OACIgtF,GAAI,KAAOhtF,EAAa,QACxBitF,GAAI,KAAOjtF,EAAa,eACxBkvB,MAAO,KAAOlvB,EAAa,cAC3BktF,KAAM,KAAOltF,EAAa,QAC1B1a,KAAM,KAAO0a,EAAa,QAC1BmtF,MAAO,KAAOntF,EAAa,SAC3BJ,QAAS,YACT0lF,SAAU,aACVC,SAAU,aACVhgG,YAAa,iBACb6nG,SAAU,cACVzpC,MAAO,UACPloC,IAAK,KAAOzb,EAAa,OACzBqtF,YAAa,qBACbzD,SAAU,aACV0D,MAAO,KAAOttF,EAAa,OAC3ButF,YAAa,kBAGrB,QAAS+E,GAAUhlG,EAAegxF,EAAYv9E,EAAQzb,GAClD,GAAI0b,GAAYH,GAAey9E,EAAYv9E,GACvCsuF,GAAS3jE,KAAM1qB,EAAUD,EAAO0a,KAChCza,GAAU7N,eAAe4N,EAAO+vF,gBAAkB9vF,EAAUD,EAAO+vF,gBACnEhnG,EAAMulG,EAAMruF,EAAUD,EAAO+vF,eAEjC,IAAIwB,GAAYhlG,EAAc,KAAOiC,UAAW4Q,GAAS7a,KAAO,IAAM6a,GAASsb,IAAKp1B,UAAWf,GAE/F,OADAoK,GAAa4iG,EAAWjD,GACjBiD,EAGX,QAAS7D,GAAWnhG,EAAe5I,EAAMsc,EAAWD,EAAQxR,EAAW2Q,GACnE,GAGIqyF,GACAL,EACA5T,EALAoP,EAASljG,KAAWmjG,EAAwBztF,GAC5C0tF,EAAiBpjG,KAAWqjG,EAAuBH,EAAOE,gBAC1DtoG,EAAOZ,CAIS,iBAATA,IAAqC,gBAATA,KACnC45F,EAAa55F,EACbY,EAAO0b,EAAUD,EAAOzb,OAAS,GACjCitG,EAAMvxF,EAAUD,EAAOvR,IACvB0iG,KAASxtG,EAAKyO,eAAe,cAAezO,EAAKuc,UAGrD,IAAI+rF,GAAK1/F,EAAc,MACnBiC,YAAsB,IAAV2iG,EAAiB/xF,GAAS+uB,MAAQ/uB,GAAS6sF,IAAM,KAAO1jG,EAAkBiG,GAAa,GAAKA,GACxGI,MAAyC,KAAjCi+F,EAAewE,eAAoD,KAA5BxE,EAAeyE,UACxDpzF,MAAiB,IAAVizF,EAAiBtE,EAAewE,cAAgBxE,EAAeyE,cAGhF,IADC/oG,EAAkBipG,GAA0CvF,EAAGt9F,aAAa,WAAY4+F,KAA/DtB,EAAGt9F,aAAa,WAAY6iG,GAClDL,GAAShyF,GAAWA,EAAQoxF,cAE5BngG,GADIggG,EAAiB/0F,GAAQ8D,EAAQoxF,gBACf5sG,GAAOsoG,OAE5B,KAAKkF,GAAShyF,GAAWA,EAAQ7D,SAAU,CAC5C,GAAI80F,GAAiB/0F,GAAQ8D,EAAQ7D,SACrClL,GAAOggG,EAAezsG,GAAOsoG,OAE5B,CACD,GAAIwF,GAAWllG,EAAc,OACzBiC,UAAW4Q,GAAS5a,YACpBoK,MAAuC,KAA/Bi+F,EAAe6E,aAAuBxzF,KAAM2uF,EAAe6E,iBAEnEnU,IAAct9E,EAAU7N,eAAe4N,EAAO0a,MAAQza,EAAUD,EAAO0a,KACvE+2E,EAAS5kG,YAAY0kG,EAAUhlG,EAAegxF,EAAYv9E,EAAQzb,IAGlEktG,EAAS5kG,YAAYN,EAAc,QAC/BiC,UAAW4Q,GAAS7a,KAAMe,UAAWf,EACrCqK,MAAoC,KAA5Bi+F,EAAe8E,UAAoBzzF,KAAM2uF,EAAe8E,gBAGxE1F,EAAGp/F,YAAY4kG,GAEnB,MAAOxF,GAQX,QAASkB,GAAW5gG,EAAeqlG,EAAWpjG,EAAW2Q,GACrD,GAAIwtF,GAASljG,KAAWmjG,EAAwBztF,GAC5C0tF,EAAiBpjG,KAAWqjG,EAAuBH,EAAOE,gBAE1DsD,EAAY5jG,EAAc,MAC1BiC,WAFJ4Q,GAAWkuF,EAAeX,EAAO1tF,aAETitF,GAAK,KAAO3jG,EAAkBiG,GAAa,GAAKA,GACpEI,MAAoC,KAA5Bi+F,EAAegF,UAAoB3zF,KAAM2uF,EAAegF,cAGpE,OADAzhG,GAAOwhG,EAAWzB,GACXA,EASX,QAAS2B,GAAavlG,EAAeqlG,EAAWpjG,EAAW2Q,GACvD,GAAIwtF,GAASljG,KAAWmjG,EAAwBztF,EAOhD,OANAC,IAAWkuF,EAAeX,EAAO1tF,aACiB,SAA9B0tF,EAAOqE,mBAAgCnhG,EAAUO,IACtD7D,EAAc,OACrBiC,UAAW,WAAam+F,EAAOsE,gBAAkB,KAC5C1oG,EAAkBiG,GAAa,GAAKA,MACxCojG,EAAUhkG,cAAc,IAAMwR,GAAS5a,cACzCotG,EAxqBX3mD,EAAS4iD,qBACLp/F,GAAI,KACJlK,KAAM,OACNm2B,IAAK,MACL5yB,MAAO,QACPiqG,UAAW,YACXrgF,QAAS,UACT8yE,SAAU,WACVD,SAAU,WACVyE,QAAS,UACTp9F,MAAO,QACP6D,UAAW,YACXohG,YAAa,cACb1C,QAAS,UACTC,eAAgB,iBAChB2B,cAAe,gBACfxB,gBAAiB,kBACjBF,SAAU,WACVc,QAAS,KAEb,IAAIrC,IACAlqC,MAAO,EACPivC,SAAU,eACVP,SAAU,eACVD,cAAe,QACfM,SAAU,YACVD,YAAa,gBAEb9E,GACAoB,cAAc,EACdC,UAAU,EACV8C,gBAAgB,EAChB/wF,OAAQirC,EAAS4iD,oBACjBhB,eAAgBC,EAChB2B,UAAW,GACXP,UAAW,GACXM,iBAAiB,EACjBS,UAAW,OACX3zF,SAAU,KACVi1F,cAAe,KACfyB,eAAgB,KAChBf,gBAAiB,qBACjBhyF,WAAY,OACZ+xF,mBAAoB,QAkBxB/lD,GAASwhD,WAAaA,EAStBxhD,EAASgiD,oBAAsBA,EA4C/BhiD,EAASmiD,wBAA0BA,EAwGnCniD,EAAS2iD,uBAAyBA,EAWlC3iD,EAASiiD,mBAAqBA,EA4B9BjiD,EAASyjD,aAAeA,EAgBxBzjD,EAAS3hD,QAAUA,EA8BnB2hD,EAAS+jD,gBAAkBA,EAwB3B/jD,EAASokD,WAAaA,EAWtBpkD,EAASmkD,cAAgBA,EA4CzBnkD,EAASukD,sBAAwBA,EAuFjCvkD,EAASilD,sBAAwBA,EAoBjCjlD,EAASqlD,oBAAsBA,EAM/BrlD,EAASsiD,WAAaA,EA0KtBtiD,EAASkiD,WAAaA,EAiBtBliD,EAAS6mD,aAAeA,GACzB7mD,KAAaA,OoC1sBhB,InCIIppC,IACAV,GACAxc,GACA0c,GCHAA,GACAyB,GmCeOsV,GDpBPmK,GAAwC,WACxC,GAAIC,GAAgBn5B,OAAOo5B,iBACpBC,uBAA2Bn5B,QAAS,SAAUo5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAExwB,eAAeywB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOh4B,KAAKnC,YAAcg6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAEr8B,UAAkB,OAANs8B,EAAav5B,OAAOgN,OAAOusB,IAAME,EAAGx8B,UAAYs8B,EAAEt8B,UAAW,GAAIw8B,QAGnFC,GAA0C,SAAUC,EAAYrvB,EAAQxL,EAAK86B,GAC7E,GAA2HN,GAAvHO,EAAIn5B,UAAU1G,OAAQ8/B,EAAID,EAAI,EAAIvvB,EAAkB,OAATsvB,EAAgBA,EAAO55B,OAAO+5B,yBAAyBzvB,EAAQxL,GAAO86B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYrvB,EAAQxL,EAAK86B,OACpH,KAAK,GAAI9/B,GAAI6/B,EAAW3/B,OAAS,EAAGF,GAAK,EAAGA,KAASw/B,EAAIK,EAAW7/B,MAAIggC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAEhvB,EAAQxL,EAAKg7B,GAAKR,EAAEhvB,EAAQxL,KAASg7B,EAChJ,OAAOD,GAAI,GAAKC,GAAK95B,OAAO4K,eAAeN,EAAQxL,EAAKg7B,GAAIA,GAY5D8uE,IACAC,QACAC,WAAc,gBAAiB,eAAgB,cAAe,gBAC9DC,WAAc,cAAe,iBAAkB,gBAAiB,cAChEC,MAAS,UAAW,cAAe,aAAc,UACjDC,MAAS,UAAW,UAAW,SAAU,WAEzCC,IACAL,QACAC,WAAc,eAAgB,gBAAiB,eAAgB,eAC/DC,WAAc,iBAAkB,cAAe,aAAc,iBAC7DC,MAAS,cAAe,UAAW,SAAU,cAC7CC,MAAS,UAAW,UAAW,SAAU,WAGlCE,IACPC,KAAM,aACNC,MAAO,UACPnO,SAAU,WACVoO,QAAS,YACTC,WAAY,gBACZC,SAAU,cACVC,SAAU,cACVtuG,YAAa,iBACbuuG,aAAc,cACdC,cAAe,oBACf3G,SAAU,cACV4G,KAAM,SACNn2E,OAAQ,gBACRo2E,WAAY,eACZC,mBAAoB,wBACpB5uG,KAAM,SACN6uG,QAAS,aACT5tG,QAAS,YACT2mG,KAAM,UACNkH,SAAU,cACVC,gBAAiB,qBACjBC,SAAU,aACV10F,QAAS,UACT20F,UAAW,cACXC,aAAc,UACdC,cAAe,mBACfC,aAAc,kBACdC,iBAAkB,sBAClBC,cAAe,eAEfC,GAA+B,SAAUtwE,GAEzC,QAASswE,KACL,MAAkB,QAAXtwE,GAAmBA,EAAOh9B,MAAMsE,KAAMf,YAAce,KAsC/D,MAxCAy3B,IAAUuxE,EAAetwE,GAIzBT,IACIrvB,GAAS,OACVogG,EAAcxtG,UAAW,SAAM,IAClCy8B,IACIrvB,GAAS,SACVogG,EAAcxtG,UAAW,WAAQ,IACpCy8B,IACIrvB,GAAS,cACVogG,EAAcxtG,UAAW,gBAAa,IACzCy8B,IACIrvB,GAAS,cACVogG,EAAcxtG,UAAW,gBAAa,IACzCy8B,IACIrvB,GAAS,YACVogG,EAAcxtG,UAAW,cAAW,IACvCy8B,IACIrvB,GAAS,YACVogG,EAAcxtG,UAAW,cAAW,IACvCy8B,IACIrvB,GAAS,UACVogG,EAAcxtG,UAAW,YAAS,IACrCy8B,IACIrvB,GAAS,YACVogG,EAAcxtG,UAAW,cAAW,IACvCy8B,IACIrvB,GAAS,YACVogG,EAAcxtG,UAAW,cAAW,IACvCy8B,IACIrvB,GAAS,SACVogG,EAAcxtG,UAAW,aAAU,IACtCy8B,IACIrvB,GAAS,mBACVogG,EAAcxtG,UAAW,qBAAkB,IAC9Cy8B,IACIrvB,GAAS,cACVogG,EAAcxtG,UAAW,gBAAa,IAClCwtG,GACT1mE,IAkBE2mE,GAA0B,SAAUvwE,GAKpC,QAASuwE,GAAS50F,EAASxa,GACvB,MAAO6+B,GAAO93B,KAAKZ,KAAMqU,EAASxa,IAAYmG,KAi/ClD,MAt/CAy3B,IAAUwxE,EAAUvwE,GAOpBuwE,EAASztG,UAAU05B,kBAAoB,SAAUwF,EAASC,GACtD,IAAK,GAAIt8B,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAKo9B,GAAUr8B,EAAK2E,EAAGzK,OAAQ8F,IAExD,OADW2E,EAAG3E,IAEV,IAAK,iBACD2B,KAAKkpG,kBACL,MACJ,KAAK,WACDlpG,KAAKmpG,YAAYxuE,EAAQrmB,SACzB,MACJ,KAAK,SACDtU,KAAKopG,WACL,MACJ,KAAK,QACL,IAAK,SACDppG,KAAKqpG,SACL,MACJ,KAAK,YACDrpG,KAAKspG,cACL,MACJ,KAAK,SACDtpG,KAAKupG,eAAer0F,OAASlV,KAAKkV,OAAO3R,WACrCvD,KAAKwpG,qBACLxpG,KAAKypG,qBAAqBC,2BAG1B1pG,KAAK2pG,UAET,MACJ,KAAK,cACI3pG,KAAK4pG,WAAWrxG,QACjByH,KAAKgyB,OAAOhyB,KAAK6pG,aAAa,EAElC,MACJ,KAAK,aACD7pG,KAAKgyB,OAAOhyB,KAAK6pG,aAAa,EAC9B,MACJ,KAAK,uBACDtkG,EAAOvF,KAAK8pG,kBACZ9pG,KAAKq+C,SACL,MACJ,KAAK,eACL,IAAK,mBACGr+C,KAAKwpG,qBACLxpG,KAAKypG,qBAAqBC,2BAG1B1pG,KAAK+pG,aAET,MACJ,KAAK,aACG/pG,KAAKwpG,qBACLxpG,KAAKypG,qBAAqBC,2BAG1B1pG,KAAK2pG,UAET,MACJ,KAAK,YACL,IAAK,WACG3pG,KAAKwpG,qBACLxpG,KAAKypG,qBAAqBC,4BAG1B1pG,KAAKupG,eAAepG,SAAWnjG,KAAKmjG,SACpCnjG,KAAKgqG,UAAYhqG,KAAKiqG,WACtBjqG,KAAKkqG,sBASzBjB,EAASztG,UAAU0tG,iBAAmB,WAC9B3qG,OAAOjB,KAAK0C,KAAKsjG,gBAAgB/qG,QACjCwL,EAAW/D,KAAKnG,QAASmG,KAAKsjG,iBAGtC2F,EAASztG,UAAU2tG,YAAc,SAAUgB,GACnCnqG,KAAKsU,UACLtQ,GAAUhE,KAAKnG,SAAUmG,KAAKsU,SAASpX,MAAM,MAE7CitG,GACA3lG,GAAaxE,KAAKnG,SAAUswG,EAAYjtG,MAAM,OAGtD+rG,EAASztG,UAAU6tG,QAAU,WACzBrpG,KAAKnG,QAAQ+K,MAAM4S,OAAS9U,EAAW1C,KAAKwX,QAC5CxX,KAAKnG,QAAQ+K,MAAM6S,MAAQ/U,EAAW1C,KAAKyX,OAC3CzX,KAAKoqG,UAAWpqG,KAAKnG,QAAQ8S,wBAAwB6K,QAEzDyxF,EAASztG,UAAU4tG,UAAY,WAC3BppG,KAAKqqG,cAAcrqG,KAAKnG,QAASmG,KAAKsqG,SAE1CrB,EAASztG,UAAU8tG,aAAe,WAC1BtpG,KAAKuP,UACLvP,KAAKnG,QAAQrB,UAAU+L,IAAI,SAG3BvE,KAAKnG,QAAQrB,UAAUkM,OAAO,UAGtCukG,EAASztG,UAAU6uG,cAAgB,SAAUxwG,EAAS0wG,GAC9CA,EACA1wG,EAAQrB,UAAUkM,OAAOgjG,GAAWY,SAGpCzuG,EAAQrB,UAAU+L,IAAImjG,GAAWY,UAIzCW,EAASztG,UAAUw2B,OAAS,SAAUv4B,EAAM+wG,GACxC,OAAuBpxG,KAAnB4G,KAAKyqG,WAA2BzqG,KAAK0qG,WAAY,CACjD1qG,KAAKyqG,UAAYzqG,KAAKyB,cAAc,OAASiC,UAAWgkG,GAAW11E,QACnE,IAAI24E,GAAiB3qG,KAAKyB,cAAc,QAAUiC,UAAWgkG,GAAWU,WAAY5tG,UAAWwF,KAAK6pG,cAChGe,EAAU5qG,KAAKyB,cAAc,OAASiC,UAAWgkG,GAAWjuG,KAAMe,UAAWmwG,EAAezoG,YAC5F2oG,EAAgB7qG,KAAKyB,cAAc,OACnCiC,UAAWgkG,GAAWrG,KAAO,IAAMqG,GAAWa,SAAW,cACzDzkG,OAASc,MAAO,kBAIpB,IAFA5E,KAAKyqG,UAAU1oG,YAAY8oG,GAC3B7qG,KAAKyqG,UAAU1oG,YAAY6oG,GACvB5qG,KAAKknG,eAAgB,CACrB,GAAI5B,GAAiB/0F,GAAQvQ,KAAKknG,gBAC9B4D,EAAoB9qG,KAAKyB,cAAc,OAASiC,UAAWgkG,GAAWW,oBAC1E/iG,GAAOggG,MAAoBwF,GAC3BxlG,GAAQwlG,GAAoB9qG,KAAKyqG,WAEjCzqG,KAAKknG,gBAAkBlnG,KAAK6pG,aAC5Be,EAAQpyG,UAAU+L,IAAI,UAE1BvE,KAAKnG,QAAQrB,UAAU+L,IAAI,gBAC3BQ,GAAS/E,KAAKyqG,WAAYzqG,KAAKnG,aAE9B,IAAImG,KAAKyqG,UACV,GAAIzqG,KAAK0qG,WAAY,CACjB1qG,KAAKyqG,UAAU7lG,MAAMyhD,QAAU,EAC/B,IAAIukD,GAAU5qG,KAAKyqG,UAAU3nG,cAAc,IAAM4kG,GAAWU,YACxDyC,EAAgB7qG,KAAKyqG,UAAU3nG,cAAc,IAAM4kG,GAAWa,SAClEqC,GAAQpwG,UAAYf,EAChBuG,KAAKknG,gBAAkBsD,IACvBI,EAAQ70F,cAAcvd,UAAUkM,OAAO,UACvC1E,KAAKyqG,UAAU3nG,cAAc,IAAM4kG,GAAWW,oBAAoB7vG,UAAU+L,IAAI,kBAEhFvE,KAAKknG,iBAAmBsD,IACxBI,EAAQ70F,cAAcvd,UAAU+L,IAAI,UACpCvE,KAAKyqG,UAAU3nG,cAAc,IAAM4kG,GAAWW,oBAAoB7vG,UAAUkM,OAAO,iBACnF1E,KAAKyqG,UAAU3nG,cAAc,IAAM4kG,GAAWW,oBAAoB7vG,UAAU+L,IAAI,WAGhFsmG,EAAcjmG,MAAMyhD,SADP,IAAbmkD,EAC8B,GAGA,WAIlCxqG,MAAKyqG,UAAU7lG,MAAMyhD,QAAU,QAK3C4iD,EAASztG,UAAUuvG,WAAa,SAAUC,EAAUC,EAAQ3T,GACxD,GAAIv3F,GAAQC,IACZ,IAAIgrG,GAAYC,EAAQ,CACpB,GAAIC,GAASF,EAASpmG,MAAMgR,SACxBu1F,EAA8C,WAAhCnrG,KAAKnG,QAAQ+K,MAAM0W,SAAyBtb,KAAKnG,QAAQ+K,MAAM0W,SAAW,EAC5F0vF,GAASpmG,MAAMgR,SAAW,WAC1Bo1F,EAASxyG,UAAU+L,IAAI,SACvB,IAAI6mG,OAAO,GACP3+F,EAAWzM,KAAKw5B,UAAU/sB,QAC9B,IAAIzM,KAAKw5B,UAAU6xE,OACfD,EAAQprG,KAAKuP,UAAYk4F,GAAiBznG,KAAKw5B,UAAU6xE,QAAUlE,GAAcnnG,KAAKw5B,UAAU6xE,YAE/F,CAEDD,EAAOjE,GAAuB,UAC9B7P,EAAUt3F,KAAKuP,UACf9C,EAAW,EAEfzM,KAAKnG,QAAQ+K,MAAM0W,SAAW,SAC9Btb,KAAKsrG,OAAOlyE,QAAQ4xE,GAChBp4E,MAAmB,IAAZ0kE,EAAmB8T,EAAK,GAAKA,EAAK,GACzC3+F,SAAUA,EACV2tB,eAAgBp6B,KAAKw5B,UAAU5X,OAC/BjC,IAAK,SAAUqO,GACXg9E,EAASpmG,MAAMyhD,QAAU,OACzBtmD,EAAMlG,QAAQ+K,MAAM0W,SAAW6vF,EAC/BH,EAASpmG,MAAMgR,SAAWs1F,EAC1BF,EAASxyG,UAAUkM,OAAO,aAGlCumG,EAAOrmG,MAAMyhD,QAAU,GACvBrmD,KAAKsrG,OAAOlyE,QAAQ6xE,GAChBr4E,MAAmB,IAAZ0kE,EAAmB8T,EAAK,GAAKA,EAAK,GACzC3+F,SAAUA,EACV2tB,eAAgBp6B,KAAKw5B,UAAU5X,OAC/BjC,IAAK,WACD5f,EAAMqoB,QAAQ,qBAGtBpoB,KAAKurG,MAAQN,IAGrBhC,EAASztG,UAAUwY,UAAY,WAC3BhU,KAAKupG,gBACD/4F,SAAUxQ,KAAKwQ,SACf02F,eAAgBlnG,KAAKknG,eACrBzB,cAAezlG,KAAKylG,cAAeQ,gBAAgB,EAAMtC,UAAW,GACpE5B,gBACIyE,SAAU,WAAYO,SAAU,OAAQF,SAAU,GAClDN,cAAe,QAASK,YAAa,gBAEzC1xF,OAAQlV,KAAKkV,OAAO3R,WAAY4gG,UAAWnkG,KAAKmkG,UAAWhB,SAAUnjG,KAAKmjG,SAC1EN,YAAa7iG,KAAKwrG,eAAe/vG,KAAKuE,OAE1CA,KAAKyrG,kBAETxC,EAASztG,UAAUiwG,eAAiB,WAChCzrG,KAAK4pG,cACL5pG,KAAK0rG,kBACL1rG,KAAKgqG,aACLhqG,KAAK2rG,qBACL3rG,KAAK4rG,cAAe,EACpB5rG,KAAK6rG,gBACL7rG,KAAK8rG,cACL9rG,KAAKsrG,OAAS,GAAI7yE,IAAUz4B,KAAK0rG,iBAErCzC,EAASztG,UAAUgwG,eAAiB,SAAUvrG,GAI1C,GAHIA,EAAKpH,KAAKL,UAAUC,SAASivG,GAAWnG,YACxCvhG,KAAK4rG,cAAe,GAEpB5rG,KAAKkjG,cAAgBljG,KAAK+rG,UAAU9rG,EAAKpH,MAAO,CAChD,GAAImzG,OAAkB,IAEtBA,EAAkB53F,GAAepU,KAAKyB,eAAe,GACjDsS,SAAS,EAAOxE,UAAWvP,KAAKuP,UAChC+E,SAAUozF,GAAWoB,oBAETjlG,aAAa,OAAQ,WACrC,IAAIooG,GAAiBD,EAAgBlpG,cAAc,IAAM4kG,GAAWiB,aACpE1oG,GAAKpH,KAAKL,UAAU+L,IAAImjG,GAAWqB,eACnC9oG,EAAKpH,KAAKwM,kBAAkB7M,UAAU+L,IAAImjG,GAAWe,UACnB,gBAAvBzoG,MAAKyyF,WAAW,IAAiD,gBAAvBzyF,MAAKyyF,WAAW,GACrDz9E,GAAe/U,EAAKmqC,QAASpqC,KAAKupG,eAAer0F,QAC/ClV,KAAKupG,eAAer0F,OAAO+xF,YACrCjnG,KAAKksG,gBAAgBjsG,EAAM+rG,GAGM,gBAAvBhsG,MAAKyyF,WAAW,IACA,gBAAvBzyF,MAAKyyF,WAAW,KAA8D,IAA1CzyF,KAAK6rG,aAAartG,QAAQyB,EAAKxG,OAC1EuG,KAAKksG,gBAAgBjsG,EAAM+rG,GAE/BA,EAAgBnoG,aAAa,eAAgBooG,EAAezzG,UAAUC,SAASivG,GAAW3zF,SAAW,OAAS,SAChF,SAA1B/T,KAAKmsG,kBACLH,EAAgBxzG,UAAU+L,IAAImjG,GAAWmB,cACzC5oG,EAAKpH,KAAKwM,kBAAkB7M,UAAU+L,IAAImjG,GAAWmB,cACrD5oG,EAAKpH,KAAKwM,kBAAkBD,aAAa4mG,EAAiB/rG,EAAKpH,KAAKwM,kBAAkB/K,WAAW,MAGjG0xG,EAAgBxzG,UAAU+L,IAAImjG,GAAWkB,eACzC3oG,EAAKpH,KAAKwM,kBAAkB7M,UAAU+L,IAAImjG,GAAWkB,eACrD3oG,EAAKpH,KAAKwM,kBAAkBtD,YAAYiqG,IAE5ChsG,KAAK2rG,kBAAkB3yG,KAAKiH,EAAKpH,QAGzCowG,EAASztG,UAAU0wG,gBAAkB,SAAUjsG,EAAM+rG,GACjD/rG,EAAKpH,KAAKL,UAAU+L,IAAImjG,GAAWjO,UACnCx5F,EAAKpH,KAAKgL,aAAa,gBAAiB,QACxCmoG,EAAgBlpG,cAAc,IAAM4kG,GAAWiB,cAAcnwG,UAAU+L,IAAImjG,GAAW3zF,SACtFi4F,EAAgBnoG,aAAa,eAAgB,SAMjDolG,EAASztG,UAAU4wG,UAAY,SAAUvzG,GACrCmH,KAAKqsG,gBAAgBxzG,GAAM,IAE/BowG,EAASztG,UAAU6wG,gBAAkB,SAAUxzG,EAAMkb,GACjD,GAAI/T,KAAKkjG,aAAc,CACnB,GAAI4D,GAAYjuG,CAIhB,IAHIA,YAAgB0F,SAAU1F,EAAKgF,cAAgByuG,gBAC/CxF,EAAY9mG,KAAKusG,sBAAsB1zG,KAEtC4E,EAAkBqpG,GAAY,CAC/B,GAAI6B,GAAe7B,EAAUhkG,cAAc,IAAM4kG,GAAWiB,aAC5D50F,GAAU+yF,EAAUtuG,UAAU+L,IAAImjG,GAAWjO,UAAYqN,EAAUtuG,UAAUkM,OAAOgjG,GAAWjO,UAC/FqN,EAAUjjG,aAAa,gBAAiBkQ,EAAU,OAAS,SAC3DA,EAAU40F,EAAanwG,UAAU+L,IAAImjG,GAAW3zF,SAAW40F,EAAanwG,UAAUkM,OAAOgjG,GAAW3zF,SACpG40F,EAAa5yF,cAAclS,aAAa,eAAgBkQ,EAAU,OAAS,SAE/E/T,KAAKwsG,oBAAoB1F,KAOjCmC,EAASztG,UAAUixG,YAAc,SAAU5zG,GACvCmH,KAAKqsG,gBAAgBxzG,GAAM,IAK/BowG,EAASztG,UAAUkxG,cAAgB,WAC/B1sG,KAAK2sG,oBAAmB,IAK5B1D,EAASztG,UAAUoxG,gBAAkB,WACjC5sG,KAAK2sG,oBAAmB,IAE5B1D,EAASztG,UAAUmxG,mBAAqB,SAAU54F,GAC9C,GAAI/T,KAAKkjG,aAAc,CACnB,IAAK,GAAI7qG,GAAI,EAAGA,EAAI2H,KAAKulG,aAAahtG,OAAQF,IAAK,CAC/C,GAAIw0G,GAAY7sG,KAAKulG,aAAaltG,GAAGyK,cAAc,IAAM4kG,GAAWiB,aAChEkE,KACI94F,EACK84F,EAAUr0G,UAAUC,SAASivG,GAAW3zF,UACzC/T,KAAKosG,UAAUpsG,KAAKulG,aAAaltG,IAIjCw0G,EAAUr0G,UAAUC,SAASivG,GAAW3zF,UACxC/T,KAAKysG,YAAYzsG,KAAKulG,aAAaltG,KAK/C2H,KAAKwpG,sBACLxpG,KAAKypG,qBAAqBqD,YAAY/4F,KAIlDk1F,EAASztG,UAAUuuG,YAAc,WAC7B,GAAIhqG,GAAQC,IACZ,IAAIA,KAAKkjG,aAAc,CACnB,GACI6J,IACAl0G,SAAMO,GAAWgxC,YAAShxC,GAAWq5F,eAAYr5F,GAAW8b,WAAQ9b,GACpEib,YAASjb,GAAWK,KAAM,KAH1B8rG,EAAe9mG,MAAMjD,UAAUmG,MAAMf,KAAKZ,KAAKnG,QAAQe,iBAAiB,IAAM8sG,GAAWK,YAKhF3oG,QAAQ,SAAUvF,GAC3BkzG,EAAOl0G,KAAOgB,EACdkzG,EAAO3iE,QAAUrqC,EAAMitG,YAAYnzG,GAC/BA,EAAQiJ,cAAc,IAAM4kG,GAAWc,kBACvCzoG,EAAMktG,cAAcpzG,EAAQiJ,cAAc,IAAM4kG,GAAWc,kBAE/DzoG,EAAMyrG,eAAeuB,GACjBA,EAAOl0G,KAAKL,UAAUC,SAASivG,GAAWjO,WAC1C15F,EAAMmsG,gBAAgBa,EAAQA,EAAOl0G,KAAKiK,cAAc,IAAM4kG,GAAWc,wBAIhF,CACD,GAAIjD,GAAe9mG,MAAMjD,UAAUmG,MAAMf,KAAKZ,KAAKnG,QAAQe,iBAAiB,IAAM8sG,GAAWqB,eAC7FxD,GAAanmG,QAAQ,SAAUvF,GAC3BA,EAAQrB,UAAUkM,OAAOgjG,GAAWjO,UACpC5/F,EAAQwL,kBAAkB7M,UAAUkM,OAAOgjG,GAAWe,UACtD1oG,EAAMktG,cAAcpzG,EAAQiJ,cAAc,IAAM4kG,GAAWc,oBAE3DxoG,KAAKktG,eACLltG,KAAKktG,cAAcr0G,KAAKL,UAAU+L,IAAImjG,GAAWjO,YAI7DwP,EAASztG,UAAUwjG,aAAe,SAAU59F,GACxC,GAAIyH,GAASzH,EAAEyH,OACXrQ,EAAYqQ,EAAOrQ,SACvB,IAAIA,EAAUC,SAASivG,GAAWa,WAAa/vG,EAAUC,SAASivG,GAAWU,YACrEpoG,KAAKkjG,cAAgBljG,KAAK4pG,WAAW5pG,KAAK4pG,WAAWrxG,OAAS,IAC9DyH,KAAK4sG,kBAET5sG,KAAKmtG,WAEJ,CACD,GAAIhM,GAAKp7F,EAAQ8C,EAAO/N,WAAY,IAAM4sG,GAAWK,SAKrD,IAJW,OAAP5G,IACAA,EAAKt4F,GAET7I,KAAKotG,cACDptG,KAAKsqG,QAAUtqG,KAAKkjG,cAAgBljG,KAAK+rG,UAAU5K,GACnD,GAAI//F,EAAEyH,OAAOrQ,UAAUC,SAASivG,GAAWiB,cAAe,CAEtD,GADAxH,EAAG3oG,UAAU+L,IAAImjG,GAAWG,SACxBpqG,EAAkB0jG,EAAGr+F,cAAc,IAAM4kG,GAAW3zF,UAAW,CAC/D,GAAI9T,IACAmqC,YAAShxC,GAAWq5F,eAAYr5F,GAAW8b,WAAQ9b,GAAWib,YAASjb,GACvEK,SAAML,GAAWP,KAAMsoG,EAE3BnhG,MAAKksG,gBAAgBjsG,EAAMA,EAAKpH,KAAKiK,cAAc,IAAM4kG,GAAWc,sBAGpExoG,MAAKysG,YAAYtL,GACjBA,EAAG3oG,UAAU+L,IAAImjG,GAAWG,QAEhC,IAAIzmG,EAAG,CACH,GAAIiN,GAAYrO,KAAKqtG,gBAAgBlM,EAAI//F,EAEzCnD,GAAMoQ,GAAa44F,UADH9F,EAAGr+F,cAAc,IAAM4kG,GAAWiB,cACVnwG,UAAUC,SAASivG,GAAW3zF,WACtE/T,KAAKooB,QAAQ,SAAU/Z,QAGtB8yF,GAAG3oG,UAAUC,SAASivG,GAAWnG,WACtCvhG,KAAKstG,cACLttG,KAAKutG,eACLvtG,KAAKutG,aAAapM,GAClBnhG,KAAKwtG,YAAYrM,EAAI//F,GACrB+/F,EAAG3oG,UAAUkM,OAAOgjG,GAAWjO,WAG/Bz5F,KAAKytG,cAActM,EAAI//F,OAI3BpB,MAAKwtG,YAAYrM,EAAI//F,KAIjC6nG,EAASztG,UAAUyxG,cAAgB,SAAUpzG,GACzC,MAAOA,IAAWA,EAAQiB,YAAcjB,EAAQiB,WAAW0K,YAAY3L,IAE3EovG,EAASztG,UAAUkyG,aAAe,SAAUtsG,GACxC,GAAIusG,GAAQ5nG,EAAQ3E,EAAEyH,OAAO/N,WAAY,IAAM4sG,GAAWK,SAC1D/nG,MAAK4tG,WAAWD,IAEpB1E,EAASztG,UAAUqyG,aAAe,SAAUzsG,GACxCpB,KAAKstG,eAGTrE,EAASztG,UAAUsyG,eAAiB,SAAU1sG,EAAGue,GAC7C,GAAIphB,OAAOjB,KAAK0C,KAAKyyF,YAAYl6F,QAAUyH,KAAKurG,MAAO,CACnD,GAAIpK,GAAKnhG,KAAKurG,MAAM3wG,iBAAiB,IAAM8sG,GAAWK,UAClDgG,EAAiB/tG,KAAKurG,MAAMzoG,cAAc,IAAM4kG,GAAWG,UAC3D7nG,KAAKurG,MAAMzoG,cAAc,IAAM4kG,GAAWjO,SAC1CsU,KACAA,EAAev1G,UAAUkM,OAAOgjG,GAAWG,SACtC7nG,KAAKkjG,cACN6K,EAAev1G,UAAUkM,OAAOgjG,GAAWjO,UAGnD,IAAIvhG,GAASynB,EAAUwhF,EAAG5oG,OAAS,EAAhB,CACf4oG,GAAGjpG,GAAOM,UAAUC,SAASivG,GAAWnG,WAAavhG,KAAKkjG,aAC1D/B,EAAGjpG,GAAOM,UAAU+L,IAAImjG,GAAWG,SAGnC7nG,KAAKwtG,YAAYrM,EAAGjpG,GAAQkJ,KAIxC6nG,EAASztG,UAAUwyG,eAAiB,SAAU5sG,EAAG6sG,GAC7C,GAAIlK,GACA5C,CAyBJ,QAxBgB1jG,EAAkBuC,KAAKurG,MAAMzoG,cAAc,IAAM4kG,GAAWnG,YAC5DvhG,KAAKkjG,cACjB/B,EAAKnhG,KAAKurG,MAAMzoG,cAAc,IAAM4kG,GAAWG,UAAY7nG,KAAKurG,MAAMzoG,cAAc,IAAM4kG,GAAWjO,UAEhGh8F,EADLsmG,EAAY5jD,GAASyjD,aAAa5jG,KAAKurG,MAAM3wG,iBAAiB,IAAM8sG,GAAWK,UAAW5G,EAAI8M,MAEtF9M,IACAA,EAAG3oG,UAAUkM,OAAOgjG,GAAWG,SAC1B7nG,KAAKkjG,cACN/B,EAAG3oG,UAAUkM,OAAOgjG,GAAWjO,WAGnCsK,EAAUvrG,UAAUC,SAASivG,GAAWnG,WAAavhG,KAAKkjG,aAC1Da,EAAUvrG,UAAU+L,IAAImjG,GAAWG,SAGnC7nG,KAAKwtG,YAAYzJ,EAAW3iG,MAKpC+/F,EAAKnhG,KAAKurG,MAAMzoG,cAAc,IAAM4kG,GAAWjO,UAC/CsK,EAAY5jD,GAASyjD,aAAa5jG,KAAKurG,MAAM3wG,iBAAiB,IAAM8sG,GAAWK,UAAW5G,EAAI8M,GAC9FjuG,KAAKwtG,YAAYzJ,EAAW3iG,IAEzB2iG,GAEXkF,EAASztG,UAAU0yG,gBAAkB,SAAU9sG,EAAG6sG,GAC9C,GAAIluG,GAAQC,IACZ,IAAIzB,OAAOjB,KAAK0C,KAAKyyF,YAAYl6F,QAAUyH,KAAKurG,MAAO,CACnD,GAAIxH,GAAY/jG,KAAKguG,eAAe5sG,EAAG6sG,GACnCE,EAAanuG,KAAKnG,QAAQ8S,wBAAwBc,IAClD2gG,EAAgBpuG,KAAKnG,QAAQ8S,wBAAwB6K,OACrD62F,EAAkBruG,KAAKurG,MAAMzoG,cAAc,IAAM4kG,GAAWK,UAAUp7F,wBACtE2hG,MAAa,GACbC,MAAkB,EAItB,IAHIvuG,KAAKkV,OAAOmvF,UACZkK,EAAkBvuG,KAAKurG,MAAMzoG,cAAc,IAAM4kG,GAAWQ,eAAev7F,yBAE3Eo3F,EAAW,CACX,GAAIyK,GAAazK,EAAUp3F,wBAAwBc,IAC/CghG,EAAgB1K,EAAUp3F,wBAAwB6K,MACtD,IAAKy2F,GAUDK,EAAatuG,KAAKoqG,SAAWoE,EAAcA,EAAaL,GACvC,IACbnuG,KAAKoqG,SAAWpuG,OAAO0yG,SAAS,EAAG5qD,YAAcwqD,GAC7CtuG,KAAKnG,QAAQ60G,SAAS,EAAG1uG,KAAKnG,QAAQqT,UAAYohG,QAbnD,CACP,GAAI92F,GAASxX,KAAKoqG,SAAWpuG,OAAO+e,YAAcqzF,GAClDE,EAAatuG,KAAKoqG,SAAYoE,EAAaC,EACrCD,EAAaL,EAAcM,GAChBj3F,IACbxX,KAAKoqG,SAAWpuG,OAAO0yG,SAAS,EAAG5qD,aAAewqD,EAAa92F,IAC3DxX,KAAKnG,QAAQ60G,SAAS,EAAG1uG,KAAKnG,QAAQqT,WAAaohG,EAAa92F,UAW3E,IAAIxX,KAAKwpG,sBAAwByE,GAAQjuG,KAAKypG,qBAAqBkF,aACpE3uG,KAAK4uG,aAAe,WAChB7uG,EAAMiuG,eAAe5sG,EAAG6sG,GACxBluG,EAAM6uG,iBAAex1G,IAEzBk1G,EAAatuG,KAAKypG,qBAAqBoF,eACvC7uG,KAAKoqG,SAAWpuG,OAAO0yG,SAAS,EAAG5qD,YAAcwqD,GAC7CtuG,KAAKnG,QAAQ60G,SAAS,EAAG1uG,KAAKnG,QAAQqT,UAAYohG,OAErD,IAAIL,EACL,GAAIjuG,KAAK0qG,YAAc1qG,KAAKyqG,UAAW,CACnC,GAAIqE,GAAYP,EAAkBA,EAAgB9gG,IAAM4gG,EAAgB5gG,IACpEshG,EAAe/uG,KAAKyqG,UAAU99F,uBAClC2hG,GAAaS,EAAathG,IAAM,EAAKshG,EAAav3F,OAASs3F,EAAa,EACxE9uG,KAAKoqG,SAAWpuG,OAAO0yG,SAAS,EAAG5qD,YAAcwqD,GAC3CtuG,KAAKnG,QAAQ60G,SAAS,EAAG,OAE1B1uG,MAAKkV,OAAOmvF,UACjBiK,EAAatuG,KAAKoqG,SAAYmE,EAAgB9gG,IAAM,EAAI8gG,EAAgB9gG,IAAM,EACzE0gG,EAAaE,EAAgB5gG,IAAO8gG,EAAgB/2F,OACzDxX,KAAKoqG,SAAWpuG,OAAO0yG,SAAS,EAAG5qD,YAAcwqD,GAC7CtuG,KAAKnG,QAAQ60G,SAAS,EAAG1uG,KAAKnG,QAAQqT,UAAYohG,MAKtErF,EAASztG,UAAUwzG,gBAAkB,SAAU5tG,GAC3C,GAAI7C,OAAOjB,KAAK0C,KAAKyyF,YAAYl6F,QAAUyH,KAAKurG,MAAO,CACnD,GAAIhK,IAAY9jG,EAAkBuC,KAAKurG,MAAMzoG,cAAc,IAAM4kG,GAAWnG,WACxEJ,EAAKnhG,KAAKurG,MAAMzoG,cAAc,IAAM4kG,GAAWG,QAC/CtG,IAAYJ,IACZA,EAAG3oG,UAAUkM,OAAOgjG,GAAWG,SAC3B7nG,KAAKkjG,eACLljG,KAAKutG,eACLvtG,KAAKutG,aAAapM,GAClBnhG,KAAKstG,eAETttG,KAAKwtG,YAAYrM,EAAI//F,MAIjC6nG,EAASztG,UAAUyzG,gBAAkB,SAAU7tG,GAC3C,GAAIpB,KAAKsqG,QAAUtqG,KAAKkjG,cAAgB3kG,OAAOjB,KAAK0C,KAAKyyF,YAAYl6F,QAAUyH,KAAKurG,MAAO,CACvF,GAAIpK,GAAKnhG,KAAKurG,MAAMzoG,cAAc,IAAM4kG,GAAWG,QACnD,KAAKpqG,EAAkB0jG,IAAO1jG,EAAkB0jG,EAAGr+F,cAAc,IAAM4kG,GAAW3zF,UAAW,CACzF,GAAI9T,IACAmqC,YAAShxC,GAAWq5F,eAAYr5F,GAAW8b,WAAQ9b,GAAWib,YAASjb,GACvEK,SAAML,GAAWP,KAAMsoG,EAE3BnhG,MAAKksG,gBAAgBjsG,EAAMA,EAAKpH,KAAKiK,cAAc,IAAM4kG,GAAWc,sBAGpExoG,MAAKysG,YAAYtL,KAI7B8H,EAASztG,UAAU0zG,iBAAmB,SAAU9tG,GAE5C,OADAA,EAAE+lB,iBACM/lB,EAAE1J,SACN,IAAK,IACDsI,KAAK8tG,eAAe1sG,EACpB,MACJ,KAAK,IACDpB,KAAK8tG,eAAe1sG,GAAG,EACvB,MACJ,KAAK,IACDpB,KAAKkuG,gBAAgB9sG,EACrB,MACJ,KAAK,IACDpB,KAAKkuG,gBAAgB9sG,GAAG,EACxB,MACJ,KAAK,IACDpB,KAAKgvG,gBAAgB5tG,EACrB,MACJ,KAAK,GACGpB,KAAKkjG,cAAgBljG,KAAK4pG,WAAW5pG,KAAK4pG,WAAWrxG,OAAS,IAC9DyH,KAAK4sG,kBAET5sG,KAAKmtG,MACL,MACJ,KAAK,GACDntG,KAAKmvG,SAAS/tG,EACd,MACJ,KAAK,IACDpB,KAAKivG,gBAAgB7tG,KAIjC6nG,EAASztG,UAAU4zG,mBAAqB,SAAUhuG,GACrB,UAArBA,EAAE4vD,iBACEhxD,KAAKkjG,cAAgBljG,KAAK4pG,WAAW5pG,KAAK4pG,WAAWrxG,OAAS,IAC9DyH,KAAK4sG,kBAET5sG,KAAKmtG,SAGblE,EAASztG,UAAU6zG,SAAW,WAC1B,GAAI9wG,OAAOjB,KAAK0C,KAAKyyF,YAAYl6F,QAAUyH,KAAKurG,MAAO,CACnD,GAAIwC,GAAiB/tG,KAAKurG,MAAMzoG,cAAc,IAAM4kG,GAAWG,SAC3DyH,EAAgBtvG,KAAKurG,MAAMzoG,cAAc,yBACzCirG,KAAmB/tG,KAAKkjG,eACxB6K,EAAev1G,UAAUkM,OAAOgjG,GAAWG,SACvCyH,GACAA,EAAc92G,UAAU+L,IAAImjG,GAAWjO,aAKvDwP,EAASztG,UAAU0qB,WAAa,WAC5BzgB,GAAalB,IAAIvE,KAAKnG,QAAS,UAAWmG,KAAKkvG,iBAAkBlvG,MACjEyF,GAAalB,IAAIvE,KAAKnG,QAAS,QAASmG,KAAKg/F,aAAch/F,MACtDA,KAAKwpG,uBACN/jG,GAAalB,IAAIvE,KAAKnG,QAAS,YAAamG,KAAK0tG,aAAc1tG,MAC/DyF,GAAalB,IAAIvE,KAAKnG,QAAS,WAAYmG,KAAK6tG,aAAc7tG,OAElEyF,GAAalB,IAAIvE,KAAKnG,QAAS,WAAYmG,KAAKqvG,SAAUrvG,MAC1DA,KAAKuvG,YAAc,GAAI7gD,IAAM1uD,KAAKnG,SAAW21G,MAAOxvG,KAAKovG,mBAAmB3zG,KAAKuE,SAErFipG,EAASztG,UAAU+iG,aAAe,WAC9B94F,GAAaf,OAAO1E,KAAKnG,QAAS,QAASmG,KAAKg/F,cAC3Ch/F,KAAKwpG,uBACN/jG,GAAaf,OAAO1E,KAAKnG,QAAS,YAAamG,KAAK0tG,cACpDjoG,GAAaf,OAAO1E,KAAKnG,QAAS,WAAYmG,KAAK6tG,eAEvDpoG,GAAaf,OAAO1E,KAAKnG,QAAS,YAAamG,KAAK0tG,cACpDjoG,GAAaf,OAAO1E,KAAKnG,QAAS,WAAYmG,KAAK6tG,cACnD7tG,KAAKuvG,YAAY17F,WAErBo1F,EAASztG,UAAU2zG,SAAW,SAAU/tG,GACpC,GAAI7C,OAAOjB,KAAK0C,KAAKyyF,YAAYl6F,QAAUyH,KAAKurG,SACzBvrG,KAAKurG,MAAMzoG,cAAc,IAAM4kG,GAAWjO,WACvCz5F,KAAKurG,OAAUvrG,KAAKkjG,cAAc,CACpD,GAAI/B,GAAKnhG,KAAKurG,MAAMzoG,cAAc,IAAM4kG,GAAWK,SAC/C5G,GAAG3oG,UAAUC,SAASivG,GAAWnG,WAAavhG,KAAKkjG,aAE/CzlG,EADiBuC,KAAKurG,MAAMzoG,cAAc,IAAM4kG,GAAWG,WAE3D1G,EAAG3oG,UAAU+L,IAAImjG,GAAWG,SAIhC7nG,KAAKwtG,YAAYrM,EAAI//F,KAKrC6nG,EAASztG,UAAU4xG,YAAc,WAE7B,IAAK,GAAI/uG,GAAK,EAAGoxG,EADDzvG,KAAKnG,QAAQe,iBAAiB,IAAM8sG,GAAWG,SACrBxpG,EAAKoxG,EAAYl3G,OAAQ8F,IACrDoxG,EAAYpxG,GAClB7F,UAAUkM,OAAOgjG,GAAWG,UAGxCoB,EAASztG,UAAU8xG,YAAc,WAC7B,GAAIoC,GAAU1vG,KAAKnG,QAAQiJ,cAAc,IAAM4kG,GAAWE,MACtD8H,IACAA,EAAQl3G,UAAUkM,OAAOgjG,GAAWE,QAG5CqB,EAASztG,UAAU+xG,aAAe,SAAUpM,GACxC,GAAI1jG,EAAkB0jG,GAElB,IAAK,GAAI9iG,GAAK,EAAGsxG,EADA3vG,KAAKnG,QAAQe,iBAAiB,IAAM8sG,GAAWjO,UACpBp7F,EAAKsxG,EAAap3G,OAAQ8F,IAAM,CACxE,GAAI+F,GAAMurG,EAAatxG,EACnB2B,MAAKkjG,cAAgB9+F,EAAItB,cAAc,IAAM4kG,GAAW3zF,WAIxD3P,EAAIP,aAAa,gBAAiB,SAClCO,EAAI5L,UAAUkM,OAAOgjG,GAAWjO,eAKxC0H,GAAG3oG,UAAUkM,OAAOgjG,GAAWjO,UAC/B0H,EAAGt9F,aAAa,gBAAiB,UAGzColG,EAASztG,UAAUuwG,UAAY,SAAU5K,GACrC,MAAQA,IAAMA,EAAG3oG,UAAUC,SAASivG,GAAWK,YACvC5G,EAAG3oG,UAAUC,SAASivG,GAAWQ,iBACjC/G,EAAG3oG,UAAUC,SAASivG,GAAWY,UAE7CW,EAASztG,UAAUiyG,cAAgB,SAAUtM,EAAI//F,GAC7C,GAAIpB,KAAK+rG,UAAU5K,IAAOnhG,KAAKsqG,QAAUtqG,KAAKkjG,aAAc,CACpDljG,KAAKurG,MAAMzoG,cAAc,IAAM4kG,GAAWG,UAC1C7nG,KAAKurG,MAAMzoG,cAAc,IAAM4kG,GAAWG,SAASrvG,UAAUkM,OAAOgjG,GAAWG,SAEnF1G,EAAG3oG,UAAU+L,IAAImjG,GAAWG,QAC5B,IAAImE,GAAkB7K,EAAGr+F,cAAc,IAAM4kG,GAAWc,iBACpDqE,EAAYb,EAAgBlpG,cAAc,IAAM4kG,GAAWiB,aAAe,IAAMjB,GAAWrG,KAc/F,IAbArhG,KAAKstG,cACAT,EAAUr0G,UAAUC,SAASivG,GAAW3zF,UAMzC84F,EAAUr0G,UAAUkM,OAAOgjG,GAAW3zF,SACtCotF,EAAG3oG,UAAUkM,OAAOgjG,GAAWjO,UAC/B0H,EAAGt9F,aAAa,gBAAiB,WAPjCgpG,EAAUr0G,UAAU+L,IAAImjG,GAAW3zF,SACnCotF,EAAG3oG,UAAU+L,IAAImjG,GAAWjO,UAC5B0H,EAAGt9F,aAAa,gBAAiB,SAOrCmoG,EAAgBnoG,aAAa,eAAgBgpG,EAAUr0G,UAAUC,SAASivG,GAAW3zF,SACjF,OAAS,SACT3S,EAAG,CACH,GAAIiN,GAAYrO,KAAKqtG,gBAAgBlM,EAAI//F,EACzCnD,GAAMoQ,GAAa44F,UAAW4F,EAAUr0G,UAAUC,SAASivG,GAAW3zF,WAClE/T,KAAKwpG,sBACLxpG,KAAKypG,qBAAqBgE,cAActM,EAAI//F,GAEhDpB,KAAKooB,QAAQ,SAAU/Z,GAE3BrO,KAAKwsG,oBAAoBrL,GACzBnhG,KAAK4vG,cAAczO,KAG3B8H,EAASztG,UAAU6xG,gBAAkB,SAAUlM,EAAI//F,GAC/C,GAAI3E,GAAOuD,KAAKgtG,YAAY7L,GACxBhsF,EAAYH,GAAevY,EAAMuD,KAAKupG,eAAer0F,QASrD7G,IAKJ,OAJApQ,GAAMoQ,GARD5Q,EAAkBhB,IACc,gBAAvBuD,MAAKyyF,WAAW,IAAiD,gBAAvBzyF,MAAKyyF,WAAW,IACnD55F,KAAMsoG,EAAI1nG,KAAM0nG,GAAMA,EAAGroG,UAAU2Y,OAAQhV,KAAMuD,KAAKyyF,aAGtD55F,KAAMsoG,EAAI1nG,KAAM0b,GAAaA,EAAUnV,KAAKupG,eAAer0F,OAAOzb,MAAOgD,KAAMA,IAIhG2E,GACAnD,EAAMoQ,GAAawhG,cAAc,EAAMtzG,MAAO6E,EAAGlJ,MAAOuG,MAAMjD,UAAUgD,QAAQoC,KAAKZ,KAAKurG,MAAM1vF,SAAUslF,KAEvG9yF,GAEX46F,EAASztG,UAAUgxG,oBAAsB,SAAUrL,GAC/C,GAAI1kG,GAAOuD,KAAKgtG,YAAY7L,GACxBhsF,EAAYH,GAAevY,EAAMuD,KAAKupG,eAAer0F,OACpDzX,GAAkBhB,IAAyC,gBAAvBuD,MAAKyyF,WAAW,IACtB,gBAAvBzyF,MAAKyyF,WAAW,GAQxBzyF,KAAKktG,eACDr0G,KAAMsoG,EACN1nG,KAAM0b,GAAaA,EAAUnV,KAAKupG,eAAer0F,OAAOzb,MACxDgD,KAAMA,GAVVuD,KAAKktG,eACDr0G,KAAMsoG,EACN1nG,KAAM0nG,GAAMA,EAAGroG,UAAU2Y,OACzBhV,KAAMuD,KAAKyyF,aAWvBwW,EAASztG,UAAUgyG,YAAc,SAAUrM,EAAI//F,GAC3C,GAAIpB,KAAK+rG,UAAU5K,KAAQA,EAAG3oG,UAAUC,SAASivG,GAAWjO,WAAaz5F,KAAKsqG,OAAQ,CAC7EtqG,KAAKkjG,cACNljG,KAAKutG,eAETpM,EAAG3oG,UAAU+L,IAAImjG,GAAWjO,UAC5B0H,EAAGt9F,aAAa,gBAAiB,QACjC7D,KAAKstG,cACLttG,KAAKwsG,oBAAoBrL,GACrBnhG,KAAKwpG,sBACLxpG,KAAKypG,qBAAqB+D,YAAYrM,EAAI//F,EAE9C,IAAIiN,GAAYrO,KAAKqtG,gBAAgBlM,EAAI//F,EACzCpB,MAAKooB,QAAQ,SAAU/Z,GACvBrO,KAAK8vG,WAAa3O,EAClBnhG,KAAK4vG,cAAczO,KAG3B8H,EAASztG,UAAUoyG,WAAa,SAAUzM,GACtC,GAAInhG,KAAK+rG,UAAU5K,KAAQA,EAAG3oG,UAAUC,SAASivG,GAAWE,QAAU5nG,KAAKsqG,OAAQ,CAC/E,GAAIyF,GAAS/vG,KAAKnG,QAAQe,iBAAiB,IAAM8sG,GAAWE,MACxDmI,IAAUA,EAAOx3G,QACjBiM,EAAYurG,EAAQrI,GAAWE,OAE9BzG,EAAG3oG,UAAUC,SAASivG,GAAWjO,YAAaz5F,KAAKkjG,cACpD/B,EAAG3oG,UAAU+L,IAAImjG,GAAWE,SAIxCqB,EAASztG,UAAUw0G,eAAiB,SAAU/B,GAC1C,GACIlK,GADAgM,EAAS/vG,KAAKurG,MAAMzoG,cAAc,IAAM4kG,GAAWE,MAKvD,IAHKmI,IACDA,EAAS/vG,KAAKurG,MAAMzoG,cAAc,IAAM4kG,GAAWjO,WAEnDsW,EACAhM,EAAY5jD,GAASyjD,aAAa5jG,KAAKurG,MAAM3wG,iBAAiB,IAAM8sG,GAAWK,UAAWgI,EAAQ9B,OAGlG,IAAIA,EAAM,CACN,GAAIgC,GAASjwG,KAAKurG,MAAM3wG,iBAAiB,IAAM8sG,GAAWK,SAC1DhE,GAAYkM,EAAOA,EAAO13G,OAAS,OAGnCwrG,GAAY/jG,KAAKurG,MAAMzoG,cAAc,IAAM4kG,GAAWK,SAG9D/nG,MAAK4tG,WAAW7J,IAGpBkF,EAASztG,UAAUyuG,SAAW,WAC1B,GAAIiG,GAAYlwG,KAAK4pG,UACrB,IAAIsG,EAAU33G,OAAQ,CAElB,IAAK,GADD0gE,GAAKj5D,KAAKmwG,UACL9xG,EAAK,EAAG+xG,EAAcF,EAAW7xG,EAAK+xG,EAAY73G,OAAQ8F,IAAM,CACrE,GAAIhB,GAAM+yG,EAAY/xG,GAClB40D,IACJA,GAAMjzD,KAAKkV,OAAOvR,IAAMtG,EACxB2C,KAAKqwG,UAAYrwG,KAAKswG,eAAer3C,EAAIhG,EACzC,IAAI99C,GAAYH,GAAehV,KAAKqwG,UAAWrwG,KAAKupG,eAAer0F,OACnE+jD,GAAKj5D,KAAKqwG,UAAYl7F,EAAUnV,KAAKkV,OAAOpU,OAASm4D,EAEzD,MAAOA,GAEX,MAAOj5D,MAAKmwG,WAEhBlH,EAASztG,UAAUwxG,YAAc,SAAU7L,GACvC,GACIoP,GADAr7F,EAASlV,KAAKwwG,cAAcrP,EAQhC,OALIoP,GADA9yG,EAAkBuC,KAAKurG,MAAMzoG,cAAc,IAAM4kG,GAAWnG,YAAcvhG,KAAKkV,OAAOmvF,QAC9ErkG,KAAKgqG,UAGLhqG,KAAKyyF,WAEVzyF,KAAKswG,eAAeC,EAAOr7F,IAEtC+zF,EAASztG,UAAU80G,eAAiB,SAAU7d,EAAYv9E,EAAQnU,GAC9D,GACI0vG,GADA1wG,EAAQC,IA+BZ,OA7BIyyF,IAAcA,EAAWl6F,QAAU2c,EACnCu9E,EAAW5/D,KAAK,SAAUp2B,GACtB,GAAI0Y,GAAYH,GAAevY,EAAMsD,EAAMwpG,eAAer0F,OAE1D,KAAKA,EAAOnV,EAAMmV,OAAOvR,MAAOuR,EAAOnV,EAAMmV,OAAOzb,OAC9Cyb,EAAOnV,EAAMmV,OAAOvR,OAASlG,EAAkB0X,EAAUpV,EAAMmV,OAAOvR,MACpEwR,EAAUpV,EAAMmV,OAAOvR,IAAIhD,cAAgBuU,EAAOnV,EAAMmV,OAAOvR,IAAIhD,YACrEuU,EAAOnV,EAAMmV,OAAOzb,OAAS0b,EAAUpV,EAAMmV,OAAOzb,QAAUyb,EAAOnV,EAAMmV,OAAOzb,MAGnF,GAAoB,gBAATgD,KAAmD,IAA9Bg2F,EAAWj0F,QAAQ/B,GACpDg0G,EAAc1vG,EAAS0xF,EAAah2F,MAEnC,KAAKgB,EAAkByX,EAAOnV,EAAMmV,OAAOvR,MAAQlG,EAAkB0X,EAAUpV,EAAMmV,OAAOvR,KAAM,CACnG,GAAIw9F,GAAKphG,EAAMlG,QAAQiJ,cAAc,cAC/BoS,EAAOnV,EAAMmV,OAAOvR,IAAM,KAC5Bw9F,IAAMA,EAAGroG,UAAU2Y,SAAW0D,EAAUpV,EAAMmV,OAAOzb,QACrDg3G,EAAah0G,OAGZ0Y,GAAU7N,eAAevH,EAAMmV,OAAOpU,QAAUqU,EAAUpV,EAAMmV,OAAOpU,OAAOvI,SACnFk4G,EAAa1wG,EAAMuwG,eAAen7F,EAAUpV,EAAMmV,OAAOpU,OAAQoU,EAAQnU,QAbzE0vG,GAAc1vG,EAAS0xF,EAAah2F,CAexC,SAASg0G,IAIbA,EAAahe,EAEVge,GAEXxH,EAASztG,UAAUk1G,SAAW,WAC1B,GAAIC,MACA72G,EAASkG,KAAKlG,MAAQkG,KAAKlG,MAAQ,GAAIu4D,GAC3C,KAAKryD,KAAKlG,MAAO,CACb,IAAK,GAAIuE,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAK0C,KAAKkV,OAAO3R,YAAalF,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAC7E,GAAIuyG,GAAS5tG,EAAG3E,EACD,eAAXuyG,GAA6B5wG,KAAKkV,OAAO07F,IACzC5wG,KAAKkV,OAAO07F,KACRzwD,GAAS4iD,oBAAoB6N,KACY,IAA1CD,EAAQnyG,QAAQwB,KAAKkV,OAAO07F,KAC/BD,EAAQ33G,KAAKgH,KAAKkV,OAAO07F,IAGjC92G,EAAM6L,OAAOgrG,GACT3wG,KAAKkV,OAAO3R,WAAW+D,eAAe,cACtCxN,EAAMw4D,KAAKtyD,KAAKkV,OAAO0+C,WAG/B,MAAO95D,IAEXmvG,EAASztG,UAAUq1G,kBAAoB,SAAUpe,OAC1B,KAAfA,IAAyBA,EAAazyF,KAAKmwG,WAC3C1d,GAAczyF,KAAKkV,OAAOmvF,QAC1BrkG,KAAKgqG,UAAY7pD,GAAS+jD,gBAAgBzR,EAAYzyF,KAAKupG,eAAer0F,OAAQlV,KAAKmkG,WAElF1R,GAAiC,SAAnBzyF,KAAKmkG,UACxBnkG,KAAKgqG,UAAY7pD,GAASmkD,cAAc7R,EAAYtyC,GAASokD,WAAWvkG,KAAKmkG,UAAWnkG,KAAKkV,OAAO0/C,SAGpG50D,KAAKgqG,UAAYvX,GAGzBwW,EAASztG,UAAUs1G,cAAgB,WAC/B,MAAO9wG,MAAKurG,MAAM/yG,UAAUC,SAAS,eAEzCwwG,EAASztG,UAAUu1G,aAAe,WAC9B,GAAIhxG,GAAQC,IAEZ,IADAA,KAAKooB,QAAQ,eACTpoB,KAAKyyF,qBAAsB93B,IAC3B36D,KAAKyyF,WAAWn/B,aAAatzD,KAAK0wG,YAAYlV,KAAK,SAAUp6F,GACrDrB,EAAMy0B,cAGVz0B,EAAMowG,UAAY/uG,EAAEpC,OACpBe,EAAMixG,aACNjxG,EAAMqoB,QAAQ,iBAAkBhnB,MACjC47F,MAAM,SAAU57F,GACXrB,EAAMy0B,aAGVz0B,EAAMqoB,QAAQ,gBAAiBhnB,SAGlC,IAAKpB,KAAKyyF,YAAezyF,KAAKyyF,WAAWl6F,OAW1CyH,KAAKmwG,UAAYnwG,KAAKyyF,WACtBzyF,KAAKgxG,aACLhxG,KAAKooB,QAAQ,kBAAoB3rB,KAAMuD,KAAKmwG,gBAbM,CAClD,GAAI/O,GAAKphG,KAAKnG,QAAQiJ,cAAc,KAChCs+F,KACA18F,EAAO08F,GACPphG,KAAK2H,eAAgB8qF,WAAYtyC,GAASukD,sBAAsBtD,KAAO,GACvEphG,KAAKmwG,UAAYnwG,KAAKyyF,WACtBzyF,KAAKgxG,aACLhxG,KAAKooB,QAAQ,kBAAoB3rB,KAAMuD,KAAKmwG,eASxDlH,EAASztG,UAAUmuG,SAAW,WAC1B3pG,KAAKnG,QAAQW,UAAY,GACzBwF,KAAKyqG,UAAYzqG,KAAKqlG,UAAYrlG,KAAKulG,iBAAensG,GACtD4G,KAAK+wG,eACL/wG,KAAKgyB,UAETi3E,EAASztG,UAAU0uG,iBAAmB,WAClClqG,KAAK6wG,kBAAkB7wG,KAAKgqG,WAC5BhqG,KAAK8pG,iBAAiBtvG,UAAY,GAClCwF,KAAK2hG,aACL3hG,KAAKixG,cAAcjxG,KAAKurG,QAE5BtC,EAASztG,UAAUmmG,WAAa,WAC5B3hG,KAAK2rG,qBACL3rG,KAAK4rG,cAAe,EACpB5rG,KAAKqlG,UAAYrlG,KAAKurG,MAAQprD,GAASwhD,WAAW3hG,KAAKyB,cAAezB,KAAKgqG,UAAWhqG,KAAKupG,gBAC3FvpG,KAAKulG,aAAevlG,KAAKurG,MAAM3wG,iBAAiB,IAAM8sG,GAAWK,WAErEkB,EAASztG,UAAUo0G,cAAgB,SAAUzO,GACzC,GAAIuF,GAAMvF,EAAG16F,aAAa,WAC1B,IAAI06F,EAAG3oG,UAAUC,SAASivG,GAAWnG,WAAamF,EAAK,CACnD,GAAItF,GAAKr7F,EAAQo7F,EAAGrmG,WAAY,IAAM4sG,GAAWI,YAC7C1jG,EAAMpE,KAAKnG,QAAQiJ,cAAc,SAAY4jG,EAAM,KAGvD,IAFA1mG,KAAK4pG,WAAW5wG,KAAK0tG,GACrB1mG,KAAK6wG,kBAAkB7wG,KAAKiqG,aACvB7lG,EAAK,CACN,GAAI3H,GAAOuD,KAAKgqG,WAChB5lG,EAAM+7C,GAASiiD,mBAAmBpiG,KAAKyB,cAAehF,EAAMuD,KAAKupG,eAAgBvpG,KAAK4pG,WAAWrxG,SAC7FsL,aAAa,MAAO6iG,GACxBtiG,EAAIQ,MAAMyhD,QAAU,OACpBrmD,KAAKixG,cAAc7sG,GAIvB,GAFApE,KAAK+qG,WAAW3J,EAAIh9F,GACpBpE,KAAKulG,aAAevlG,KAAKurG,MAAM3wG,iBAAiB,IAAM8sG,GAAWK,UAC7D/nG,KAAKktG,cAAe,CACpB,GAAI/3F,GAAYH,GAAehV,KAAKktG,cAAczwG,KAAMuD,KAAKupG,eAAer0F,OAC5ElV,MAAKgyB,OAAQ7c,EAAUnV,KAAKupG,eAAer0F,OAAOzb,OAAQ,GAE9DuG,KAAK8vG,eAAa12G,KAG1B6vG,EAASztG,UAAUy1G,cAAgB,SAAU7sG,GACzCpE,KAAK8pG,iBAAiB/nG,YAAYqC,IAEtC6kG,EAASztG,UAAUw1G,WAAa,SAAUv0G,GACtCuD,KAAK6wG,kBAAkBp0G,GACnBuD,KAAKwpG,sBAAwBjrG,OAAOjB,KAAK0C,KAAKyyF,YAAYl6F,SACtDyH,KAAKwQ,UAAYxQ,KAAKylG,iBACtBzlG,KAAKupG,eAAe/4F,SAAW,KAC/BxQ,KAAKupG,eAAe9D,cAAgB,KACpCzlG,KAAKupG,eAAe1G,YAAc7iG,KAAKypG,qBAAqByH,aAAaz1G,KAAKuE,KAAKypG,uBAEvFzpG,KAAKypG,qBAAqB0H,qBAG1BnxG,KAAK2hG,aACL3hG,KAAK8pG,iBAAmB9pG,KAAKyB,cAAc,OAASiC,UAAWgkG,GAAWhtG,UAC1EsF,KAAKnG,QAAQkI,YAAY/B,KAAK8pG,kBAC9B9pG,KAAKixG,cAAcjxG,KAAKqlG,aAGhC4D,EAASztG,UAAUg1G,cAAgB,SAAUzzG,GACzC,GAAImY,KAOJ,OANInY,aAAeq0G,SACfl8F,EAAOlV,KAAKkV,OAAOvR,IAAM5G,EAAI0J,aAAa,YAG1CyO,EAASnY,EAENmY,GAKX+zF,EAASztG,UAAU+iD,OAAS,WACxBv+C,KAAKnG,QAAQrB,UAAU+L,IAAImjG,GAAWC,MACtC5jG,EAAW/D,KAAKnG,SAAWuZ,KAAM,OAAQi+F,SAAU,MACnDrxG,KAAKmpG,cACLnpG,KAAKspG,eACLtpG,KAAKopG,YACLppG,KAAKqpG,UACLrpG,KAAKkmB,aACLlmB,KAAKgyB,SACLhyB,KAAK+wG,eACL/wG,KAAKkpG,mBACLlpG,KAAKsxG,SAAW5lG,GAAa1L,KAAKnG,SAC9B+L,SAAU,IAAM8hG,GAAWK,YAMnCkB,EAASztG,UAAUqY,QAAU,WACzB7T,KAAKu+F,cACL,IAAIgT,IAAW7J,GAAWC,KAAM3nG,KAAKsU,SAAUozF,GAAWY,QAAS,QAC/D,eAAgB,YACpB9jG,IAAaxE,KAAKnG,SAAU03G,GAC5BvxG,KAAKsxG,WACLtxG,KAAKnG,QAAQyS,gBAAgB,QAC7BtM,KAAKnG,QAAQyS,gBAAgB,YAC7BtM,KAAKnG,QAAQW,UAAY,GACzBwF,KAAKurG,MAAQvrG,KAAKqlG,UAAYrlG,KAAKulG,aAAevlG,KAAKyqG,cAAYrxG,GACnEs/B,EAAOl9B,UAAUqY,QAAQjT,KAAKZ,OAKlCipG,EAASztG,UAAU2xG,KAAO,WACtB,GAAIqE,GAAMxxG,KAAK4pG,WAAW5pG,KAAK4pG,WAAWrxG,OAAS,EACnD,QAAYa,KAARo4G,IAAqBxxG,KAAK8wG,gBAA9B,CAGA9wG,KAAK4pG,WAAW6H,MAChBzxG,KAAK6wG,kBAAkB7wG,KAAKiqG,WAC5B,IAAIyH,GAAO1xG,KAAKnG,QAAQiJ,cAAc,cAAiB0uG,EAAM,MACzDG,EAAS3xG,KAAKurG,KACbmG,GAMDA,EAAOA,EAAK37F,eALZ/V,KAAK2hG,aACL3hG,KAAKixG,cAAcjxG,KAAKqlG,WACxBqM,EAAO1xG,KAAKurG,MAKhB,IACI9xG,GADYub,GAAehV,KAAKqwG,UAAWrwG,KAAKupG,eAAer0F,QAC9ClV,KAAKkV,OAAOzb,KACjCuG,MAAK+qG,WAAW4G,EAAQD,GAAM,GAC9B1xG,KAAKotG,aACL,IAAIjM,GAAKnhG,KAAKnG,QAAQiJ,cAAc,cAAiB0uG,EAAM,KAC3DrQ,GAAG3oG,UAAU+L,IAAImjG,GAAWG,SACxB7nG,KAAKkjG,cAAgB/B,EAAGr+F,cAAc,IAAM4kG,GAAWiB,cAAcnwG,UAAUC,SAASivG,GAAW3zF,SACnGotF,EAAGt9F,aAAa,gBAAiB,SAGjCs9F,EAAG3oG,UAAUkM,OAAOgjG,GAAWjO,UAC/B0H,EAAGt9F,aAAa,gBAAiB,UAErC7D,KAAKulG,aAAevlG,KAAKurG,MAAM3wG,iBAAiB,IAAM8sG,GAAWK,UACjE/nG,KAAKgyB,OAAQhyB,KAAK4pG,WAAWrxG,OAASkB,EAAOuG,KAAK6pG,cAAe7pG,KAAK4pG,WAAWrxG,UAMrF0wG,EAASztG,UAAUo2G,WAAa,SAAU70G,GACjCU,EAAkBV,KACfiD,KAAKwpG,qBACLxpG,KAAKypG,qBAAqBmI,WAAW70G,GAEhCiD,KAAKkjG,aACVljG,KAAKytG,cAAcztG,KAAKusG,sBAAsBxvG,IAG9CiD,KAAKwtG,YAAYxtG,KAAKusG,sBAAsBxvG,MAIxDksG,EAASztG,UAAU+wG,sBAAwB,SAAUxvG,GACjD,GAAIokG,EACJ,KAAK1jG,EAAkBV,GACnB,GAAkC,gBAAvBiD,MAAKyyF,WAAW,IAAiD,gBAAvBzyF,MAAKyyF,WAAW,GACjE,GAAI11F,YAAeq0G,UAEf,IAAK,GADD1xG,GAAM3C,EAAI0J,aAAa,YAAY9F,WAC9BtI,EAAI,EAAGA,EAAI2H,KAAKulG,aAAahtG,OAAQF,IAC1C,GAAI2H,KAAKulG,aAAaltG,GAAGoO,aAAa,YAAY9F,aAAejB,EAAK,CAClEyhG,EAAKnhG,KAAKulG,aAAaltG,EACvB,YAKRoG,OAAMjD,UAAUq3B,KAAKjyB,KAAKZ,KAAKurG,MAAM3wG,iBAAiB,IAAM8sG,GAAWK,UAAW,SAAUlvG,GACxF,MAAIA,GAAKC,UAAU2Y,SAAW1U,EAAI4D,aAC9BwgG,EAAKtoG,GACE,SAQlB,CACD,GAAI43G,GAAazwG,KAAKgtG,YAAYjwG,GAC9BoY,EAAYH,GAAey7F,EAAYzwG,KAAKupG,eAAer0F,OAC/D,IAAIu7F,IACAtP,EAAKnhG,KAAKnG,QAAQiJ,cAAc,cAC1BqS,EAAUnV,KAAKkV,OAAOvR,IAAM,MAC9BlG,EAAkB0jG,IAElB,IAAK,GADDwM,GAAQ3tG,KAAKnG,QAAQe,iBAAiB,IAAM8sG,GAAWK,UAClD1vG,EAAI,EAAGA,EAAIs1G,EAAMp1G,OAAQF,IAC1Bs1G,EAAMt1G,GAAGS,UAAU2Y,SAAWg/F,EAAWh3G,OACzC0nG,EAAKwM,EAAMt1G,IAOnC,MAAO8oG,IAMX8H,EAASztG,UAAUq2G,oBAAsB,SAAU90G,GAC/C,IAAKU,EAAkBV,GACnB,IAAK,GAAI1E,GAAI,EAAGA,EAAI0E,EAAIxE,OAAQF,IACvBoF,EAAkBV,EAAI1E,KACvB2H,KAAK4xG,WAAW70G,EAAI1E,KAKpC4wG,EAASztG,UAAUs2G,YAAc,WAC7B,GAAIC,KACJ,IAAI/xG,KAAK4rG,aACL,IAAK,GAAIvzG,GAAI2H,KAAK4pG,WAAWrxG,OAAS,EAAGF,GAAK,EAAGA,IAC7C05G,EAAS/4G,KAAKgH,KAAK4pG,WAAWvxG,GAGtC,OAAO05G,IAMX9I,EAASztG,UAAUw2G,iBAAmB,WAElC,GADAhyG,KAAK8rG,cACD9rG,KAAKwpG,qBACL,MAAOxpG,MAAKypG,qBAAqBuI,kBAEhC,IAAIhyG,KAAKkjG,aAAc,CACxB,GAAIqC,GAAevlG,KAAKurG,MAAM/8F,uBAAuBk5F,GAAWjO,UAC5DwY,KACAC,IACJlyG,MAAK8rG,aAEL,KAAK,GADDqG,MACK95G,EAAI,EAAGA,EAAIktG,EAAahtG,OAAQF,IACrC,GAAkC,gBAAvB2H,MAAKyyF,WAAW,IAAiD,gBAAvBzyF,MAAKyyF,WAAW,GACjEwf,EAAiBj5G,KAAKusG,EAAaltG,GAAGS,UAAU2Y,YAE/C,CACD,GAAI2gG,GAAWpyG,KAAKgtG,YAAYzH,EAAaltG,IACzC8c,EAAYH,GAAeo9F,EAAUpyG,KAAKupG,eAAer0F,OACzDlV,MAAK4rG,aACLuG,EAAWn5G,MAAOyD,KAAM21G,EAAUL,SAAU/xG,KAAK8xG,gBAGjDI,EAAiBl5G,KAAKo5G,GAEtBj9F,GACA88F,EAAiBj5G,KAAKmc,EAAUnV,KAAKupG,eAAer0F,OAAOzb,OAC3DuG,KAAK8rG,WAAW9yG,KAAKmc,EAAUnV,KAAKupG,eAAer0F,OAAOvR,OAG1DsuG,EAAiBj5G,SAAKI,IACtB4G,KAAK8rG,WAAW9yG,SAAKI,KAIjC,MAAkC,gBAAvB4G,MAAKyyF,WAAW,IAAiD,gBAAvBzyF,MAAKyyF,WAAW,IACxD55F,KAAM0sG,EAAc9oG,KAAMuD,KAAKyyF,WAAYh5F,KAAMw4G,GAE1DjyG,KAAK4rG,cACI/yG,KAAM0sG,EAAc9oG,KAAM01G,EAAY14G,KAAMw4G,IAG5Cp5G,KAAM0sG,EAAc9oG,KAAMy1G,EAAkBz4G,KAAMw4G,GAI/D,GAAInL,GAAY9mG,KAAKnG,QAAQ2U,uBAAuBk5F,GAAWjO,UAAU,GACrEtkF,EAAYH,GAAehV,KAAKgtG,YAAYlG,GAAY9mG,KAAKupG,eAAer0F,OAChF,OAAkC,gBAAvBlV,MAAKyyF,WAAW,IAAiD,gBAAvBzyF,MAAKyyF,WAAW,GACxDh1F,EAAkBqpG,OAGvB1tG,IAFAP,KAAMiuG,EAAWrqG,KAAMuD,KAAKyyF,WAC5Bh5F,KAAMqtG,EAAUhuG,UAAU2Y,QAI1BhU,EAAkB0X,IAAc1X,EAAkBqpG,OAClD,IAGA9mG,KAAK8rG,WAAW9yG,KAAKmc,EAAUnV,KAAKupG,eAAer0F,OAAOvR,MAEtDlK,KAAM0b,EAAUnV,KAAKupG,eAAer0F,OAAOzb,MAAOZ,KAAMiuG,EACxDrqG,KAAMuD,KAAKgtG,YAAYlG,MAU3CmC,EAASztG,UAAU62G,SAAW,SAAUt1G,GACpC,MAAOiD,MAAKgtG,YAAYjwG,IAM5BksG,EAASztG,UAAU82G,WAAa,SAAUv1G,GACtCiD,KAAKuyG,aAAax1G,GAAK,GACnBiD,KAAKwpG,sBACLxpG,KAAKypG,qBAAqB6I,WAAWv1G,IAO7CksG,EAASztG,UAAUg3G,YAAc,SAAUz1G,GACvCiD,KAAKuyG,aAAax1G,GAAK,GACnBiD,KAAKwpG,sBACLxpG,KAAKypG,qBAAqB+I,YAAYz1G,IAI9CksG,EAASztG,UAAU+2G,aAAe,SAAUx1G,EAAK01G,GAC7C,GAAIhC,GAAazwG,KAAKgtG,YAAYjwG,GAC9BoY,EAAYH,GAAey7F,EAAYzwG,KAAKupG,eAAer0F,OAC/D,IAAIu7F,EAAY,CACZ,GAAItP,GAAKnhG,KAAKnG,QAAQiJ,cAAc,cAAgBqS,EAAUnV,KAAKkV,OAAOvR,IAAM,KAC5E8uG,IACItR,GACAA,EAAG3oG,UAAUkM,OAAOgjG,GAAWY,eAE5BmI,GAAWzwG,KAAKkV,OAAO0R,UAExB6rF,IACFtR,GACAA,EAAG3oG,UAAU+L,IAAImjG,GAAWY,SAEhCmI,EAAWzwG,KAAKkV,OAAO0R,UAAW,KAQ9CqiF,EAASztG,UAAUk3G,SAAW,SAAU31G,GACpCiD,KAAK2yG,aAAa51G,GAAK,EAAO,IAC1BiD,KAAKwpG,sBACLxpG,KAAKypG,qBAAqBiJ,SAAS31G,IAO3CksG,EAASztG,UAAUo3G,SAAW,SAAU71G,GACpCiD,KAAK2yG,aAAa51G,GAAK,EAAM,QACzBiD,KAAKwpG,sBACLxpG,KAAKypG,qBAAqBmJ,SAAS71G,IAG3CksG,EAASztG,UAAUm3G,aAAe,SAAU51G,EAAK+mB,EAAQuiC,GACrD,GAAIoqD,GAAazwG,KAAKgtG,YAAYjwG,GAC9BoY,EAAYH,GAAey7F,EAAYzwG,KAAKupG,eAAer0F,OAC/D,IAAIu7F,EAAY,CACZ,GAAItP,GAAKnhG,KAAKnG,QAAQiJ,cAAc,cAAgBqS,EAAUnV,KAAKkV,OAAOvR,IAAM,KAC5Ew9F,KACAA,EAAGv8F,MAAMyhD,QAAUA,GAEnBviC,EACA2sF,EAAWzwG,KAAKkV,OAAOvQ,YAAa,QAG7B8rG,GAAWzwG,KAAKkV,OAAOvQ,aAW1CskG,EAASztG,UAAUq3G,QAAU,SAAUp2G,EAAMyY,GACzC,GAAInV,GAAQC,IAEZ,QADe,KAAXkV,IAAqBA,MAAS9b,IAC9BqD,YAAgBgC,OAChB,GAAIuB,KAAKwpG,qBACLxpG,KAAKypG,qBAAqBoJ,QAAQp2G,EAAMyY,OAEvC,CACD,GAAI+jD,GAAKj5D,KAAKswG,eAAetwG,KAAKyyF,WAAYv9E,GAE1CpU,EADYkU,GAAeikD,EAAIj5D,KAAKupG,eAAer0F,QACjClV,KAAKkV,OAAOpU,MAC7BA,KACDA,MAEJA,EAAQA,EAAMmb,OAAOxf,GACjBw8D,YAAcx6D,QACdhC,EAAK2C,QAAQ,SAAUqzF,GAGnB,GAFA1yF,EAAM0yF,WAAWz5F,KAAKy5F,GACtB1yF,EAAM8wG,kBAAkB9wG,EAAM0yF,YAC1B1yF,EAAMslG,UAAW,CACjB,GAAIntG,GAAQ6H,EAAMiqG,UAAUxrG,QAAQi0F,EACpC1yF,GAAM+yG,YAAYrgB,EAAYv6F,EAC9B,IAAI8xG,GAAYjqG,EAAMiqG,UAAU9xG,EAAQ,EACpC8xG,IAAaA,EAAU50F,UAAuC,IAA3B40F,EAAUryG,MAAMY,QACnDwH,EAAM+yG,YAAY9I,EAAY9xG,EAAQ,OAI1C6H,GAAM4pG,aAGd3pG,KAAKulG,aAAevlG,KAAKurG,MAAM3wG,iBAAiB,IAAM8sG,GAAWK,YAGjE9uC,EAAGj5D,KAAKkV,OAAOpU,OAASA,EACxBd,KAAK2pG,cAKrBV,EAASztG,UAAUs3G,YAAc,SAAUrgB,EAAYv6F,GACnD,GAAI2Q,GAAS7I,KAAKusG,sBAAsBvsG,KAAKgqG,UAAU9xG,EAAQ,KAC3D8H,KAAKusG,sBAAsBvsG,KAAKgqG,UAAU9xG,EAAQ,KAAO,KACzDipG,EAAKhhD,GAAS2iD,uBAAuB9iG,KAAKyB,eAAgBgxF,GAAazyF,KAAKupG,eAChFvpG,MAAKqlG,UAAUjgG,aAAa+7F,EAAG,GAAIt4F,IAMvCogG,EAASztG,UAAUm/F,WAAa,SAAU59F,GAClCiD,KAAKwpG,qBACLxpG,KAAKypG,qBAAqB9O,WAAW59F,GAGrCiD,KAAK+yG,mBAAmBh2G,IAGhCksG,EAASztG,UAAUu3G,mBAAqB,SAAUh2G,GAC9C,GACI01F,GADAv9E,EAASnY,YAAeq0G,SAAUpxG,KAAKwwG,cAAczzG,GAAOA,CAGhE,IADA01F,EAAazyF,KAAKswG,eAAetwG,KAAKyyF,WAAYv9E,GAAQ,GAC1C,CACZ,GAAIzY,OAAO,EACXA,GAAOuD,KAAKswG,eAAe7d,EAAYv9E,EACvC,IAAIhd,GAAQ8H,KAAKgqG,UAAUxrG,QAAQ/B,EAC/BuD,MAAKkV,OAAOmvF,SAAWrkG,KAAKgqG,UAAU9xG,EAAQ,IAC9C8H,KAAKgqG,UAAU9xG,EAAQ,GAAGkd,UAEJ,IADrBpV,KAAKgqG,UAAU9xG,EAAQ,GACnBP,MAAMY,QACXgN,EAAOvF,KAAKusG,sBAAsBvsG,KAAKgqG,UAAU9xG,EAAQ,KAEzD8H,KAAKusG,sBAAsBxvG,IAC3BwI,EAAOvF,KAAKusG,sBAAsBxvG,GAEtC,IAAIi2G,GAAUvgB,EAAWj0F,QAAQ/B,EACjCg2F,GAAWvoE,OAAO8oF,EAAS,GAC3BhzG,KAAK6wG,kBAAkB7wG,KAAKyyF,YAC5BzyF,KAAKulG,aAAe9mG,MAAMjD,UAAUmG,MAAMf,KAAKZ,KAAKnG,QAAQe,iBAAiB,IAAM8sG,GAAWK,aAOtGkB,EAASztG,UAAUy3G,oBAAsB,SAAUl2G,GAC/C,GAAIA,EAAIxE,OACJ,IAAK,GAAIF,GAAI,EAAGA,EAAI0E,EAAIxE,OAAQF,IACxB2H,KAAKwpG,qBACLxpG,KAAK26F,WAAW59F,EAAI1E,IAGpB2H,KAAK+yG,mBAAmBh2G,EAAI1E,KAM5C4wG,EAASztG,UAAU0L,cAAgB,WAC/B,MAAO,YAEX+hG,EAASztG,UAAUylC,gBAAkB,WACjC,GAAIgB,KAIJ,OAHIjiC,MAAKwpG,sBACLvnE,EAAQjpC,MAAOiH,MAAOD,MAAO0hC,OAAQ,mBAElCO,GAKXgnE,EAASztG,UAAUwjD,eAAiB,WAChC,MAAOh/C,MAAKy/C,cAAc,WAAY,YAAa,iBAC/C,SAAU,SAAU,YAAa,cACjC,YAAa,WAAY,SAAU,QAAS,eAAgB,sBAEpExnB,IACIrvB,MACDqgG,EAASztG,UAAW,eAAY,IACnCy8B,IACIrvB,IAAS,IACVqgG,EAASztG,UAAW,2BAAwB,IAC/Cy8B,IACIrvB,QACDqgG,EAASztG,UAAW,qBAAkB,IACzCy8B,IACIrvB,IAAS,IACVqgG,EAASztG,UAAW,aAAU,IACjCy8B,IACIrvB,QACDqgG,EAASztG,UAAW,iBAAc,IACrCy8B,IACIrvB,MACDqgG,EAASztG,UAAW,YAAS,IAChCy8B,IACI5uB,GAAQ82C,GAAS4iD,oBAAqBiG,KACvCC,EAASztG,UAAW,aAAU,IACjCy8B,IACIrvB,IAAWyiG,OAAQ,YAAa5+F,SAAU,IAAKmV,OAAQ,UACxDqnF,EAASztG,UAAW,gBAAa,IACpCy8B,IACIrvB,GAAS,SACVqgG,EAASztG,UAAW,gBAAa,IACpCy8B,IACIrvB,IAAS,IACVqgG,EAASztG,UAAW,eAAY,IACnCy8B,IACIrvB,IAAS,IACVqgG,EAASztG,UAAW,mBAAgB,IACvCy8B,IACIrvB,GAAS,SACVqgG,EAASztG,UAAW,uBAAoB,IAC3Cy8B,IACIrvB,GAAS,KACVqgG,EAASztG,UAAW,kBAAe,IACtCy8B,IACIrvB,IAAS,IACVqgG,EAASztG,UAAW,iBAAc,IACrCy8B,IACIrvB,GAAS,KACVqgG,EAASztG,UAAW,aAAU,IACjCy8B,IACIrvB,GAAS,KACVqgG,EAASztG,UAAW,YAAS,IAChCy8B,IACIrvB,GAAS,OACVqgG,EAASztG,UAAW,eAAY,IACnCy8B,IACIrvB,GAAS,OACVqgG,EAASztG,UAAW,qBAAkB,IACzCy8B,IACIrvB,GAAS,OACVqgG,EAASztG,UAAW,oBAAiB,IACxCy8B,IACIxuB,MACDw/F,EAASztG,UAAW,aAAU,IACjCy8B,IACIxuB,MACDw/F,EAASztG,UAAW,kBAAe,IACtCy8B,IACIxuB,MACDw/F,EAASztG,UAAW,qBAAkB,IACzCy8B,IACIxuB,MACDw/F,EAASztG,UAAW,oBAAiB,IACxCytG,EAAWhxE,IACPluB,IACDk/F,IAELrrD,IEznDEs1D,GAAgC,WAChC,QAASA,GAAe/vG,GACpBnD,KAAKmzG,iBAAmBhwG,EAuzB5B,MArzBA+vG,GAAe13G,UAAU21G,iBAAmB,WACxC,GAAInH,GAAYhqG,KAAKmzG,iBAAiBnJ,UAClCoJ,EAAUpJ,EAAUroG,MAAM,EAAG,EACjC3B,MAAKmzG,iBAAiB9N,UAAYrlG,KAAKmzG,iBAAiB5H,MAAQprD,GAASwhD,WAAW3hG,KAAKmzG,iBAAiB1xG,cAAe2xG,EAASpzG,KAAKmzG,iBAAiB5J,gBACxJvpG,KAAKmzG,iBAAiBrJ,iBAAmB9pG,KAAKmzG,iBAAiB1xG,cAAc,OAASiC,UAAWgkG,GAAWhtG,UAC5GsF,KAAKmzG,iBAAiBt5G,QAAQkI,YAAY/B,KAAKmzG,iBAAiBrJ,kBAChE9pG,KAAKmzG,iBAAiBrJ,iBAAiB/nG,YAAY/B,KAAKmzG,iBAAiB9N,WACzErlG,KAAK6uG,eAAiB7uG,KAAKmzG,iBAAiB9N,UAAUhgG,kBAAkBsH,wBAAwB6K,OAChGxX,KAAKqzG,qBAAuBrzG,KAAKszG,kBAAkB,KACnDtzG,KAAKuzG,aAAevzG,KAAKszG,kBAAkB/0G,OAAOjB,KAAK0C,KAAKmzG,iBAAiBnJ,WAAWzxG,QACxFyH,KAAK2uG,aAAe,EACpB3uG,KAAKwzG,YAAcxzG,KAAKuzG,aAAe,EACvCvzG,KAAKyzG,iBAAgB,EACrB,IAAIC,GAAU1J,EAAUroG,MAAM,EAAG3B,KAAKuzG,aAEtCjuG,GADgB66C,GAAS2iD,uBAAuB9iG,KAAKmzG,iBAAiB1xG,cAAeiyG,EAAS1zG,KAAKmzG,iBAAiB5J,gBAClGvpG,KAAKmzG,iBAAiB9N,WACxCrlG,KAAKmzG,iBAAiB5N,aAAevlG,KAAKmzG,iBAAiB5H,MAAM3wG,iBAAiB,MAClFoF,KAAK2zG,WAAa3zG,KAAKmzG,iBAAiB1xG,cAAc,OACtDzB,KAAKmzG,iBAAiB9N,UAAUjgG,aAAapF,KAAK2zG,WAAY3zG,KAAKmzG,iBAAiB9N,UAAUhgG,mBAC9FrF,KAAK4zG,cAAgB5zG,KAAKmzG,iBAAiB1xG,cAAc,OACzDzB,KAAKmzG,iBAAiB9N,UAAUjgG,aAAapF,KAAK4zG,cAAe,MACjE5zG,KAAK6zG,YAAet1G,OAAOjB,KAAK0sG,GAAWzxG,OAASyH,KAAK6uG,eAAmB7uG,KAAKuzG,aAAevzG,KAAK6uG,eACrG7uG,KAAK2zG,WAAW/uG,MAAM4S,OAAS,MAC/BxX,KAAK4zG,cAAchvG,MAAM4S,OAASxX,KAAK6zG,YAAc,KACrD7zG,KAAK8zG,iBAAmB,EACxB9zG,KAAK+zG,oBAAsB/zG,KAAK6zG,YAChC7zG,KAAKg0G,SAAW,EAChBh0G,KAAKi0G,2BAETf,EAAe13G,UAAUi4G,gBAAkB,SAAU5/F,GAC5CA,EAUD7T,KAAKmzG,iBAAiB/I,SAAWpuG,OAAOY,oBAAoB,SAAUoD,KAAKk0G,iBACvEzuG,GAAaf,OAAO1E,KAAKmzG,iBAAiBt5G,QAAS,SAAUmG,KAAKm0G,mBAVlEn0G,KAAKmzG,iBAAiB/I,UACtBpqG,KAAKk0G,gBAAkBl0G,KAAKm0G,kBAAkB14G,KAAKuE,MACnDhE,OAAOU,iBAAiB,SAAUsD,KAAKk0G,kBAGvCzuG,GAAalB,IAAIvE,KAAKmzG,iBAAiBt5G,QAAS,SAAUmG,KAAKm0G,kBAAmBn0G,OAQ9FkzG,EAAe13G,UAAU83G,kBAAoB,SAAUc,GACnD,GAAIC,GAAYr0G,KAAKmzG,iBAAiB/I,SAAWh9F,KAAKknG,MAAOt4G,OAAO+e,YAAc/a,KAAK6uG,eAAkB,GACrGzhG,KAAKknG,MAAOt0G,KAAKmzG,iBAAiB37F,OAASxX,KAAK6uG,eAAkB,IAItE,OAHIwF,GAAYD,IACZC,EAAYD,GAETC,GAEXnB,EAAe13G,UAAUy4G,wBAA0B,WAC/C,GAAIl0G,GAAQC,IACZA,MAAKu0G,WAAcC,iBAAqBC,uBAA2BC,sBACnE10G,KAAKmzG,iBAAiBnJ,UAAU5qG,QAAQ,SAAU65D,EAAI/gE,GAC9C6H,EAAMozG,iBAAiBjQ,cAAgBjqC,EAAGl5D,EAAMozG,iBAAiBj+F,OAAO+xF,YACxElnG,EAAMw0G,UAAUC,cAAcx7G,KAAKd,GAElCuF,EAAkBw7D,EAAGl5D,EAAMozG,iBAAiBj+F,OAAO0R,WAAcqyC,EAAGl5D,EAAMozG,iBAAiBj+F,OAAO0R,UACnG7mB,EAAMw0G,UAAUE,oBAAoBz7G,KAAKd,MAIrDg7G,EAAe13G,UAAUm5G,kBAAoB,WACzC,MAAO30G,MAAKmzG,iBAAiB/I,SAActmD,YAAc9jD,KAAK40G,gBAAmB,EAAK,EACjF9wD,YAAc9jD,KAAK40G,eAAqB50G,KAAKmzG,iBAAiBt5G,QAAQqT,UAAYlN,KAAK40G,gBAAmB,EAAK,EAC/G50G,KAAKmzG,iBAAiBt5G,QAAQqT,UAAYlN,KAAK40G,gBAExD1B,EAAe13G,UAAU24G,kBAAoB,WACrC12G,EAAkBuC,KAAK40G,kBACnB50G,KAAKmzG,iBAAiB/I,SACtBpqG,KAAK40G,eAAiB75G,SAASoS,gBAAgBR,wBAAwB6K,OACnExX,KAAKmzG,iBAAiB9N,UAAU14F,wBAAwB6K,OAG5DxX,KAAK40G,eAAiB50G,KAAKmzG,iBAAiB1I,UAAYzqG,KAAKmzG,iBAAiB1I,UAAU99F,wBAAwB6K,OAAS,EAE7HxX,KAAK60G,eAAiB,EAE1B,IAAIC,GAAS90G,KAAK20G,mBAKlB,IAJA30G,KAAK8zG,iBAAmB9zG,KAAK6uG,eAAiBzhG,KAAKwT,MAAMk0F,EAAS90G,KAAK6uG,gBACvE7uG,KAAK+zG,oBAAsB/zG,KAAK6zG,YAAc7zG,KAAK8zG,iBACnD9wG,EAAK8xG,GAAU90G,KAAK6zG,aACf7zG,KAAK8zG,iBAAkB9zG,KAAK+zG,sBAAwB/zG,KAAK6zG,YAAa,GAAI7zG,KAAK8zG,iBAAmB9wG,EAAG,GAAIhD,KAAK+zG,oBAAsB/wG,EAAG,GACxIhD,KAAK8zG,mBAAqBh0F,WAAW9f,KAAK2zG,WAAW/uG,MAAM4S,QAAS,CAGpE,GAFAxX,KAAK2zG,WAAW/uG,MAAM4S,OAASxX,KAAK8zG,iBAAmB,KACvD9zG,KAAK4zG,cAAchvG,MAAM4S,OAASxX,KAAK+zG,oBAAsB,KACzDe,EAAS90G,KAAK60G,gBACVb,EAAah0G,KAAK8zG,iBAAmB9zG,KAAK6uG,eAAkB7uG,KAAKg0G,UACrDh0G,KAAKqzG,qBAAuB,EACxCrzG,KAAK+0G,aAAaf,GAAU,GAG5Bh0G,KAAKg1G,eAAehB,GAAU,OAGjC,CACD,GAAIA,GAAYh0G,KAAKg0G,SAAYh0G,KAAK8zG,iBAAmB9zG,KAAK6uG,cAC1DmF,GAAYh0G,KAAKqzG,qBAAuB,EACxCrzG,KAAK+0G,aAAaf,GAAU,GAG5Bh0G,KAAKg1G,eAAehB,GAAU,GAGtCh0G,KAAKg0G,SAAWh0G,KAAK8zG,iBAAmB9zG,KAAK6uG,eACK,kBAAvC7uG,MAAKmzG,iBAAiBvE,cAC7B5uG,KAAKmzG,iBAAiBvE,eAG9B5uG,KAAK60G,eAAiBC,CACtB,IAAI9xG,IAERkwG,EAAe13G,UAAUu5G,aAAe,SAAUf,EAAUiB,GACxD,GAAIl1G,GAAQC,KACR9H,EAAQ+8G,EAAmBj1G,KAAK2uG,aAAeqF,EAAah0G,KAAK2uG,aAAeqF,CACpFv1G,OAAMjD,UAAU4D,QAAQwB,KAAKZ,KAAKmzG,iBAAiB9N,UAAUzqG,iBAAiB,MAAO,SAAUf,GAC3FkG,EAAMm1G,SAASr7G,EAAS3B,GACxBA,MAEJ8H,KAAKwzG,YAAcyB,EAAmBj1G,KAAKwzG,YAAcQ,EAAah0G,KAAKwzG,YAAcQ,EACzFh0G,KAAK2uG,aAAesG,EAAmBj1G,KAAK2uG,aAAeqF,EAAah0G,KAAK2uG,aAAeqF,GAEhGd,EAAe13G,UAAUw5G,eAAiB,SAAUhB,EAAUiB,GAC1D,GAAIA,EACA,IAAS58G,EAAI,EAAGA,EAAI27G,EAAU37G,IAAK,CAC3BH,IAAU8H,KAAKwzG,WACnBxzG,MAAKk1G,SAASl1G,KAAK2zG,WAAWzT,mBAAoBhoG,EAAO8H,KAAK4zG,eAC9D5zG,KAAK2uG,mBAIT,KAAK,GAAIt2G,GAAI,EAAGA,EAAI27G,EAAU37G,IAAK,CAC/B,GAAIH,KAAU8H,KAAK2uG,aACf9lG,EAAS7I,KAAK2zG,WAAWwB,WAC7Bn1G,MAAKk1G,SAASl1G,KAAK4zG,cAAcwB,uBAAwBl9G,EAAO2Q,GAChE7I,KAAKwzG,gBAIjBN,EAAe13G,UAAU65G,gBAAkB,SAAUx7G,EAAS3B,GAC1D,GAAIo9G,GAAYt1G,KAAKmzG,iBAAiBnJ,SAatC,IAZmD,gBAAxChqG,MAAKmzG,iBAAiB1gB,WAAW,IACO,gBAAxCzyF,MAAKmzG,iBAAiB1gB,WAAW,IACxC54F,EAAQ07G,QAAQ71G,IAAMygD,GAASsiD,aAC/B5oG,EAAQ2U,uBAAuBk5F,GAAWO,cAAc,GAAGztG,UACvDwF,KAAKmzG,iBAAiBnJ,UAAU9xG,GAAOyI,aAG3C9G,EAAQ07G,QAAQ71G,IAAM41G,EAAUp9G,GAAO8H,KAAKmzG,iBAAiBj+F,OAAOvR,IAChE2xG,EAAUp9G,GAAO8H,KAAKmzG,iBAAiBj+F,OAAOvR,IAAIhD,WAAaw/C,GAASsiD,aAC5E5oG,EAAQ2U,uBAAuBk5F,GAAWO,cAAc,GAAGztG,UACvD86G,EAAUp9G,GAAO8H,KAAKmzG,iBAAiBj+F,OAAOzb,MAAMkH,YAExDX,KAAKmzG,iBAAiBhQ,WAClBtpG,EAAQiJ,cAAc,IAAM4kG,GAAWM,WACvCziG,EAAO1L,EAAQiJ,cAAc,IAAM4kG,GAAWM,WAE9ChoG,KAAKmzG,iBAAiBnJ,UAAU9xG,GAAO8H,KAAKmzG,iBAAiBj+F,OAAOgpF,UAAU,CAC9E,GAAIxkG,GAAcG,EAAQiJ,cAAc,IAAM4kG,GAAWhuG,aACrDmP,EAAS7I,KAAKmzG,iBAAiB1xG,cAAc,OAC7CiC,UAAWgkG,GAAWM,SAAW,IAC7BhoG,KAAKmzG,iBAAiBnJ,UAAU9xG,GAAO8H,KAAKmzG,iBAAiBj+F,OAAOgpF,UAE5ExkG,GAAY0L,aAAayD,EAAQhP,EAAQiJ,cAAc,IAAM4kG,GAAWO,eAGhF,GAAIjoG,KAAKmzG,iBAAiBjQ,cAAgBljG,KAAKmzG,iBAAiBj+F,OAAOmvF,QAAS,CACvErkG,KAAKw1G,mBACNx1G,KAAKw1G,iBAAmBx1G,KAAKmzG,iBAAiB5H,MAAMzoG,cAAc,IAAM4kG,GAAWc,iBAAiBxmG,WAAU,GAE9GtI,GAAcG,EAAQiJ,cAAc,IAAM4kG,GAAWhuG,YACrDsG,MAAKmzG,iBAAiBnJ,UAAU9xG,GAAOkd,SACnCvb,EAAQiJ,cAAc,IAAM4kG,GAAWc,mBACvC3uG,EAAQrB,UAAUkM,OAAOgjG,GAAWgB,WACpChvG,EAAYlB,UAAUkM,OAAOgjG,GAAWe,UACxCljG,EAAO1L,EAAQiJ,cAAc,IAAM4kG,GAAWc,mBAI7C3uG,EAAQiJ,cAAc,IAAM4kG,GAAWc,mBACxC3uG,EAAQrB,UAAU+L,IAAImjG,GAAWgB,WACjChvG,EAAYlB,UAAU+L,IAAImjG,GAAWe,UACrC/uG,EAAY0L,aAAapF,KAAKw1G,iBAAiBxzG,WAAU,GAAOnI,EAAQiJ,cAAc,IAAM4kG,GAAWO,kBAKvHiL,EAAe13G,UAAUi6G,wBAA0B,SAAU57G,EAAS3B,GASlE,GARA2B,EAAQrB,UAAUkM,OAAOgjG,GAAWY,SAChCtoG,KAAKu0G,UAAUE,oBAAoBl8G,SAAiE,IAAvDyH,KAAKu0G,UAAUE,oBAAoBj2G,QAAQtG,IACxF2B,EAAQrB,UAAU+L,IAAImjG,GAAWY,SAErCzuG,EAAQ+K,MAAMyhD,QAAU,GACpBrmD,KAAKu0G,UAAUG,kBAAkBn8G,SAA+D,IAArDyH,KAAKu0G,UAAUG,kBAAkBl2G,QAAQtG,KACpF2B,EAAQ+K,MAAMyhD,QAAU,QAExBrmD,KAAKmzG,iBAAiBjQ,aAAc,CACpC,GAAIwS,GAAmB77G,EAAQiJ,cAAc,IAAM4kG,GAAWc,gBAC9D3uG,GAAQrB,UAAUkM,OAAOgjG,GAAWjO,UACpC5/F,EAAQrB,UAAUkM,OAAOgjG,GAAWG,SAChC6N,IACAA,EAAiBppG,gBAAgB,gBACjCopG,EAAiBrwG,kBAAkB7M,UAAUkM,OAAOgjG,GAAW3zF,UAE/D/T,KAAKu0G,UAAUC,cAAcj8G,SAA2D,IAAjDyH,KAAKu0G,UAAUC,cAAch2G,QAAQtG,KAC3E8H,KAAKmzG,iBAAiB5H,MAAMzoG,cAAc4kG,GAAWjO,YACtD5/F,EAAQrB,UAAU+L,IAAImjG,GAAWjO,UACjCic,EAAiBrwG,kBAAkB7M,UAAU+L,IAAImjG,GAAW3zF,SAC5D2hG,EAAiB7xG,aAAa,eAAgB,QAC1C7D,KAAK21G,cAAgBz9G,GACrB2B,EAAQrB,UAAU+L,IAAImjG,GAAWG,cAKzChuG,GAAQrB,UAAUkM,OAAOgjG,GAAWjO,UACpC5/F,EAAQyS,gBAAgB,iBACnB7O,EAAkBuC,KAAK21G,cAAgB31G,KAAK21G,cAAgBz9G,GAC5D8H,KAAKmzG,iBAAiB5H,MAAMzoG,cAAc4kG,GAAWjO,YACtD5/F,EAAQrB,UAAU+L,IAAImjG,GAAWjO,UACjC5/F,EAAQgK,aAAa,gBAAiB,QAG1C7D,MAAKmzG,iBAAiBj+F,OAAOmvF,UACzBrkG,KAAKmzG,iBAAiBnJ,UAAU9xG,GAAOkd,SACnCvb,EAAQrB,UAAUC,SAASivG,GAAWK,YACtCluG,EAAQrB,UAAUkM,OAAOgjG,GAAWK,UACpCluG,EAAQgK,aAAa,OAAQ,SAC7BhK,EAAQrB,UAAU+L,IAAImjG,GAAWQ,gBAIjCruG,EAAQrB,UAAUC,SAASivG,GAAWQ,iBACtCruG,EAAQrB,UAAUkM,OAAOgjG,GAAWQ,eACpCruG,EAAQgK,aAAa,OAAQ,YAC7BhK,EAAQrB,UAAU+L,IAAImjG,GAAWK,aAKjDmL,EAAe13G,UAAUo6G,qBAAuB,SAAU38C,EAAI/jD,GAC1D,GAAInV,GAAQC,KACRywG,IAaJ,OAZAx3C,GAAGpmC,KAAK,SAAUp2B,EAAMvE,GACpB,SAAKgd,EAAOnV,EAAMozG,iBAAiBj+F,OAAOvR,KACtCuR,EAAOnV,EAAMozG,iBAAiBj+F,OAAOvR,IAAIhD,cAChClE,EAAKsD,EAAMozG,iBAAiBj+F,OAAOvR,KAAOlH,EAAKsD,EAAMozG,iBAAiBj+F,OAAOvR,IAAIhD,aAAgBuU,IAAWzY,KACrHg0G,EAAWv4G,MAAQA,EACnBu4G,EAAWh0G,KAAOA,GACX,KAMRg0G,GAEXyC,EAAe13G,UAAUw2G,iBAAmB,WACxC,GAAIjyG,GAAQC,IACZ,KAAKvC,EAAkBuC,KAAK21G,cAAiB31G,KAAKmzG,iBAAiBjQ,cAAgBljG,KAAKu0G,UAAUC,cAAcj8G,OAAS,CACrH,GAAIs9G,MACAC,IACJ,IAAmD,gBAAxC91G,MAAKmzG,iBAAiB1gB,WAAW,IACO,gBAAxCzyF,MAAKmzG,iBAAiB1gB,WAAW,GAAiB,CACzD,GAAIsjB,GAAc/1G,KAAKmzG,iBAAiBnJ,SACxC,OAAIhqG,MAAKmzG,iBAAiBjQ,cACtBljG,KAAKu0G,UAAUC,cAAcp1G,QAAQ,SAAUlH,GAC3C29G,EAAiB78G,KAAK+8G,EAAY79G,OAGlCuB,KAAMo8G,EACNp5G,KAAMo5G,EACN39G,MAAO8H,KAAKu0G,UAAUC,cAAc7zE,IAAI,SAAUzoC,GAC9C,MAAO6H,GAAMozG,iBAAiB1gB,WAAWj0F,QAAQu3G,EAAY79G,SAMjEuB,KAAMs8G,EAAY/1G,KAAK21G,aACvBl5G,KAAMs5G,EAAY/1G,KAAK21G,aACvBz9G,MAAO8H,KAAKmzG,iBAAiB1gB,WAAWj0F,QAAQu3G,EAAY/1G,KAAK21G,eAKzE,GAAIK,GAAch2G,KAAKmzG,iBAAiBnJ,UACpCiM,EAASj2G,KAAKmzG,iBAAiBj+F,OAAOzb,IAC1C,OAAIuG,MAAKmzG,iBAAiBjQ,cACtBljG,KAAKu0G,UAAUC,cAAcp1G,QAAQ,SAAUlH,GAC3C49G,EAAiB98G,KAAKg9G,EAAY99G,GAAO+9G,IACzCJ,EAAiB78G,KAAKg9G,EAAY99G,OAGlCuB,KAAMq8G,EACNr5G,KAAMo5G,EACN39G,MAAO8H,KAAKu0G,UAAUC,cAAc7zE,IAAI,SAAUzoC,GAC9C,MAAQ6H,GAAMozG,4BAA6B30G,QAAQw3G,EAAY99G,SAMnEuB,KAAMu8G,EAAYh2G,KAAK21G,aAAa31G,KAAKmzG,iBAAiBj+F,OAAOzb,MACjEgD,KAAMu5G,EAAYh2G,KAAK21G,aACvBz9G,MAAO8H,KAAKmzG,iBAAiB1gB,WAAWj0F,QAAQw3G,EAAYh2G,KAAK21G,iBASrFzC,EAAe13G,UAAUo2G,WAAa,SAAU70G,GAC5C,GAAIm5G,GAAYl2G,KAAK41G,qBAAqB51G,KAAKmzG,iBAAiBnJ,UAAWjtG,EAC3E,IAAIwB,OAAOjB,KAAK44G,GAAW39G,OASvB,GARAyH,KAAK21G,YAAcO,EAAUh+G,MACzB8H,KAAKmzG,iBAAiBjQ,eAA2E,IAA3DljG,KAAKu0G,UAAUC,cAAch2G,QAAQ03G,EAAUh+G,QACrF8H,KAAKu0G,UAAUC,cAAcx7G,KAAKk9G,EAAUh+G,OAEhD8H,KAAKmzG,iBAAiB5F,eAClBvtG,KAAKmzG,iBAAiBjQ,cAAgBljG,KAAKmzG,iBAAiB5H,MAAMzoG,cAAc,IAAM4kG,GAAWG,UACjG7nG,KAAKmzG,iBAAiB5H,MAAMzoG,cAAc,IAAM4kG,GAAWG,SAASrvG,UAAUkM,OAAOgjG,GAAWG,SAEhG7nG,KAAKmzG,iBAAiB5G,sBAAsBxvG,GACxCiD,KAAKmzG,iBAAiBjQ,aACtBljG,KAAKmzG,iBAAiB1F,cAAcztG,KAAKmzG,iBAAiB5G,sBAAsBxvG,IAGhFiD,KAAKmzG,iBAAiB3F,YAAYxtG,KAAKmzG,iBAAiB5G,sBAAsBxvG,QAGjF,CACD,GAAIsR,OAAY,EAChB,IAAmD,gBAAxCrO,MAAKmzG,iBAAiB1gB,WAAW,IACO,gBAAxCzyF,MAAKmzG,iBAAiB1gB,WAAW,GACxCpkF,GACI5U,KAAMuG,KAAKmzG,iBAAiBnJ,UAAUhqG,KAAK21G,aAC3Cl5G,KAAMuD,KAAKmzG,iBAAiBnJ,UAAUhqG,KAAK21G,aAC3Cz9G,MAAO8H,KAAK21G,iBAGf,CACD,GAAI3L,GAAYhqG,KAAKmzG,iBAAiBnJ,SACtC37F,IACI5U,KAAMuwG,EAAUhqG,KAAK21G,aAAa31G,KAAKmzG,iBAAiBj+F,OAAOzb,MAC/DgD,KAAMutG,EAAUhqG,KAAK21G,aACrBz9G,MAAO8H,KAAKu0G,UAAUC,eAG9Bx0G,KAAKmzG,iBAAiB/qF,QAAQ,SAAU/Z,KAIpD6kG,EAAe13G,UAAU82G,WAAa,SAAUv1G,GAC5C,GAAIm5G,GAAYl2G,KAAK41G,qBAAqB51G,KAAKmzG,iBAAiBnJ,UAAWjtG,EACvEwB,QAAOjB,KAAK44G,GAAW39G,QACvByH,KAAKu0G,UAAUE,oBAAoBvqF,OAAOlqB,KAAKu0G,UAAUE,oBAAoBj2G,QAAQ03G,EAAUh+G,OAAQ,IAG/Gg7G,EAAe13G,UAAUg3G,YAAc,SAAUz1G,GAC7C,GAAIm5G,GAAYl2G,KAAK41G,qBAAqB51G,KAAKmzG,iBAAiBnJ,UAAWjtG,EACvEwB,QAAOjB,KAAK44G,GAAW39G,SAA2E,IAAjEyH,KAAKu0G,UAAUE,oBAAoBj2G,QAAQ03G,EAAUh+G,QACtF8H,KAAKu0G,UAAUE,oBAAoBz7G,KAAKk9G,EAAUh+G,QAG1Dg7G,EAAe13G,UAAUk3G,SAAW,SAAU31G,GAC1C,GAAIm5G,GAAYl2G,KAAK41G,qBAAqB51G,KAAKmzG,iBAAiBnJ,UAAWjtG,EACvEwB,QAAOjB,KAAK44G,GAAW39G,QACvByH,KAAKu0G,UAAUG,kBAAkBxqF,OAAOlqB,KAAKu0G,UAAUG,kBAAkBl2G,QAAQ03G,EAAUh+G,OAAQ,IAG3Gg7G,EAAe13G,UAAUo3G,SAAW,SAAU71G,GAC1C,GAAIm5G,GAAYl2G,KAAK41G,qBAAqB51G,KAAKmzG,iBAAiBnJ,UAAWjtG,EACvEwB,QAAOjB,KAAK44G,GAAW39G,SAAyE,IAA/DyH,KAAKu0G,UAAUG,kBAAkBl2G,QAAQ03G,EAAUh+G,QACpF8H,KAAKu0G,UAAUG,kBAAkB17G,KAAKk9G,EAAUh+G,QAGxDg7G,EAAe13G,UAAUm/F,WAAa,SAAU59F,GAC5C,GAAI01F,GACAyjB,EAAYl2G,KAAK41G,qBAAqB51G,KAAKmzG,iBAAiBnJ,UAAWjtG,EACvEwB,QAAOjB,KAAK44G,GAAW39G,SACvBk6F,EAAayjB,EAAUz5G,KACnBuD,KAAKmzG,iBAAiBnJ,UAAUkM,EAAUh+G,MAAQ,IAClD8H,KAAKmzG,iBAAiBnJ,UAAUkM,EAAUh+G,MAAQ,GAAGkd,UAE/B,IADrBpV,KAAKmzG,iBAAiBnJ,UAAUkM,EAAUh+G,MAAQ,GAC9CP,MAAMY,QACXyH,KAAKm2G,aAAaD,EAAUh+G,MAAQ,GACpC8H,KAAKm2G,aAAaD,EAAUh+G,MAAQ,IAGpC8H,KAAKm2G,aAAaD,EAAUh+G,OAGpC,IAAIA,GAAQ8H,KAAKmzG,iBAAiB1gB,WAAWj0F,QAAQi0F,IACtC,IAAXv6F,IACA8H,KAAKmzG,iBAAiB1gB,WAAWvoE,OAAOhyB,EAAO,GAC/C8H,KAAKmzG,iBAAiBtC,kBAAkB7wG,KAAKmzG,iBAAiB1gB,cAGtEygB,EAAe13G,UAAUiyG,cAAgB,SAAUtM,EAAI//F,GACnD,GAAIlJ,GAAQuG,MAAMjD,UAAUgD,QAAQoC,KAAKZ,KAAKmzG,iBAAiB5H,MAAM3wG,iBAAiB,MAAOumG,GAAMnhG,KAAK2uG,YACxG3uG,MAAK21G,YAAcl3G,MAAMjD,UAAUgD,QAAQoC,KAAKZ,KAAKmzG,iBAAiB5H,MAAM3wG,iBAAiB,MAAOumG,GAAMnhG,KAAK2uG,aAC3GxN,EAAG3oG,UAAUC,SAASivG,GAAWjO,WACoB,IAAjDz5F,KAAKu0G,UAAUC,cAAch2G,QAAQtG,IACrC8H,KAAKu0G,UAAUC,cAAcx7G,KAAKd,GAItC8H,KAAKu0G,UAAUC,cAActqF,OAAOlqB,KAAKu0G,UAAUC,cAAch2G,QAAQtG,GAAQ,IAGzFg7G,EAAe13G,UAAUgyG,YAAc,SAAUrM,EAAI//F,GACjDpB,KAAK21G,YAAcl3G,MAAMjD,UAAUgD,QAAQoC,KAAKZ,KAAKmzG,iBAAiB5H,MAAM3wG,iBAAiB,MAAOumG,GAAMnhG,KAAK2uG,cAEnHuE,EAAe13G,UAAUsxG,YAAc,SAAU/4F,GAC7C,GAAIhU,GAAQC,IACR+T,IACA/T,KAAKu0G,UAAUC,iBACfx0G,KAAK21G,gBAAcv8G,GACnB4G,KAAKmzG,iBAAiBnJ,UAAU5qG,QAAQ,SAAU65D,EAAI/gE,GAC7C+gE,EAAG7jD,UACJrV,EAAMw0G,UAAUC,cAAcx7G,KAAKd,OAK3C8H,KAAK21G,gBAAcv8G,GACnB4G,KAAKu0G,UAAUC,mBAGvBtB,EAAe13G,UAAU46G,UAAY,SAAUl+G,GAC3C,GAAIo9G,GAAYt1G,KAAKmzG,iBAAiBnJ,SAYtC,IAXAhqG,KAAKq2G,gBAAgBn+G,GAAO,GACxB8H,KAAK21G,aAAe31G,KAAK21G,aAAez9G,GACxC8H,KAAK21G,cAEL31G,KAAKmzG,iBAAiBjQ,cACtBoS,EAAUp9G,GAAO8H,KAAKmzG,iBAAiBj+F,OAAO+xF,YAC9CjnG,KAAKu0G,UAAUC,cAAcx7G,KAAKd,GAEjC4nB,WAAW9f,KAAK4zG,cAAchvG,MAAM4S,SAAYsI,WAAW9f,KAAK2zG,WAAW/uG,MAAM4S,UAClFxX,KAAK4zG,cAAchvG,MAAM4S,OAASsI,WAAW9f,KAAK4zG,cAAchvG,MAAM4S,QAAUxX,KAAK6uG,eAAiB,MAEtG/uF,WAAW9f,KAAK4zG,cAAchvG,MAAM4S,QAAS,CACzC8+F,EAASt2G,KAAKmzG,iBAAiB5H,MAAMgL,iBAAiBC,iBACtD3tG,EAAS7I,KAAKmzG,iBAAiB5G,sBAAsB+I,EAAUp9G,EAAQ,KACvE8H,KAAKmzG,iBAAiB5G,sBAAsB+I,EAAUp9G,EAAQ,OAE9D8H,KAAK4zG,cAAchvG,MAAM4S,OAASsI,WAAW9f,KAAK4zG,cAAchvG,MAAM4S,QAAUxX,KAAK6uG,eAAiB,KACtG7uG,KAAKk1G,SAASoB,EAAQp+G,EAAO2Q,QAGhC,CACD,GAAIytG,GAASt2G,KAAKmzG,iBAAiB5H,MAAMlmG,kBAAkB8vG,YACvDtsG,MAAS,EAETA,GADCtK,OAAOjB,KAAK0C,KAAKmzG,iBAAiBnJ,WAAWzxG,OAAS,IAAOL,EACrD8H,KAAKmzG,iBAAiB5H,MAAMgL,iBAG5Bv2G,KAAKmzG,iBAAiB5G,sBAAsB+I,EAAUp9G,EAAQ,KACnE8H,KAAKmzG,iBAAiB5G,sBAAsB+I,EAAUp9G,EAAQ,IAEtE8H,KAAK2zG,WAAW/uG,MAAM4S,OAASsI,WAAW9f,KAAK2zG,WAAW/uG,MAAM4S,QAAUxX,KAAK6uG,eAAiB,KAChG7uG,KAAK2uG,eACL3uG,KAAKwzG,cACD3qG,IACA7I,KAAKk1G,SAASoB,EAAQp+G,EAAO2Q,GAC7B7I,KAAKmzG,iBAAiB/I,SAAWpuG,OAAO0yG,SAAS,EAAI5qD,YAAc9jD,KAAK6uG,gBACpE7uG,KAAKmzG,iBAAiBt5G,QAAQqT,WAAalN,KAAK6uG,gBAG5D7uG,KAAK6zG,aAAe7zG,KAAK6uG,eACzB7uG,KAAKg0G,SAAWl0F,WAAW9f,KAAK2zG,WAAW/uG,MAAM4S,QAAUxX,KAAK6uG,gBAEpEqE,EAAe13G,UAAU26G,aAAe,SAAUj+G,GAC9C8H,KAAK6zG,aAAe7zG,KAAK6uG,cACzB,IAAI7E,GAAYhqG,KAAKmzG,iBAAiBnJ,UAAU9xG,GAC5Co+G,EAASt2G,KAAKmzG,iBAAiB5G,sBAAsBvC,EAKzD,IAJAhqG,KAAKmzG,iBAAiBnJ,UAAU9/E,OAAOhyB,EAAO,GAC1C8H,KAAK21G,aAAe31G,KAAK21G,aAAez9G,GACxC8H,KAAK21G,cAELW,EACA,GAAIt2G,KAAKuzG,aAAeh1G,OAAOjB,KAAK0C,KAAKmzG,iBAAiBnJ,WAAWzxG,OACjEgN,EAAO+wG,GACPt2G,KAAKuzG,eACLvzG,KAAKwzG,cACLxzG,KAAK6zG,YAAc,MAElB,CASD,GARIyC,EAAO99G,UAAUC,SAASivG,GAAWY,WACrCgO,EAAO99G,UAAUkM,OAAOgjG,GAAWY,SACnCtoG,KAAKu0G,UAAUE,oBAAoBvqF,OAAOlqB,KAAKu0G,UAAUE,oBAAoBj2G,QAAQtG,GAAQ,IAEpE,SAAzBo+G,EAAO1xG,MAAMyhD,UACbiwD,EAAO1xG,MAAMyhD,QAAU,GACvBrmD,KAAKu0G,UAAUG,kBAAkBxqF,OAAOlqB,KAAKu0G,UAAUG,kBAAkBl2G,QAAQtG,GAAQ,IAEzF8H,KAAKmzG,iBAAiBjQ,cAAgBoT,EAAO99G,UAAUC,SAASivG,GAAWjO,UAAW,CACtFz5F,KAAKmzG,iBAAiB5F,eACtBvtG,KAAKu0G,UAAUC,cAActqF,OAAOlqB,KAAKu0G,UAAUC,cAAch2G,QAAQtG,GAAQ,EACjF,IAAIw9G,GAAmBY,EAAOxzG,cAAc,IAAM4kG,GAAWc,gBAC7DkN,GAAiBppG,gBAAgB,gBACjCopG,EAAiBrwG,kBAAkB7M,UAAUkM,OAAOgjG,GAAW3zF,SAC3DuiG,EAAO99G,UAAUC,SAASivG,GAAWG,WACrCyO,EAAO99G,UAAUkM,OAAOgjG,GAAWG,SACnC7nG,KAAK21G,gBAAcv8G,QAGlBk9G,GAAO99G,UAAUC,SAASivG,GAAWjO,YAC1Cz5F,KAAKmzG,iBAAiB5F,eACtBvtG,KAAK21G,gBAAcv8G,GAElB0mB,YAAW9f,KAAK4zG,cAAchvG,MAAM4S,SAAYsI,WAAW9f,KAAK2zG,WAAW/uG,MAAM4S,QAG7EsI,WAAW9f,KAAK4zG,cAAchvG,MAAM4S,SACzCxX,KAAK4zG,cAAchvG,MAAM4S,OAASsI,WAAW9f,KAAK4zG,cAAchvG,MAAM4S,QAAUxX,KAAK6uG,eAAiB,KACtG7uG,KAAKk1G,SAASoB,EAAQt2G,KAAKwzG,YAAaxzG,KAAK4zG,iBAG7C5zG,KAAK2zG,WAAW/uG,MAAM4S,OAASsI,WAAW9f,KAAK2zG,WAAW/uG,MAAM4S,QAAUxX,KAAK6uG,eAAiB,KAChG7uG,KAAKk1G,SAASoB,EAASt2G,KAAK2uG,aAAe,EAAI3uG,KAAK2zG,WAAWwB,aAC/Dn1G,KAAKwzG,cACLxzG,KAAK2uG,gBAVL3uG,KAAKk1G,SAASoB,EAAQt2G,KAAKwzG,YAAaxzG,KAAK4zG,eAczD5zG,KAAKq2G,gBAAgBn+G,GAAO,GAC5B8H,KAAKg0G,SAAWl0F,WAAW9f,KAAK2zG,WAAW/uG,MAAM4S,QAAUxX,KAAK6uG,gBAEpEqE,EAAe13G,UAAU66G,gBAAkB,SAAUn+G,EAAO2nB,GACxD,GAAI9f,GAAQC,IACZzB,QAAOjB,KAAK0C,KAAKu0G,WAAWn1G,QAAQ,SAAU/B,GAC1C0C,EAAMw0G,UAAUl3G,GAAO0C,EAAMw0G,UAAUl3G,GAAKsjC,IAAI,SAAUtoC,GACtD,MAAIA,IAAKH,EACE2nB,IAAcxnB,IAAMA,EAGpBA,OAKvB66G,EAAe13G,UAAUq3G,QAAU,SAAUp2G,EAAMyY,GAC/C,GAAInV,GAAQC,IACZvD,GAAK2C,QAAQ,SAAUqzF,GAGnB,GAFA1yF,EAAMozG,iBAAiB1gB,WAAWz5F,KAAKy5F,GACvC1yF,EAAMozG,iBAAiBtC,kBAAkB9wG,EAAMozG,iBAAiB1gB,YAC3D1yF,EAAMwzG,aAGN,GAAIxzG,EAAMwzG,aAAexzG,EAAMszG,qBAChCtzG,EAAM0zG,iBAAgB,GACtBluG,EAAOxF,EAAMozG,iBAAiBrJ,kBAC9B/pG,EAAMoxG,uBAEL,CACD,GAAIj5G,GAAQ6H,EAAMozG,iBAAiBnJ,UAAUxrG,QAAQi0F,EACrD1yF,GAAMq2G,UAAUl+G,EAChB,IAAI8xG,GAAYjqG,EAAMozG,iBAAiBnJ,UAAU9xG,EAAQ,EACrD8xG,IAAaA,EAAU50F,UAAuC,IAA3B40F,EAAUryG,MAAMY,QACnDwH,EAAMq2G,UAAUl+G,EAAQ,OAZ5B6H,GAAMoxG,sBAiBlB+B,EAAe13G,UAAU01G,aAAe,SAAUjxG,GAC9C,GAAIuQ,GAAWxQ,KAAKmzG,iBAAiB1xG,cAAc,OAC/Cg1G,EAAiB,iFACiBz2G,KAAKmzG,iBAAiBj+F,OAAOzb,KAAO,iBAC1E+W,GAAShW,UAAYwF,KAAKmzG,iBAAiB3iG,UAAYimG,CACvD,IAAIC,GAAmBlmG,EAAS5O,qBAAqB,KACjD6jG,EAAgBzlG,KAAKmzG,iBAAiB1xG,cAAc,MACpDzB,MAAKmzG,iBAAiBj+F,OAAOmvF,UAC7BoB,EAAcjrG,UAAYwF,KAAKmzG,iBAAiB1N,eAAiBgR,EAErE,IAAIE,GAAwBlR,EAAc7jG,qBAAqB,IAC3D3B,GAAKmqC,QAAQh1B,WACbpV,KAAK6lG,WAAa5lG,EAAKmqC,SAE3BpqC,KAAK42G,aAAe32G,EAAKmqC,QAAQh1B,SAAWnV,EAAKmqC,QAAQzyC,MAAM,GAC3DsI,EAAKmqC,QACTnqC,EAAKpH,KAAK2B,UAAY,GACtByF,EAAKpH,KAAKgN,SAAYpJ,KAAMwD,EAAKmqC,QAASysE,OAASC,qBAAuBC,uBAC1E,KAAS1+G,EAAI,EAAGA,EAAIq+G,EAAiBn+G,OAAQF,IACzC2H,KAAKg3G,gBAAgBN,EAAiBr+G,GAAI4H,EAAKpH,MAAM,EAEzD,KAAK,GAAIR,GAAI,EAAGA,EAAIs+G,EAAsBp+G,OAAQF,IAC9C2H,KAAKg3G,gBAAgBL,EAAsBt+G,GAAI4H,EAAKpH,MAAM,EAE9DoH,GAAKpH,KAAKgN,QAAQ2K,SAAWvQ,EAAKmqC,QAAQh1B,SAAW5E,EAASnL,kBAC1DogG,EAAcpgG,kBAClBpF,EAAKpH,KAAKgN,QAAQ9L,KAAOkG,EAAKmqC,QAAQh1B,SAAW,WAAa,WAC9D,IAAIvb,GAAUoG,EAAKmqC,QAAQh1B,SAAWqwF,EAAgBj1F,CACtDvQ,GAAKpH,KAAKuM,aAAavL,EAAQwL,kBAAmB,OAEtD6tG,EAAe13G,UAAUw7G,gBAAkB,SAAUn9G,EAAShB,EAAMuc,GAChEpV,KAAKi3G,aAAap9G,EAAShB,EAAMuc,GACjCpV,KAAKk3G,cAAcr9G,EAAShB,EAAMuc,GAClCpV,KAAKm3G,kBAAkBt9G,EAAShB,EAAMuc,IAE1C89F,EAAe13G,UAAU47G,SAAW,SAAUx/C,EAASy/C,GACnDA,EAAYxxG,QAAQpJ,KAAOm7D,CAC3B,IAAIm/C,GAAqBM,EAAYxxG,QAAQgxG,MAAME,mBAC/CD,EAAoBO,EAAYxxG,QAAQgxG,MAAMC,iBAClD,KAAKr5G,EAAkBm6D,EAAQxiD,WAAawiD,EAAQxiD,UAAyC,cAA7BiiG,EAAYxxG,QAAQ9L,KAAsB,CAClGF,EAAUw9G,EAAYhyG,iBAC1BE,GAAO8xG,EAAYhyG,mBACnBgyG,EAAYjyG,aAAaiyG,EAAYxxG,QAAQ2K,SAAU,MACvD6mG,EAAYxxG,QAAQ2K,SAAW3W,EAC/Bw9G,EAAYxxG,QAAQ9L,KAAO,WAC3Bg9G,EAAmB33G,QAAQ,SAAU4B,GAAQ,MAAOA,GAAKo2G,SAASx/C,SAEjE,IAAKA,EAAQxiD,UAAyC,aAA7BiiG,EAAYxxG,QAAQ9L,KAQxC69D,EAAQxiD,SAId2hG,EAAmB33G,QAAQ,SAAU4B,GAAQ,MAAOA,GAAKo2G,SAASx/C,KAHlEk/C,EAAkB13G,QAAQ,SAAU4B,GAAQ,MAAOA,GAAKo2G,SAASx/C,SATE,CACnE,GAAI/9D,GAAUw9G,EAAYhyG,iBAC1BE,GAAO8xG,EAAYhyG,mBACnBgyG,EAAYjyG,aAAaiyG,EAAYxxG,QAAQ2K,SAAU,MACvD6mG,EAAYxxG,QAAQ2K,SAAW3W,EAC/Bw9G,EAAYxxG,QAAQ9L,KAAO,YAC3B+8G,EAAkB13G,QAAQ,SAAU4B,GAAQ,MAAOA,GAAKo2G,SAASx/C,OASzEs7C,EAAe13G,UAAU87G,kBAAoB,SAAUD,EAAar2G,EAAMoU,GAClEA,EACAiiG,EAAYxxG,QAAQgxG,MAAME,mBAAmB/9G,KAAKgI,GAGlDq2G,EAAYxxG,QAAQgxG,MAAMC,kBAAkB99G,KAAKgI,IAGzDkyG,EAAe13G,UAAU07G,cAAgB,SAAUr9G,EAASw9G,EAAajiG,GAKrE,IAJA,GAGImiG,GAHAx3G,EAAQC,KACR2kC,EAAQ,GAAIvqC,QAAO,eAAgB,KACnCo9G,KAEkB,OAAfD,GAAqB,CACxB,GAAIrmG,GAAQyzB,EAAMzS,KAAKr4B,EAAQ6J,UAC/B8zG,GAAgBx+G,KAAKkY,GAEF,QADnBqmG,EAAarmG,IAETsmG,EAAgB/F,MAGpB+F,GAAmBA,EAAgBj/G,QACnCi/G,EAAgBp4G,QAAQ,SAAUq4G,GAC9B,GAAIt8G,EAGAA,IAFoC,IAApCs8G,EAAe,GAAGj5G,QAAQ,OAAmD,IAApCi5G,EAAe,GAAGj5G,QAAQ,KAEnD,GAAIjD,UAAS,OAAQ,UAAYk8G,EAAe,GAAG99G,QAAQ,MAAO,UAIlE,GAAI4B,UAAS,OAAQ,eAAsBk8G,EAAe,GAE9E,IAAIC,KAEAA,GAAQC,YAAcx8G,EADtBia,EACoCrV,EAAM8lG,WAGN9lG,EAAM62G,cAE9Cc,EAAQN,SAAW,SAAUp6G,GACzBnD,EAAQrB,UAAUkM,OAAOgzG,EAAQC,aACjC99G,EAAQrB,UAAU+L,IAAIpJ,EAAc6B,IACpC06G,EAAQC,YAAcx8G,EAAc6B,IAExCy6G,EAAe,GAAGv6G,MAAM,KAAKkC,QAAQ,SAAUsE,GAC3C7J,EAAQrB,UAAUkM,OAAOhB,KAE7B7J,EAAQrB,UAAU+L,IAAImzG,EAAQC,aAC9B53G,EAAMu3G,kBAAkBD,EAAaK,EAAStiG,MAI1D89F,EAAe13G,UAAU27G,kBAAoB,SAAUt9G,EAASw9G,EAAajiG,GAGzE,IAAK,GAFDrV,GAAQC,KACR43G,KACKv/G,EAAI,EAAGA,EAAIwB,EAAQkK,WAAWxL,OAAQF,IAC3Cu/G,EAAe5+G,KAAKa,EAAQkK,WAAW1L,GAAGob,WAEL,IAArCmkG,EAAep5G,QAAQ,UACvBo5G,EAAe1tF,OAAO0tF,EAAep5G,QAAQ,SAAU,GAE3Do5G,EAAex4G,QAAQ,SAAUy4G,GAC7B,GAGIC,GACAC,EAJAC,EAAgB,GAAI59G,QAAO,eAAgB,KAAK83B,KAAK2lF,OACrDI,EAAiB,GAAI79G,QAAO,eAAgB,KAAK83B,KAAKr4B,EAAQ4M,aAAaoxG,OAI/E,IAAIG,EAAcz/G,QAAU0/G,EAAe1/G,OAAQ,CAC3Cy/G,EAAc,KAEdF,EAAwB,GAAIv8G,UAAS,OAAQ,eAAsBy8G,EAAc,KAEjFC,EAAe,KAGXF,GAFoC,IAApCE,EAAe,GAAGz5G,QAAQ,OAAmD,IAApCy5G,EAAe,GAAGz5G,QAAQ,KAE1C,GAAIjD,UAAS,OAAQ,UAAY08G,EAAe,GAAGt+G,QAAQ,MAAO,UAIlE,GAAI4B,UAAS,OAAQ,eAAsB08G,EAAe,IAG3F,IAAIC,KAEAA,GAAUP,YADVviG,OAC8Chc,KAArB4+G,EAAc,OAAmB5+G,GAAY0+G,EAAsB/3G,EAAM8lG,gBACxEzsG,KAAtB6+G,EAAe,OAAmB7+G,GAAY2+G,EAAuBh4G,EAAM8lG,kBAGjCzsG,KAArB4+G,EAAc,OAAmB5+G,GAAY0+G,EAAsB/3G,EAAM62G,kBACxEx9G,KAAtB6+G,EAAe,OAAmB7+G,GAAY2+G,EAAuBh4G,EAAM62G,eAEnFsB,EAAUC,aAAwC/+G,KAA7B8+G,EAAUP,YAAY,GACvCE,EAAgBK,EAAUP,YAAY,GAC1CO,EAAUd,SAAW,SAAUp6G,GAC3B,GAAI26G,OAA2Cv+G,KAA7B8+G,EAAUP,YAAY,GACpC99G,EAAQ4M,aAAayxG,EAAUC,UAAYJ,EAAuB/6G,EACtEnD,GAAQyS,gBAAgB4rG,EAAUC,UAClCD,EAAUC,aAAwC/+G,KAA7B8+G,EAAUP,YAAY,GAAmBO,EAAUC,SAAWL,EAAsB96G,GACzGnD,EAAQgK,aAAaq0G,EAAUC,SAAUR,GACzCO,EAAUP,iBAA4Cv+G,KAA7B8+G,EAAUP,YAAY,OAAmBv+G,GAAY0+G,EAAsB96G,OACnE5D,KAA7B8+G,EAAUP,YAAY,OAAmBv+G,GAAY2+G,EAAuB/6G,IAEpF,IAAIo7G,OAA8Ch/G,KAA7B8+G,EAAUP,YAAY,GAAmB99G,EAAQ4M,aAAaoxG,GAC/EK,EAAUP,YAAY,EAC1B99G,GAAQyS,gBAAgBurG,GACxBh+G,EAAQgK,aAAaq0G,EAAUC,SAAUC,GACzCr4G,EAAMu3G,kBAAkBD,EAAaa,EAAW9iG,OAI5D89F,EAAe13G,UAAUy7G,aAAe,SAAUp9G,EAASw9G,EAAajiG,GAKpE,IAJA,GAGImiG,GAHAx3G,EAAQC,KACR2kC,EAAQ,GAAIvqC,QAAO,eAAgB,KACnCo9G,KAEkB,OAAfD,GAAqB,CACxB,GAAIrmG,GAAQyzB,EAAMzS,KAAKr4B,EAAQf,UAC/B0+G,GAAgBx+G,KAAKkY,GAEF,QADnBqmG,EAAarmG,IAETsmG,EAAgB/F,MAGxB,GAAI4G,GAAwB55G,MAAMjD,UAAUq3B,KAAKjyB,KAAK/G,EAAQgiB,SAAU,SAAUhiB,GAC9E,QAAI,GAAIO,QAAO,eAAgB,KAAK83B,KAAKr4B,EAAQf,YAOjD0+G,IAAmBA,EAAgBj/G,SAAW8/G,GAC9Cb,EAAgBp4G,QAAQ,SAAUk5G,GAC9B,GACIC,GADAb,IAIAa,IAFuC,IAAvCD,EAAkB,GAAG95G,QAAQ,OAAsD,IAAvC85G,EAAkB,GAAG95G,QAAQ,KAE1D,GAAIjD,UAAS,OAAQ,UAAY+8G,EAAkB,GAAG3+G,QAAQ,MAAO,UAIrE,GAAI4B,UAAS,OAAQ,eAAsB+8G,EAAkB,IAG5EZ,EAAQC,YAAcY,EADtBnjG,EACmCrV,EAAM8lG,WAGN9lG,EAAM62G,cAE7Cc,EAAQN,SAAW,SAAUp6G,GACzBnD,EAAQf,UAAYe,EAAQf,UAAUa,QAAQ+9G,EAAQC,YAAaY,EAAav7G,IAChF06G,EAAQC,YAAcY,EAAav7G,IAEvCnD,EAAQf,UAAYe,EAAQf,UAAUa,QAAQ2+G,EAAkB,GAAIZ,EAAQC,aAC5E53G,EAAMu3G,kBAAkBD,EAAaK,EAAStiG,MAI1D89F,EAAe13G,UAAUkuG,yBAA2B,WAChD1pG,KAAKyzG,iBAAgB,GACjBzzG,KAAKmzG,iBAAiBrJ,kBACtBvkG,EAAOvF,KAAKmzG,iBAAiBrJ,kBAEjC9pG,KAAKmzG,iBAAiBn/F,YACtBhU,KAAKmzG,iBAAiBhD,UAAYnwG,KAAKmzG,iBAAiB1gB,WACxDzyF,KAAKmzG,iBAAiBnC,cAE1BkC,EAAe13G,UAAU05G,SAAW,SAAUr7G,EAAS3B,EAAOsgH,GAC1D,GAAIx4G,KAAKmzG,iBAAiB3iG,UAAYxQ,KAAKmzG,iBAAiB1N,cAAe,CACvE,GAAIuE,GAAYhqG,KAAKmzG,iBAAiBnJ,UAAU9xG,EAChD2B,GAAQ07G,QAAQ71G,IAAMsqG,EAAUhqG,KAAKmzG,iBAAiBj+F,OAAOvR,IACzDqmG,EAAUhqG,KAAKmzG,iBAAiBj+F,OAAOvR,IAAIhD,WAAaw/C,GAASsiD,aACrEziG,KAAKo3G,SAASpN,EAAWnwG,OAGzBmG,MAAKq1G,gBAAgBx7G,EAAS3B,EAElC8H,MAAKy1G,wBAAwB57G,EAAS3B,GAClCsgH,GACAx4G,KAAKmzG,iBAAiB9N,UAAUjgG,aAAavL,EAAS2+G,IAG9DtF,EAAe13G,UAAU0L,cAAgB,WACrC,MAAO,kBAEXgsG,EAAe13G,UAAUqY,QAAU,WAC/B7T,KAAKyzG,iBAAgB,IAElBP,4JC5zBPz7E,GAAwC,WACxC,GAAIC,GAAgBn5B,OAAOo5B,iBACpBC,uBAA2Bn5B,QAAS,SAAUo5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAExwB,eAAeywB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOh4B,KAAKnC,YAAcg6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAEr8B,UAAkB,OAANs8B,EAAav5B,OAAOgN,OAAOusB,IAAME,EAAGx8B,UAAYs8B,EAAEt8B,UAAW,GAAIw8B,QAGnFC,GAA0C,SAAUC,EAAYrvB,EAAQxL,EAAK86B,GAC7E,GAA2HN,GAAvHO,EAAIn5B,UAAU1G,OAAQ8/B,EAAID,EAAI,EAAIvvB,EAAkB,OAATsvB,EAAgBA,EAAO55B,OAAO+5B,yBAAyBzvB,EAAQxL,GAAO86B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYrvB,EAAQxL,EAAK86B,OACpH,KAAK,GAAI9/B,GAAI6/B,EAAW3/B,OAAS,EAAGF,GAAK,EAAGA,KAASw/B,EAAIK,EAAW7/B,MAAIggC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAEhvB,EAAQxL,EAAKg7B,GAAKR,EAAEhvB,EAAQxL,KAASg7B,EAChJ,OAAOD,GAAI,GAAKC,GAAK95B,OAAO4K,eAAeN,EAAQxL,EAAKg7B,GAAIA,GAO5D2wE,GAA+B,SAAUtwE,GAEzC,QAASswE,KACL,MAAkB,QAAXtwE,GAAmBA,EAAOh9B,MAAMsE,KAAMf,YAAce,KAiB/D,MAnBAy3B,IAAUuxE,EAAetwE,GAIzBT,IACIrvB,MACDogG,EAAcxtG,UAAW,WAAQ,IACpCy8B,IACIrvB,MACDogG,EAAcxtG,UAAW,YAAS,IACrCy8B,IACIrvB,MACDogG,EAAcxtG,UAAW,cAAW,IACvCy8B,IACIrvB,MACDogG,EAAcxtG,UAAW,cAAW,IACvCy8B,IACIrvB,MACDogG,EAAcxtG,UAAW,qBAAkB,IACvCwtG,GACT1mE,IAESm2E,IACP9Q,KAAM,iBACN+Q,IAAK,QACLh+G,QAAS,YACT++F,SAAU,WACVmO,MAAO,UACP+Q,OAAQ,WACRC,UAAW,eACXv2G,MAAO,eACP8+F,GAAI0X,GAAgB1X,GACpB99D,MAAOw1E,GAAgBx1E,MACvB06D,SAAU8a,GAAgB9a,SAC1B+a,SAAU,cAKVC,GAA8B,SAAUrgF,GAKxC,QAASqgF,GAAa1kG,EAASxa,GAC3B,MAAO6+B,GAAO93B,KAAKZ,KAAMqU,EAASxa,IAAYmG,KAqyBlD,MA1yBAy3B,IAAUshF,EAAcrgF,GAQxBqgF,EAAav9G,UAAUw9G,cAAgB,SAAU9tG,EAAMwvB,EAASC,GAC5D,GAAIs+E,GAAc,GAAI16G,QAClB26G,EAAc,GAAI36G,QAElBoU,EAAW,GAAIpX,UAAS,OAAQ,cACpC09G,GAAYtmG,EAASzH,IAASwvB,EAAQ/nB,EAASzH,IAC/CguG,EAAYvmG,EAASzH,IAASyvB,EAAQhoB,EAASzH,GAC/C,IAAIzO,GAAO,GAAI8B,OAGf,OAFA9B,GAAKw8G,YAAcA,EACnBx8G,EAAKy8G,YAAcA,EACZz8G,GAEXs8G,EAAav9G,UAAU29G,eAAiB,SAAU1/G,EAAM5B,EAAYu8D,GAChE,GAAIp3D,GAAQ,IASZ,OARKS,GAAkBuC,KAAKo5G,YAEpBp8G,EADAnF,EACQmI,KAAKq5G,eAAe5/G,GAAM,EAAM26D,GAGhCp0D,KAAKq5G,eAAe5/G,GAAM,EAAO26D,IAG1Cp3D,GAGX+7G,EAAav9G,UAAU69G,eAAiB,SAAU5/G,EAAM5B,EAAYu8D,EAAcklD,GAC9E,GAAIv5G,GAAQC,KACRhD,EAAQ,IACRs8G,KACAt8G,EAAQvD,EAEZ,IAAIg5F,GAAazyF,KAAKo5G,SAClBlkG,EAASlV,KAAKkV,OACdnb,EAAOiG,KAAKu5G,WAAW9mB,GAAYyP,MACvC,IAAa,WAATnoG,GAA8B,WAATA,GAA8B,YAATA,EAC1C,IAAK,GAAIsE,GAAK,EAAGm7G,EAAe/mB,EAAYp0F,EAAKm7G,EAAajhH,OAAQ8F,IAAM,CACxE,GAAIxF,GAAO2gH,EAAan7G,EACnBZ,GAAkB5E,KACfu7D,EACAp3D,EAAQgD,KAAKy5G,eAAe1hH,OAAOc,GAAOY,EAAM5B,GAG5CA,EACImI,KAAK05G,gBAAgB3hH,OAAOc,GAAOY,KACnCuD,EAAQgD,KAAK25G,aAAa5hH,OAAOc,GAAOY,EAAM5B,IAI9CmI,KAAK45G,mBAAmB7hH,OAAOc,GAAOY,KACtCuD,EAAQgD,KAAK25G,aAAa5hH,OAAOc,GAAOY,EAAM5B,EAAYyhH,SAQ1EzhH,GACA46F,EAAWr9D,OAAO,SAAUv8B,GACpBkH,EAAM25G,gBAAgB78G,EAASqY,EAAOzb,KAAMZ,GAAM8H,WAAYlH,KAC9DuD,EAAQH,EAASqY,EAAOlY,MAAOnE,MAKnCygH,EACA7mB,EAAWr9D,OAAO,SAAUv8B,GACxB,GAAIghH,GAAYh9G,EAASqY,EAAOlY,MAAOnE,EAClC4E,GAAkBo8G,IAAcA,EAAUl5G,aAAe3D,EAAM2D,aAChE3D,EAAQH,EAASqY,EAAOzb,KAAMZ,MAKtC45F,EAAWr9D,OAAO,SAAUv8B,GACpBkH,EAAM65G,mBAAmB/8G,EAASqY,EAAOzb,KAAMZ,GAAOY,KACtDuD,EAAQH,EAASqY,EAAOlY,MAAOnE,KAMnD,OAAOmE,IAEX+7G,EAAav9G,UAAUi+G,eAAiB,SAAU5gH,EAAMY,EAAM5B,GAC1D,GAAIod,GAAWs+C,GAAS4F,iBAAiBphE,OAAOc,IAC5CihH,EAAWvmD,GAAS4F,iBAAiB1/D,EAAKkH,YAC1C3D,EAAQ,IAWZ,OAVInF,GACImI,KAAK05G,gBAAgBzkG,EAAU6kG,KAC/B98G,EAAQgD,KAAK25G,aAAa5hH,OAAOc,GAAOY,EAAM5B,IAI9CmI,KAAK45G,mBAAmB7hH,OAAOc,GAAOY,KACtCuD,EAAQgD,KAAK25G,aAAa5hH,OAAOc,GAAOY,EAAM5B,IAG/CmF,GAEX+7G,EAAav9G,UAAUk+G,gBAAkB,SAAU7gH,EAAMY,GACrD,MAAO1B,QAAOc,GAAMV,gBAAkBsB,EAAKkH,WAAWxI,eAE1D4gH,EAAav9G,UAAUo+G,mBAAqB,SAAU/gH,EAAMY,GACxD,MAAO1B,QAAOc,KAAUY,EAAKkH,YAEjCo4G,EAAav9G,UAAUm+G,aAAe,SAAU1kG,EAAU8kG,EAAWliH,EAAYyhH,GAC7E,GACI7mB,GAAazyF,KAAKo5G,SAClBr/G,EAAOiG,KAAKu5G,WAAW9mB,GAAYyP,MAYvC,OAXIoX,GACQrkG,EAAStU,WAGb9I,EACiB,WAATkC,EAAoBhC,OAAOkd,GAAYjV,KAAKg6G,kBAAkBjiH,OAAOkd,IAG5D,WAATlb,EAAoBggH,EAAY/5G,KAAKg6G,kBAAkBD,IAK3EhB,EAAav9G,UAAUy+G,WAAa,SAAUC,GAC1C,GAA+B,qBAA3Bl6G,KAAKm6G,mBAA2E,uBAA/Bn6G,KAAKo6G,sBAAgD,CACtG,GAAI5pG,GAAW0pG,EAAgBl6G,KAAKo6G,sBAAwBp6G,KAAKm6G,kBAC7D7U,MAAiB,EACrBtlG,MAAKk2C,KAAK17C,UAAY,EAEtB,KAAK,GAAI6D,GAAK,EAAG2E,GADjBsiG,EAAiB/0F,GAAQC,QACiBnS,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAC5D,GAAIxF,GAAOmK,EAAG3E,EACd2B,MAAKk2C,KAAKn0C,YAAYlJ,QAGzB,CACD,GAAIwhH,IAAeF,kBAAmB,mBAAoBC,sBAAuB,qBACjFp6G,MAAKs6G,KAAO,GAAI5uD,IAAK,YAAa2uD,EAAYr6G,KAAKgP,QACnDhP,KAAKk2C,KAAK17C,UAAY0/G,EAClBl6G,KAAKs6G,KAAKnuD,YAAY,yBAA2BnsD,KAAKs6G,KAAKnuD,YAAY,uBAGnF4sD,EAAav9G,UAAU++G,eAAiB,SAAUv9G,GAG9C,MADOgD,MAAKq5G,eAAer8G,GAAO,GAAO,GAAO,IAGpD+7G,EAAav9G,UAAUw+G,kBAAoB,SAAUh9G,GACjD,GAAIgD,KAAKo5G,UAAYp5G,KAAKo5G,SAAS7gH,OAAQ,CACvC,GAAIM,GAAOmH,KAAKu5G,WAAWv5G,KAAKo5G,SAChC,IAAsF,gBAA3Ev8G,GAAUmD,KAAKkV,OAAOlY,MAAQgD,KAAKkV,OAAOlY,MAAQ,QAAUnE,EAAKA,OACrD,WAAhBA,EAAKqpG,OACR,MAAOvoE,UAAS38B,EAAO,GAE3B,IAAsF,iBAA3EH,GAAUmD,KAAKkV,OAAOlY,MAAQgD,KAAKkV,OAAOlY,MAAQ,QAAUnE,EAAKA,OACrD,YAAhBA,EAAKqpG,OACR,MAAkB,SAAVllG,EAGhB,MAAOA,IAKX+7G,EAAav9G,UAAUg/G,aAAe,WAC9Bx6G,KAAKk2C,MACLl2C,KAAKy6G,kBAAkBzhH,KAAKgH,KAAKk2C,MAErCl2C,KAAKuP,UAAYvL,EAAShE,KAAKy6G,kBAAmBhC,GAAoBC,KAClEl0G,EAAYxE,KAAKy6G,kBAAmBhC,GAAoBC,MAMhEK,EAAav9G,UAAU2lD,WAAa,WAEhC,GADAnhD,KAAK06G,WAAY,EACY,OAAzB16G,KAAKnG,QAAQyJ,QAAkB,CAC/B,GAAIq3G,GAAcx6D,GAASukD,sBAAsB1kG,KAAKnG,QACtDmG,MAAK2H,eAAgBuN,QAAUzb,KAAM,OAAQuD,MAAO,UAAY,GAChEgD,KAAK46G,UAAUD,EAAa36G,KAAKkV,YAEH,WAAzBlV,KAAKnG,QAAQyJ,SACDtD,KAAKyyF,qBAAsBh0F,OAASuB,KAAKyyF,WAAWl6F,OAAS,GACvEkF,EAAkBuC,KAAKyyF,cAE1BzyF,KAAK66G,sBAIT76G,KAAK86G,YAAY96G,KAAKyyF,WAAYzyF,KAAKkV,OAAQlV,KAAKlG,QAO5Di/G,EAAav9G,UAAUwjD,eAAiB,WACpC,MAAOh/C,MAAKy/C,kBAMhBs5D,EAAav9G,UAAUu/G,WAAa,WAC5B/6G,KAAK4mB,QACL5mB,KAAKnG,QAAQgK,aAAa,gBAAiB,SAG3C7D,KAAKnG,QAAQgK,aAAa,gBAAiB,SAInDk1G,EAAav9G,UAAUq/G,oBAAsB,WACzC,GAAIhhH,GAAUmG,KAAKnG,QACfqb,GAAWlY,MAAO,QAASvD,KAAM,QACjCkhH,KACAt3E,EAAQxpC,EAAQe,iBAAiB,mBACjC0rC,EAASzsC,EAAQe,iBAAiB,gBAEtC,IADAoF,KAAKg7G,kBAAkBL,EAAar0E,EAAQpxB,GACxCmuB,EAAM9qC,OAAQ,CACd,IAAK,GAAIF,GAAI,EAAGA,EAAIgrC,EAAM9qC,OAAQF,IAAK,CACnC,GAAIQ,GAAOwqC,EAAMhrC,GACb4iH,IACJA,GAAY/lG,EAAOzb,MAAQZ,EAAK4b,MAChCwmG,EAAY7lG,UAAW,CACvB,IAAItU,GAAQjI,EAAK+B,iBAAiB,SAClC+/G,GAAY3hH,KAAKiiH,GACjBj7G,KAAKg7G,kBAAkBL,EAAa75G,EAAOoU,GAEnCrb,EAAQe,iBAAiB,iBAEzCoF,KAAKkV,OAAOzb,KAAOyb,EAAOzb,KAC1BuG,KAAKkV,OAAOlY,MAAQkY,EAAOlY,MAC3BgD,KAAK46G,UAAUD,EAAazlG,IAEhC6jG,EAAav9G,UAAUw/G,kBAAoB,SAAUrjH,EAAO0c,EAASa,GACjE,IAAK,GAAI7W,GAAK,EAAGuvC,EAAYv5B,EAAShW,EAAKuvC,EAAUr1C,OAAQ8F,IAAM,CAC/D,GAAIioC,GAASsH,EAAUvvC,GACnBu4D,IACJA,GAAK1hD,EAAOzb,MAAQ6sC,EAAOxtC,UAC3B89D,EAAK1hD,EAAOlY,OAASspC,EAAO7/B,aAAayO,EAAOlY,OAASspC,EAAO7/B,aAAayO,EAAOlY,OAASspC,EAAOxtC,UACpGnB,EAAMqB,KAAK49D,KAOnBmiD,EAAav9G,UAAUwY,UAAY,WAE/BhU,KAAKk7G,aAAe,EACpBl7G,KAAKy6G,qBACLz6G,KAAKm7G,aAAc,GAKvBpC,EAAav9G,UAAUs/G,YAAc,SAAUroB,EAAYv9E,EAAQpb,GAC/D,GAAIiG,GAAQC,IACZkV,GAASA,GAAkBlV,KAAKkV,MAChC,IAAImwF,EACJrlG,MAAKo7G,UAAW,CAChB,IAAI/sG,IAAcyhB,QAAQ,EAAOrzB,KAAMg2F,EAAY34F,MAAOA,EAE1D,IADAkG,KAAKooB,QAAQ,cAAe/Z,IACxBA,EAAUyhB,OAId,GADA9vB,KAAK4jB,cACD6uE,YAAsB93B,IACtB36D,KAAKm7G,aAAc,EACnB9sG,EAAU5R,KAAK62D,aAAatzD,KAAK0wG,SAASriG,EAAUvU,QAAQ0hG,KAAK,SAAUp6F,GAEvE,GADArB,EAAMqoB,QAAQ,iBAAkBhnB,IAC5BA,EAAE0uB,OAAN,CAGA,GAAIn3B,GAAYyI,EAAEpC,MAClBqmG,GAAYtlG,EAAMs7G,YAAY1iH,EAAWuc,GACzCnV,EAAMu7G,iBAAiBjW,EAAW1sG,EAAWyI,GAC7CrB,EAAMo7G,aAAc,EACpBp7G,EAAMokB,cACNpkB,EAAMqoB,QAAQ,aAAezwB,MAAOgB,EAAWyI,EAAGA,OACnD47F,MAAM,SAAU57F,GACfrB,EAAMo7G,aAAc,EACpBp7G,EAAMw7G,gBAAgBn6G,GACtBrB,EAAMokB,oBAGT,CACD,GAAIgvC,GAAc,GAAIwH,IAAYtsD,EAAU5R,MACxC9D,MAAY,GAEZ6iH,GAAkB1rF,QAAQ,EAAO9wB,OADrCrG,EAAaqH,KAAK0wG,SAASriG,EAAUvU,OAAQ05D,aAAaL,GAG1D,IADAnzD,KAAKooB,QAAQ,iBAAkBozF,GAC3BA,EAAc1rF,OACd,MAEJu1E,GAAYrlG,KAAKq7G,YAAYG,EAAcx8G,OAAQkW,GACnDlV,KAAKs7G,iBAAiBjW,EAAWmW,EAAcx8G,QAC/CgB,KAAKmkB,cACLnkB,KAAKooB,QAAQ,aAAezwB,MAAO6jH,EAAcx8G,WAGzD+5G,EAAav9G,UAAUooB,YAAc,aAGrCm1F,EAAav9G,UAAU2oB,YAAc,aAGrC40F,EAAav9G,UAAU+/G,gBAAkB,SAAUn6G,GAC/CpB,KAAKikG,iBACLjkG,KAAKooB,QAAQ,gBAAiBhnB,GAC9BpB,KAAKi6G,YAAW,GAChBj2G,GAAUhE,KAAKk2C,MAAOuiE,GAAoBE,SAE9CI,EAAav9G,UAAU8/G,iBAAmB,SAAUjW,EAAWnvD,EAAM90C,GACjEpB,KAAKo5G,SAAWljE,EAChBl2C,KAAKk2C,KAAK17C,UAAY,GACtBwF,KAAKk2C,KAAKn0C,YAAYsjG,GACtBrlG,KAAKikG,cAAgBjkG,KAAKk2C,KAAKt7C,iBAAiB,IAAM69G,GAAoBtX,IAC1EnhG,KAAKqlG,UAAYrlG,KAAKk2C,KAAKpzC,cAAc,MACzC9C,KAAKy7G,WAAWz7G,KAAKk2C,KAAMA,EAAMl2C,KAAK06G,YAE1C3B,EAAav9G,UAAUigH,WAAa,SAAUpE,EAAanhE,EAAMwkE,GAC7D,GAAIgB,GAAYrE,EAAYv0G,cAAc,IAAM21G,GAAoBtX,IAChEwa,EAAetE,EAAYv0G,cAAc,IAAM21G,GAAoBhf,SACnEiiB,KAAcC,GACd33G,GAAU03G,GAAYjD,GAAoBp2G,OAE1C6zC,EAAK39C,QAAU,GACfyH,KAAKi6G,aACLj2G,GAAUqzG,GAAcoB,GAAoBE,SAG5CtB,EAAY7+G,UAAUkM,OAAO+zG,GAAoBE,QAEjD34G,KAAKylG,eACLzlG,KAAKwlG,oBAAoB6R,IAMjC0B,EAAav9G,UAAUk1G,SAAW,SAAU52G,GACxC,MAAOA,KAAgBkG,KAAKlG,MAAQkG,KAAKlG,MAAQ,GAAIu4D,MAKzD0mD,EAAav9G,UAAUgqG,oBAAsB,SAAUoW,GACnD,GAA4B,OAAxB57G,KAAKkV,OAAOmvF,SAAoBrkG,KAAKyyF,YAAczyF,KAAKnG,QAAQiJ,cAAc,IAAM21G,GAAoBp1E,OACxG,CAAA,GAAIovD,GAAazyF,KAAKyyF,WAClBiT,EAAckW,EAAQhhH,iBAAiB,IAAM69G,GAAoBp1E,MACnD8c,IAASqlD,oBAAoBxlG,KAAKylG,cAAehT,EAAYzyF,KAAKkV,OAAO3R,WAAYmiG,KAM/GqT,EAAav9G,UAAUqgH,gBAAkB,SAAUppB,EAAYv9E,GACvDu9E,GAAcv9E,EAAOmvF,SAAWrkG,KAAKnG,QAAQiJ,cAAc,aACvDoS,EAAOmvF,UACgB,SAAnBrkG,KAAKmkG,YACL1R,EAAazyF,KAAK87G,oBAAoBrpB,IAE1CA,EAAatyC,GAAS+jD,gBAAgBzR,EAAYv9E,EAAO3R,WAAYvD,KAAKmkG,YAE9EngG,GAAUhE,KAAKk2C,MAAOuiE,GAAoBK,WAG1CrmB,EAAazyF,KAAK87G,oBAAoBrpB,EAE1C,IAAIp+E,GAAUrU,KAAK+7G,WAAWtpB,EAAYv9E,EAC1C,OAAOirC,IAASwhD,WAAW3hG,KAAKyB,cAAegxF,EAAYp+E,GAAS,IAGxE0kG,EAAav9G,UAAUugH,WAAa,SAAUtpB,EAAYv9E,GACtD,GAAIgpF,IAAUzgG,EAAkByX,EAAOgpF,SACnC8d,EAAev+G,EAAkByX,EAAO3R,YACpB2R,EAApBA,EAAO3R,UAKX,OAAO5E,MAJwB,OAAhBuW,EAAOzb,MAAkC,OAAjByb,EAAOlY,OAC1CkY,OAAQ8mG,EACR7Y,SAAUjF,EAAS6D,gBAAkBwE,cAAe,kBAClDrxF,QAAUlY,MAAO,SACIkY,GAAQ,IAGvC6jG,EAAav9G,UAAUygH,kBAAoB,SAAU76G,GAC7C3D,EAAkBuC,KAAKk8G,sBACvBl8G,KAAKk8G,mBAAqBl8G,KAAKyB,cAAc,OAASiC,UAAW+0G,GAAoBG,YAChF54G,KAAKk2C,KAAKpzC,cAAc,MAAMtK,UAAUC,SAASggH,GAAoBp1E,SACtErjC,KAAKk8G,mBAAmBt3G,MAAMyhD,QAAU,QAE5CthD,GAAS/E,KAAKk8G,oBAAqBl8G,KAAKk2C,MACxCl2C,KAAKm8G,kBAEJ1+G,EAAkBuC,KAAKk8G,qBAAgE,MAAzCl8G,KAAKk8G,mBAAmBt3G,MAAMw3G,QAC7Ep8G,KAAKm8G,iBAETn8G,KAAKq8G,WAAWj7G,IAEpB23G,EAAav9G,UAAU6gH,WAAa,SAAUj7G,GAK1C,IAAK,GAJDyH,GAASzH,EAAEyH,OACXyzG,EAAW3iF,SAAS1rB,iBAAiBjO,KAAKikG,cAAc,GAAI,MAAM/1F,iBAAiB,UAAW,IAC9FquG,EAAWnvG,KAAKknG,MAAMzrG,EAAOqE,UAAYovG,GACzCrY,EAAgBjkG,KAAKqlG,UAAUzqG,iBAAiB,MAC3CvC,EAAIkkH,EAAUlkH,GAAK,EAAGA,IAAK,CAChC,IAAKoF,EAAkBwmG,EAAc5rG,KAAO4rG,EAAc5rG,GAAGG,UAAUC,SAASggH,GAAoBp1E,OAAQ,CACxG,GAAIm5E,GAAYvY,EAAc5rG,EAC9B2H,MAAKk8G,mBAAmB1hH,UAAYgiH,EAAUhiH,UAC9CwF,KAAKk8G,mBAAmBt3G,MAAM6I,IAAMrM,EAAEyH,OAAOqE,UAAY,KACzDlN,KAAKk8G,mBAAmBt3G,MAAMyhD,QAAU,OACxC,OAGArmD,KAAKk8G,mBAAmBt3G,MAAMyhD,QAAU,OACxCrmD,KAAKk8G,mBAAmBt3G,MAAM6I,IAAM,SAOhDsrG,EAAav9G,UAAU6/G,YAAc,SAAUjC,EAAUlkG,GACrD,GAAImwF,EACJ,IAAIrlG,KAAKy8G,cAAgBrD,EAAU,CAC/B,GAAI3mB,GAAa2mB,CACb3mB,IAAcv9E,EAAOmvF,SACE,SAAnBrkG,KAAKmkG,YACL1R,EAAazyF,KAAK87G,oBAAoBrpB,IAE1CA,EAAatyC,GAAS+jD,gBAAgBzR,EAAYv9E,EAAO3R,WAAYvD,KAAKmkG,YAG1E1R,EAAazyF,KAAK87G,oBAAoBrpB,GAE1C4S,EAAYrlG,KAAK08G,iBAAiBjqB,EAAYv9E,OAG9CmwF,GAAYrlG,KAAK67G,gBAAgBzC,EAAUlkG,EAE/C,OAAOmwF,IAGX0T,EAAav9G,UAAUkhH,iBAAmB,SAAUjqB,EAAYv9E,GAC5D,GAAIoxB,GAAStmC,KAAK+7G,WAAWtpB,EAAYv9E,EACzC,OAAOirC,IAASilD,sBAAsBplG,KAAKyB,cAAezB,KAAKy8G,aAAchqB,EAAYv9E,EAAO3R,WAAY+iC,IAEhHyyE,EAAav9G,UAAU+9G,WAAa,SAAU5hH,GAE1C,IAAK,GADDkB,IAASqpG,OAAQ,KAAMrpG,KAAM,MACxBR,EAAI,GAAKoF,EAAkB9F,IAAUU,EAAIV,EAAMY,OAASF,IAC7D,IAAKoF,EAAkB9F,EAAMU,IACzB,MAAOQ,IAASqpG,aAAevqG,GAAMU,GAAIQ,KAAMlB,EAAMU,GAG7D,OAAOQ,IAEXkgH,EAAav9G,UAAU2gH,eAAiB,WACpCn8G,KAAKk2C,KAAKngC,cAAcnR,MAAMyhD,QAAU,OACxC,IAAIs2D,GAAU38G,KAAKikG,cAAc,GAAGn/F,WACpC9E,MAAKk8G,mBAAmBt3G,MAAM6S,MAAQklG,EAAQh8G,WAAa,KAC3D+F,EAAkB1G,KAAKk8G,oBAAsBE,OAAQ,IACrD,IAAIQ,GAAU58G,KAAKqlG,UAAUviG,cAAc,IAAM21G,GAAoBp1E,MACrErjC,MAAKk8G,mBAAmB1hH,UAAYoiH,EAAQpiH,WAEhDu+G,EAAav9G,UAAUsgH,oBAAsB,SAAUrpB,GACnD,GAAIA,GAAiC,SAAnBzyF,KAAKmkG,UAAsB,CACzC,GAAI0Y,GAAY78G,KAAKkV,OAAOzb,KAAOuG,KAAKkV,OAAOzb,KAAO,MACtDg5F,GAAatyC,GAASmkD,cAAc7R,EAAYtyC,GAASokD,WAAWvkG,KAAKmkG,UAAW0Y,IAExF,MAAOpqB,IAKXsmB,EAAav9G,UAAUshH,gBAAkB,SAAU9/G,GAG/C,IAAK,GAFD9E,GACAS,EAAYqH,KAAK+8G,WACZ1kH,EAAI,EAAGA,EAAIM,EAAUJ,OAAQF,IAClC,IAAKoF,EAAkBT,IAAUrE,EAAUN,GAAGoO,aAAa,gBAAkBzJ,EAAM2D,WAAY,CAC3FzI,EAAQG,CACR,OAGR,MAAOH,IAMX6gH,EAAav9G,UAAUuZ,cAAgB,SAAUlb,EAASE,GACtD,GAAIqnD,GAAMrmD,SAAS8Z,YAAY,aAC/BusC,GAAItsC,UAAU/a,GAAM,GAAO,GAC3BF,EAAQkb,cAAcqsC,IAK1B23D,EAAav9G,UAAUwhH,UAAY,WAC/B,GAAI9nG,GAASlV,KAAKkV,MACdlV,MAAKkV,OAAOlY,QAAUgD,KAAKkV,OAAOzb,KAClCuG,KAAKkV,OAAOzb,KAAOuG,KAAKkV,OAAOlY,OAEzBkY,EAAOlY,OAASkY,EAAOzb,KAC7BuG,KAAKkV,OAAOlY,MAAQgD,KAAKkV,OAAOzb,KAE1BuG,KAAKkV,OAAOlY,OAAUgD,KAAKkV,OAAOzb,OACxCuG,KAAKkV,OAAOlY,MAAQgD,KAAKkV,OAAOzb,KAAO,SAM/Cs/G,EAAav9G,UAAUo/G,UAAY,SAAUnoB,EAAYv9E,EAAQpb,GACzDkG,KAAKk2C,MACLl2C,KAAK86G,YAAYroB,EAAYv9E,EAAQpb,IAG7Ci/G,EAAav9G,UAAUyhH,gBAAkB,aAGzClE,EAAav9G,UAAUw1G,WAAa,WAEhChxG,KAAKu+C,UAETw6D,EAAav9G,UAAU0hH,iBAAmB,SAAUhyG,GAChDlL,KAAK46G,UAAU56G,KAAKyyF,aAExBsmB,EAAav9G,UAAU2hH,iBAAmB,SAAUhzG,EAAOuwB,GAClDj9B,EAAkBi9B,EAAQxlB,SAC3BlV,KAAKg9G,WAET,KAAK,GAAI73F,GAAI,EAAGhb,EAAM5R,OAAS4sB,EAAGA,IAC1BuV,EAAQvwB,EAAMgb,KACdnlB,KAAKk9G,iBAAiB/yG,EAAMgb,KAQxC4zF,EAAav9G,UAAU05B,kBAAoB,SAAUwF,EAASC,GAC1D36B,KAAKm9G,kBAAkB,QAAS,YAAa,aAAc,gBAAiBziF,EAC5E,KAAK,GAAIr8B,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAKo9B,GAAUr8B,EAAK2E,EAAGzK,OAAQ8F,IAExD,OADW2E,EAAG3E,IAEV,IAAK,QACL,IAAK,YACL,IAAK,aACL,IAAK,eACD,KACJ,KAAK,YACD2B,KAAKw6G,cACL,MACJ,KAAK,UACDx6G,KAAK+6G,YACL,MACJ,KAAK,gBAED,GADA/6G,KAAKwlG,oBAAoBxlG,KAAKk2C,MAC1Bl2C,KAAKqlG,WAAarlG,KAAKk8G,mBAAoB,CAC3C,GAAIU,GAAU58G,KAAKqlG,UAAUviG,cAAc,IAAM21G,GAAoBp1E,MACrErjC,MAAKk8G,mBAAmB1hH,UAAYoiH,EAAQpiH,UAEhD,KACJ,KAAK,SACGwF,KAAKk2C,OAAUz4C,EAAkBuC,KAAKikG,gBAAgD,IAA9BjkG,KAAKikG,cAAc1rG,QAC3EyH,KAAKi6G,YAET,MACJ,KAAK,SACDj6G,KAAK2H,eAAgBy0G,OAAQ1hF,EAAQ0hF,SAAU,GAC/Cp8G,KAAKo9G,cAUrBrE,EAAav9G,UAAU+iD,OAAS,SAAU8+D,GACtCr9G,KAAKk2C,KAAOl2C,KAAKyB,cAAc,OAASiC,UAAW+0G,GAAoB/9G,QAASoJ,OAASutG,SAAY,OACrGrxG,KAAKk2C,KAAK19C,UAAU+L,IAAIk0G,GAAoB9Q,MAC5C3nG,KAAKg9G,WACL,IAAInxG,IAAgBY,SAAU,IAAK7G,SAAU,IAAM6yG,GAAoBtX,GACvEnhG,MAAKs9G,UAAY5xG,GAAa1L,KAAKk2C,KAAMrqC,EACzC,IAAIw3B,GAAQrjC,KAAKnG,QAAQiJ,cAAc,kBAIvC,KAHI9C,KAAKkV,OAAOmvF,SAAY5mG,EAAkB4lC,IAC1C59B,GAAalB,IAAIvE,KAAKk2C,KAAM,SAAUl2C,KAAKi8G,kBAAmBj8G,MAErC,iBAAzBA,KAAKkH,gBAAoC,CACrClH,KAAKnG,QAAQ4M,aAAa,aAC1BzG,KAAKk2C,KAAKryC,aAAa,WAAY7D,KAAKnG,QAAQ4M,aAAa,aAEjEjC,GAAaxE,KAAKnG,SAAU4+G,GAAoB9Q,MAChD3nG,KAAKnG,QAAQ+K,MAAMyhD,QAAU,MAC7B,IAAIk3D,GAAiBv9G,KAAKyB,cAAc,MACxCzB,MAAKnG,QAAQkc,cAAc3Q,aAAam4G,EAAgBv9G,KAAKnG,SAC7D0jH,EAAex7G,YAAY/B,KAAKnG,SAChC0jH,EAAex7G,YAAY/B,KAAKk2C,MAEpCl2C,KAAKw6G,eACLx6G,KAAK+6G,aACAsC,GACDr9G,KAAKmhD,cAQb43D,EAAav9G,UAAU0L,cAAgB,WACnC,MAAO,gBAOX6xG,EAAav9G,UAAUuhH,SAAW,WAC9B,MAAO/8G,MAAKqlG,UAAUzqG,iBAAiB,IAAM69G,GAAoBtX,KAUrE4X,EAAav9G,UAAUq3G,QAAU,SAAUl7G,EAAO6lH,GACzCx9G,KAAKk2C,MAAQl2C,KAAKk2C,KAAKx8C,cAAgBsG,KAAKm6G,mBAC7Cn6G,KAAKgxG,YAET,IAAIyM,GAAaz9G,KAAK+8G,WAAWxkH,OAC7BmlH,EAAoB19G,KAAKk2C,KAAKpzC,cAAc,IAAM21G,GAAoBhf,SAC1E9hG,GAASA,YAAiB8G,OAAQ9G,GAASA,EAC3C,IAAIO,EACJA,GAASuF,EAAkB+/G,IAAcA,EAAY,GAAKA,EAAYC,EAAa,EAAKA,EAAaD,CAGrG,KAAK,GAFDtoG,GAASlV,KAAKkV,OACd+uF,KACK5rG,EAAI,EAAGA,EAAIV,EAAMY,OAAQF,IAAK,CACnC,GAAIQ,GAAOlB,EAAMU,GACb8oG,EAAKnhG,KAAKyB,cAAc,MAAQiC,UAAW+0G,GAAoBtX,GAAIx9F,GAAI,cAAgBtL,GAC3F8oG,GAAGt9F,aAAa,aAAchH,EAASqY,EAAOlY,MAAOnE,IACrDsoG,EAAGt9F,aAAa,OAAQ,UACxBs9F,EAAGp/F,YAAYhH,SAASC,eAAe6B,EAASqY,EAAOzb,KAAMZ,KAC7DorG,EAAcjrG,KAAKmoG,GACnBnhG,KAAKo5G,SAASpgH,KAAKH,GACnBmH,KAAK29G,yBAAyBxc,EAAItoG,GAEtC,GAAmB,IAAf4kH,GAAoBhgH,EAAkBuC,KAAKk2C,KAAKpzC,cAAc,OAC9D9C,KAAKk2C,KAAK17C,UAAY,GACtBwF,KAAKk2C,KAAKn0C,YAAY/B,KAAKqlG,WAC3B//F,EAAO2+F,EAAejkG,KAAKqlG,eAG3B,KAAShtG,EAAI,EAAGA,EAAIV,EAAMY,OAAQF,IAAK,CAC/B2H,KAAKikG,cAAc/rG,GACnB8H,KAAKikG,cAAc/rG,GAAO4C,WAAWsK,aAAa6+F,EAAc5rG,GAAI2H,KAAKikG,cAAc/rG,IAGvF8H,KAAKqlG,UAAUtjG,YAAYkiG,EAAc5rG,GAE7C,IAAIulH,MAAYj8G,MAAMf,KAAKZ,KAAKikG,cAChC2Z,GAAO1zF,OAAOhyB,EAAO,EAAG+rG,EAAc5rG,IACtC2H,KAAKikG,cAAgB2Z,EACrB1lH,GAAS,GAGbwlH,GAAmC,IAAdF,IACrBx9G,KAAKi9G,mBAGblE,EAAav9G,UAAUqiH,oBAAsB,SAAUh1G,EAAQi1G,GAC3D,GAAIlrF,GAAO/pB,EAAOpC,aAAa,QAAUoC,EAAOpC,aAAa,QAAUoC,EAAOpC,aAAa,KAC3Fq3G,GAAOj6G,aAAa,OAAQ+uB,GAC5B/pB,EAAOyD,gBAAgB,OAEvB,KAAK,GADDvI,IAAc,WAAY,gBAAiB,QACtC1L,EAAI,EAAGA,EAAI0L,EAAWxL,OAAQF,IACnC,GAAKwQ,EAAOpC,aAAa1C,EAAW1L,IAApC,CAGA,GAAImrG,GAAO36F,EAAOpC,aAAa1C,EAAW1L,GAC1CylH,GAAOj6G,aAAaE,EAAW1L,GAAImrG,GACnC36F,EAAOyD,gBAAgBvI,EAAW1L,MAG1C0gH,EAAav9G,UAAU4hH,UAAY,aAGnCrE,EAAav9G,UAAUmiH,yBAA2B,SAAUxc,EAAItoG,KAQhEkgH,EAAav9G,UAAUuiH,eAAiB,SAAU/gH,GAC9C,IAAKS,EAAkBuC,KAAKo5G,UAAW,CACnC,GAAIr/G,GAAOiG,KAAKu5G,WAAWv5G,KAAKo5G,UAAUlX,MAC1C,IAAa,WAATnoG,GAA8B,WAATA,GAA8B,YAATA,GAC1C,IAAK,GAAIsE,GAAK,EAAG2E,EAAKhD,KAAKo5G,SAAU/6G,EAAK2E,EAAGzK,OAAQ8F,IAEjD,IAAKZ,EADD5E,EAAOmK,EAAG3E,KACkBxF,IAASmE,EACrC,MAAOnE,OAKf,KAAK,GAAIwL,GAAK,EAAG4G,EAAKjL,KAAKo5G,SAAU/0G,EAAK4G,EAAG1S,OAAQ8L,IAAM,CACvD,GAAIxL,GAAOoS,EAAG5G,EACd,KAAK5G,EAAkB5E,IAASgE,EAAUmD,KAAKkV,OAAOlY,MAAQgD,KAAKkV,OAAOlY,MAAQ,QAAUnE,KAAUmE,EAClG,MAAOnE,IAKvB,MAAO,OAOXkgH,EAAav9G,UAAUqY,QAAU,WACzB9Y,SAAS+R,KAAKrU,SAASuH,KAAKk2C,QAC5BzwC,GAAaf,OAAO1E,KAAKk2C,KAAM,SAAUl2C,KAAKi8G,mBACzCx+G,EAAkBuC,KAAKs9G,YACxBt9G,KAAKs9G,YAET/3G,EAAOvF,KAAKk2C,OAEhBxd,EAAOl9B,UAAUqY,QAAQjT,KAAKZ,OAGlCi4B,IACI5uB,IAAU5P,KAAM,KAAMuD,MAAO,KAAMkhG,QAAS,KAAMmG,QAAS,MAAQ2E,KACpE+P,EAAav9G,UAAW,aAAU,IACrCy8B,IACIrvB,IAAS,IACVmwG,EAAav9G,UAAW,gBAAa,IACxCy8B,IACIrvB,IAAS,IACVmwG,EAAav9G,UAAW,wBAAqB,IAChDy8B,IACIrvB,GAAS,OACVmwG,EAAav9G,UAAW,mBAAgB,IAC3Cy8B,IACIrvB,GAAS,OACVmwG,EAAav9G,UAAW,oBAAiB,IAC5Cy8B,IACIrvB,GAAS,qBACVmwG,EAAav9G,UAAW,wBAAqB,IAChDy8B,IACIrvB,GAAS,uBACVmwG,EAAav9G,UAAW,4BAAyB,IACpDy8B,IACIrvB,GAAS,SACVmwG,EAAav9G,UAAW,gBAAa,IACxCy8B,IACIrvB,IAAS,IACVmwG,EAAav9G,UAAW,cAAW,IACtCy8B,IACIrvB,QACDmwG,EAAav9G,UAAW,iBAAc,IACzCy8B,IACIrvB,GAAS,OACVmwG,EAAav9G,UAAW,YAAS,IACpCy8B,IACIrvB,GAAS,MACVmwG,EAAav9G,UAAW,aAAU,IACrCy8B,IACIrvB,IAAS,IACVmwG,EAAav9G,UAAW,mBAAgB,IAC3Cy8B,IACIxuB,MACDsvG,EAAav9G,UAAW,kBAAe,IAC1Cy8B,IACIxuB,MACDsvG,EAAav9G,UAAW,qBAAkB,IAC7Cy8B,IACIxuB,MACDsvG,EAAav9G,UAAW,oBAAiB,IAC5Cy8B,IACIxuB,MACDsvG,EAAav9G,UAAW,aAAU,IACrCy8B,IACIxuB,MACDsvG,EAAav9G,UAAW,gBAAa,IACxCy8B,IACIxuB,MACDsvG,EAAav9G,UAAW,cAAW,IACtCy8B,IACIxuB,MACDsvG,EAAav9G,UAAW,gBAAa,IACxCu9G,EAAe9gF,IACXluB,IACDgvG,IAELn7D,ItCj2BEtnC,IAAc,EERdmhB,GAAwC,WACxC,GAAIC,GAAgBn5B,OAAOo5B,iBACpBC,uBAA2Bn5B,QAAS,SAAUo5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAExwB,eAAeywB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOh4B,KAAKnC,YAAcg6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAEr8B,UAAkB,OAANs8B,EAAav5B,OAAOgN,OAAOusB,IAAME,EAAGx8B,UAAYs8B,EAAEt8B,UAAW,GAAIw8B,QAGnFC,GAA0C,SAAUC,EAAYrvB,EAAQxL,EAAK86B,GAC7E,GAA2HN,GAAvHO,EAAIn5B,UAAU1G,OAAQ8/B,EAAID,EAAI,EAAIvvB,EAAkB,OAATsvB,EAAgBA,EAAO55B,OAAO+5B,yBAAyBzvB,EAAQxL,GAAO86B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYrvB,EAAQxL,EAAK86B,OACpH,KAAK,GAAI9/B,GAAI6/B,EAAW3/B,OAAS,EAAGF,GAAK,EAAGA,KAASw/B,EAAIK,EAAW7/B,MAAIggC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAEhvB,EAAQxL,EAAKg7B,GAAKR,EAAEhvB,EAAQxL,KAASg7B,EAChJ,OAAOD,GAAI,GAAKC,GAAK95B,OAAO4K,eAAeN,EAAQxL,EAAKg7B,GAAIA,GAa5D2lF,GAA8B,SAAUtlF,GAExC,QAASslF,KACL,MAAkB,QAAXtlF,GAAmBA,EAAOh9B,MAAMsE,KAAMf,YAAce,KAQ/D,MAVAy3B,IAAUumF,EAActlF,GAIxBT,IACIrvB,GAAS,SACVo1G,EAAaxiH,UAAW,QAAK,IAChCy8B,IACIrvB,GAAS,QACVo1G,EAAaxiH,UAAW,QAAK,IACzBwiH,GACT17E,IAGE27E,IACAC,KAAM,UACN1gB,IAAK,QACL2gB,KAAM,eACNC,MAAO,iBAePC,GAAuB,SAAU3lF,GAEjC,QAAS2lF,GAAMxkH,EAASwa,GACpB,GAAItU,GAAQ24B,EAAO93B,KAAKZ,KAAMqU,EAASxa,IAAYmG,IAEnD,OADAD,GAAMuW,aAAc,EACbvW,EAghBX,MAphBA03B,IAAU4mF,EAAO3lF,GAUjB2lF,EAAM7iH,UAAU05B,kBAAoB,SAAUwF,EAASC,GACnD,IAAK,GAAIt8B,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAKo9B,GAAUr8B,EAAK2E,EAAGzK,OAAQ8F,IAExD,OADW2E,EAAG3E,IAEV,IAAK,QACDqI,EAAkB1G,KAAKnG,SAAW4d,MAAS/U,EAAWg4B,EAAQjjB,QAC9D,MACJ,KAAK,SACD/Q,EAAkB1G,KAAKnG,SAAW2d,OAAU9U,EAAWg4B,EAAQljB,SAC/D,MACJ,KAAK,SACD9Q,EAAkB1G,KAAKnG,SAAWuiH,OAAU1hF,EAAQ0hF,QACpD,MACJ,KAAK,YACDp8G,KAAKw6G,cACL,MACJ,KAAK,WACL,IAAK,WACDx6G,KAAKs+G,iBACL,MACJ,KAAK,UACD,GAAIxwG,GAAI4sB,EAAQ9tB,QAAU+tB,EAAQ/tB,OAClC5M,MAAKnG,QAAQ+K,MAAM2I,MAAQosB,SAAS35B,KAAKnG,QAAQ+K,MAAM2I,KAAM,OAAW5M,WAAa,IACrF,MACJ,KAAK,UACD,GAAIoN,GAAI2sB,EAAQ1tB,QAAU2tB,EAAQ3tB,OAClChN,MAAKnG,QAAQ+K,MAAM6I,KAAOksB,SAAS35B,KAAKnG,QAAQ+K,MAAM6I,IAAK,OAAW9M,WAAa,IACnF,MACJ,KAAK,UACDX,KAAKu+G,YACL,MACJ,KAAK,iBAC8B,SAA3B7jF,EAAQ8jF,eACRx+G,KAAKy+G,mBAGLz+G,KAAK0+G,uBAUzBL,EAAM7iH,UAAU0L,cAAgB,WAC5B,MAAO,SAKXm3G,EAAM7iH,UAAUwjD,eAAiB,WAC7B,MAAOh/C,MAAKy/C,kBAKhB4+D,EAAM7iH,UAAUqY,QAAU,WACtB7T,KAAKnG,QAAQrB,UAAUkM,OAAOu5G,GAAWC,KAAMD,GAAWzgB,KAC1Dx9F,KAAK8mB,eACL4R,EAAOl9B,UAAUqY,QAAQjT,KAAKZ,OAMlCq+G,EAAM7iH,UAAU+iD,OAAS,WACrBv+C,KAAKnG,QAAQrB,UAAU+L,IAAI05G,GAAWC,KACtC,IAAIt6G,KACgB,OAAhB5D,KAAKo8G,SACLx4G,EAAOw4G,OAASp8G,KAAKo8G,QAEN,SAAfp8G,KAAKyX,QACL7T,EAAO6T,MAAQ/U,EAAW1C,KAAKyX,QAEf,SAAhBzX,KAAKwX,SACL5T,EAAO4T,OAAS9U,EAAW1C,KAAKwX,SAEpC9Q,EAAkB1G,KAAKnG,QAAS+J,GAChC5D,KAAKw6G,eACLx6G,KAAKu+G,aACLv+G,KAAKkmB,cAETm4F,EAAM7iH,UAAU0qB,WAAa,WACrB9Z,GAAQkc,UACR7iB,GAAalB,IAAIvI,OAAQ,oBAAqBgE,KAAK2+G,oBAAqB3+G,MAEhD,SAAxBA,KAAKw+G,gBACLx+G,KAAKy+G,oBAGbJ,EAAM7iH,UAAUijH,iBAAmB,WAC/B,GAAIz+G,KAAK4+G,qBACL,IAAK,GAAIvgH,GAAK,EAAG2E,EAAKhD,KAAKib,oBAAoBjb,KAAK4+G,sBAAuBvgH,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAC7F,GAAIxD,GAAWmI,EAAG3E,EAClBoH,IAAalB,IAAI1J,EAAU,SAAUmF,KAAK6+G,cAAe7+G,QAIrEq+G,EAAM7iH,UAAUsrB,aAAe,WACvB1a,GAAQkc,UACR7iB,GAAaf,OAAO1I,OAAQ,oBAAqBgE,KAAK2+G,qBAE9B,SAAxB3+G,KAAKw+G,gBACLx+G,KAAK0+G,sBAGbL,EAAM7iH,UAAUkjH,mBAAqB,WACjC,GAAI1+G,KAAK4+G,qBACL,IAAK,GAAIvgH,GAAK,EAAG2E,EAAKhD,KAAKib,oBAAoBjb,KAAK4+G,sBAAuBvgH,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAC7F,GAAIygH,GAAW97G,EAAG3E,EAClBoH,IAAaf,OAAOo6G,EAAU,SAAU9+G,KAAK6+G,iBAIzDR,EAAM7iH,UAAUojH,mBAAqB,WACjC,GAAIG,GAAoC,KAAlB/+G,KAAKg/G,UAAmBvhH,EAAkBuC,KAAKg/G,UACjEjkH,SAAS+R,KAAO9M,KAAKg/G,QAEzB,OADAh/G,MAAK2H,eAAgBq3G,SAAUD,IAAmB,GACf,gBAAnB/+G,MAAKg/G,SACjBjkH,SAAS+H,cAAc9C,KAAKg/G,UAAYh/G,KAAKg/G,UAErDX,EAAM7iH,UAAUqjH,cAAgB,SAAUz9G,GAWtC,GAV4B,eAAxBpB,KAAKw+G,eACCx+G,KAAKnG,QAAQ8b,eAAiBvU,EAAEyH,QACjC7I,KAAKnG,QAAQ8b,cAAsD,SAAtC3V,KAAKnG,QAAQ8b,aAAarS,SAC1B,MAA1BlC,EAAEyH,OAAOkN,eACb/V,KAAKs+G,kBAGoB,SAAxBt+G,KAAKw+G,gBACVx+G,KAAKi/G,OAEmB,SAAxBj/G,KAAKw+G,gBACDx+G,KAAK4+G,qBAAsB,CAC3B,GAAIM,GAAgBl/G,KAAKm/G,oBAAoBn/G,KAAK4+G,qBAAsBx9G,EAAEyH,OACrEq2G,IAAkBl/G,KAAKo/G,sBAInBF,IACLl/G,KAAKo/G,uBAAwB,IAJ7Bp/G,KAAKooB,QAAQ,sBACbpoB,KAAKo/G,uBAAwB,KAa7Cf,EAAM7iH,UAAU2jH,oBAAsB,SAAUJ,EAAiBM,GAE7D,IAAK,GADDlkG,GAAgBnb,KAAKib,oBAAoB8jG,GACpCO,EAAW,EAAGA,EAAWnkG,EAAc5iB,OAAQ+mH,IACpD,IAAIt/G,KAAKu/G,iBAAiBR,EAAiB5jG,EAAcmkG,IAIrD,OAAO,CAGf,QAAO,GAEXjB,EAAM7iH,UAAU+jH,iBAAmB,SAAUR,EAAiBM,GAC1D,GAAItiF,GAAOgiF,EAAgBpyG,uBAC3B,KAAKowB,EAAKvlB,SAAWulB,EAAKtlB,MACtB,OAAO,CAEX,IAAI4nG,EAAc1yG,sBAAuB,CACrC,GAAI6yG,GAAWH,EAAc1yG,uBAC7B,SAASowB,EAAKrvB,OAAS8xG,EAAS/xG,KACzBsvB,EAAKrvB,OAAS8xG,EAAS9xG,QACnBqvB,EAAKvvB,MAAQgyG,EAAShyG,OACnBuvB,EAAKxvB,KAAOiyG,EAASjyG,MAGnC,GAAIkyG,GAAMzjH,OACN0jH,GACAjyG,IAAKgyG,EAAIE,QACTpyG,KAAMkyG,EAAIG,QACVpyG,MAAOiyG,EAAIG,QAAUH,EAAII,WACzBnyG,OAAQ+xG,EAAIE,QAAUF,EAAIK,aAE1BrsF,EAAMzd,GAAkB+oG,GACxB36G,GACAqJ,IAAKgmB,EAAIhmB,IACTF,KAAMkmB,EAAIlmB,KACVC,MAAOimB,EAAIlmB,KAAOwvB,EAAKtlB,MACvB/J,OAAQ+lB,EAAIhmB,IAAMsvB,EAAKvlB,QAEvBuoG,GACAtyG,IAAKiyG,EAAWhyG,OAAStJ,EAAIqJ,IAC7BF,KAAMmyG,EAAWlyG,MAAQpJ,EAAImJ,KAC7BG,OAAQtJ,EAAIsJ,OAASgyG,EAAWjyG,IAChCD,MAAOpJ,EAAIoJ,MAAQkyG,EAAWnyG,KAElC,OAAOwyG,GAAYtyG,IAAM,GAClBsyG,EAAYxyG,KAAO,GACnBwyG,EAAYvyG,MAAQ,GACpBuyG,EAAYryG,OAAS,GAOpC2wG,EAAM7iH,UAAUwY,UAAY,aAG5BqqG,EAAM7iH,UAAUg/G,aAAe,WAC3Bx6G,KAAKggH,aACLhgH,KAAKuP,UAAYvP,KAAKnG,QAAQrB,UAAU+L,IAAI05G,GAAWzgB,KAAOx9F,KAAKnG,QAAQrB,UAAUkM,OAAOu5G,GAAWzgB,MAE3G6gB,EAAM7iH,UAAU+iH,WAAa,WACpB9gH,EAAkBuC,KAAKtF,WACxBsF,KAAKnG,QAAQW,UAAY,GACK,gBAAlBwF,cACRA,KAAKnG,QAAQH,YAAcsG,KAAKtF,QAGhCsF,KAAKnG,QAAQkI,YAAY/B,KAAKtF,WAI1C2jH,EAAM7iH,UAAUmjH,oBAAsB,WAClC,GAAI5+G,GAAQC,IACZ/H,YAAW,WACP8H,EAAMu+G,mBACP,MAKPD,EAAM7iH,UAAU8iH,gBAAkB,SAAUz1G,GACnCpL,EAAkBoL,IACnB7I,KAAKigH,iBAAiBp3G,GAE1B7I,KAAKggH,aACLhgH,KAAKkgH,kBAET7B,EAAM7iH,UAAUwkH,WAAa,WACzB,GAAIvpG,GACAsoG,EAAkB/+G,KAAK4+G,oBAC3B,IAA+B,gBAApB5+G,MAAK4V,SAASiC,GAA6C,gBAApB7X,MAAK4V,SAASkC,EAC5DrB,GAAQlJ,KAAMvN,KAAK4V,SAASiC,EAAGpK,IAAKzN,KAAK4V,SAASkC,OAEjD,IAAIinG,EAAiB,CACtB,GAAI14D,GAAUrmD,KAAKnG,QAAQ+K,MAAMyhD,OACjCrmD,MAAKnG,QAAQ+K,MAAMyhD,QAAU,QAC7B5vC,EAAMzW,KAAKmgH,kBAAkBpB,EAAiB/+G,KAAKnG,QAASmG,KAAK4V,SAAU5V,KAAK4M,QAAS5M,KAAKgN,SAC9FhN,KAAKnG,QAAQ+K,MAAMyhD,QAAUA,MAG7B5vC,IAAQlJ,KAAM,EAAGE,IAAK,EAE1BzN,MAAKnG,QAAQ+K,MAAM2I,KAAOkJ,EAAIlJ,KAAO,KACrCvN,KAAKnG,QAAQ+K,MAAM6I,IAAMgJ,EAAIhJ,IAAM,MAEvC4wG,EAAM7iH,UAAU2kH,kBAAoB,SAAUC,EAAWh8G,EAAKwR,EAAUhJ,EAASI,GAC7E,GAAIqzG,GAAUj8G,EAAIuI,wBACd2zG,EAAaF,EAAUzzG,wBACvB4I,EAAS6qG,EACT3qG,GAAclI,KAAM,EAAGE,IAAK,EAOhC,QALIgI,EADArR,EAAIuR,cAA6C,SAA7BvR,EAAIuR,aAAarS,SAA4C,SAAtB88G,EAAU98G,QACzD0S,GAAkBoqG,GAGlB9qG,GAA+BC,EAAQnR,GAE/CwR,EAASiC,GACb,QACA,IAAK,OACD,KACJ,KAAK,SACuB,cAApB7X,KAAKugH,WACL9qG,EAAUlI,MAAS+yG,EAAW7oG,MAAQ,EAAI4oG,EAAQ5oG,MAAQ,EAG1DhC,EAAUlI,MAAS+yG,EAAW7oG,MAAQ,CAE1C,MACJ,KAAK,QACuB,cAApBzX,KAAKugH,WACL9qG,EAAUlI,MAAS+yG,EAAW7oG,MAAQ4oG,EAAQ5oG,MAG9ChC,EAAUlI,MAAS+yG,EAAiB,MAIhD,OAAQ1qG,EAASkC,GACb,QACA,IAAK,MACD,KACJ,KAAK,SACuB,cAApB9X,KAAKugH,WACL9qG,EAAUhI,KAAQ6yG,EAAW9oG,OAAS,EAAI6oG,EAAQ7oG,OAAS,EAG3D/B,EAAUhI,KAAQ6yG,EAAW9oG,OAAS,CAE1C,MACJ,KAAK,SACuB,cAApBxX,KAAKugH,WACL9qG,EAAUhI,KAAQ6yG,EAAW9oG,OAAS6oG,EAAQ7oG,OAG9C/B,EAAUhI,KAAQ6yG,EAAkB,OAMhD,MAFA7qG,GAAUlI,MAAQX,EAClB6I,EAAUhI,KAAOT,EACVyI,GAEX4oG,EAAM7iH,UAAUglH,SAAW,SAAUvmB,GACjC,GAAI8kB,GAAkB/+G,KAAK4+G,oBAC3B/kG,IAAK7Z,KAAKnG,QAASklH,EAAiB/+G,KAAK4M,QAAS5M,KAAKgN,QAAShN,KAAK4V,SAASiC,EAAG7X,KAAK4V,SAASkC,EAAG9X,KAAK2X,gBAAiBsiF,EAAOj6F,KAAKsW,cAExI+nG,EAAM7iH,UAAUilH,QAAU,SAAUxmB,GAChC,GAA6D,IAAzD9gF,GAAUnZ,KAAKnG,QAASmG,KAAK2X,iBAAiBpf,OAC9C,GAAIkF,EAAkBuC,KAAK2X,iBAAkB,CACzC,GAAIlb,GAAOib,GAAI1X,KAAKnG,QAASmG,KAAK2X,gBAAiBsiF,EACnDj6F,MAAKnG,QAAQ+K,MAAM2I,KAAO9Q,EAAK8Q,KAAO,KACtCvN,KAAKnG,QAAQ+K,MAAM6I,IAAMhR,EAAKgR,IAAM,SAEnC,CACD,GAAIsJ,GAAc/W,KAAKnG,QAAQ8S,wBAC3B+zG,EAAe1gH,KAAK2X,gBAAgBhL,uBACpCstF,KAAqB,IAAZA,EAAMniF,IACX4oG,EAAajzG,IAAMsJ,EAAYtJ,IAC/BzN,KAAKnG,QAAQ+K,MAAM6I,IAAM,MAEpBizG,EAAahzG,OAASqJ,EAAYrJ,SACvC1N,KAAKnG,QAAQ+K,MAAM6I,IAAMksB,SAAS35B,KAAKnG,QAAQ+K,MAAM6I,IAAK,KAAOsJ,EAAYrJ,OAASgzG,EAAahzG,QAAU,OAGjHusF,IAAqB,IAAZA,EAAMpiF,IACX6oG,EAAalzG,MAAQuJ,EAAYvJ,MACjCxN,KAAKnG,QAAQ+K,MAAM2I,KAAOosB,SAAS35B,KAAKnG,QAAQ+K,MAAM2I,KAAM,KAAOwJ,EAAYvJ,MAAQkzG,EAAalzG,OAAS,KAExGkzG,EAAanzG,KAAOwJ,EAAYxJ,OACrCvN,KAAKnG,QAAQ+K,MAAM2I,KAAOosB,SAAS35B,KAAKnG,QAAQ+K,MAAM2I,KAAM,KAAOmzG,EAAanzG,KAAOwJ,EAAYxJ,MAAQ,SAM/H8wG,EAAM7iH,UAAU0kH,eAAiB,WAC7B,GAAIS,GAAO3gH,KAAK4gH,UAAU/oG,EACtBgpG,EAAO7gH,KAAK4gH,UAAU9oG,CACb,UAAT6oG,GAA4B,SAATE,IAGV,SAATF,GAA4B,SAATE,EACnB7gH,KAAKwgH,UAAW3oG,GAAG,EAAMC,GAAG,IAEd,QAAT6oG,GAA2B,QAATE,EACvB7gH,KAAKygH,SAAU5oG,GAAG,EAAMC,GAAG,KAGd,SAAT6oG,EACA3gH,KAAKwgH,UAAW3oG,GAAG,EAAMC,GAAG,IAEd,SAAT+oG,GACL7gH,KAAKwgH,UAAW1oG,GAAG,EAAMD,GAAG,IAEnB,QAAT8oG,EACA3gH,KAAKygH,SAAU5oG,GAAG,EAAMC,GAAG,IAEb,QAAT+oG,GACL7gH,KAAKygH,SAAU5oG,GAAG,EAAOC,GAAG,OAUxCumG,EAAM7iH,UAAUslH,KAAO,SAAUC,EAAkBC,GAC/C,GAAIjhH,GAAQC,IACZ,IAAoB,MAAhBA,KAAKo8G,SAAoB3+G,EAAkBujH,GAAkB,CAC7D,GAAIC,GAAiBxjH,EAAkBujH,GAAoBhhH,KAAKnG,QAAUmnH,CAC1EhhH,MAAKo8G,OAAS3gG,GAAiBwlG,GAC/Bv6G,EAAkB1G,KAAKnG,SAAWuiH,OAAUp8G,KAAKo8G,SAErD2E,EAAqBtjH,EAAkBsjH,IAAiD,gBAArBA,GAC5C/gH,KAAKkhH,cAAxBH,EACqB,SAArB/gH,KAAK4gH,UAAU/oG,GAAqC,SAArB7X,KAAK4gH,UAAU9oG,IAC9CtT,GAAaxE,KAAKnG,SAAUokH,GAAWG,OACvCp6G,GAAUhE,KAAKnG,SAAUokH,GAAWE,MACpCn+G,KAAKkgH,iBACL17G,GAAaxE,KAAKnG,SAAUokH,GAAWE,MACvCn6G,GAAUhE,KAAKnG,SAAUokH,GAAWG,QAEnC3gH,EAAkBsjH,IAenBv8G,GAAaxE,KAAKnG,SAAUokH,GAAWG,OACvCp6G,GAAUhE,KAAKnG,SAAUokH,GAAWE,MACpCn+G,KAAKooB,QAAQ,UAhBb24F,EAAiBxhG,MAAQ,WAChBxf,EAAMy0B,cACPhwB,GAAazE,EAAMlG,SAAUokH,GAAWG,OACxCp6G,GAAUjE,EAAMlG,SAAUokH,GAAWE,QAG7C4C,EAAiBphG,IAAM,WACd5f,EAAMy0B,aACPz0B,EAAMqoB,QAAQ,SAGtB,GAAIqQ,IAAUsoF,GAAkB3nF,QAAQp5B,KAAKnG,WAYrDwkH,EAAM7iH,UAAUyjH,KAAO,SAAU8B,GAC7B,GAAIhhH,GAAQC,IAGPvC,GAFLsjH,EAAqBtjH,EAAkBsjH,IAAiD,gBAArBA,GAC5C/gH,KAAKmhH,cAAxBJ,IAYAv8G,GAAaxE,KAAKnG,SAAUokH,GAAWE,MACvCn6G,GAAUhE,KAAKnG,SAAUokH,GAAWG,OACpCp+G,KAAKooB,QAAQ,WAZb24F,EAAiBphG,IAAM,WACd5f,EAAMy0B,cACPhwB,GAAazE,EAAMlG,SAAUokH,GAAWE,MACxCn6G,GAAUjE,EAAMlG,SAAUokH,GAAWG,OACrCr+G,EAAMqoB,QAAQ,WAGtB,GAAIqQ,IAAUsoF,GAAkB3nF,QAAQp5B,KAAKnG,WAYrDwkH,EAAM7iH,UAAUyf,oBAAsB,SAAUphB,GAE5C,MADAmG,MAAKigH,iBAAiBpmH,GACfohB,GAAoBphB,EAASmG,KAAKsW,cAE7C+nG,EAAM7iH,UAAUykH,iBAAmB,SAAUpmH,GAEzC,IADA,GAAIkH,GAASlH,EAAQkc,cACdhV,GAA6B,SAAnBA,EAAOuC,SAAoB,CACxC,GAAI+X,GAAcpN,iBAAiBlN,EACN,WAAzBsa,EAAYzF,UAAwB5V,KAAKnG,QAAQ8b,cAAsD,SAAtC3V,KAAKnG,QAAQ8b,aAAarS,UAC3FtD,KAAKnG,QAAQ+K,MAAMgR,SAAW,QAC9B5V,KAAKsW,aAAc,GAEvBvV,EAASA,EAAOgV,cACZtY,EAAkBuC,KAAKnG,QAAQ8b,eAA0C,UAAzB0F,EAAYzF,UACzB,UAAhC5V,KAAKnG,QAAQ+K,MAAMgR,WACtB5V,KAAKsW,aAAc,KAI/B2hB,IACIrvB,GAAS,SACVy1G,EAAM7iH,UAAW,aAAU,IAC9By8B,IACIrvB,GAAS,SACVy1G,EAAM7iH,UAAW,YAAS,IAC7By8B,IACIrvB,GAAS,OACVy1G,EAAM7iH,UAAW,cAAW,IAC/By8B,IACIrvB,GAAS,cACVy1G,EAAM7iH,UAAW,iBAAc,IAClCy8B,IACIrvB,GAAS,OACVy1G,EAAM7iH,UAAW,sBAAmB,IACvCy8B,IACIrvB,IAAWiP,EAAG,OAAQC,EAAG,UAC1BumG,EAAM7iH,UAAW,gBAAa,IACjCy8B,IACIrvB,GAAS,KACVy1G,EAAM7iH,UAAW,eAAY,IAChCy8B,IACI5uB,MAAY20G,KACbK,EAAM7iH,UAAW,eAAY,IAChCy8B,IACIrvB,GAAS,IACVy1G,EAAM7iH,UAAW,cAAW,IAC/By8B,IACIrvB,GAAS,IACVy1G,EAAM7iH,UAAW,cAAW,IAC/By8B,IACIrvB,GAAS,MACVy1G,EAAM7iH,UAAW,aAAU,IAC9By8B,IACIrvB,IAAS,IACVy1G,EAAM7iH,UAAW,gBAAa,IACjCy8B,IACIrvB,GAAS,eACVy1G,EAAM7iH,UAAW,qBAAkB,IACtCy8B,IACIrvB,GAAS,OACVy1G,EAAM7iH,UAAW,oBAAiB,IACrCy8B,IACIrvB,GAAS,OACVy1G,EAAM7iH,UAAW,oBAAiB,IACrCy8B,IACIxuB,MACD40G,EAAM7iH,UAAW,WAAQ,IAC5By8B,IACIxuB,MACD40G,EAAM7iH,UAAW,YAAS,IAC7By8B,IACIxuB,MACD40G,EAAM7iH,UAAW,yBAAsB,IAC1C6iH,EAAQpmF,IACJluB,IACDs0G,IAELzgE,IqCnlBEnmB,GAAwC,WACxC,GAAIC,GAAgBn5B,OAAOo5B,iBACpBC,uBAA2Bn5B,QAAS,SAAUo5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAExwB,eAAeywB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOh4B,KAAKnC,YAAcg6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAEr8B,UAAkB,OAANs8B,EAAav5B,OAAOgN,OAAOusB,IAAME,EAAGx8B,UAAYs8B,EAAEt8B,UAAW,GAAIw8B,QAGnFC,GAA0C,SAAUC,EAAYrvB,EAAQxL,EAAK86B,GAC7E,GAA2HN,GAAvHO,EAAIn5B,UAAU1G,OAAQ8/B,EAAID,EAAI,EAAIvvB,EAAkB,OAATsvB,EAAgBA,EAAO55B,OAAO+5B,yBAAyBzvB,EAAQxL,GAAO86B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYrvB,EAAQxL,EAAK86B,OACpH,KAAK,GAAI9/B,GAAI6/B,EAAW3/B,OAAS,EAAGF,GAAK,EAAGA,KAASw/B,EAAIK,EAAW7/B,MAAIggC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAEhvB,EAAQxL,EAAKg7B,GAAKR,EAAEhvB,EAAQxL,KAASg7B,EAChJ,OAAOD,GAAI,GAAKC,GAAK95B,OAAO4K,eAAeN,EAAQxL,EAAKg7B,GAAIA,GAU5D+oF,GAA6B,SAAU1oF,GAEvC,QAAS0oF,KACL,MAAkB,QAAX1oF,GAAmBA,EAAOh9B,MAAMsE,KAAMf,YAAce,KAQ/D,MAVAy3B,IAAU2pF,EAAa1oF,GAIvBT,IACIrvB,MACDw4G,EAAY5lH,UAAW,kBAAe,IACzCy8B,IACIrvB,MACDw4G,EAAY5lH,UAAW,YAAS,IAC5B4lH,GACT9+E,IAKE++E,GAAmC,SAAU3oF,GAE7C,QAAS2oF,KACL,MAAkB,QAAX3oF,GAAmBA,EAAOh9B,MAAMsE,KAAMf,YAAce,KAW/D,MAbAy3B,IAAU4pF,EAAmB3oF,GAI7BT,IACIrvB,GAAS,SACVy4G,EAAkB7lH,UAAW,aAAU,IAC1Cy8B,IACIrvB,GAAS,MACVy4G,EAAkB7lH,UAAW,eAAY,IAC5Cy8B,IACIrvB,GAAS,IACVy4G,EAAkB7lH,UAAW,YAAS,IAClC6lH,GACT/+E,IAEE47E,GAAO,WAgCPoD,GAAwB,SAAU5oF,GAMlC,QAAS4oF,GAAOjtG,EAASxa,GACrB,MAAO6+B,GAAO93B,KAAKZ,KAAMqU,EAASxa,IAAYmG,KAw5BlD,MA95BAy3B,IAAU6pF,EAAQ5oF,GAYlB4oF,EAAO9lH,UAAU+iD,OAAS,WACtBv+C,KAAKmhD,aACLnhD,KAAKuhH,aACLvhH,KAAKkmB,cAMTo7F,EAAO9lH,UAAUwY,UAAY,WACzB,GAAIjU,GAAQC,IACZA,MAAKwhH,cAAgB,IAErB,KAAK,GADDC,MACKt8F,EAAI,EAAGA,EAAInlB,KAAKnG,QAAQrB,UAAUD,OAAQ4sB,IAC1C1nB,EAAkBuC,KAAKnG,QAAQrB,UAAU2sB,GAAGjU,MAAM,eAClDzT,EAAkBuC,KAAKnG,QAAQrB,UAAU2sB,GAAGjU,MAAMgtG,MACnDuD,EAAWzoH,KAAKgH,KAAKnG,QAAQrB,UAAU2sB,GAG/C3gB,IAAaxE,KAAKnG,SAAU4nH,GAC5BzhH,KAAK0hH,UAAY1hH,KAAKnG,QAAQmI,WAAU,GACxChC,KAAK2hH,2BAA6B,SAAUplH,GACxCwD,EAAMk/G,KAAK1iH,IAEfyD,KAAK4hH,4BAA8B,SAAUrlH,GACzCwD,EAAMqoB,QAAQ,eAAgB7rB,GAElC,IAAIslH,IAAez/G,MAAO,QAE1B,IADApC,KAAKs6G,KAAO,GAAI5uD,IAAK,SAAUm2D,EAAY7hH,KAAKgP,QAC5CvR,EAAkBuC,KAAK6I,QAAS,CAChC,GAAIi5G,GAAe9hH,KAAKi0B,mBACxBj0B,MAAKi0B,qBAAsB,EAC3Bj0B,KAAK6I,OAAS9N,SAAS+R,KACvB9M,KAAKi0B,oBAAsB6tF,IAKnCR,EAAO9lH,UAAUumH,QAAU,SAAUxlH,GACjC,GAAIwD,GAAQC,IACZ,IAAsB,IAAlBzD,EAAM7E,SACFsI,KAAKgiH,QAAS,CACd,GAAIC,OAAY,EACXxkH,GAAkBuC,KAAKkiH,UACxBD,EAAYjiH,KAAKkiH,OAAOliH,KAAKkiH,OAAO3pH,OAAS,IAE5CkF,EAAkBwkH,IAAclnH,SAASu0G,gBAAkB2S,EAAUpoH,SAAY0C,EAAMkuD,WACxFluD,EAAM4qB,iBACNnnB,KAAKmiH,kBAAkBniH,KAAKnG,SAASwI,SAErCtH,SAASu0G,gBAAkBtvG,KAAKmiH,kBAAkBniH,KAAKnG,UAAY0C,EAAMkuD,WACzEluD,EAAM4qB,iBACD1pB,EAAkBwkH,IACnBA,EAAUpoH,QAAQwI,SAKlC,GAAIxI,GAAUkB,SAASu0G,cACnB8S,GAAc,QAAS,YAAY5jH,QAAQ3E,EAAQyJ,QAAQnL,gBAAkB,EAC7EkqH,GAAgB,CAOpB,IANKD,IACDC,EAAgBxoH,EAAQyoH,aAAa,oBAAkE,SAA5CzoH,EAAQ4M,aAAa,oBAE9D,KAAlBlK,EAAM7E,SAAkBsI,KAAKuiH,eAC7BviH,KAAKi/G,KAAK1iH,GAES,KAAlBA,EAAM7E,UAAmB6E,EAAMmtB,SAA6C,aAAlC7vB,EAAQyJ,QAAQnL,eAC3DiqH,IAAc3kH,EAAkBuC,KAAKwiH,mBAClB,KAAlBjmH,EAAM7E,SAAkB6E,EAAMmtB,UAA8C,aAAlC7vB,EAAQyJ,QAAQnL,eACvDkqH,KAAoB5kH,EAAkBuC,KAAKwiH,kBAAmB,CAClE,GAAIC,EACeziH,MAAK0iH,QAAQ7vF,KAAK,SAAUp2B,EAAMvE,GACjDuqH,EAAgBvqH,CAChB,IAAIyqH,GAAclmH,EAAKkmH,WACvB,QAAQllH,EAAkBklH,KAA0C,IAA1BA,EAAY9kB,aAES,kBAAvC79F,MAAK0iH,QAAQD,UACrCxqH,WAAW,WACP8H,EAAM2iH,QAAQD,GAAeG,MAAMhiH,KAAKb,EAAOxD,OAS/D+kH,EAAO9lH,UAAU2lD,WAAa,WACrB1jD,EAAkBuC,KAAK6I,UACxB7I,KAAK6iH,UAAsC,gBAAjB7iH,MAAK6I,OAC3B9N,SAAS+H,cAAc9C,KAAK6I,QAAU7I,KAAK6I,QAEnD7E,GAAUhE,KAAKnG,SAAUqkH,IACrB9xG,GAAQkc,UACRtkB,GAAUhE,KAAKnG,SA9Hd,YAgILmG,KAAKmpG,cACLnpG,KAAK8iH,gBAMTxB,EAAO9lH,UAAU+lH,WAAa,WAC1B,GAAIxhH,GAAQC,IACZA,MAAK+iH,eAAgB,EACrBh/G,EAAW/D,KAAKnG,SAAWuZ,KAAM,WACb,MAAhBpT,KAAKo8G,QACLp8G,KAAKgjH,UAAUhjH,KAAKnG,SAAS,GAC7BmG,KAAKijH,iBAAkB,GAGvBjjH,KAAKijH,iBAAkB,EAE3BjjH,KAAKkjH,mBACe,KAAhBljH,KAAKgyB,QAAkBv0B,EAAkBuC,KAAKgyB,SAC9ChyB,KAAKmjH,YAELnjH,KAAKojH,eACLpjH,KAAKqjH,kBAETrjH,KAAKu+G,aACuB,KAAxBv+G,KAAKsjH,gBAA0B7lH,EAAkBuC,KAAKsjH,gBAGhD7lH,EAAkBuC,KAAK0iH,QAAQ,GAAGC,cACxC3iH,KAAKujH,YAHLvjH,KAAKwjH,oBAKLxjH,KAAKyjH,gBAAmBhmH,EAAkBuC,KAAKwhH,gBAC/CxhH,KAAK0jH,mBAET3/G,EAAW/D,KAAKnG,SAAW8pH,aAAe3jH,KAAKgiH,QAAU,OAAS,UAC9DhiH,KAAKgiH,SACLhiH,KAAK4jH,aAEJnmH,EAAkBuC,KAAK6iH,aACxB7iH,KAAKgiH,QAAUhiH,KAAK6iH,UAAU9gH,YAAY/B,KAAK6jH,cAAgB7jH,KAAK6iH,UAAU9gH,YAAY/B,KAAKnG,UAEnGmG,KAAK8jH,SAAW,GAAIzF,IAAMr+G,KAAKnG,SAC3B2d,OAAQxX,KAAKwX,OACbC,MAAOzX,KAAKyX,MACZ2kG,OAAQp8G,KAAKo8G,OACb4C,SAAUh/G,KAAK6I,OACf21G,eAAgB,OAChB18G,KAAM,SAAUvF,GACZwD,EAAMgkH,cACN,IAAI11G,IACAgO,UAAWtc,EAAMiiH,QAAUjiH,EAAM8jH,aAAe9jH,EAAMlG,QACtDA,QAASkG,EAAMlG,QACfgP,OAAQ9I,EAAM8I,OAElB9I,GAAMqoB,QAAQ,OAAQ/Z,IAE1BjM,MAAO,SAAU7F,GACbwD,EAAMikH,YAAYjkH,EAAMlG,SACpBkG,EAAMiiH,UACNjiH,EAAM8jH,aAAaj/G,MAAMyhD,QAAU,QAEvCtmD,EAAMqoB,QAAQ,QAASroB,EAAMkkH,WACxBxmH,EAAkBsC,EAAMmkH,qBACzBnkH,EAAMmkH,mBAAmB7hH,WAIrCrC,KAAKmkH,iBACLnkH,KAAKspG,eACLtlG,GAAUhE,KAAKnG,SAnMR,iBAoMHmG,KAAKgiH,SACLhiH,KAAKokH,mBAELpkH,KAAKqkH,QACLrkH,KAAK8gH,OAGD9gH,KAAKgiH,UACLhiH,KAAKskH,WAAW1/G,MAAMyhD,QAAU,QAGxCrmD,KAAK+iH,eAAgB,GAEzBzB,EAAO9lH,UAAU4oH,iBAAmB,SAAUG,GAC1C,GAAInI,EAEAA,GADA3+G,EAAkB8mH,GACT5qF,SAAS35B,KAAKnG,QAAQ+K,MAAMw3G,OAAQ,IAAMziF,SAAS35B,KAAKnG,QAAQ+K,MAAMw3G,OAAQ,IAAMp8G,KAAKo8G,OAGzFmI,EAEbvkH,KAAKskH,WAAW1/G,MAAMw3G,QAAUA,EAAS,GAAGz7G,WAC5CX,KAAK6jH,aAAaj/G,MAAMw3G,OAASA,EAAOz7G,YAE5C2gH,EAAO9lH,UAAU2oH,eAAiB,WAC1BnkH,KAAKgiH,QAC4B,gBAArBhiH,MAAK4V,YAAyD,gBAArB5V,MAAK4V,WACtD5V,KAAKwkH,oBAGLxkH,KAAKnG,QAAQ+K,MAAM6I,IAAM,MACzBzN,KAAKnG,QAAQ+K,MAAM2I,KAAO,MAC1BvN,KAAK6jH,aAAarrH,UAAU+L,IAAI,SAAWvE,KAAK4V,SAASiC,EAAI,IAAM7X,KAAK4V,SAASkC,IAIrF9X,KAAKwkH,oBAGblD,EAAO9lH,UAAUgpH,iBAAmB,WAChCxkH,KAAK8jH,SAASn8G,eACViO,UACIiC,EAAG7X,KAAK4V,SAASiC,EAAGC,EAAG9X,KAAK4V,SAASkC,MAIjDwpG,EAAO9lH,UAAUkoH,iBAAmB,WAChC,GAAI3jH,GAAQC,IAEZA,MAAKykH,QAAU,GAAInkE,IAAUtgD,KAAKnG,SAC9BwF,OAAO,EACPiiD,MAAO,uBACPJ,OAJgB,wBAKhB8B,UAAW,SAAUzmD,GACjBwD,EAAMqoB,QAAQ,YAAa7rB,IAE/BopD,SAAU,SAAUppD,GACZwD,EAAMiiH,UACDvkH,EAAkBsC,EAAM6V,WACzB7V,EAAM8jH,aAAarrH,UAAUkM,OAAO,SAAW3E,EAAM6V,SAASiC,EAAI,IAAM9X,EAAM6V,SAASkC,GAG3F/X,EAAMlG,QAAQ+K,MAAMgR,SAAW,YAEnC7V,EAAMqoB,QAAQ,WAAY7rB,IAE9B6nD,KAAM,SAAU7nD,GACZwD,EAAMqoB,QAAQ,OAAQ7rB,MAGzBkB,EAAkBuC,KAAK6iH,aACxB7iH,KAAKykH,QAAQthE,SAAWnjD,KAAK6iH,YAGrCvB,EAAO9lH,UAAU+nH,UAAY,WACzBvjH,KAAK0kH,iBACL1kH,KAAKkiH,SACL,KACS7pH,EAAI,EAAGA,EAAI2H,KAAK0iH,QAAQnqH,OAAQF,IAAK,CAC1C,GAAIssH,GAAM3kH,KAAKyB,cAAc,UAAYqC,OAAS/J,KAAM,WACxDiG,MAAK0kH,cAAc1rH,KAAK2rH,EAAIziH,WAEhClC,KAAKwjH,mBACL,KAAK,GAAInrH,GAAI,EAAGA,EAAI2H,KAAK0iH,QAAQnqH,OAAQF,IACrC2H,KAAKkiH,OAAO7pH,GAAK,GAAIulG,IAAO59F,KAAK0iH,QAAQrqH,GAAGsqH,aACL,kBAA3B3iH,MAAK0iH,QAAQrqH,UACrBoN,GAAalB,IAAIvE,KAAK4kH,mBAAmB/oG,SAASxjB,GAAI,QAAS2H,KAAK0iH,QAAQrqH,GAAGuqH,MAAO5iH,MAE1FA,KAAKkiH,OAAO7pH,GAAG6lD,SAASl+C,KAAK4kH,mBAAmB/oG,SAASxjB,IACzD2H,KAAKkiH,OAAO7pH,GAAGwB,QAAQrB,UAAU+L,IAAI,UACrCvE,KAAKwiH,iBAAmBxiH,KAAKnG,QAAQ2U,uBAAuB,aAAa,IAGjF8yG,EAAO9lH,UAAU+iH,WAAa,WAC1Bx6G,EAAW/D,KAAKnG,SAAWgrH,mBAAoB7kH,KAAKnG,QAAQ8J,GAAK,oBACjE3D,KAAK8kH,WAAa9kH,KAAKyB,cAAc,OAASiC,UA9SpC,gBA8S4DC,GAAI3D,KAAKnG,QAAQ8J,GAAK,oBACxF3D,KAAK+kH,oBACL/kH,KAAK8kH,WAAW/iH,YAAY/B,KAAK+kH,sBAE3BtnH,EAAkBuC,KAAKtF,UAA6B,KAAjBsF,KAAKtF,UAAmBsF,KAAK+iH,gBACxC,gBAAlB/iH,cACRA,KAAK8kH,WAAWtqH,UAAYwF,KAAKtF,QAE5BsF,KAAKtF,kBAAmBsqH,aAC7BhlH,KAAK8kH,WAAW/iH,YAAY/B,KAAKtF,SAGjCsF,KAAKilH,YAAYjlH,KAAKtF,QAASsF,KAAK8kH,aAGvCrnH,EAAkBuC,KAAKwhH,eAIxBxhH,KAAKnG,QAAQuL,aAAapF,KAAK8kH,WAAY9kH,KAAKnG,QAAQgiB,SAAS,IAHjE7b,KAAKnG,QAAQuL,aAAapF,KAAK8kH,WAAY9kH,KAAKnG,QAAQgiB,SAAS,IAKjD,SAAhB7b,KAAKwX,QACLxX,KAAK8iH,gBAGbxB,EAAO9lH,UAAUypH,YAAc,SAAUz0G,EAAUvL,GAG/C,IAAK,GADDD,MACK3G,EAAK,EAAG2E,EAFAuN,GAAQC,OAEanS,EAAK2E,EAAGzK,OAAQ8F,IAAM,CACxD,GAAIxF,GAAOmK,EAAG3E,EACd2G,GAAahM,KAAKH,GAEtByM,KAAU3D,MAAMf,KAAKoE,GAAeC,IAExCq8G,EAAO9lH,UAAUsnH,aAAe,WAC5B,GAAIz8D,GAAUrmD,KAAKnG,QAAQ+K,MAAMyhD,OACjCrmD,MAAKnG,QAAQ+K,MAAMyhD,QAAU,OAC7BrmD,KAAKnG,QAAQ+K,MAAMsgH,UAAcznH,EAAkBuC,KAAK6I,QACP7M,OAAO+e,YAAc,GAAM,KAAvE/a,KAAK6iH,UAAUh/D,aAAe,GAAM,KACzC7jD,KAAKnG,QAAQ+K,MAAMyhD,QAAUA,GAEjCi7D,EAAO9lH,UAAU8tG,aAAe,WAC5BtpG,KAAKuP,UAAYvL,GAAUhE,KAAKnG,SA7V9B,SA6V+C2K,GAAaxE,KAAKnG,SA7VjE,UA+VNynH,EAAO9lH,UAAU0nH,iBAAmB,WAChC,GAAIzlH,EAAkBuC,KAAKtF,UAA6B,KAAjBsF,KAAKtF,QAAgB,CACxD,GAAIyqH,GAA0D,KAA9CnlH,KAAKnG,QAAQW,UAAUb,QAAQ,MAAO,GACtD,IAAIqG,KAAKnG,QAAQgiB,SAAStjB,OAAS,GAAK4sH,EAEpC,IADAnlH,KAAK+kH,oBAAsBhqH,SAASoK,yBACM,IAAnCnF,KAAKnG,QAAQS,WAAW/B,QAC3ByH,KAAK+kH,oBAAoBhjH,YAAY/B,KAAKnG,QAAQS,WAAW,MAK7EgnH,EAAO9lH,UAAU2nH,UAAY,WACrBnjH,KAAKyqG,UACLzqG,KAAKyqG,UAAUjwG,UAAY,GAG3BwF,KAAKyqG,UAAYzqG,KAAKyB,cAAc,OAASkC,GAAI3D,KAAKnG,QAAQ8J,GAAK,SAAUD,UA7WxE,iBA+WT1D,KAAKolH,sBACLplH,KAAKwhH,cAAcz/G,YAAY/B,KAAKyqG,WACpCzqG,KAAKilH,YAAYjlH,KAAKgyB,OAAQhyB,KAAKyqG,WACnC1mG,EAAW/D,KAAKnG,SAAW40B,kBAAmBzuB,KAAKnG,QAAQ8J,GAAK,WAChE3D,KAAKnG,QAAQuL,aAAapF,KAAKwhH,cAAexhH,KAAKnG,QAAQgiB,SAAS,KAExEylG,EAAO9lH,UAAUgoH,kBAAoB,WAC7BxjH,KAAK4kH,mBACL5kH,KAAK4kH,mBAAmBpqH,UAAY,GAGpCwF,KAAK4kH,mBAAqB5kH,KAAKyB,cAAc,OACzCiC,UA1XS,qBA6XW,KAAxB1D,KAAKsjH,gBAA0B7lH,EAAkBuC,KAAKsjH,gBAItDtjH,KAAK4kH,mBAAmBpqH,UAAYwF,KAAK0kH,cAAclkH,KAAK,IAH5DR,KAAKilH,YAAYjlH,KAAKsjH,eAAgBtjH,KAAK4kH,oBAK/C5kH,KAAKnG,QAAQkI,YAAY/B,KAAK4kH,qBAElCtD,EAAO9lH,UAAU4pH,oBAAsB,WAC/B3nH,EAAkBuC,KAAKwhH,iBACvBxhH,KAAKwhH,cAAgBxhH,KAAKyB,cAAc,OAASiC,UAzYpC,2BA4YrB49G,EAAO9lH,UAAU6nH,gBAAkB,WAC/BrjH,KAAKqlH,UAAYrlH,KAAKyB,cAAc,UAAYiC,UA/X/B,sBA+X8DI,OAAS/J,KAAM,YAC9FiG,KAAKslH,gBAAkB,GAAI1nB,KAAStpF,SAAU,SAAU4pF,QAASqnB,6BACjEvlH,KAAKwlH,iBACA/nH,EAAkBuC,KAAKwhH,gBAIxBxhH,KAAKolH,sBACLrgH,GAAS/E,KAAKqlH,WAAYrlH,KAAKwhH,eAC/BxhH,KAAKnG,QAAQuL,aAAapF,KAAKwhH,cAAexhH,KAAKnG,QAAQgiB,SAAS,KALpE9W,GAAS/E,KAAKqlH,WAAYrlH,KAAKwhH,eAOnCxhH,KAAKslH,gBAAgBpnE,SAASl+C,KAAKqlH,YAEvC/D,EAAO9lH,UAAUgqH,eAAiB,WAC9BxlH,KAAKs6G,KAAKzuD,UAAU7rD,KAAKgP,OACzB,IAAIw2G,GAAiBxlH,KAAKs6G,KAAKnuD,YAAY,QAC3CnsD,MAAKqlH,UAAUxhH,aAAa,QAAS2hH,IAEzClE,EAAO9lH,UAAU2tG,YAAc,SAAUgB,GACjCnqG,KAAKsU,UACLtQ,GAAUhE,KAAKnG,SAAUmG,KAAKsU,SAASpX,MAAM,MAE7CitG,GACA3lG,GAAaxE,KAAKnG,SAAUswG,EAAYjtG,MAAM,OAGtDokH,EAAO9lH,UAAUooH,WAAa,WAC1B5jH,KAAK6jH,aAAe7jH,KAAKyB,cAAc,OAASiC,UAjapC,oBAkaZ1D,KAAKnG,QAAQrB,UAAUkM,OAzZhB,gBA0ZP1E,KAAKnG,QAAQiB,WAAWsK,aAAapF,KAAK6jH,aAAc7jH,KAAKnG,SAC7DmG,KAAK6jH,aAAa9hH,YAAY/B,KAAKnG,SACnCmK,GAAUhE,KAAKnG,SAzaP,eA0aRmG,KAAKskH,WAAatkH,KAAKyB,cAAc,OAASiC,UAvapC,kBAwaV1D,KAAKskH,WAAW1/G,MAAMw3G,QAAUp8G,KAAKo8G,OAAS,GAAGz7G,WACjDX,KAAK6jH,aAAa9hH,YAAY/B,KAAKskH,aAEvChD,EAAO9lH,UAAUiqH,kBAAoB,SAAU9tH,GAE3C,IAAK,GADDqJ,GACK0kH,EAAI,EAAGA,EAAI/tH,EAAMY,OAAQmtH,IAE9B,KADA1kH,EAAOrJ,EAAM+tH,IACHC,aAAe,GAAqC,MAA/B3kH,EAAKsC,QAAQnL,eAAyB6I,EAAKshH,aAAa,UAAathH,EAAK4kH,UAAY,IAChH5kH,EAAK+8F,WAAa/9F,KAAK6lH,eAAe7kH,EAAM,qDAC7C,MAAOA,EAGf,OAAOA,IAEXsgH,EAAO9lH,UAAU2mH,kBAAoB,SAAUznH,GAC3C,IAAK+C,EAAkB/C,GAAU,CAC7B,GACI/C,GAAQ+C,EAAQE,iBADR,qEAEZ,OAAOoF,MAAKylH,kBAAkB9tH,GAElC,MAAO,OAEX2pH,EAAO9lH,UAAUsqH,iBAAmB,SAAUzpG,GAC1C,GAAIrb,GAAOqb,EAAUvZ,cAAc,wBAE/BnL,EAAQ0kB,EAAUzhB,iBADV,eAERmrH,EAAY/lH,KAAKylH,kBAAkB9tH,EACvC,IAAK8F,EAAkBsoH,GAGlB,CAED,GADAA,EAAY/lH,KAAKmiH,kBAAkBniH,KAAK8kH,aACnCrnH,EAAkBsoH,GACnB,MAAO/kH,GAAO+kH,CAEb,KAAKtoH,EAAkBuC,KAAKwiH,kBAC7B,MAAOxiH,MAAKnG,QAAQiJ,cAAc,kBARtC9B,GAAO+kH,CAWX,OAAO/kH,IAEXsgH,EAAO9lH,UAAUqqH,eAAiB,SAAUhsH,EAASmsH,GACjD,GAAIC,GAAepsH,EAAUA,EAAQvB,SAAWuB,EAAQiN,uBAAyBjN,EAAQgN,kBAAoB,IAC7G,IAAIo/G,EACA,KAAOpsH,EAASA,EAAUA,EAAQiB,WAC9B,GAAIjB,YAAmBu3G,UAAW6U,EAAarlH,KAAK/G,EAASmsH,GAEzD,MAAOnsH,EAInB,OAAO,OAEXynH,EAAO9lH,UAAUuoH,aAAe,WAC5B,GAAIlqH,GAAUmG,KAAK8lH,iBAAiB9lH,KAAKnG,UAC7B4D,EAAkB5D,GAAqBmG,KAAKnG,QAAfA,GACpCwI,QACLrC,KAAK06G,UAAU16G,KAAKnG,UAExBynH,EAAO9lH,UAAUk/G,UAAY,SAAU7gH,GACnC4L,GAAalB,IAAI1K,EAAS,UAAWmG,KAAK+hH,QAAS/hH,OAEvDshH,EAAO9lH,UAAUwoH,YAAc,SAAUnqH,GACrC4L,GAAaf,OAAO7K,EAAS,UAAWmG,KAAK+hH,UAMjDT,EAAO9lH,UAAU0L,cAAgB,WAC7B,MAAO,UAMXo6G,EAAO9lH,UAAU05B,kBAAoB,SAAUwF,EAASC,GACpD,GAAK36B,KAAKnG,QAAQrB,UAAUC,SAASylH,IAGrC,IAAK,GAAI7/G,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAKo9B,GAAUr8B,EAAK2E,EAAGzK,OAAQ8F,IAExD,OADW2E,EAAG3E,IAEV,IAAK,UACIZ,EAAkBuC,KAAKtF,UAA6B,KAAjBsF,KAAKtF,QAWnC+C,EAAkBuC,KAAK8kH,cAC7Bv/G,EAAOvF,KAAK8kH,YACZ9kH,KAAK8kH,WAAa,MAZbrnH,EAAkBuC,KAAK8kH,aAAwD,WAAzC9kH,KAAK8kH,WAAWr+G,aAAa,QAOpEzG,KAAKu+G,cANLv+G,KAAK8kH,WAAWtqH,UAAY,GACF,gBAAlBwF,cACJA,KAAK8kH,WAAWtqH,UAAYwF,KAAKtF,QAAUsF,KAAK8kH,WAAW/iH,YAAY/B,KAAKtF,SAChFsF,KAAK8iH,eAUb,MACJ,KAAK,SACmB,KAAhB9iH,KAAKgyB,QAAiBv0B,EAAkBuC,KAAKgyB,QACzChyB,KAAKyqG,YACLllG,EAAOvF,KAAKyqG,WACZzqG,KAAKyqG,UAAY,MAIrBzqG,KAAKmjH,WAET,MACJ,KAAK,iBACD,GAA4B,KAAxBnjH,KAAKsjH,gBAAyB7lH,EAAkBuC,KAAKsjH,gBAAiB,CACtE,IAAKtjH,KAAK4kH,mBACN,MAEJr/G,GAAOvF,KAAK4kH,oBACZ5kH,KAAK4kH,mBAAqB,KAC1B5kH,KAAK0iH,iBAGL1iH,MAAKwjH,oBACLxjH,KAAK0iH,YAET,MACJ,KAAK,gBACG1iH,KAAKnG,QAAQ2U,uBAviBhB,oBAuiBuDjW,OAAS,EACxDyH,KAAKojH,eAAkC,KAAhBpjH,KAAKgyB,SAAiBv0B,EAAkBuC,KAAKgyB,QAI/DhyB,KAAKojH,eACX79G,EAAOvF,KAAKqlH,YAJZ9/G,EAAOvF,KAAKwhH,eACZxhH,KAAKwhH,cAAgB,OAOzBxhH,KAAKqjH,kBACLrjH,KAAKkmB,aAET,MACJ,KAAK,SACGlmB,KAAKojH,eACLpjH,KAAKwlH,gBAET,MACJ,KAAK,UACDxlH,KAAKqkH,QAAUrkH,KAAK8gH,OAAS9gH,KAAKi/G,MAClC,MACJ,KAAK,UACDj/G,KAAKkmH,eACL,MACJ,KAAK,SACDx/G,EAAkB1G,KAAKnG,SAAW2d,OAAU9U,EAAWg4B,EAAQljB,SAC/D,MACJ,KAAK,QACD9Q,EAAkB1G,KAAKnG,SAAW4d,MAAS/U,EAAWg4B,EAAQjjB,QAC9D,MACJ,KAAK,SACDzX,KAAK8jH,SAAS1H,OAASp8G,KAAKo8G,OACxBp8G,KAAKgiH,SACLhiH,KAAKokH,iBAAiBpkH,KAAKo8G,OAE/B,MACJ,KAAK,WACDp8G,KAAKmpG,YAAYxuE,EAAQrmB,SACzB,MACJ,KAAK,UACI7W,EAAkBuC,KAAK0iH,QAAQ,GAAGC,eAC9BllH,EAAkBuC,KAAK4kH,sBACxBr/G,EAAOvF,KAAK4kH,oBACZ5kH,KAAK4kH,mBAAqB,MAE9B5kH,KAAKsjH,eAAiB,GACtBtjH,KAAKujH,YAET,MACJ,KAAK,gBACGvjH,KAAKyjH,gBAAmBhmH,EAAkBuC,KAAKwhH,eAC/CxhH,KAAK0jH,mBAGL1jH,KAAKykH,QAAQ5wG,SAEjB,MACJ,KAAK,SACD7T,KAAK8jH,SAAS9E,SAAWtkF,EAAQ7xB,MACjC,MACJ,KAAK,WACD,GAAI7I,KAAKgiH,QAAS,CACd,GAAI9rG,GAAYzY,EAAkBk9B,EAAQ/kB,SAASiC,GAAK7X,KAAK4V,SAASiC,EAAI8iB,EAAQ/kB,SAASiC,EACvF1B,EAAY1Y,EAAkBk9B,EAAQ/kB,SAASkC,GAAK9X,KAAK4V,SAASkC,EAAI6iB,EAAQ/kB,SAASkC,CACvF9X,MAAK6jH,aAAarrH,UAAUC,SAAS,SAAWyd,EAAY,IAAMC,IAClEnW,KAAK6jH,aAAarrH,UAAUkM,OAAO,SAAWwR,EAAY,IAAMC,GAGxEnW,KAAKmkH,gBACL,MACJ,KAAK,YACDnkH,KAAKspG,iBAKrBgY,EAAO9lH,UAAU0qH,cAAgB,WAE7B,GADAlmH,KAAKnG,QAAQgK,aAAa,aAAc7D,KAAKgiH,QAAU,OAAS,SAC5DhiH,KAAKgiH,QACLhiH,KAAK4jH,aACL5jH,KAAKnG,QAAQ+K,MAAM6I,IAAM,MACzBzN,KAAKnG,QAAQ+K,MAAM2I,KAAO,MACrB9P,EAAkBuC,KAAK6iH,YACxB7iH,KAAK6iH,UAAU9gH,YAAY/B,KAAK6jH,kBAGnC,CAID,IAHAr/G,GAAaxE,KAAKnG,SAjoBd,eAkoBJ2K,GAAazJ,SAAS+R,MA7nBZ,qBA8nBVvH,EAAOvF,KAAKskH,YACLtkH,KAAK6jH,aAAa9kG,YACrB/e,KAAK6jH,aAAa9tG,cAAc3Q,aAAapF,KAAK6jH,aAAa9kG,WAAY/e,KAAK6jH,aAEpF7jH,MAAK6jH,aAAa9tG,cAAcvQ,YAAYxF,KAAK6jH,cAEjD7jH,KAAKqkH,SACLrkH,KAAK8gH,OAET9gH,KAAKmkH,kBAET7C,EAAO9lH,UAAUwnH,UAAY,SAAU/B,EAAekF,GAClD,GAAIrE,GAAe9hH,KAAKi0B,mBACxBj0B,MAAKi0B,qBAAsB,EAC3Bj0B,KAAKo8G,OAAS3gG,GAAiBwlG,GAC/BjhH,KAAKi0B,oBAAsB6tF,EACvBqE,IACAnmH,KAAK8jH,SAAS1H,OAASp8G,KAAKo8G,SAOpCkF,EAAO9lH,UAAUwjD,eAAiB,WAC9B,MAAOh/C,MAAKy/C,kBAQhB6hE,EAAO9lH,UAAUqY,QAAU,WACvB,GAAI7T,KAAKnG,QAAQrB,UAAUC,SAASylH,IAAO,CACvCl+G,KAAKu+F,eACL7lE,EAAOl9B,UAAUqY,QAAQjT,KAAKZ,KAC9B,IAAIyhH,IACAvD,GA7qBN,QAIM,cAgrBJ,IALA15G,GAAaxE,KAAKnG,QAASmG,KAAKnG,SAAU4nH,GACtCzhH,KAAK8jH,SAASjqH,QAAQrB,UAAUC,SApqB/B,YAqqBDuH,KAAK8jH,SAASjwG,WAGbpW,EAAkBuC,KAAKkiH,QACxB,IAAK,GAAI7pH,OAAI,GAAQA,EAAI2H,KAAKkiH,OAAO3pH,OAAQF,IACzC2H,KAAKkiH,OAAO7pH,GAAGwb,SASvB,KANI7T,KAAKgiH,UACLz8G,EAAOvF,KAAKskH,YACZtkH,KAAK6jH,aAAa/oH,WAAWsK,aAAapF,KAAKnG,QAASmG,KAAK6jH,cAC7Dt+G,EAAOvF,KAAK6jH,eAEhB7jH,KAAKnG,QAAQW,UAAY,GAClBwF,KAAKnG,QAAQkK,WAAWxL,OAAS,GACpCyH,KAAKnG,QAAQyS,gBAAgBtM,KAAKnG,QAAQkK,WAAW,GAAG6uB,KAE5D,KAAK,GAAI7K,GAAI,EAAGA,EAAI/nB,KAAK0hH,UAAU39G,WAAWxL,OAAQwvB,IAClD/nB,KAAKnG,QAAQgK,aAAa7D,KAAK0hH,UAAU39G,WAAWgkB,GAAG6K,KAAM5yB,KAAK0hH,UAAU39G,WAAWgkB,GAAG/qB,SAQtGskH,EAAO9lH,UAAU0qB,WAAa,WACtBlmB,KAAKojH,eACL39G,GAAalB,IAAIvE,KAAKqlH,UAAW,QAASrlH,KAAK2hH,2BAA4B3hH,MAE3EA,KAAKgiH,SACLv8G,GAAalB,IAAIvE,KAAKskH,WAAY,QAAStkH,KAAK4hH,4BAA6B5hH,OAOrFshH,EAAO9lH,UAAU+iG,aAAe,WAO5B,GANIv+F,KAAKojH,eACL39G,GAAaf,OAAO1E,KAAKqlH,UAAW,QAASrlH,KAAK2hH,4BAElD3hH,KAAKgiH,SACLv8G,GAAaf,OAAO1E,KAAKskH,WAAY,QAAStkH,KAAK4hH,8BAElDnkH,EAAkBuC,KAAK0iH,QAAQ,GAAGC,aACnC,IAAK,GAAItqH,GAAI,EAAGA,EAAI2H,KAAK0iH,QAAQnqH,OAAQF,IACE,kBAA3B2H,MAAK0iH,QAAQrqH,UACrBoN,GAAaf,OAAO1E,KAAK4kH,mBAAmB/oG,SAASxjB,GAAI,QAAS2H,KAAK0iH,QAAQrqH,GAAGuqH,QASlGtB,EAAO9lH,UAAU8iH,gBAAkB,WAC/Bt+G,KAAK8jH,SAASxF,mBAQlBgD,EAAO9lH,UAAUslH,KAAO,SAAUsF,GAC9B,GAAKpmH,KAAKnG,QAAQrB,UAAUC,SAASylH,OAGhCl+G,KAAKnG,QAAQrB,UAAUC,SAtuBrB,kBAsuB6CgF,EAAkB2oH,IAAgB,CAC7E3oH,EAAkB2oH,IACnBpmH,KAAKqmH,WAAWD,EAEpB,IAAI/3G,IACAyhB,QAAQ,EACRj2B,QAASmG,KAAKnG,QACdwiB,UAAWrc,KAAKgiH,QAAUhiH,KAAK6jH,aAAe7jH,KAAKnG,QACnDgP,OAAQ7I,KAAK6I,OAGjB,IADA7I,KAAKooB,QAAQ,aAAc/Z,GACvBA,EAAUyhB,OACV,MAEJ9vB,MAAKkkH,mBAAqBnpH,SAASu0G,cACnCtvG,KAAKnG,QAAQ+rH,UAAY,EACrB5lH,KAAKgiH,UAAavkH,EAAkBuC,KAAKskH,cACzCtkH,KAAKskH,WAAW1/G,MAAMyhD,QAAU,QAChCrmD,KAAK6jH,aAAaj/G,MAAMyhD,QAAU,OAC7B5oD,EAAkBuC,KAAK6iH,WAYxB7+G,GAAUjJ,SAAS+R,MA7wBjB,sBAkwBE9M,KAAK6iH,YAAc9nH,SAAS+R,KAC5B9M,KAAK6jH,aAAaj/G,MAAMgR,SAAW,QAGnC5V,KAAK6jH,aAAaj/G,MAAMgR,SAAW,WAEvC5V,KAAKskH,WAAW1/G,MAAMgR,SAAW,WACjC5V,KAAKnG,QAAQ+K,MAAMgR,SAAW,WAC9B5R,GAAUhE,KAAK6iH,WA1wBb,sBAgxBV,IAAIyD,IACA1zF,KAAM5yB,KAAKumH,kBAAkBlb,OAAS,KACtC5+F,SAAUzM,KAAKumH,kBAAkB95G,SACjC5M,MAAOG,KAAKumH,kBAAkB1mH,OAE9BohH,EAAiBjhH,aAAgBA,KAAKnG,QAAQkc,cAAgB/V,KAAKnG,OACnEmG,MAAKijH,kBACLjjH,KAAKgjH,UAAU/B,GAAe,GAC9Bv6G,EAAkB1G,KAAKnG,SAAWuiH,OAAUp8G,KAAKo8G,SAC7Cp8G,KAAKgiH,SACLhiH,KAAKokH,iBAAiBpkH,KAAKo8G,SAGD,SAAlCp8G,KAAKumH,kBAAkBlb,OAAoBrrG,KAAK8jH,SAAShD,OAAS9gH,KAAK8jH,SAAShD,KAAKwF,GACrFtmH,KAAKwmH,YAAa,CAClB,IAAI1E,GAAe9hH,KAAKi0B,mBACxBj0B,MAAKi0B,qBAAsB,EAC3Bj0B,KAAKqkH,SAAU,EACfrkH,KAAKi0B,oBAAsB6tF,IAOnCR,EAAO9lH,UAAUyjH,KAAO,SAAU1iH,GAC9B,GAAKyD,KAAKnG,QAAQrB,UAAUC,SAASylH,IAArC,CAGA,GAAI7vG,IACAyhB,QAAQ,EACRzE,gBAAe9uB,EACf1C,QAASmG,KAAKnG,QACdgP,OAAQ7I,KAAK6I,OACbwT,UAAWrc,KAAKgiH,QAAUhiH,KAAK6jH,aAAe7jH,KAAKnG,QACnD0C,MAAOA,EAIX,IAFAyD,KAAKooB,QAAQ,cAAe/Z,GAC5BrO,KAAKikH,UAAY51G,GACbA,EAAUyhB,OAAd,CAGI9vB,KAAKgiH,UACLhiH,KAAKskH,WAAW1/G,MAAMyhD,QAAU,OAC/B5oD,EAAkBuC,KAAK6iH,WACpBr+G,GAAazJ,SAAS+R,MA7zBhB,qBA4zB2BtI,GAAaxE,KAAK6iH,WA5zB7C,qBA+zBd,IAAI4D,IACA7zF,KAAM5yB,KAAKumH,kBAAkBlb,OAAS,MACtC5+F,SAAUzM,KAAKumH,kBAAkB95G,SACjC5M,MAAOG,KAAKumH,kBAAkB1mH,MAEA,UAAlCG,KAAKumH,kBAAkBlb,OAAoBrrG,KAAK8jH,SAAS7E,OAASj/G,KAAK8jH,SAAS7E,KAAKwH,GACrFzmH,KAAKwmH,YAAa,CAClB,IAAI1E,GAAe9hH,KAAKi0B,mBACxBj0B,MAAKi0B,qBAAsB,EAC3Bj0B,KAAKqkH,SAAU,EACfrkH,KAAKi0B,oBAAsB6tF,KAM/BR,EAAO9lH,UAAU6qH,WAAa,SAAUpmH,GAC1BD,KAAKnG,QAAQic,UACZ9V,KAAKnG,QAAQgc,UACxB,IAAI5V,EAAM,CACN+D,GAAUhE,KAAKnG,SA90BV,mBA+0BL,IAAIwsD,GAAUrmD,KAAKnG,QAAQ+K,MAAMyhD,OACjCrmD,MAAKnG,QAAQ+K,MAAMyhD,QAAU,OAC7BrmD,KAAKnG,QAAQ+K,MAAMsgH,UAAcznH,EAAkBuC,KAAK6I,QACZ7M,mBAAsB,KAA7DgE,KAAK6iH,uBAA0B,KACpC7iH,KAAKnG,QAAQ+K,MAAMyhD,QAAUA,EAC7BriD,GAAUjJ,SAAS+R,MAz1BT,qBA01BN9M,KAAKyjH,gBAAkBhmH,EAAkBuC,KAAKykH,UAC9CzkH,KAAKykH,QAAQ5wG,cAIjBrP,IAAaxE,KAAKnG,SA11Bb,oBA21BL2K,GAAazJ,SAAS+R,MAh2BZ,qBAi2BN9M,KAAKyjH,gBAAmBhmH,EAAkBuC,KAAKwhH,gBAC/CxhH,KAAK0jH,kBAGb,OAAOzjH,IAEXg4B,IACIrvB,GAAS,KACV04G,EAAO9lH,UAAW,cAAW,IAChCy8B,IACIrvB,IAAS,IACV04G,EAAO9lH,UAAW,oBAAiB,IACtCy8B,IACIrvB,IAAS,IACV04G,EAAO9lH,UAAW,cAAW,IAChCy8B,IACIrvB,GAAS,KACV04G,EAAO9lH,UAAW,aAAU,IAC/By8B,IACIrvB,IAAS,IACV04G,EAAO9lH,UAAW,cAAW,IAChCy8B,IACIrvB,GAAS,SACV04G,EAAO9lH,UAAW,aAAU,IAC/By8B,IACIrvB,GAAS,SACV04G,EAAO9lH,UAAW,YAAS,IAC9By8B,IACIrvB,GAAS,KACV04G,EAAO9lH,UAAW,eAAY,IACjCy8B,IACIrvB,GAAS,MACV04G,EAAO9lH,UAAW,aAAU,IAC/By8B,IACIrvB,GAAS,OACV04G,EAAO9lH,UAAW,aAAU,IAC/By8B,IACIrvB,GAAS,KACV04G,EAAO9lH,UAAW,qBAAkB,IACvCy8B,IACIrvB,IAAS,IACV04G,EAAO9lH,UAAW,oBAAiB,IACtCy8B,IACI1uB,QAAiB63G,KAClBE,EAAO9lH,UAAW,cAAW,IAChCy8B,IACIrvB,IAAS,IACV04G,EAAO9lH,UAAW,oBAAiB,IACtCy8B,IACI5uB,MAAYg4G,KACbC,EAAO9lH,UAAW,wBAAqB,IAC1Cy8B,IACI5uB,IAAUwO,EAAG,SAAUC,EAAG,UAAYkmG,KACvCsD,EAAO9lH,UAAW,eAAY,IACjCy8B,IACIxuB,MACD63G,EAAO9lH,UAAW,cAAW,IAChCy8B,IACIxuB,MACD63G,EAAO9lH,UAAW,WAAQ,IAC7By8B,IACIxuB,MACD63G,EAAO9lH,UAAW,iBAAc,IACnCy8B,IACIxuB,MACD63G,EAAO9lH,UAAW,YAAS,IAC9By8B,IACIxuB,MACD63G,EAAO9lH,UAAW,kBAAe,IACpCy8B,IACIxuB,MACD63G,EAAO9lH,UAAW,gBAAa,IAClCy8B,IACIxuB,MACD63G,EAAO9lH,UAAW,eAAY,IACjCy8B,IACIxuB,MACD63G,EAAO9lH,UAAW,WAAQ,IAC7By8B,IACIxuB,MACD63G,EAAO9lH,UAAW,mBAAgB,IACrC8lH,EAASrpF,IACLluB,IACDu3G,IAEL1jE,IC1/BEnmB,GAAwC,WACxC,GAAIC,GAAgBn5B,OAAOo5B,iBACpBC,uBAA2Bn5B,QAAS,SAAUo5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAExwB,eAAeywB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOh4B,KAAKnC,YAAcg6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAEr8B,UAAkB,OAANs8B,EAAav5B,OAAOgN,OAAOusB,IAAME,EAAGx8B,UAAYs8B,EAAEt8B,UAAW,GAAIw8B,QAGnFC,GAA0C,SAAUC,EAAYrvB,EAAQxL,EAAK86B,GAC7E,GAA2HN,GAAvHO,EAAIn5B,UAAU1G,OAAQ8/B,EAAID,EAAI,EAAIvvB,EAAkB,OAATsvB,EAAgBA,EAAO55B,OAAO+5B,yBAAyBzvB,EAAQxL,GAAO86B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYrvB,EAAQxL,EAAK86B,OACpH,KAAK,GAAI9/B,GAAI6/B,EAAW3/B,OAAS,EAAGF,GAAK,EAAGA,KAASw/B,EAAIK,EAAW7/B,MAAIggC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAEhvB,EAAQxL,EAAKg7B,GAAKR,EAAEhvB,EAAQxL,KAASg7B,EAChJ,OAAOD,GAAI,GAAKC,GAAK95B,OAAO4K,eAAeN,EAAQxL,EAAKg7B,GAAIA,GAiC5DI,GAA2B,SAAUC,GAErC,QAASD,KACL,MAAkB,QAAXC,GAAmBA,EAAOh9B,MAAMsE,KAAMf,YAAce,KAQ/D,MAVAy3B,IAAUgB,EAAWC,GAIrBT,IACIrvB,IAAWyiG,OAAQ,SAAU5+F,SAAU,IAAK5M,MAAO,KACpD44B,EAAUj9B,UAAW,WAAQ,IAChCy8B,IACIrvB,IAAWyiG,OAAQ,UAAW5+F,SAAU,IAAK5M,MAAO,KACrD44B,EAAUj9B,UAAW,YAAS,IAC1Bi9B,GACT6J,IAcEokF,GAAyB,SAAUhuF,GAKnC,QAASguF,GAAQryG,EAASxa,GACtB,MAAO6+B,GAAO93B,KAAKZ,KAAMqU,EAASxa,IAAYmG,KA66BlD,MAl7BAy3B,IAAUivF,EAAShuF,GAOnBguF,EAAQlrH,UAAU2lD,WAAa,WAC3BnhD,KAAK2mH,iBACL3iH,GAAUhE,KAAKnG,SArDZ,cAuDP6sH,EAAQlrH,UAAUmrH,eAAiB,WACM,IAAjC3mH,KAAK4V,SAASpX,QAAQ,QAAoD,IAApCwB,KAAK4V,SAASpX,QAAQ,WAC5DwE,EAAKhD,KAAK4V,SAAS1Y,MAAM,aAAc8C,KAAK4mH,iBAAmB5jH,EAAG,GAAIhD,KAAK6mH,iBAAmB7jH,EAAG,KAGjGqB,EAAKrE,KAAK4V,SAAS1Y,MAAM,aAAc8C,KAAK6mH,iBAAmBxiH,EAAG,GAAIrE,KAAK4mH,iBAAmBviH,EAAG,GAErG,IAAIrB,GAAIqB,GAEZqiH,EAAQlrH,UAAUsrH,YAAc,WAC5B9mH,KAAK+mH,YAAY/mH,KAAK4V,SACtB,IAAIoxG,GAAMhnH,KAAKyB,cAAc,OAASiC,UAAWujH,eAAkBjnH,KAAKknH,UACxEF,GAAIjlH,YAAY/B,KAAKyB,cAAc,OAASiC,UAAWyjH,qBAAwBnnH,KAAKknH,YACpFF,EAAIjlH,YAAY/B,KAAKyB,cAAc,OAASiC,UAAW0jH,qBAAwBpnH,KAAKknH,YACpFlnH,KAAKqnH,WAAWtlH,YAAYilH,IAEhCN,EAAQlrH,UAAUurH,YAAc,SAAUnxG,GACJ,IAA9BA,EAASpX,QAAQ,SACjBwB,KAAKknH,SA7DF,aA+DiC,IAA/BtxG,EAASpX,QAAQ,UACtBwB,KAAKknH,SAjEH,YAmEgC,IAA7BtxG,EAASpX,QAAQ,QACtBwB,KAAKknH,SAlED,cAqEJlnH,KAAKknH,SAxEA,gBA2EbR,EAAQlrH,UAAU8rH,YAAc,SAAUz+G,GACtC,GAAI0+G,GAASvnH,KAAKwnH,YAAe/5G,IAAK,EAAGF,KAAM,GAAMvN,KAAKynH,mBAAmB5+G,EAC7E7I,MAAK8jH,SAAW,GAAIzF,IAAMr+G,KAAKqnH,YAC3B7vG,OAAQxX,KAAKwX,OACbC,MAAOzX,KAAKyX,MACZ7B,UACIiC,EAAG0vG,EAAOh6G,KACVuK,EAAGyvG,EAAO95G,KAEd8B,UAAWvP,KAAKuP,UAChBzN,KAAM9B,KAAK0nH,iBAAiBjsH,KAAKuE,MACjCoC,MAAOpC,KAAK2nH,kBAAkBlsH,KAAKuE,SAG3C0mH,EAAQlrH,UAAUisH,mBAAqB,SAAU5+G,GAC7C7I,KAAKqnH,WAAWziH,MAAMyhD,QAAU,MAChC,IAAI5vC,GAAMT,GAAkBnN,EAAQ7I,KAAK6mH,iBAAkB7mH,KAAK4mH,iBAChE5mH,MAAKqnH,WAAWziH,MAAMyhD,QAAU,EAChC,IAAIuhE,GAAY5nH,KAAK6nH,uBAAuB7nH,KAAK4V,SAEjD,OADa5V,MAAK8nH,iBAAiBj/G,EAAQ4N,EAAIlJ,KAAOq6G,EAAUr6G,KAAMkJ,EAAIhJ,IAAMm6G,EAAUn6G,MAG9Fi5G,EAAQlrH,UAAUwkH,WAAa,SAAUn3G,GACrC,GAAI0+G,GAASvnH,KAAKynH,mBAAmB5+G,EACrC7I,MAAK8jH,SAASluG,UAAaiC,EAAG0vG,EAAOh6G,KAAMuK,EAAGyvG,EAAO95G,KACrDzN,KAAK8jH,SAASnvF,YAElB+xF,EAAQlrH,UAAUksH,iBAAmB,WACjC1nH,KAAKooB,QAAQ,YAAapoB,KAAK+nH,mBAEnCrB,EAAQlrH,UAAUmsH,kBAAoB,WAClC3nH,KAAKonB,QACLpnB,KAAKooB,QAAQ,aAAcpoB,KAAK+nH,mBAEpCrB,EAAQlrH,UAAUqsH,uBAAyB,SAAUjyG,GACjD,GAAIa,IAAQhJ,IAAK,EAAGF,KAAM,GACtBy6G,EAAkBhoH,KAAKqnH,WAAWviH,YAClCmjH,EAAmBjoH,KAAKqnH,WAAWxjE,aACnCqkE,EAAWloH,KAAKqnH,WAAWvkH,cAAc,gBACzCqlH,EAAWD,EAAWA,EAASpjH,YAAc,EAC7CsjH,EAAYF,EAAWA,EAASrkE,aAAe,EAC/CwkE,EAAaroH,KAAKsoH,eAlIH,EACA,EAkIfC,EAAmBH,EAAY,EAhItB,GAgI6CpoH,KAAKqnH,WAAWxjE,aAAe7jD,KAAKqnH,WAAW1B,cACrG6C,EAAkBL,EAAW,EAjIpB,GAiI2CnoH,KAAKqnH,WAAWviH,YAAc9E,KAAKqnH,WAAWoB,YAItG,QAHIzoH,KAAKwnH,aACLa,GApIU,GAsINzyG,GACJ,IAAK,WACDa,EAAIlJ,MAAQ46G,EAAWE,EACvB5xG,EAAIhJ,KAAOw6G,EAAmBM,CAC9B,MACJ,KAAK,cACD9xG,EAAIlJ,MAAQ46G,EAAWE,EACvB5xG,EAAIhJ,KAAQw6G,EAAmB,CAC/B,MACJ,KAAK,cACDxxG,EAAIlJ,MAAQ46G,EAAWE,EACvB5xG,EAAIhJ,MACJ,MACJ,KAAK,cACDgJ,EAAIhJ,KAAQ26G,EAAYC,EACxB5xG,EAAIlJ,OACJ,MACJ,KAAK,eACDkJ,EAAIhJ,KAAQ26G,EAAYC,EACxB5xG,EAAIlJ,MAASy6G,EAAkB,CAC/B,MACJ,KAAK,aACDvxG,EAAIhJ,KAAQ26G,EAAYC,EACxB5xG,EAAIlJ,MAASy6G,EAAkBQ,CAC/B,MACJ,KAAK,aACD/xG,EAAIlJ,MAAS46G,EAAWH,EAAkBK,EAC1C5xG,EAAIhJ,MACJ,MACJ,KAAK,aACDgJ,EAAIlJ,MAAS46G,EAAWH,EAAkBK,EAC1C5xG,EAAIhJ,KAAQw6G,EAAmB,CAC/B,MACJ,KAAK,UACDxxG,EAAIlJ,MAAS46G,EAAWH,EAAkBK,EAC1C5xG,EAAIhJ,KAAQw6G,EAAmBM,CAC/B,MACJ,KAAK,UACD9xG,EAAIhJ,KAAQw6G,EAAmBG,EAAYC,EAC3C5xG,EAAIlJ,MAASy6G,EAAkBQ,CAC/B,MACJ,KAAK,WACD/xG,EAAIhJ,KAAQw6G,EAAmBG,EAAYC,EAC3C5xG,EAAIlJ,OACJ,MACJ,SACIkJ,EAAIhJ,KAAQw6G,EAAmBG,EAAYC,EAC3C5xG,EAAIlJ,MAASy6G,EAAkB,EAKvC,MAFAvxG,GAAIlJ,MAAQvN,KAAK4M,QACjB6J,EAAIhJ,KAAOzN,KAAKgN,QACTyJ,GAEXiwG,EAAQlrH,UAAUktH,kBAAoB,SAAU9yG,GAC5C,GAAI+yG,GAAS3oH,KAAKqnH,WAAWzsH,iBAAiB,qDAE9C4J,GAAYmkH,GAnLH,eACH,YACC,aACC,gBAiLR3oH,KAAK+mH,YAAYnxG,GACjB5R,EAAS2kH,EAAQ3oH,KAAKknH,WAE1BR,EAAQlrH,UAAUotH,YAAc,SAAU//G,EAAQ+M,EAAUixG,EAAkBD,GAC1E,IAA4B,IAAxB5mH,KAAKsoH,eAAT,CAGAtoH,KAAK0oH,kBAAkB9yG,EACvB,IAAIizG,GACAC,EACAC,EAAe/oH,KAAKqnH,WAAWoB,YAC/BO,EAAgBhpH,KAAKqnH,WAAW1B,aAChCuC,EAAWloH,KAAKqnH,WAAWvkH,cAAc,gBACzCmmH,EAAgBjpH,KAAKqnH,WAAWvkH,cAAc,sBAC9CqlH,EAAWD,EAASpjH,YACpBsjH,EAAYF,EAASrkE,YACzB,IApMS,iBAoML7jD,KAAKknH,UAnMH,cAmM8BlnH,KAAKknH,SApMhC,iBAqMDlnH,KAAKknH,UACL4B,EAAW,QAEXG,EAAcrkH,MAAM6I,IAAM,KAAO26G,EAAY,GAAK,OAGlDU,IAAaV,EAAY,GAAK,KAE9Ba,EAAcrkH,MAAM6I,IAAM,KAAO26G,EAAY,GAAK,MAIlDS,GAFAK,EAAqC,WAArBrC,GAAkCkC,EAAelgH,EAAO/D,aAAgB9E,KAAKwnH,aACtD,SAArBX,IAAkCqC,GAA6C,QAA5BlpH,KAAKmpH,mBAC7DJ,EAAeZ,EA5NvB,EA4NoD,KAEnDe,GAAsC,UAArBrC,IAAmCqC,GAA6C,UAA5BlpH,KAAKmpH,mBACpEC,MAGEL,EAAe,EAAMZ,EAAW,EAAM,SAGvD,CAvNG,gBAwNAnoH,KAAKknH,UACL2B,EAAY,QAEZI,EAAcrkH,MAAM2I,KAAO,KAAO46G,EAAW,GAAK,OAGlDU,IAAcV,EAAW,GAAK,KAE9Bc,EAAcrkH,MAAM2I,KAAuB46G,EAAW,IAAM,KAEhE,IAAIe,GAAqC,WAArBtC,GAAkCoC,EAAgBngH,EAAOg7C,cAAiB7jD,KAAKwnH,UAE/FsB,GADCI,GAAsC,QAArBtC,IAAiCsC,GAA6C,QAA5BlpH,KAAKmpH,mBAC7DH,EAAgBZ,EAlPvB,EAkPqD,KAEpDc,GAAsC,WAArBtC,IAAoCsC,GAA6C,UAA5BlpH,KAAKmpH,mBACtEC,MAGEJ,EAAgB,EAAMZ,EAAY,EAAM,KAG7DF,EAAStjH,MAAM6I,IAAMq7G,EACrBZ,EAAStjH,MAAM2I,KAAOs7G,IAE1BnC,EAAQlrH,UAAU6tH,cAAgB,SAAUxgH,GACxC,GAAIygH,GAAiBtpH,KAAKqnH,WAAWvkH,cAAc,iBAC/C+F,KAAWpL,EAAkBoL,EAAOpC,aAAa,YACjDoC,EAAOhF,aAAa,eAAgBgF,EAAOpC,aAAa,UACxDoC,EAAOyD,gBAAgB,UAEtB7O,EAAkBuC,KAAKtF,SAcpBmO,IAAWpL,EAAkBoL,EAAOpC,aAAa,mBACjD6iH,EAAe9uH,UAAYqO,EAAOpC,aAAa,kBAdnD6iH,EAAe9uH,UAAY,GACvBwF,KAAKtF,kBAAmBsqH,aACxBsE,EAAevnH,YAAY/B,KAAKtF,SAEH,gBAAjBsF,MAAKtF,QACjB4uH,EAAe9uH,UAAYwF,KAAKtF,QAIhC4K,EADuBiL,GAAQvQ,KAAKtF,WACT4uH,KASvC5C,EAAQlrH,UAAU6nH,gBAAkB,WAChC,GAAKrjH,KAAKupH,SAAV,CAGA,GAAIC,GAAWxpH,KAAKyB,cAAc,OAASiC,UAAW+lH,2BACtDzpH,MAAKqnH,WAAWtlH,YAAYynH,GAC5B/jH,GAAalB,IAAIilH,EAAUp9G,GAAQirB,gBAAiBr3B,KAAK0pH,cAAe1pH,QAE5E0mH,EAAQlrH,UAAUmuH,eAAiB,SAAU9gH,EAAQlF,GACjD,GAAIimH,IAAe/gH,EAAOpC,aAAa,qBAAuB,IAAIvJ,MAAM,MACpE0sH,GAAYprH,QAAQmF,GAAM,GAC1BimH,EAAY5wH,KAAK2K,GAErBI,EAAW8E,GAAUg8G,mBAAoB+E,EAAYppH,KAAK,KAAKiR,OAAQo4G,kBAAmBlmH,KAE9F+iH,EAAQlrH,UAAUsuH,kBAAoB,SAAUjhH,GAC5C,GAAIlF,GAAKkF,EAAOpC,aAAa,mBACzBmjH,GAAe/gH,EAAOpC,aAAa,qBAAuB,IAAIvJ,MAAM,OACpEhF,EAAQ0xH,EAAYprH,QAAQmF,IACjB,IAAXzL,GACA0xH,EAAY1/F,OAAOhyB,EAAO,GAE9B2Q,EAAOyD,gBAAgB,kBACvB,IAAIy9G,GAAiBH,EAAYppH,KAAK,KAAKiR,MACvCs4G,GACAlhH,EAAOhF,aAAa,mBAAoBkmH,GAGxClhH,EAAOyD,gBAAgB,qBAG/Bo6G,EAAQlrH,UAAUwuH,eAAiB,SAAU5oE,GACzCjhD,aAAaH,KAAKiqH,gBAClBjqH,KAAKkqH,YAAY9oE,EAAI4O,gBAEzB02D,EAAQlrH,UAAU2uH,gBAAkB,SAAU/oH,GAC1C,GAAIrB,GAAQC,IACZ,KAAIA,KAAKupH,SAAT,CAGA,GAAInnH,GAAQ,WACRrC,EAAMqC,QAEVpC,MAAKiqH,eAAiBhyH,WAAWmK,EAvUf,QAyUtBskH,EAAQlrH,UAAU4uH,YAAc,SAAUhpH,GACtC,GAAIyH,EAOApL,GALAoL,EADA7I,KAAK6I,OACI9C,EAAQ3E,EAAEyH,OAAQ7I,KAAK6I,QAGvB7I,KAAKnG,WAK6B,OAA3CgP,EAAOpC,aAAa,mBACpBzG,KAAKkqH,YAAY9oH,GAEXpB,KAAKupH,UACXvpH,KAAKqqH,YAAYrqH,KAAKw5B,UAAUp3B,MAAOhB,EAAGyH,KAGlD69G,EAAQlrH,UAAU0uH,YAAc,SAAU9oH,GACtC,GAAIyH,EAOJ,IALIA,EADA7I,KAAK6I,OACI9C,EAAQ3E,EAAEyH,OAAQ7I,KAAK6I,QAGvB7I,KAAKnG,SAEd4D,EAAkBoL,IAAsD,OAA3CA,EAAOpC,aAAa,mBAArD,CAIA,IAAK,GAAIpI,GAAK,EAAGisH,KADG3oH,MAAMf,KAAK7F,SAASH,iBAAiB,qBAAuBoF,KAAKuqH,OAAS,cAClDlsH,EAAKisH,EAAa/xH,OAAQ8F,IAAM,CACxE,GAAImsH,GAAWF,EAAajsH,EAC5B2B,MAAKyqH,eAAeD,GAExBxqH,KAAK0qH,YAAY7hH,EAAQ7I,KAAKw5B,UAAU13B,KAAMV,GAC9CpB,KAAK2qH,gBAAgBvpH,EAAGyH,KAE5B69G,EAAQlrH,UAAUkvH,YAAc,SAAU7hH,EAAQq4G,EAAe9/G,GAC7D,GAAIrB,GAAQC,IAMZ,IALAG,aAAaH,KAAK4qH,WAClBzqH,aAAaH,KAAK6qH,WAClB7qH,KAAK+nH,iBAAmB3mH,GAAMrH,KAAMqH,EAAErH,KAAM+1B,QAAQ,EAAOjnB,OAAQA,EAAQtM,MAAO6E,EAAGvH,QAASmG,KAAKqnH,aAC7FttH,KAAM,KAAM+1B,QAAQ,EAAOjnB,OAAQA,EAAQtM,MAAO,KAAM1C,QAASmG,KAAKqnH,YAC5ErnH,KAAKooB,QAAQ,eAAgBpoB,KAAK+nH,kBAC9B/nH,KAAK+nH,iBAAiBj4F,OAGtB,MAFA9vB,MAAK8qH,UAAW,MAChB9qH,MAAKonB,OA2CT,IAxCApnB,KAAK8qH,UAAW,EACZrtH,EAAkBuC,KAAKqnH,aACvBrnH,KAAKuqH,OAA2C/qH,EAAlCQ,KAAKnG,QAAQ4M,aAAa,MAAoBzG,KAAKnG,QAAQ4M,aAAa,MAAqB,WAC3GzG,KAAKqnH,WAAarnH,KAAKyB,cAAc,OACjCiC,UAAWqnH,yBAAiCjnH,OACxCsP,KAAM,UAAW43G,cAAe,QAASrnH,GAAM3D,KAAKuqH,OAAS,YAC9D3mH,OAAQ,SAAWlB,EAAW1C,KAAKyX,OAAS,WAAa/U,EAAW1C,KAAKwX,QAAU,wBAEtFxX,KAAKsU,UACLtQ,GAAUhE,KAAKqnH,YAAarnH,KAAKsU,SAASpX,MAAM,MAEhDkP,GAAQkc,UACRtkB,GAAUhE,KAAKqnH,YA9XlB,YAgYkB,SAAfrnH,KAAKyX,QACLzX,KAAKqnH,WAAWziH,MAAMqmH,SAAWvoH,EAAW1C,KAAKyX,QAErDzX,KAAKqnH,WAAWtlH,YAAY/B,KAAKyB,cAAc,OAASiC,UA/XtD,mBAgYF3I,SAAS+R,KAAK/K,YAAY/B,KAAKqnH,YAC/BrnH,KAAK2pH,eAAe9gH,EAAQ7I,KAAKuqH,OAAS,YAC1CvqH,KAAKqpH,cAAcxgH,GACnB7E,GAAUhE,KAAKqnH,YA1XV,gBA2XDrnH,KAAKsoH,gBACLtoH,KAAK8mH,cAET9mH,KAAKqjH,kBACLrjH,KAAKsnH,YAAYz+G,KAGjB7I,KAAK4oH,YAAY//G,EAAQ7I,KAAK4V,SAAU5V,KAAK6mH,iBAAkB7mH,KAAK4mH,kBACpE5mH,KAAK2pH,eAAe9gH,EAAQ7I,KAAKuqH,OAAS,YAC1CvqH,KAAKqpH,cAAcxgH,GACnBqiH,GAAe1rG,KAAKxf,KAAKqnH,YACzBrnH,KAAKggH,WAAWn3G,IAEpBrE,GAAaxE,KAAKqnH,YAxYT,gBAyYTrjH,GAAUhE,KAAKqnH,YAxYL,iBAyYVrnH,KAAK+nH,iBAAmB3mH,GAAMrH,KAAMqH,EAAErH,KAAM+1B,QAAQ,EAAOjnB,OAAQA,EAAQtM,MAAO6E,EAAGvH,QAASmG,KAAKqnH,aAC7FttH,KAAM,KAAM+1B,QAAQ,EAAOjnB,OAAQA,EAAQtM,MAAO,KAAM1C,QAASmG,KAAKqnH,YAC5ErnH,KAAKooB,QAAQ,aAAcpoB,KAAK+nH,kBAC5B/nH,KAAK+nH,iBAAiBj4F,OAGtB,MAFA9vB,MAAK8qH,UAAW,MAChB9qH,MAAKonB,OAGT,IAAIk/F,IACA1zF,KAAMsuF,EAAc7V,OAAQ5+F,SAAUy0G,EAAcz0G,SAAU5M,MAAOqhH,EAAcrhH,MAAOu6B,eAAgB,UAK9G,IAH6B,SAAzB8mF,EAAc7V,SACdib,MAAgBltH,IAEhB4G,KAAKmrH,UAAY,EAAG,CACpB,GAAIrK,GAAO,WACH/gH,EAAM+jH,UACN/jH,EAAM+jH,SAAShD,KAAKwF,EAAez9G,GAG3C7I,MAAK4qH,UAAY3yH,WAAW6oH,EAAM9gH,KAAKmrH,eAGvCnrH,MAAK8jH,SAAShD,KAAKwF,EAAez9G,IAG1C69G,EAAQlrH,UAAU0kH,eAAiB,SAAUr3G,EAAQiF,EAAGC,GACpD,GAAIw5G,IACAh6G,KAAMO,EAAGL,IAAKM,EAAG6H,SAAU5V,KAAK4V,SAChCw1G,WAAYprH,KAAK6mH,iBAAkBwE,SAAUrrH,KAAK4mH,kBAElD0E,EAAcnyG,GAAUnZ,KAAKqnH,WAAarnH,KAAK6I,OAAS7I,KAAKnG,QAAU,KAAOiU,EAAGC,EAOrF,OANIu9G,GAAY/yH,OAAS,IACrBgvH,EAAO6D,WAAaE,EAAY9sH,QAAQ,SAAW,EAAI,QAAU8sH,EAAY9sH,QAAQ,UAAY,EAAI,OACjGwB,KAAK6mH,iBACTU,EAAO8D,SAAWC,EAAY9sH,QAAQ,QAAU,EAAI,SAAW8sH,EAAY9sH,QAAQ,WAAa,EAAI,MAChGwB,KAAK4mH,kBAENW,GAEXb,EAAQlrH,UAAUssH,iBAAmB,SAAUj/G,EAAQiF,EAAGC,GACtD,GAAIw5G,GAASvnH,KAAKkgH,eAAer3G,EAAQiF,EAAGC,GACxCw9G,EAAShE,EAAO3xG,QAqBpB,IApBI5V,KAAK4mH,mBAAqBW,EAAO8D,WACjCE,EAA+C,IAApCvrH,KAAK4V,SAASpX,QAAQ,WAAoD,IAAjCwB,KAAK4V,SAASpX,QAAQ,OACtE+oH,EAAO8D,SAAWrrH,KAAK6mH,iBAAmB7mH,KAAK6mH,iBAAmBU,EAAO8D,UAE7ErrH,KAAK6mH,mBAAqBU,EAAO6D,aACF,IAA3BG,EAAO/sH,QAAQ,UACf+oH,EAAO8D,SAAuB,YAAXE,GAAmC,eAAXA,EAA2B,MAAQ,SAC9EA,EAAUhE,EAAO8D,SAAW,QAEA,IAA5BE,EAAO/sH,QAAQ,WACf+oH,EAAO8D,SAAuB,aAAXE,GAAoC,gBAAXA,EAA4B,MAAQ,SAChFA,EAAUhE,EAAO8D,SAAW,SAEhC9D,EAAO6D,WAAaprH,KAAK6mH,kBAE7B7mH,KAAK+nH,kBACDhuH,KAAM,KAAM+1B,QAAQ,EAAOjnB,OAAQA,EAAQtM,MAAO,KAClD1C,QAASmG,KAAKqnH,WAAYmE,iBAAkBD,GAEhDvrH,KAAKooB,QAAQ,kBAAmBpoB,KAAK+nH,kBACjCR,EAAO3xG,WAAa21G,EAAQ,CAC5B,GAAI90G,GAAMT,GAAkBnN,EAAQ7I,KAAK6mH,iBAAkBU,EAAO8D,SAClErrH,MAAK4oH,YAAY//G,EAAQ0iH,EAAQhE,EAAO6D,WAAY7D,EAAO8D,SAC3D,IAAIzD,GAAY5nH,KAAK6nH,uBAAuB0D,EAC5ChE,GAAO3xG,SAAW21G,EAClBhE,EAAOh6G,KAAOkJ,EAAIlJ,KAAOq6G,EAAUr6G,KACnCg6G,EAAO95G,IAAMgJ,EAAIhJ,IAAMm6G,EAAUn6G,QAGjCzN,MAAK4oH,YAAY//G,EAAQ0iH,EAAQhE,EAAO6D,WAAY7D,EAAO8D,SAE/D,IAAII,IAAcl+G,KAAMg6G,EAAOh6G,KAAME,IAAK85G,EAAO95G,KAC7CF,EAAOmK,GAAI1X,KAAKqnH,WAAarnH,KAAK6I,OAAS7I,KAAKnG,QAAU,MAASge,GAAG,EAAMC,GAAG,GAAS2zG,GAAWl+G,IACvG,IAAIvN,KAAKsoH,iBAAgD,IAA7BiD,EAAO/sH,QAAQ,WAA6C,IAA1B+sH,EAAO/sH,QAAQ,QAAe,CACxF,GAAI0pH,GAAWloH,KAAKqnH,WAAWvkH,cAAc,gBACzC4oH,EAAY/xF,SAASuuF,EAAStjH,MAAM2I,KAAM,KAAOA,EAAOg6G,EAAOh6G,KAC/Dm+G,GAAY,EACZA,EAAY,EAENA,EAAYxD,EAASpjH,YAAe9E,KAAKqnH,WAAWoB,cAC1DiD,EAAY1rH,KAAKqnH,WAAWoB,YAAcP,EAASpjH,aAEvDojH,EAAStjH,MAAM2I,KAAOm+G,EAAU/qH,WAAa,KAGjD,MADA8qH,GAAUl+G,KAAOA,EACVk+G,GAEX/E,EAAQlrH,UAAU6uH,YAAc,SAAUlJ,EAAe//G,EAAGo3G,GACxD,GACI3vG,GADA9I,EAAQC,IAcZ,IAZIoB,GACAyH,EAAS7I,KAAK6I,OAAU2vG,GAAiBp3G,EAAEyH,OAAU7I,KAAKnG,QAC1DmG,KAAK+nH,kBACDhuH,KAAMqH,EAAErH,KAAM+1B,QAAQ,EAAOjnB,OAAQA,EAAQtM,MAAO6E,EAAGvH,QAASmG,KAAKqnH,cAIzEx+G,EAAS9N,SAAS+H,cAAc,qBAAuB9C,KAAKuqH,OAAS,aACrEvqH,KAAK+nH,kBACDhuH,KAAM,KAAM+1B,QAAQ,EAAOjnB,OAAQA,EAAQtM,MAAO,KAAM1C,QAASmG,KAAKqnH,cAG1E5pH,EAAkBoL,GAItB,GADA7I,KAAKooB,QAAQ,cAAepoB,KAAK+nH,kBAC5B/nH,KAAK+nH,iBAAiBj4F,OAsBvB9vB,KAAK8qH,UAAW,MAtBe,CAC/B9qH,KAAKyqH,eAAe5hH,GACpB7I,KAAK8qH,UAAW,CAChB,IAAIa,IACA/4F,KAAMuuF,EAAc9V,OAAQ5+F,SAAU00G,EAAc10G,SAAU5M,MAAOshH,EAActhH,MAAOu6B,eAAgB,SAK9G,IAH6B,SAAzB+mF,EAAc9V,SACdsgB,MAAmBvyH,IAEnB4G,KAAK4rH,WAAa,EAAG,CACrB,GAAI3M,GAAO,WACHl/G,EAAM+jH,UACN/jH,EAAM+jH,SAAS7E,KAAK0M,GAG5B3rH,MAAK6qH,UAAY5yH,WAAWgnH,EAAMj/G,KAAK4rH,gBAGvC5rH,MAAK8jH,SAAS7E,KAAK0M,KAO/BjF,EAAQlrH,UAAUivH,eAAiB,SAAU5hH,GACzC7I,KAAK6rH,kBAAkBhjH,GAClBpL,EAAkBoL,EAAOpC,aAAa,mBACvCoC,EAAOhF,aAAa,QAASgF,EAAOpC,aAAa,iBACjDoC,EAAOyD,gBAAgB,iBAE3BtM,KAAK8pH,kBAAkBjhH,IAE3B69G,EAAQlrH,UAAU4rB,MAAQ,WAClBpnB,KAAKqnH,aACL7iH,GAAaxE,KAAKqnH,YAzhBZ,iBA0hBNrjH,GAAUhE,KAAKqnH,YA3hBV,iBA6hBLrnH,KAAK8qH,WACD9qH,KAAK8jH,UACL9jH,KAAK8jH,SAASjwG,UAEd7T,KAAKqnH,YACL3iH,EAAO1E,KAAKqnH,YAEhBrnH,KAAKqnH,WAAa,KAClBrnH,KAAK8jH,SAAW,OAGxB4C,EAAQlrH,UAAUswH,WAAa,SAAU1qH,GACrCpB,KAAKqqH,YAAYrqH,KAAKw5B,UAAUp3B,MAAOhB,IAE3CslH,EAAQlrH,UAAUkuH,cAAgB,SAAUtoH,GACxCpB,KAAKoC,SAETskH,EAAQlrH,UAAUuwH,YAAc,SAAUxvH,GACtC,GAAIyvH,GAAa,EACbC,EAAa,CACb1vH,GAAMxC,KAAKyE,QAAQ,UAAY,GAC/BjC,EAAM4qB,iBACN6kG,EAAazvH,EAAM2vH,QAAQ,GAAGr/G,MAC9Bo/G,EAAa1vH,EAAM2vH,QAAQ,GAAGj/G,QAG9B++G,EAAazvH,EAAMsQ,MACnBo/G,EAAa1vH,EAAM0Q,OAEvBi+G,GAAe1rG,KAAKxf,KAAKqnH,YACzB7iH,GAAaxE,KAAKqnH,YA1jBR,iBA2jBVrjH,GAAUhE,KAAKqnH,YA5jBN,gBA6jBTrnH,KAAK4oH,YAAYrsH,EAAMsM,OAAQ7I,KAAK4V,SAAU5V,KAAK6mH,iBAAkB7mH,KAAK4mH,iBAC1E,IAAInwG,GAAMzW,KAAK6nH,uBAAuB7nH,KAAK4V,UACvC9H,EAAIk+G,EAAav1G,EAAIlJ,KAAOvN,KAAK4M,QACjCmB,EAAIk+G,EAAax1G,EAAIhJ,IAAMzN,KAAKgN,QAChCu6G,EAASvnH,KAAKkgH,eAAe3jH,EAAMsM,OAAQiF,EAAGC,EAClD,IAAI/N,KAAK6mH,mBAAqBU,EAAO6D,YAAcprH,KAAK4mH,mBAAqBW,EAAO8D,SAAU,CAC1F,GAAIE,GAA8C,IAApCvrH,KAAK4V,SAASpX,QAAQ,WAAoD,IAAjCwB,KAAK4V,SAASpX,QAAQ,OACzE+oH,EAAO8D,SAAW9D,EAAO6D,WAAa7D,EAAO6D,WAAa7D,EAAO8D,QACrE9D,GAAO3xG,SAAW21G,EAClBvrH,KAAK4oH,YAAYrsH,EAAMsM,OAAQ0+G,EAAO3xG,SAAU2xG,EAAO6D,WAAY7D,EAAO8D,SAC1E,IAAIc,GAASnsH,KAAK6nH,uBAAuBN,EAAO3xG,SAChD2xG,GAAOh6G,KAAOy+G,EAAaG,EAAO5+G,KAAOvN,KAAK4M,QAC9C26G,EAAO95G,IAAMw+G,EAAaE,EAAO1+G,IAAMzN,KAAKgN,QAEhDhN,KAAKqnH,WAAWziH,MAAM2I,KAAOg6G,EAAOh6G,KAAO,KAC3CvN,KAAKqnH,WAAWziH,MAAM6I,IAAM85G,EAAO95G,IAAM,MAE7Ci5G,EAAQlrH,UAAUumH,QAAU,SAAUxlH,GAC9ByD,KAAKqnH,YAAgC,KAAlB9qH,EAAM7E,SACzBsI,KAAKoC,SAGbskH,EAAQlrH,UAAU4wH,SAAW,SAAUhrH,GAC/BpB,KAAKqnH,YAAgD,OAAlCthH,EAAQ3E,EAAEyH,OAAQ,eACrC7I,KAAKoC,SAGbskH,EAAQlrH,UAAU6wH,cAAgB,SAAUjrH,GACpCpB,KAAKqnH,YACLrnH,KAAKoC,SAObskH,EAAQlrH,UAAU+iD,OAAS,WACvBv+C,KAAKmhD,aACLnhD,KAAKkmB,WAAWlmB,KAAKssH,UAMzB5F,EAAQlrH,UAAUwY,UAAY,WAC1BhU,KAAKknH,SA/mBI,eAgnBTlnH,KAAK6mH,iBAAmB,SACxB7mH,KAAK4mH,iBAAmB,MACxB5mH,KAAK8qH,UAAW,GAMpBpE,EAAQlrH,UAAU0qB,WAAa,SAAUkC,GAErC,IAAK,GAAI/pB,GAAK,EAAGkuH,EADCvsH,KAAKwsH,eAAepkG,GACQ/pB,EAAKkuH,EAAch0H,OAAQ8F,IAAM,CAC3E,GAAIiuH,GAAUC,EAAcluH,EAC5B,IAAgB,WAAZiuH,EACA,MAEY,WAAZA,GACAtsH,KAAKysH,kBAEO,UAAZH,GACA7mH,GAAalB,IAAIvE,KAAKnG,QAASuS,GAAQirB,gBAAiBr3B,KAAKoqH,YAAapqH,MAE9D,UAAZssH,IACIlgH,GAAQkc,UACRtoB,KAAKuvG,YAAc,GAAI7gD,IAAM1uD,KAAKnG,SAC9B21D,iBAvpBA,IAwpBAk9D,QAAS1sH,KAAKgqH,eAAevuH,KAAKuE,QAEtCyF,GAAalB,IAAIvE,KAAKnG,QAASuS,GAAQmrB,cAAev3B,KAAKmqH,gBAAiBnqH,OAG5EyF,GAAalB,IAAIvE,KAAKnG,QAAS,YAAamG,KAAKkqH,YAAalqH,OAI1EyF,GAAalB,IAAIxJ,SAAU,WAAYiF,KAAKosH,SAAUpsH,MACtDyF,GAAalB,IAAIxJ,SAAU,SAAUiF,KAAKqsH,cAAersH,MACzDyF,GAAalB,IAAIxJ,SAAU,UAAWiF,KAAK+hH,QAAS/hH,OAExD0mH,EAAQlrH,UAAUgxH,eAAiB,SAAUpkG,GAIzC,MAHgB,SAAZA,IACAA,EAAWhc,YAAoB,QAAU,eAEtCgc,EAAQlrB,MAAM,MAEzBwpH,EAAQlrH,UAAUixH,gBAAkB,WAChC,GAAKhvH,EAAkBuC,KAAK6I,QAQxBpD,GAAalB,IAAIvE,KAAKnG,QAAS,QAASmG,KAAKkqH,YAAalqH,UAN1D,KAAK,GAAI3B,GAAK,EAAGsuH,KADGhrH,MAAMf,KAAKZ,KAAKnG,QAAQe,iBAAiBoF,KAAK6I,SACtBxK,EAAKsuH,EAAap0H,OAAQ8F,IAAM,CACxE,GAAIwK,GAAS8jH,EAAatuH,EAC1BoH,IAAalB,IAAIsE,EAAQ,QAAS7I,KAAKkqH,YAAalqH,QAOhE0mH,EAAQlrH,UAAUmvH,gBAAkB,SAAUvpH,EAAGyH,GACzC7I,KAAKqnH,aACArnH,KAAKupH,WACS,UAAXnoH,EAAErH,MACF0L,GAAalB,IAAIsE,EAAQ,OAAQ7I,KAAK8rH,WAAY9rH,MAEvC,cAAXoB,EAAErH,MACF0L,GAAalB,IAAIsE,EAAQ,aAAc7I,KAAK8rH,WAAY9rH,OAG5DA,KAAKwnH,YACL/hH,GAAalB,IAAIsE,EAAQ,kCAAmC7I,KAAK+rH,YAAa/rH,QAQ1F0mH,EAAQlrH,UAAUsrB,aAAe,SAAUsB,GAEvC,IAAK,GAAI/pB,GAAK,EAAGuuH,EADC5sH,KAAKwsH,eAAepkG,GACQ/pB,EAAKuuH,EAAcr0H,OAAQ8F,IAAM,CAC3E,GAAIiuH,GAAUM,EAAcvuH,EAC5B,IAAgB,WAAZiuH,EACA,MAEY,WAAZA,GACAtsH,KAAK6sH,oBAEO,UAAZP,GACA7mH,GAAaf,OAAO1E,KAAKnG,QAASuS,GAAQirB,gBAAiBr3B,KAAKoqH,aAEpD,UAAZkC,IACIlgH,GAAQkc,UACJtoB,KAAKuvG,aACLvvG,KAAKuvG,YAAY17F,UAErBpO,GAAaf,OAAO1E,KAAKnG,QAASuS,GAAQmrB,cAAev3B,KAAKmqH,kBAG9D1kH,GAAaf,OAAO1E,KAAKnG,QAAS,YAAamG,KAAKkqH,cAIhEzkH,GAAaf,OAAO3J,SAAU,WAAYiF,KAAKosH,UAC/C3mH,GAAaf,OAAO3J,SAAU,SAAUiF,KAAKqsH,eAC7C5mH,GAAaf,OAAO3J,SAAU,UAAWiF,KAAK+hH,UAElD2E,EAAQlrH,UAAUqxH,kBAAoB,WAClC,GAAKpvH,EAAkBuC,KAAK6I,QAQxBpD,GAAaf,OAAO1E,KAAKnG,QAAS,QAASmG,KAAKkqH,iBANhD,KAAK,GAAI7rH,GAAK,EAAGyuH,KADGnrH,MAAMf,KAAKZ,KAAKnG,QAAQe,iBAAiBoF,KAAK6I,SACtBxK,EAAKyuH,EAAav0H,OAAQ8F,IAAM,CACxE,GAAIwK,GAASikH,EAAazuH,EAC1BoH,IAAaf,OAAOmE,EAAQ,QAAS7I,KAAKkqH,eAOtDxD,EAAQlrH,UAAUqwH,kBAAoB,SAAUhjH,GAC5C,IAAK7I,KAAKupH,SAEN,IAAK,GAAIlrH,GAAK,EAAG0uH,EADC/sH,KAAKwsH,eAAexsH,KAAKssH,SACGjuH,EAAK0uH,EAAcx0H,OAAQ8F,IAAM,CAC3E,GAAIiuH,GAAUS,EAAc1uH,EACZ,WAAZiuH,GACA7mH,GAAaf,OAAOmE,EAAQ,OAAQ7I,KAAK8rH,YAE7B,UAAZQ,GAAwBlgH,GAAQkc,UAChC7iB,GAAaf,OAAOmE,EAAQ,aAAc7I,KAAK8rH,YAIvD9rH,KAAKwnH,YACL/hH,GAAaf,OAAOmE,EAAQ,kCAAmC7I,KAAK+rH,cAO5ErF,EAAQlrH,UAAU0L,cAAgB,WAC9B,MAAO,WAMXw/G,EAAQlrH,UAAUwjD,eAAiB,WAC/B,MAAOh/C,MAAKy/C,kBAMhBinE,EAAQlrH,UAAU05B,kBAAoB,SAAUwF,EAASC,GACrD,IAAK,GAAIt8B,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAKo9B,GAAUr8B,EAAK2E,EAAGzK,OAAQ8F,IAExD,OADW2E,EAAG3E,IAEV,IAAK,QACG2B,KAAKqnH,aACLrnH,KAAKqnH,WAAWziH,MAAM6S,MAAQ/U,EAAWg4B,EAAQjjB,OAErD,MACJ,KAAK,SACGzX,KAAKqnH,aACLrnH,KAAKqnH,WAAWziH,MAAM4S,OAAS9U,EAAWg4B,EAAQljB,QAEtD,MACJ,KAAK,UACGxX,KAAKqnH,YACLrnH,KAAKqpH,eAET,MACJ,KAAK,UACDrpH,KAAK8mB,aAAa6T,EAAQ2xF,SAC1BtsH,KAAKkmB,WAAWwU,EAAQ4xF,QACxB,MACJ,KAAK,WACDtsH,KAAK2mH,gBACL,IAAI99G,GAAS9N,SAAS+H,cAAc,qBAAuB9C,KAAKuqH,OAAS,YACzE,IAAIvqH,KAAKqnH,YAAcx+G,EAAQ,CAC3B,GAAIogH,GAAgBjpH,KAAKqnH,WAAWvkH,cAAc,qBAClDmmH,GAAcrkH,MAAM6I,IAAMw7G,EAAcrkH,MAAM2I,KAAO,KACrDvN,KAAKggH,WAAWn3G,GAEpB,KACJ,KAAK,qBACD,GAAImkH,GAAOjyH,SAAS+H,cAAc,qBAAuB9C,KAAKuqH,OAAS,YACnEvqH,MAAKqnH,YAAc2F,GACnBhtH,KAAKggH,WAAWgN,EAEpB,MACJ,KAAK,UACD,GAAIhtH,KAAKqnH,WAAY,CACjB,GAAIv5G,GAAI4sB,EAAQ9tB,QAAU+tB,EAAQ/tB,OAClC5M,MAAKqnH,WAAWziH,MAAM2I,MAAQosB,SAAS35B,KAAKqnH,WAAWziH,MAAM2I,KAAM,OAAW5M,WAAa,KAE/F,KACJ,KAAK,UACD,GAAIX,KAAKqnH,WAAY,CACjB,GAAIt5G,GAAI2sB,EAAQ1tB,QAAU2tB,EAAQ3tB,OAClChN,MAAKqnH,WAAWziH,MAAM6I,KAAOksB,SAAS35B,KAAKqnH,WAAWziH,MAAM6I,IAAK,OAAW9M,WAAa,KAE7F,KACJ,KAAK,WACGX,KAAKqnH,aACD1sF,EAAQrmB,UACR9P,GAAaxE,KAAKqnH,YAAa1sF,EAAQrmB,SAASpX,MAAM,MAEtDw9B,EAAQpmB,UACRtQ,GAAUhE,KAAKqnH,YAAa3sF,EAAQpmB,SAASpX,MAAM,MAG3D,MACJ,KAAK,YACG8C,KAAKqnH,aACDrnH,KAAKuP,UACLvL,GAAUhE,KAAKqnH,YA/0BjC,SAk1BkB7iH,GAAaxE,KAAKqnH,YAl1BpC,YA+1BNX,EAAQlrH,UAAUsG,KAAO,SAAUjI,EAAS2/B,OACtB,KAAdA,IAAwBA,EAAYx5B,KAAKw5B,UAAU13B,MACzB,SAA1BjI,EAAQ+K,MAAMyhD,SAGlBrmD,KAAK0qH,YAAY7wH,EAAS2/B,IAO9BktF,EAAQlrH,UAAU4G,MAAQ,SAAUo3B,OACd,KAAdA,IAAwBA,EAAYx5B,KAAKw5B,UAAUp3B,OACvDpC,KAAKqqH,YAAY7wF,IAOrBktF,EAAQlrH,UAAU6iD,QAAU,SAAUx1C,GAC9B7I,KAAKqnH,YACLrnH,KAAKqpH,cAAcxgH,GAEnB7I,KAAK8jH,UAAYj7G,GACjB7I,KAAKggH,WAAWn3G,IASxB69G,EAAQlrH,UAAUqY,QAAU,WACxB6kB,EAAOl9B,UAAUqY,QAAQjT,KAAKZ,MAC9BwE,GAAaxE,KAAKnG,SAr4Bf,aAs4BHmG,KAAK8mB,aAAa9mB,KAAKssH,SACnBtsH,KAAK8jH,UACL9jH,KAAK8jH,SAASjwG,UAEd7T,KAAKqnH,YACL3iH,EAAO1E,KAAKqnH,YAEhBrnH,KAAKqnH,WAAa,KAClBrnH,KAAK8jH,SAAW,MAEpB7rF,IACIrvB,GAAS,SACV89G,EAAQlrH,UAAW,YAAS,IAC/By8B,IACIrvB,GAAS,SACV89G,EAAQlrH,UAAW,aAAU,IAChCy8B,IACIrvB,MACD89G,EAAQlrH,UAAW,cAAW,IACjCy8B,IACIrvB,MACD89G,EAAQlrH,UAAW,aAAU,IAChCy8B,IACIrvB,GAAS,cACV89G,EAAQlrH,UAAW,eAAY,IAClCy8B,IACIrvB,GAAS,IACV89G,EAAQlrH,UAAW,cAAW,IACjCy8B,IACIrvB,GAAS,IACV89G,EAAQlrH,UAAW,cAAW,IACjCy8B,IACIrvB,IAAS,IACV89G,EAAQlrH,UAAW,qBAAkB,IACxCy8B,IACIrvB,GAAS,SACV89G,EAAQlrH,UAAW,yBAAsB,IAC5Cy8B,IACIrvB,GAAS,SACV89G,EAAQlrH,UAAW,cAAW,IACjCy8B,IACIrvB,IAAS,IACV89G,EAAQlrH,UAAW,iBAAc,IACpCy8B,IACIrvB,IAAS,IACV89G,EAAQlrH,UAAW,eAAY,IAClCy8B,IACI5uB,MAAYovB,KACbiuF,EAAQlrH,UAAW,gBAAa,IACnCy8B,IACIrvB,GAAS,IACV89G,EAAQlrH,UAAW,gBAAa,IACnCy8B,IACIrvB,GAAS,IACV89G,EAAQlrH,UAAW,iBAAc,IACpCy8B,IACIrvB,MACD89G,EAAQlrH,UAAW,eAAY,IAClCy8B,IACIrvB,IAAS,IACV89G,EAAQlrH,UAAW,gBAAa,IACnCy8B,IACIxuB,MACDi9G,EAAQlrH,UAAW,mBAAgB,IACtCy8B,IACIxuB,MACDi9G,EAAQlrH,UAAW,iBAAc,IACpCy8B,IACIxuB,MACDi9G,EAAQlrH,UAAW,gBAAa,IACnCy8B,IACIxuB,MACDi9G,EAAQlrH,UAAW,kBAAe,IACrCy8B,IACIxuB,MACDi9G,EAAQlrH,UAAW,iBAAc,IACpCy8B,IACIxuB,MACDi9G,EAAQlrH,UAAW,sBAAmB,IACzCy8B,IACIxuB,MACDi9G,EAAQlrH,UAAW,cAAW,IACjCy8B,IACIxuB,MACDi9G,EAAQlrH,UAAW,gBAAa,IACnCkrH,EAAUzuF,IACNluB,IACD28G,IAEL9oE,IrC5/BErgC,MACAf,GAAe,KACfS,GAAe,KACfoD,GAAiB,GACjBC,GAAiB,GACjBC,GAAkB,GAClB0D,GAAe,cACf/G,GAAe,cACfkE,GAAmB,kBACnBjD,GAAiB,gBACjBW,GAAe,mBACfR,GAAuB,uBACvBiD,GAAe,iBACf/C,GAAiB,kBACjBS,GAAiB,gBACjBiC,GAAc,aACd9D,GAAgB,eAChBL,GAAmB,gUiCjBnBkhG,IACAzgB,IAAK,QACLyvB,QAAS,aACTC,MAAO,UACPpgG,WAAY,gBACZC,WAAY,gBACZwB,UAAW,eACXC,UAAW,eACX2+F,UAAW,eACXC,cAAe,oBACfx+F,SAAU,cACVD,YAAa,iBACb0+F,aAAc,mBACdC,eAAgB,qBAChBC,eAAgB,uBAMpB,SAAWjgG,GACP,QAYSkgG,GAAYvtH,EAAMkc,GACvB,GAAIC,GAAe3e,EAAkB0e,GAAiD1a,EAAxB0a,EAC1DsxG,GAAgBpxG,UAAW,KAAMqmG,WAAaz7F,YAAa,KA4B/D,IA3BIxpB,EAAkBwC,EAAK0oB,iBAA2C,UAAxB1oB,EAAK0oB,gBAC/C8kG,EAAYpxG,UAAYqxG,EAAqBztH,EAAMg+G,GAAWnxF,WAAYmxF,GAAWqP,eAAgB,OAAQlxG,GAC7Gnc,EAAKpG,QAAQiB,WAAWsK,aAAaqoH,EAAYpxG,UAAWpc,EAAKpG,SACjEmK,GAAU/D,EAAKpG,SAAUokH,GAAWiP,OACpCO,EAAYpxG,UAAUta,YAAY9B,EAAKpG,UAGvC8zH,EAAoB1tH,EAAMwtH,EAAarxG,GAE3Cnc,EAAKpG,QAAQ6C,iBAAiB,QAAS,WACnC,GAAIqE,GAAS6sH,EAAc5tH,KACvBe,GAAOvI,UAAUC,SAAS,kBAC1BsI,EAAOvI,UAAU+L,IAAI,mBAG7BtE,EAAKpG,QAAQ6C,iBAAiB,OAAQ,WAClC,GAAIqE,GAAS6sH,EAAc5tH,KACvBe,GAAOvI,UAAUC,SAAS,kBAC1BsI,EAAOvI,UAAUkM,OAAO,mBAG3BjH,EAAkBwC,EAAKsD,aAAgB9F,EAAkBwC,EAAKsD,WAAWwjB,mBAAoB9mB,EAAKsD,WAAWwjB,kBAC9G8mG,EAAe5tH,EAAKsD,WAAWwjB,gBAAiB9mB,EAAKpG,QAAS4zH,GAAa,EAAMrxG,GAC7EqxG,EAAYpxG,UAAU7jB,UAAUC,SAASwlH,GAAWlxF,aACpD/oB,GAAUypH,EAAYpxG,WAAY4hG,GAAWnxF,cAGhDrvB,EAAkBwC,EAAKyiH,SACxB,IAAK,GAAIrqH,GAAI,EAAGA,EAAI4H,EAAKyiH,QAAQnqH,OAAQF,IACrCo1H,EAAY/K,QAAQ1pH,KAAK80H,EAAW7tH,EAAKyiH,QAAQrqH,GAAIo1H,EAAYpxG,UAAWD,GAIpF,OADAqxG,GAAcM,EAAiB9tH,EAAMwtH,GAKzC,QAASO,KACL,GAAIv5G,GAAQm5G,EAAc5tH,MAAMwO,uBAAuB,gBAAgB,EACvExK,IAAUyQ,GAAQwpG,GAAWrvF,UACzBna,EAAMjc,UAAUC,SAASwlH,GAAWtvF,cACpCnqB,GAAaiQ,GAAQwpG,GAAWtvF,aAGxC,QAASs/F,KACL,GAAIltH,GAAS6sH,EAAc5tH,KAC3B,IAAsD,KAAlDe,EAAOa,qBAAqB,SAAS,GAAG5E,MAAc,CACtD,GAAIyX,GAAQ1T,EAAOyN,uBAAuB,gBAAgB,EACtDiG,GAAMjc,UAAUC,SAASwlH,GAAWrvF,WACpCpqB,GAAaiQ,GAAQwpG,GAAWrvF,UAEpC5qB,GAAUyQ,GAAQwpG,GAAWtvF,cAGrC,QAASu/F,GAAmBr0H,GACxBA,EAAQ6C,iBAAiB,QAASsxH,GAClCn0H,EAAQ6C,iBAAiB,OAAQuxH,GAErC,QAASE,GAAqBt0H,GAC1BA,EAAQ+C,oBAAoB,QAASoxH,GACrCn0H,EAAQ+C,oBAAoB,OAAQqxH,GAExC,QAASN,GAAoB1tH,EAAMwtH,EAAatxG,GAC5C,GAEIkS,GACAC,EAHAlS,EAAe3e,EAAkB0e,GAAiD1a,EAAxB0a,CAIlC,UAAxBlc,EAAK0oB,gBACLulG,EAAmBjuH,EAAKpG,SAExB4D,EAAkBgwH,EAAYpxG,YAC9BoxG,EAAYpxG,UAAYqxG,EAAqBztH,EAAMg+G,GAAWlxF,WAAYkxF,GAAWsP,eAAgB,MAAOnxG,GAC5Gnc,EAAKpG,QAAQiB,WAAWsK,aAAaqoH,EAAYpxG,UAAWpc,EAAKpG,WAG5D4D,EAAkBwC,EAAKmuH,YACxBX,EAAYpxG,UAAU7jB,UAAU+L,IAAI05G,GAAWsP,gBAEnDE,EAAYpxG,UAAU7jB,UAAU+L,IAAI05G,GAAWlxF,aAEnDsB,EAAkBjS,EAAY,QAAU1Y,UAAWu6G,GAAW1vF,YAC9DD,EAAoBlS,EAAY,SAAW1Y,UAAWu6G,GAAWzvF,YAC5D/wB,EAAkBwC,EAAKpG,QAAQ8J,KAA2B,KAApB1D,EAAKpG,QAAQ8J,KACpD2qB,EAAkB3qB,GAAK,SAAW1D,EAAKpG,QAAQ8J,GAAGhK,QAAQ,KAAM,KAChEoK,EAAW9D,EAAKpG,SAAW40B,kBAAmBH,EAAkB3qB,MAE/DlG,EAAkBwC,EAAKpG,QAAQ6uB,cAA6C,KAA7BzoB,EAAKpG,QAAQ6uB,cAC7D4F,EAAkB9zB,UAAYyF,EAAKpG,QAAQ6uB,YAC3CzoB,EAAKpG,QAAQyS,gBAAgB,gBAE5B7O,EAAkBwC,EAAKsD,aAAgB9F,EAAkBwC,EAAKsD,WAAWmlB,cAC1C,KAAhCzoB,EAAKsD,WAAWmlB,cAChB4F,EAAkB9zB,UAAYyF,EAAKsD,WAAWmlB,aAE7C4F,EAAkB9zB,WACnBizH,EAAYpxG,UAAU7jB,UAAU+L,IAAI05G,GAAWoP,cAEnDI,EAAYpxG,UAAUta,YAAY9B,EAAKpG,SACvC4zH,EAAYpxG,UAAUta,YAAYssB,GAClCo/F,EAAYpxG,UAAUta,YAAYusB,GAClC+/F,EAAiBpuH,EAAKpG,QAAQmD,MAAOsxB,GACT,WAAxBruB,EAAK0oB,iBACD2F,EAAkB91B,UAAUC,SAASwlH,GAAWtvF,cAChDnqB,GAAa8pB,GAAoB2vF,GAAWtvF,aAEhD3qB,GAAUsqB,GAAoB2vF,GAAWrvF,WAEjB,SAAxB3uB,EAAK0oB,iBACL1oB,EAAKpG,QAAQ6C,iBAAiB,QAAS,SAAUH,GAC7C8xH,EAAiBpuH,EAAKpG,QAAQmD,MAAOsxB,KAEzCruB,EAAKpG,QAAQ6C,iBAAiB,OAAQ,SAAUH,GAC5C8xH,EAAiBpuH,EAAKpG,QAAQmD,MAAOsxB,MAIjD,QAASy/F,GAAiB9tH,EAAMwtH,GAC5B,IAAKhwH,EAAkBwC,EAAKsD,YACxB,IAAK,GAAIlF,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAK2C,EAAKsD,YAAalF,EAAK2E,EAAGzK,OAAQ8F,IAEhE,OADW2E,EAAG3E,IAEV,IAAK,WACDiwH,EAAYruH,EAAKsD,WAAW+Q,UAAWm5G,EAAYpxG,WACnD,MACJ,KAAK,UACD0+F,EAAW96G,EAAKsD,WAAWqjB,QAAS3mB,EAAKpG,QACzC,MACJ,KAAK,YACD2gH,EAAav6G,EAAKsD,WAAWgM,WAAYk+G,EAAYpxG,WACrD,MACJ,KAAK,cACDkyG,EAAetuH,EAAKsD,WAAWmlB,YAAazoB,EAAKpG,QACjD,MACJ,KAAK,WACD20H,EAAYvuH,EAAKsD,WAAWkrH,SAAUxuH,EAAKpG,SAK3D,MAAO4zH,GAEX,QAASiB,GAAgB1xH,EAAO2xH,GACxB3xH,EACAwH,GAAamqH,GAAS1Q,GAAWmP,eAGjCppH,GAAU2qH,GAAS1Q,GAAWmP,eAGtC,QAASiB,GAAiBrxH,EAAOyX,GACzBzX,GACAgH,GAAUyQ,GAAQwpG,GAAWrvF,UACzBna,EAAMjc,UAAUC,SAASwlH,GAAWtvF,cACpCnqB,GAAaiQ,GAAQwpG,GAAWtvF,eAIhCla,EAAMjc,UAAUC,SAASwlH,GAAWrvF,WACpCpqB,GAAaiQ,GAAQwpG,GAAWrvF,UAEpC5qB,GAAUyQ,GAAQwpG,GAAWtvF,cAGrC,QAASi/F,GAAc/zH,GAEnB,MADiBA,GAAQiB,WAM7B,QAAS8zH,GAAkB/0H,EAAS4zH,EAAaoB,EAAS1yG,GACtD,GACIwyG,IADelxH,EAAkB0e,GAAiD1a,EAAxB0a,GACrC,QAAUzY,UAAWu6G,GAAWkP,YACrD9wG,EAAYoxG,EAAYpxG,SAe5B,OAdK5e,GAAkBoxH,IAIDpB,EAAYpxG,UAAU7jB,UAAUC,SAASwlH,GAAWlxF,YAClE0gG,EAAYpxG,UAAUvZ,cAAc,IAAMm7G,GAAWzvF,WAAa30B,GAC1Di1H,sBAAsB,WAAYH,GAL9CtyG,EAAUta,YAAY4sH,IAOrBlxH,EAAkB4e,IACnBA,EAAU7jB,UAAUC,SAASwlH,GAAWlxF,aACxC/oB,GAAUqY,GAAY4hG,GAAWnxF,YAErC9oB,GAAU2qH,GAAS1Q,GAAWmP,eAC9B2B,EAAmBl1H,EAAS80H,EAAQtyG,GAC7BsyG,EAEX,QAASI,GAAmBl1H,EAAS80H,EAAQtyG,GACzCsyG,EAAOjyH,iBAAiB,QAAS,SAAUH,GACjC1C,EAAQrB,UAAUC,SAASwlH,GAAWgP,UAAYpzH,EAAQm1H,WAC5DzyH,EAAM4qB,iBACFttB,IAAYkB,SAASu0G,eACrBz1G,EAAQwI,QAEZxI,EAAQmD,MAAQ,GAChBgH,GAAU2qH,GAAS1Q,GAAWmP,kBAGtCvzH,EAAQ6C,iBAAiB,QAAS,SAAUH,GACxCmyH,EAAgB70H,EAAQmD,MAAO2xH,KAEnC90H,EAAQ6C,iBAAiB,QAAS,SAAUH,GACxCmyH,EAAgB70H,EAAQmD,MAAO2xH,KAEnC90H,EAAQ6C,iBAAiB,OAAQ,SAAUH,GACvCtE,WAAW,WAAc+L,GAAU2qH,GAAS1Q,GAAWmP,gBAAmB,OAGlF,QAAS6B,GAAcp1H,EAAS8uB,GAE5B,GADailG,EAAc/zH,GAChBrB,UAAUC,SAASwlH,GAAWlxF,aAAkC,SAAnBpE,EAA2B,CAC/E,GAAIlU,GAAQm5G,EAAc/zH,GAAS2U,uBAAuB,gBAAgB,EAC1E6/G,GAAiBx0H,EAAQmD,MAAOyX,IAMxC,QAASi5G,GAAqBztH,EAAMyD,EAAWwrH,EAAUh8G,EAAKiJ,GAC1D,GACIE,GADAD,EAAe3e,EAAkB0e,GAAiD1a,EAAxB0a,CAU9D,OARK1e,GAAkBwC,EAAKmuH,WAKxB/xG,EAAYD,EAAYlJ,GAAOxP,UAAWA,KAJ1C2Y,EAAYD,EAAYnc,EAAKmuH,WAAa1qH,UAAWA,KAC3ClL,UAAU+L,IAAI2qH,GAK5B7yG,EAAU7jB,UAAU+L,IAAI,qBACjB8X,EAYX,QAASjf,GAASJ,EAAOnD,EAAS8uB,EAAgB1B,GAK9C,GAJAptB,EAAQmD,MAAQA,EACVS,EAAkBkrB,IAAuC,SAAnBA,GACxCsmG,EAAcp1H,EAAS8uB,IAEtBlrB,EAAkBwpB,IAAgBA,EAAa,CAChD,GAAIlR,GAAgB63G,EAAc/zH,GAC9B80H,EAAS54G,EAAcvH,uBAAuByvG,GAAWkP,WAAW,EACpEtzH,GAAQmD,OAAS+Y,EAAcvd,UAAUC,SAAS,iBAClD+L,GAAamqH,GAAS1Q,GAAWmP,eAGjCppH,GAAU2qH,GAAS1Q,GAAWmP,gBAc1C,QAASkB,GAAYh6G,EAAUrQ,EAAUkrH,GAChC1xH,EAAkB0xH,IAA0B,KAAbA,GAChC3qH,EAAYP,EAAUkrH,GAErB1xH,EAAkB6W,IAA0B,KAAbA,GAChCtQ,EAASC,EAAUqQ,GAY3B,QAASi6G,GAAe7lG,EAAa7uB,GACjC,GAAIkc,IACJA,EAAgB63G,EAAc/zH,IACZrB,UAAUC,SAASwlH,GAAWlxF,YACvCtvB,EAAkBirB,IAAgC,KAAhBA,GAKnC3S,EAAcvd,UAAU+L,IAAI05G,GAAWoP,cACvCt3G,EAAcvH,uBAAuByvG,GAAWzvF,WAAW,GAAG90B,YAAc,KAL5Eqc,EAAcvH,uBAAuByvG,GAAWzvF,WAAW,GAAG90B,YAAcgvB,EAC5E3S,EAAcvd,UAAUkM,OAAOu5G,GAAWoP,eAQzC5vH,EAAkBirB,IAAgC,KAAhBA,GAInC7uB,EAAQyS,gBAAgB,eACxBzS,EAAQyS,gBAAgB,qBAJxBvI,EAAWlK,GAAW6uB,YAAeA,EAAa0mG,mBAAoB1mG,IAmBlF,QAAS8lG,GAAYa,EAAYx1H,EAAS8uB,GAClC0mG,EACAtrH,EAAWlK,GAAW40H,SAAU,KAGhC50H,EAAQyS,gBAAgB,YAEvB7O,EAAkBkrB,IACnBsmG,EAAcp1H,EAAS8uB,GAc/B,QAAS6xF,GAAa8U,EAAOrrH,GACrBqrH,EACAtrH,EAASC,EAAUg6G,GAAWzgB,KAG9Bh5F,EAAYP,EAAUg6G,GAAWzgB,KAczC,QAASud,GAAWtI,EAAU54G,EAAS8uB,GACnC,GAAI4mG,IAAkBxxB,SAAY,WAAYyxB,gBAAiB,OAC3D/c,IACA54G,EAAQrB,UAAUkM,OAAOu5G,GAAWgP,SACpCwC,EAAiBF,EAAe11H,KAGhCA,EAAQrB,UAAU+L,IAAI05G,GAAWgP,SACjCyC,EAAcH,EAAe11H,IAE5B4D,EAAkBkrB,IACnBsmG,EAAcp1H,EAAS8uB,GAI/B,QAASklG,GAAe8B,EAAS91H,EAAS4zH,EAAaoB,EAAS1yG,GAC5D,GAAIC,GAAe3e,EAAkB0e,GAAiD1a,EAAxB0a,CAC1DwzG,GACAlC,EAAYxmG,YAAc2nG,EAAkB/0H,EAAS4zH,EAAaoB,EAASzyG,IAG3EqxG,EAAYxmG,YAAYviB,SACxB+oH,EAAYxmG,YAAc,MAclC,QAASwoG,GAAiB3rH,EAAOjK,GAC7B,IAAK,GAAIwE,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAKwG,GAAQzF,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAC5D,GAAIhB,GAAM2F,EAAG3E,GACT0X,MAAgB,EACpBA,GAAgB63G,EAAc/zH,GAClB,aAARwD,GACAxD,EAAQrB,UAAUkM,OAAOu5G,GAAWgP,SAE5B,aAAR5vH,GAAsB0Y,EAAcvd,UAAUC,SAASwlH,GAAWnxF,aAClE/W,EAAcvd,UAAUkM,OAAOu5G,GAAWgP,SAElC,gBAAR5vH,GAAyB0Y,EAAcvd,UAAUC,SAASwlH,GAAWlxF,YACrEhX,EAAcvH,uBAAuByvG,GAAWzvF,WAAW,GAAG90B,YAAc,GAG5EG,EAAQyS,gBAAgBjP,IAepC,QAASqyH,GAAc5rH,EAAOjK,GAC1B,IAAK,GAAIwE,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAKwG,GAAQzF,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAC5D,GAAIhB,GAAM2F,EAAG3E,GACT0X,MAAgB,EACpBA,GAAgB63G,EAAc/zH,GAClB,aAARwD,GACAxD,EAAQrB,UAAU+L,IAAI05G,GAAWgP,SAEzB,aAAR5vH,GAAsB0Y,EAAcvd,UAAUC,SAASwlH,GAAWnxF,aAClE/W,EAAcvd,UAAU+L,IAAI05G,GAAWgP,SAE/B,gBAAR5vH,GAAyB0Y,EAAcvd,UAAUC,SAASwlH,GAAWlxF,YACrEhX,EAAcvH,uBAAuByvG,GAAWzvF,WAAW,GAAG90B,YAAcoK,EAAMzG,GAGlFxD,EAAQgK,aAAaxG,EAAKyG,EAAMzG,KAK5C,QAASwxB,GAAevb,GACpB,GAAI+I,GAAY/I,EAAM+I,SACtB,KAAK5e,EAAkB4e,IAAcA,EAAU7jB,UAAUC,SAASwlH,GAAWlxF,YAAa,CACtF,GAAIS,GAAWnR,EAAUvZ,cAAc,SACnC4lB,EAAcrM,EAAUvZ,cAAc,IAAMm7G,GAAWzvF,WAAW90B,YAClEutB,EAA2D,OAA7C5K,EAAUvZ,cAAc,gBAC1CyC,GAAO8W,EAAUvZ,cAAc,IAAMm7G,GAAW1vF,YAChDhpB,EAAO8W,EAAUvZ,cAAc,IAAMm7G,GAAWzvF,YAChDh2B,EAAU6jB,GAAY4hG,GAAWnxF,aAAcmxF,GAAWlxF,aAC1DohG,EAAqB3gG,GACrBzpB,EAAWypB,GAAY9E,YAAeA,IACtC8E,EAASh1B,UAAU+L,IAAI05G,GAAWiP,OAC7BjmG,GACDuG,EAASlhB,gBAAgB,aAKrC,QAASsjH,GAAYt8G,EAAOvZ,EAAM2uB,EAAavM,GAC3C,GAAIC,GAAe3e,EAAkB0e,GAAiD1a,EAAxB0a,EAC1DE,EAAYtW,EAAQuN,EAAO,IAAM2qG,GAAWnxF,WAChD,IAAa,UAAT/yB,EAAkB,CAClB,GAAIq0H,GAAY/xG,EAAU/Y,QAEtBrD,GAASpG,QAASyZ,EAAOqV,eAAgB5uB,EAAMq0H,UADnDA,EAA0B,QAAdA,GAAqC,SAAdA,EAAuBA,EAAY,KACG7qH,YAAcmlB,YAAaA,IAChGmnG,EAAUxzG,EAAUvZ,cAAc,iBAClCkkB,GAAa3K,UAAWA,EAM5B,IALA/I,EAAM9a,UAAUkM,OAAOu5G,GAAWiP,OAClCS,EAAoB1tH,EAAM+mB,EAAU5K,GAChC3e,EAAkBoyH,KAClBA,EAAUxzG,EAAUvZ,cAAc,wBAElCrF,EAAkBoyH,GAClBxzG,EAAU7jB,UAAUkM,OAAOu5G,GAAWnxF,gBAErC,CACD,GAAImC,GAAY5S,EAAUvZ,cAAc,IAAMm7G,GAAW1vF,WACrDuhG,EAAYzzG,EAAUvZ,cAAc,IAAMm7G,GAAWzvF,UACzDnS,GAAUjX,aAAakO,EAAOu8G,GAC9BxzG,EAAUjX,aAAa6pB,EAAW4gG,GAClCxzG,EAAUjX,aAAa0qH,EAAWD,KAe9C,QAASE,GAAUrhH,EAAUsY,GACzB,IAAK,GAAI3uB,GAAI,EAAGA,EAAI2uB,EAASzuB,OAAQF,IACjC23H,EAAgBthH,EAAUsY,EAAS3uB,GAAGgkB,WAI9C,QAAS2zG,GAAgBthH,EAAU2N,EAAWsyG,GAC1C,GAAIsB,KACJA,GAAWj3H,KAAK21H,EAChB,IAAIjM,GAAUjlH,EAAkBkxH,GAC5BtyG,EAAUzhB,iBAAiB,uBAAyBq1H,CACxD,IAAIvhH,GAAYg0G,EAAQnqH,OAAS,EAC7B,IAASL,EAAQ,EAAGA,EAAQwqH,EAAQnqH,OAAQL,IACxCwqH,EAAQxqH,GAAOwE,iBAAiB,YAAawzH,GAAoB,GACjExN,EAAQxqH,GAAOwE,iBAAiB,UAAWyzH,GAAkB,OAGhE,IAAIzN,EAAQnqH,OAAS,EACtB,IAAK,GAAIL,GAAQ,EAAGA,EAAQwqH,EAAQnqH,OAAQL,IACxCwqH,EAAQxqH,GAAO0E,oBAAoB,YAAaszH,EAAoBlwH,MACpE0iH,EAAQxqH,GAAO0E,oBAAoB,UAAWuzH,EAAkBnwH,MAI5E,QAASowH,GAAe/zG,EAAWsyG,GAC1BtyG,EAAU7jB,UAAUC,SAAS,eAAkB4jB,EAAUvZ,cAAc,SAASksH,UACjFL,EAAOn2H,UAAU+L,IAAI,sBAG7B,QAAS2rH,KAGL,IAFA,GAAI9rH,GAAMpE,KACNqwH,EAAYrwH,KAAK+V,eACbs6G,EAAU73H,UAAUC,SAAS,kBACjC43H,EAAYA,EAAUt6G,aAE1Bq6G,GAAeC,EAAWjsH,GAE9B,QAAS+rH,KACL,GAAI/rH,GAAMpE,IACV/H,YAAW,WAAcmM,EAAI5L,UAAUkM,OAAO,uBAA0B,KAW5E,QAASopH,GAAWwC,EAAWj0G,EAAWF,GACtC,GACIwyG,IADelxH,EAAkB0e,GAAiD1a,EAAxB0a,GACrC,QAAUzY,UAAW4sH,GAO9C,OANA3B,GAAOn2H,UAAU+L,IAAI,sBACrB8X,EAAUta,YAAY4sH,GACjBtyG,EAAU7jB,UAAUC,SAASwlH,GAAWnxF,aACzCzQ,EAAU7jB,UAAU+L,IAAI05G,GAAWnxF,YAEvCkjG,GAAgB,EAAM3zG,EAAWsyG,GAC1BA,EA9gBXrhG,EAAMkgG,YAAcA,EAgOpBlgG,EAAMlwB,SAAWA,EAkBjBkwB,EAAMghG,YAAcA,EAgCpBhhG,EAAMihG,eAAiBA,EAsBvBjhG,EAAMkhG,YAAcA,EAmBpBlhG,EAAMktF,aAAeA,EAyBrBltF,EAAMytF,WAAaA,EAWnBztF,EAAMugG,eAAiBA,EA8BvBvgG,EAAMmiG,iBAAmBA,EA8BzBniG,EAAMoiG,cAAgBA,EAkBtBpiG,EAAMuB,eAAiBA,EA2BvBvB,EAAMsiG,YAAcA,EAgBpBtiG,EAAMyiG,UAAYA,EAwDlBziG,EAAMwgG,WAAaA,GACpBxgG,KAAUA,OK1lBb,ICiCWijG,IDjCP94F,GAAwC,WACxC,GAAIC,GAAgBn5B,OAAOo5B,iBACpBC,uBAA2Bn5B,QAAS,SAAUo5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAExwB,eAAeywB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOh4B,KAAKnC,YAAcg6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAEr8B,UAAkB,OAANs8B,EAAav5B,OAAOgN,OAAOusB,IAAME,EAAGx8B,UAAYs8B,EAAEt8B,UAAW,GAAIw8B,QAGnFC,GAA0C,SAAUC,EAAYrvB,EAAQxL,EAAK86B,GAC7E,GAA2HN,GAAvHO,EAAIn5B,UAAU1G,OAAQ8/B,EAAID,EAAI,EAAIvvB,EAAkB,OAATsvB,EAAgBA,EAAO55B,OAAO+5B,yBAAyBzvB,EAAQxL,GAAO86B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYrvB,EAAQxL,EAAK86B,OACpH,KAAK,GAAI9/B,GAAI6/B,EAAW3/B,OAAS,EAAGF,GAAK,EAAGA,KAASw/B,EAAIK,EAAW7/B,MAAIggC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAEhvB,EAAQxL,EAAKg7B,GAAKR,EAAEhvB,EAAQxL,KAASg7B,EAChJ,OAAOD,GAAI,GAAKC,GAAK95B,OAAO4K,eAAeN,EAAQxL,EAAKg7B,GAAIA,GAS5Dm4F,GAAW,qBAMXC,GAAY,GAAIr2H,QAAO,gBAgBvBs2H,GAAgC,SAAUh4F,GAE1C,QAASg4F,GAAer8G,EAASxa,GAC7B,MAAO6+B,GAAO93B,KAAKZ,KAAMqU,EAASxa,IAAYmG,KAw6BlD,MA16BAy3B,IAAUi5F,EAAgBh4F,GAI1Bg4F,EAAel1H,UAAUwY,UAAY,WACjChU,KAAK2wH,eAAgB,EACrB3wH,KAAK4wH,iBAAmB,IACxB5wH,KAAK6wH,UAAY,GAAIz2H,QAAO,gBAC5B4F,KAAK8wH,UAAW,CAChB,IAAIz9G,GAAaxW,EAAS,gBAAiBmD,KAAKnG,QAIhD,IAHAmG,KAAK+wH,aAAe/wH,KAAKnG,QAAQmI,WAAU,GAC3CwC,GAAaxE,KAAK+wH,eAzBZ,YADE,qBA2BR/wH,KAAKgxH,eAAiB,KACO,uBAAzBhxH,KAAKnG,QAAQyJ,QAAkC,CAC/CtD,KAAKgxH,eAAiBhxH,KAAKnG,QAAQyJ,OACnC,IAAIgQ,GAAQtT,KAAKyB,cAAc,SAC3BvJ,EAAQ,CACZ,KAAKA,EAAOA,EAAQ8H,KAAKnG,QAAQkK,WAAWxL,OAAQL,IAChDob,EAAMzP,aAAa7D,KAAKnG,QAAQkK,WAAW7L,GAAOub,SAAUzT,KAAKnG,QAAQkK,WAAW7L,GAAOwb,WAC3FJ,EAAM9Y,UAAYwF,KAAKnG,QAAQW,SAE/BwF,MAAKnG,QAAQyoH,aAAa,OAC1BtiH,KAAKnG,QAAQyS,gBAAgB,MAEjCtM,KAAKnG,QAAQrB,UAAUkM,OAAO,YAAa,oBAC3C1E,KAAKnG,QAAQkI,YAAYuR,GACzBtT,KAAKnG,QAAUyZ,EACflW,EAAS,gBAAiBiW,EAAYrT,KAAKnG,SAE/CkK,EAAW/D,KAAKnG,SAAWuZ,KAAQ,aAAci+F,SAAY,IAAK3sF,aAAgB,MAAOI,YAAa,aACtG,IAAI+8F,IAAeoP,eAAgB,kBAAmBC,eAAgB,kBAAmBxoG,YAAa,GACtG1oB,MAAKs6G,KAAO,GAAI5uD,IAAK,iBAAkBm2D,EAAY7hH,KAAKgP,QACxDhP,KAAKmxH,cAAe,EACpBnxH,KAAKoxH,WAAa,KAClBpxH,KAAKqxH,UAAY,KACjBrxH,KAAKsxH,eACLtxH,KAAKuxH,kBACLvxH,KAAKwxH,kBACLxxH,KAAKyxH,kBACLzxH,KAAK+pB,UAAY/pB,KAAKhD,MACtBgD,KAAK0xH,iBACL1xH,KAAK2xH,eACoB,OAArB3xH,KAAK0oB,aACL1oB,KAAK4xH,qBAOblB,EAAel1H,UAAU+iD,OAAS,WACa,UAAvCv+C,KAAKnG,QAAQyJ,QAAQnL,gBACrB6H,KAAK6xH,gBACD7xH,KAAK8xH,gBACL9xH,KAAK+xH,kBAEJt0H,EAAkBuC,KAAKyX,QACxB/Q,EAAkB1G,KAAKqc,WAAa5E,MAAS/U,EAAW1C,KAAKyX,SAE5DzX,KAAKqc,UAAU7jB,UAAUC,SAAS,kBACnCuH,KAAKqc,UAAU7jB,UAAU+L,IAAI,iBAEjCvE,KAAKgyH,YAA2B,OAAfhyH,KAAKhD,OAAkBisC,MAAMjpC,KAAKhD,OAAS,KAAOgD,KAAKiyH,WAAajyH,KAAKkyH,UAAUlyH,KAAKhD,OAASgD,KAAKhD,OACvHgD,KAAKkmB,aACc,OAAflmB,KAAKhD,OAAmBisC,MAAMjpC,KAAKhD,QAC/BgD,KAAKmyH,UACLnyH,KAAK2H,eAAgB3K,MAAOgD,KAAKoyH,YAAYpyH,KAAKhD,MAAOgD,KAAKmyH,YAAa,KAK3FzB,EAAel1H,UAAUi2H,gBAAkB,WAEvC,IAAK,GAAIpzH,GAAK,EAAG0mG,GADC,QAAS,MAAO,MAAO,OAAQ,WAAY,WAAY,QAAS,QACtC1mG,EAAK0mG,EAAaxsG,OAAQ8F,IAAM,CACxE,GAAI6M,GAAO65F,EAAa1mG,EACxB,KAAKZ,EAAkBuC,KAAKnG,QAAQ4M,aAAayE,IAC7C,OAAQA,GACJ,IAAK,WACD,GAAI0b,GAA8C,aAApC5mB,KAAKnG,QAAQ4M,aAAayE,IACA,SAApClL,KAAKnG,QAAQ4M,aAAayE,EAC9BlL,MAAK2H,eAAgBif,QAASA,IAAW,EACzC,MACJ,KAAK,WACD,GAAI6nG,GAA+C,aAApCzuH,KAAKnG,QAAQ4M,aAAayE,IACE,SAApClL,KAAKnG,QAAQ4M,aAAayE,EACjClL,MAAK2H,eAAgB8mH,SAAUA,IAAY,EAC3C,MACJ,KAAK,QACDzuH,KAAKoxH,WAAapxH,KAAKnG,QAAQ4M,aAAayE,EAC5C,MACJ,KAAK,OACDlL,KAAKqxH,UAAYrxH,KAAKnG,QAAQ4M,aAAayE,EAC3C,MACJ,SACI,GAAIlO,GAAQgD,KAAKmD,SAAS+5C,iBAAkB1V,OAAQ,MAAOxnC,KAAKnG,QAAQ4M,aAAayE,KACtE,OAAVlO,IAAmBisC,MAAMjsC,IAAqB,UAATkO,IACtClL,KAAK2H,cAAcvK,EAAS8N,EAAMlO,OAAY,MAOtE0zH,EAAel1H,UAAUo2H,kBAAoB,WACzC5xH,KAAK2H,eAAgB+gB,YAAa1oB,KAAKs6G,KAAKnuD,YAAY,iBAAkB,IAE9EukE,EAAel1H,UAAUg2H,gBAAkB,WACvCxxH,KAAKmD,SAAW,GAAI05C,IAAqB78C,KAAKgP,SAElD0hH,EAAel1H,UAAU+1H,gBAAkB,WACvCvxH,KAAKsxH,YAAY9pF,OAASxnC,KAAKwnC,OACI,OAA/B3qC,EAAS,WAAYmD,QACrB5C,EAAS,WAAY4C,KAAKmnC,SAAUnnC,KAAKsxH,aACzCtxH,KAAK2H,eAAgBuH,aAAclP,KAAKmnC,WAAY,KAI5DupF,EAAel1H,UAAUq2H,cAAgB,WACrC,GAAI7qG,GAAWsG,GAAMkgG,aACjB3zH,QAASmG,KAAKnG,QACd8uB,eAAgB3oB,KAAK2oB,eACrBplB,YACIkrH,SAAUzuH,KAAKyuH,SACf/lG,YAAa1oB,KAAK0oB,YAClBpU,SAAUtU,KAAKsU,SACf/E,UAAWvP,KAAKuP,UAChBwX,gBAAiB/mB,KAAK+mB,gBACtBH,QAAS5mB,KAAK4mB,UAEnB5mB,KAAKyB,cACRzB,MAAKqyH,aAAerrG,EACpBhnB,KAAKqc,UAAY2K,EAAS3K,UAC1Brc,KAAKqc,UAAUxY,aAAa,QAASq6G,+BAAal+G,KAAKqc,UAAU5V,aAAa,UAC1EzG,KAAKyuH,UACL1qH,EAAW/D,KAAKnG,SAAWy4H,gBAAiB,SAEhDtyH,KAAKuyH,YAAevyH,KAAKyB,cAAc,SAAWqC,OAAS/J,KAAM,SAAUy4H,eAAkB,UAC7FxyH,KAAKqxH,UAA+B,OAAnBrxH,KAAKqxH,UAAqBrxH,KAAKqxH,UAAYrxH,KAAKnG,QAAQ8J,GACzE3D,KAAKnG,QAAQyS,gBAAgB,QAC7BvI,EAAW/D,KAAKuyH,aAAe3/F,KAAQ5yB,KAAKqxH,YAC5CrxH,KAAKqc,UAAUjX,aAAapF,KAAKuyH,YAAavyH,KAAKqc,UAAU/hB,WAAW,IAChD,OAApB0F,KAAKoxH,YACLrtH,EAAW/D,KAAKqc,WAAazX,MAAS5E,KAAKoxH,cAInDV,EAAel1H,UAAUu2H,gBAAkB,WACvC/xH,KAAKyyH,SAAWnlG,GAAMwgG,WAAW0C,GAAW,eAAgBxwH,KAAKqc,UAAWrc,KAAKyB,eACjFsC,EAAW/D,KAAKyyH,UACZnlE,MAASttD,KAAKs6G,KAAKnuD,YAAY,kBAC/BumE,aAAc1yH,KAAKs6G,KAAKnuD,YAAY,oBAExCnsD,KAAK2yH,OAASrlG,GAAMwgG,WAAW0C,GAAW,aAAcxwH,KAAKqc,UAAWrc,KAAKyB,eAC7EsC,EAAW/D,KAAK2yH,QACZrlE,MAASttD,KAAKs6G,KAAKnuD,YAAY,kBAC/BumE,aAAc1yH,KAAKs6G,KAAKnuD,YAAY,oBAExCnsD,KAAK4yH,qBAETlC,EAAel1H,UAAUk2H,eAAiB,YACV,gBAAd1xH,WAA2BipC,MAAMjpC,KAAK+hB,OAChD/hB,KAAK2H,eAAgBoa,KAAOwpC,mBAAqB,IAEzB,gBAAdvrD,WAA2BipC,MAAMjpC,KAAKqN,OAChDrN,KAAK2H,eAAgB0F,IAAKk+C,OAAOsnE,YAAa,GAE5B,OAAlB7yH,KAAKmyH,WACDnyH,KAAK+hB,OAAUwpC,OAAiB,WAChCvrD,KAAK2H,eAAgBoa,IAAK/hB,KAAKmD,SAAS+5C,iBAAkB1V,OAAQ,MAAOxnC,KAAK8yH,eAAe9yH,KAAKmyH,SAAUnyH,KAAK+hB,QAAS,GAE1H/hB,KAAKqN,MAASk+C,OAAiB,WAC/BvrD,KAAK2H,eAAgB0F,IAAKrN,KAAKmD,SAAS+5C,iBAAkB1V,OAAQ,MAAOxnC,KAAK8yH,eAAe9yH,KAAKmyH,SAAUnyH,KAAKqN,QAAS,IAGlIrN,KAAK2H,eAAgBoa,IAAK/hB,KAAK+hB,IAAM/hB,KAAKqN,IAAMrN,KAAKqN,IAAMrN,KAAK+hB,MAAO,GACvEhe,EAAW/D,KAAKnG,SAAWk5H,gBAAiB/yH,KAAK+hB,IAAIphB,WAAYqyH,gBAAiBhzH,KAAKqN,IAAI1M,cAE/F+vH,EAAel1H,UAAUs3H,eAAiB,SAAUX,EAAUn1H,GAC1D,MAAOgD,MAAKmD,SAAS65C,iBACjB9U,sBAAuBiqF,EACvBhqF,sBAAuBgqF,EAAU9pF,aAAa,IAC/CrrC,IAEP0zH,EAAel1H,UAAUm2H,aAAe,WACd,OAAlB3xH,KAAKmyH,UACLnyH,KAAK2H,eAAgBoyB,KAAM/5B,KAAKmD,SAAS+5C,iBAAkB1V,OAAQ,MAAOxnC,KAAK8yH,eAAe9yH,KAAKmyH,SAAUnyH,KAAK+5B,SAAU,IAGpI22F,EAAel1H,UAAU0vD,OAAS,SAAU+nE,EAAW12H,GACnDyD,KAAKkzH,YAAa,CAClB,IAAIl2H,GAAQgD,KAAKmzH,UAAYnzH,KAAKmD,SAAS+5C,iBAAkB1V,OAAQ,MAAOxnC,KAAKnG,QAAQmD,OAASgD,KAAKhD,KACvGgD,MAAKgyH,YAAYhyH,KAAKozH,cAAcp2H,EAAOgD,KAAK+5B,KAAMk5F,IACtDjzH,KAAKqzH,iBAAiB92H,IAE1Bm0H,EAAel1H,UAAU83H,gBAAkB,WACnCtzH,KAAKmxH,aACL3sH,GAAaxE,KAAKqc,WAxNlB,WA2NArY,GAAUhE,KAAKqc,WA3Nf,WA6NJtY,EAAW/D,KAAKnG,SAAWisB,eAAgB9lB,KAAKmxH,aAAe,QAAU,UAE7ET,EAAel1H,UAAUqrB,eAAiB,WAClC7mB,KAAK+mB,iBACLthB,GAAalB,IAAIvE,KAAKqyH,aAAaprG,YAAa,uBAAwBjnB,KAAKknB,aAAclnB,OAGnG0wH,EAAel1H,UAAU0rB,aAAe,SAAU9lB,GAC9CA,EAAE+lB,iBACInnB,KAAKqyH,aAAaprG,YAAYzuB,UAAUC,SAAS,sBACnDuH,KAAKonB,MAAMhmB,IAGnBsvH,EAAel1H,UAAU4rB,MAAQ,SAAU7qB,GACvCyD,KAAK2H,eAAgB3K,MAAO,OAAQ,GACpCgD,KAAKgmB,gBAAgB,KAEzB0qG,EAAel1H,UAAU0qB,WAAa,WAClCzgB,GAAalB,IAAIvE,KAAKnG,QAAS,QAASmG,KAAKuzH,QAASvzH,MACtDyF,GAAalB,IAAIvE,KAAKnG,QAAS,OAAQmG,KAAKwzH,SAAUxzH,MACtDyF,GAAalB,IAAIvE,KAAKnG,QAAS,UAAWmG,KAAKw/F,eAAgBx/F,MAC/DyF,GAAalB,IAAIvE,KAAKnG,QAAS,QAASmG,KAAKyzH,aAAczzH,MAC3DyF,GAAalB,IAAIvE,KAAKnG,QAAS,QAASmG,KAAK0zH,aAAc1zH,MAC3DyF,GAAalB,IAAIvE,KAAKnG,QAAS,WAAYmG,KAAKqqD,gBAAiBrqD,MACjEyF,GAAalB,IAAIvE,KAAKnG,QAAS,SAAUmG,KAAK8/F,cAAe9/F,MAC7DyF,GAAalB,IAAIvE,KAAKnG,QAAS,QAASmG,KAAK2zH,aAAc3zH,MACvDA,KAAK4mB,SACL5mB,KAAK6mB,kBAGb6pG,EAAel1H,UAAUo3H,kBAAoB,WAEzCntH,GAAalB,IAAIvE,KAAK2yH,OAAQvmH,GAAQirB,gBAAiBr3B,KAAK4zH,mBAAoB5zH,MAChFyF,GAAalB,IAAIvE,KAAKyyH,SAAUrmH,GAAQirB,gBAAiBr3B,KAAK4zH,mBAAoB5zH,MAClFyF,GAAalB,IAAIvE,KAAK2yH,OAAQvmH,GAAQmrB,cAAev3B,KAAK6zH,iBAAkB7zH,MAC5EyF,GAAalB,IAAIvE,KAAKyyH,SAAUrmH,GAAQmrB,cAAev3B,KAAK6zH,iBAAkB7zH,MAC9EyF,GAAalB,IAAIvE,KAAK2yH,OAAQvmH,GAAQkrB,eAAgBt3B,KAAK8zH,mBAAoB9zH,MAC/EyF,GAAalB,IAAIvE,KAAKyyH,SAAUrmH,GAAQkrB,eAAgBt3B,KAAK8zH,mBAAoB9zH,OAErF0wH,EAAel1H,UAAUsrB,aAAe,WACpCrhB,GAAaf,OAAO1E,KAAKnG,QAAS,QAASmG,KAAKuzH,SAChD9tH,GAAaf,OAAO1E,KAAKnG,QAAS,OAAQmG,KAAKwzH,UAC/C/tH,GAAaf,OAAO1E,KAAKnG,QAAS,QAASmG,KAAKyzH,cAChDhuH,GAAaf,OAAO1E,KAAKnG,QAAS,QAASmG,KAAK0zH,cAChDjuH,GAAaf,OAAO1E,KAAKnG,QAAS,UAAWmG,KAAKw/F,gBAClD/5F,GAAaf,OAAO1E,KAAKnG,QAAS,WAAYmG,KAAKqqD,iBACnD5kD,GAAaf,OAAO1E,KAAKnG,QAAS,SAAUmG,KAAK8/F,eACjDr6F,GAAaf,OAAO1E,KAAKnG,QAAS,QAASmG,KAAK2zH,eAEpDjD,EAAel1H,UAAUu4H,oBAAsB,WAE3CtuH,GAAaf,OAAO1E,KAAK2yH,OAAQvmH,GAAQirB,gBAAiBr3B,KAAK4zH,oBAC/DnuH,GAAaf,OAAO1E,KAAKyyH,SAAUrmH,GAAQirB,gBAAiBr3B,KAAK4zH,oBACjEnuH,GAAaf,OAAO1E,KAAK2yH,OAAQvmH,GAAQmrB,cAAev3B,KAAK6zH,kBAC7DpuH,GAAaf,OAAO1E,KAAKyyH,SAAUrmH,GAAQmrB,cAAev3B,KAAK6zH,kBAC/DpuH,GAAaf,OAAO1E,KAAK2yH,OAAQvmH,GAAQkrB,eAAgBt3B,KAAK8zH,oBAC9DruH,GAAaf,OAAO1E,KAAKyyH,SAAUrmH,GAAQkrB,eAAgBt3B,KAAK8zH,qBAEpEpD,EAAel1H,UAAUskG,cAAgB,SAAUvjG,GAC1CyD,KAAKnG,QAAQmD,MAAMzE,QACpByH,KAAK2H,eAAgB3K,MAAO,OAAQ,EAExC,IAAIg3H,GAAch0H,KAAKmD,SAAS+5C,iBAAkB1V,OAAQ,MAAOxnC,KAAKnG,QAAQmD,MAC9EgD,MAAKi0H,YAAYD,EAAaz3H,IAElCm0H,EAAel1H,UAAU63H,iBAAmB,SAAU92H,GAClD,GAAIyD,KAAK+pB,YAAc/pB,KAAKhD,MAAO,CAC/B,GAAIqR,KACJrO,MAAKkrB,iBAAoBluB,MAAOgD,KAAKhD,MAAOk3H,cAAel0H,KAAK+pB,UAAWsB,cAAerrB,KAAKkzH,WAAY32H,MAAOA,GAC9GA,IACAyD,KAAKkrB,gBAAgB3uB,MAAQA,GAEjC0B,EAAMoQ,EAAWrO,KAAKkrB,iBACtBlrB,KAAK+pB,UAAY/pB,KAAKhD,MACtBgD,KAAKkzH,YAAa,EAClBlzH,KAAKooB,QAAQ,SAAU/Z,KAG/BqiH,EAAel1H,UAAUm4H,aAAe,WACpC,GAAI5zH,GAAQC,KACRm0H,EAAen0H,KAAKnG,QAAQmD,KAChC/E,YAAW,WACF8H,EAAMslC,eAAeprC,KAAK8F,EAAMlG,QAAQmD,QACzC+C,EAAMimB,gBAAgBmuG,MAIlCzD,EAAel1H,UAAU44H,eAAiB,WACtC,GAAIr0H,GAAQC,KACRq0H,IAAQh+F,UAAUi+F,UAAY,mBAAmBr6H,KAAKo8B,UAAUi+F,SACpEr8H,YAAW,WACP,GAAI8H,EAAMlG,QAAQ0tB,eAAiB,EAAG,CAClC,GAAIgtG,GAAax0H,EAAMlG,QAAQ0tB,eAC3BitG,EAAUz0H,EAAMlG,QAAQ0tB,eAAiB,EAEzCktG,MAAgB,GAChBC,EAAW30H,EAAMlG,QAAQmD,MAAME,MAAM,GAGzCu3H,GADuB53H,EAAS,UADZ6S,GAAiB3P,EAAMiP,SAEVwwC,WAAW,GACP,MAAjCz/C,EAAMlG,QAAQmD,MAAMw3H,IAAoBz0H,EAAMlG,QAAQ0tB,eAAiB,IAAM8sG,GACzE52H,EAAkBsC,EAAM40H,SACxB50H,EAAMlG,QAAQmD,MAAQ+C,EAAMlG,QAAQmD,MAAMyU,OAEzB,IAAZ+iH,EACLz0H,EAAMlG,QAAQmD,MAAQ+C,EAAM40H,QAEX,IAAZH,IACLz0H,EAAMlG,QAAQmD,MAAQ+C,EAAMlG,QAAQmD,MAAMyU,QAE9C1R,EAAMlG,QAAQ8tB,kBAAkB6sG,EAASA,IAEpCvrF,MAAMnpB,WAAW/f,EAAMlG,QAAQmD,MAAM+C,EAAMlG,QAAQ0tB,eAAiB,MACD,KAAxExnB,EAAMlG,QAAQmD,MAAM+C,EAAMlG,QAAQ0tB,eAAiB,GAAGi4B,WAAW,IAC5Dk1E,EAASl2H,QAAQuB,EAAMlG,QAAQmD,MAAM+C,EAAMlG,QAAQ0tB,eAAiB,MACrEmtG,EAASprF,YAAYvpC,EAAMlG,QAAQmD,MAAM+C,EAAMlG,QAAQ0tB,eAAiB,KACxExnB,EAAMlG,QAAQmD,MAAM+C,EAAMlG,QAAQ0tB,eAAiB,GAAGi4B,WAAW,KAAOi1E,GACxE10H,EAAMlG,QAAQmD,MAAM+C,EAAMlG,QAAQ0tB,eAAiB,GAAGi4B,WAAW,KAAOi1E,KACxE10H,EAAMlG,QAAQmD,MAAQ+C,EAAMlG,QAAQmD,MAAM6oB,UAAU,EAAG2uG,GACnDz0H,EAAMlG,QAAQmD,MAAM6oB,UAAU0uG,EAAYx0H,EAAMlG,QAAQmD,MAAMzE,QAClEwH,EAAMlG,QAAQ8tB,kBAAkB6sG,EAASA,GACrCvrF,MAAMnpB,WAAW/f,EAAMlG,QAAQmD,MAAM+C,EAAMlG,QAAQ0tB,eAAiB,MAAQxnB,EAAMlG,QAAQ0tB,eAAiB,GACxGxnB,EAAMlG,QAAQmD,MAAMzE,QACvBwH,EAAMq0H,kBAITnrF,MAAMnpB,WAAW/f,EAAMlG,QAAQmD,MAAM+C,EAAMlG,QAAQ0tB,eAAiB,MAAQxnB,EAAMlG,QAAQ0tB,eAAiB,GACxC,KAAxExnB,EAAMlG,QAAQmD,MAAM+C,EAAMlG,QAAQ0tB,eAAiB,GAAGi4B,WAAW,KAC5Dk1E,EAASl2H,QAAQuB,EAAMlG,QAAQmD,MAAM+C,EAAMlG,QAAQ0tB,eAAiB,MACrEmtG,EAASprF,YAAYvpC,EAAMlG,QAAQmD,MAAM+C,EAAMlG,QAAQ0tB,eAAiB,KACxExnB,EAAMlG,QAAQmD,MAAM+C,EAAMlG,QAAQ0tB,eAAiB,GAAGi4B,WAAW,KAAOi1E,GACxE10H,EAAMlG,QAAQmD,MAAM+C,EAAMlG,QAAQ0tB,eAAiB,GAAGi4B,WAAW,KAAOi1E,KACxE10H,EAAMlG,QAAQ8tB,kBAAkB6sG,EAASA,GACzCz0H,EAAM60H,QAAU70H,EAAMlG,QAAQmD,MAAM+C,EAAMlG,QAAQ0tB,gBAClDxnB,EAAM80H,kBAAmB,EACzB90H,EAAMq0H,mBAGiB,IAA3Br0H,EAAM80H,kBAA6B90H,EAAMlG,QAAQmD,MAAM+C,EAAMlG,QAAQ0tB,kBAAoBxnB,EAAM60H,SAC/F3rF,MAAMnpB,WAAW/f,EAAMlG,QAAQmD,MAAM+C,EAAMlG,QAAQ0tB,eAAiB,OACpExnB,EAAMlG,QAAQ8tB,kBAAkB5nB,EAAMlG,QAAQ0tB,eAAiB,EAAGxnB,EAAMlG,QAAQ0tB,eAAiB,GACjGxnB,EAAM80H,kBAAmB,EACzB90H,EAAM60H,QAAU,MAEe,KAA/B70H,EAAMlG,QAAQmD,MAAMyU,QACpB1R,EAAMlG,QAAQ8tB,kBApDN,EAAA,GAsDR5nB,EAAMlG,QAAQ0tB,eAAiB,GAC8C,KAAxExnB,EAAMlG,QAAQmD,MAAM+C,EAAMlG,QAAQ0tB,eAAiB,GAAGi4B,WAAW,IAAcz/C,EAAMlG,QAAQ0tB,eAAiB,IAC3G9pB,EAAkBsC,EAAM40H,SACxB50H,EAAMlG,QAAQmD,MAAQ+C,EAAMlG,QAAQmD,MAGpC+C,EAAMlG,QAAQmD,MAAQ+C,EAAM40H,QAEhC50H,EAAMlG,QAAQ8tB,kBAAkB5nB,EAAMlG,QAAQ0tB,eAAgBxnB,EAAMlG,QAAQ0tB,iBAGpFxnB,EAAM40H,QAAU50H,EAAMlG,QAAQmD,UAI1C0zH,EAAel1H,UAAUi4H,aAAe,SAAUl3H,OAClC85B,UAAUi+F,UAAY,mBAAmBr6H,KAAKo8B,UAAUi+F,YACxDloH,GAAQkc,UAChBtoB,KAAKo0H,kBAIb1D,EAAel1H,UAAUk4H,aAAe,SAAUn3H,GAC9C,GAAI83H,KAAQh+F,UAAUi+F,UAAY,mBAAmBr6H,KAAKo8B,UAAUi+F,WACtDj+F,UAAUF,UAAUh+B,cAAcqG,QAAQ,YAAc,GACtD61H,IAAQjoH,GAAQkc,UAC5BtoB,KAAKo0H,kBAIb1D,EAAel1H,UAAUgkG,eAAiB,SAAUjjG,GAChD,IAAKyD,KAAKyuH,SACN,OAAQlyH,EAAM7E,SACV,IAAK,IACD6E,EAAM4qB,iBACNnnB,KAAKkrD,OAnZT,YAmZ2B3uD,EACvB,MACJ,KAAK,IACDA,EAAM4qB,iBACNnnB,KAAKkrD,OAtZT,YAsZ2B3uD,KAOvCm0H,EAAel1H,UAAU43H,cAAgB,SAAUp2H,EAAO+8B,EAAMk5F,IAC9C,OAAVj2H,GAAkBisC,MAAMjsC,MACxBA,EAAQ,EAEZ,IAAI83H,GAlaI,cAkaW7B,EAA0Bj2H,EAAQ+8B,EAAO/8B,EAAQ+8B,CAEpE,OADA+6F,GAAe90H,KAAK+0H,gBAAgB/3H,EAAO+8B,EAAM+6F,GAC1C90H,KAAKiyH,WAAajyH,KAAKkyH,UAAU4C,GAAgBA,GAG5DpE,EAAel1H,UAAUu5H,gBAAkB,SAAU/3H,EAAO+8B,EAAM/6B,GAC9D,GAAIg2H,GAAW,GAAI56H,QAAO,YAGtB66H,GAFYj4H,EAAM2D,WACPo5B,EAAKp5B,WACHq0H,EAAS/6H,KAAK+C,EAAM2D,aACjCu0H,EAAYF,EAAS/6H,KAAK8/B,EAAKp5B,WACnC,IAAIs0H,GAAcC,EAAW,CACzB,GAAIC,GAAaF,EAAaD,EAAS9iG,KAAKl1B,EAAM2D,YAAY,GAAGpI,OAAS,EACtE68H,EAAYF,EAAYF,EAAS9iG,KAAK6H,EAAKp5B,YAAY,GAAGpI,OAAS,EACnE8U,EAAMD,KAAKC,IAAI8nH,EAAYC,EAC/B,OAAOp4H,GAAQgD,KAAKq1H,WAAWr2H,EAAQqO,GAE3C,MAAOrO,IAGX0xH,EAAel1H,UAAU65H,WAAa,SAAUr2H,EAAQs2H,GACpDA,EAAYA,GAAa,CACzB,IAAIC,GAASnoH,KAAKooH,IAAI,GAAIF,EAC1B,OAAOt2H,IAAUu2H,EAAQv2H,EAASoO,KAAKknG,MAAMt1G,GAAUu2H,GAG3D7E,EAAel1H,UAAUy4H,YAAc,SAAUj3H,EAAOT,GAChDA,IACAyD,KAAKkzH,YAAa,GAER,OAAVl2H,GAAmBisC,MAAMjsC,IACrBgD,KAAKmyH,WACLn1H,EAAQgD,KAAKoyH,YAAYp1H,EAAOgD,KAAKmyH,WAG7CnyH,KAAKgyH,YAAsB,OAAVh1H,GAAkBisC,MAAMjsC,GAAS,KAAOgD,KAAKiyH,WAAajyH,KAAKkyH,UAAUl1H,GAASA,GACnGgD,KAAKqzH,iBAAiB92H,IAE1Bm0H,EAAel1H,UAAUi6H,eAAiB,SAAUvqH,EAAMwqH,GACtDt4H,EAAS8N,EAAMwqH,EAAS11H,KAAKsxH,aAC7BtxH,KAAKi0H,YAAYj0H,KAAKhD,QAE1B0zH,EAAel1H,UAAUw2H,YAAc,SAAUh1H,GAC7C,GAAMA,GAAmB,IAAVA,EAIV,CACD,GAAI24H,OAAmB,GACnBC,EAAc54H,EAAM2D,WAAWzD,MAAM,KAAK,EAC9Cy4H,GAAoBC,GAAgBA,EAAYr9H,OAAaq9H,EAAYr9H,OAAhB,EACnC,OAAlByH,KAAKmyH,WACLwD,EAAmBA,EAAmB31H,KAAKmyH,SAAWwD,EAAmB31H,KAAKmyH,UAElFnyH,KAAK2H,eAAgB3K,MAAOgD,KAAKoyH,YAAYp1H,EAAO24H,KAAqB,OAVzE34H,GAAQ,KACRgD,KAAK2H,eAAgB3K,MAAOA,IAAS,EAWzCgD,MAAK61H,aACA71H,KAAKiyH,YACNjyH,KAAK81H,iBAIbpF,EAAel1H,UAAUq6H,WAAa,WAClC,GAAI71H,KAAKhD,OAAwB,IAAfgD,KAAKhD,MAAa,CAChC,GAAIA,GAAQgD,KAAKm9C,eACbpyB,EAAe/qB,KAAKmzH,UAAYn2H,EAAQgD,KAAKmD,SAAS65C,gBAAgBh9C,KAAKsxH,aAAatxH,KAAKhD,MACjGgD,MAAKgmB,gBAAgB+E,GACrBhnB,EAAW/D,KAAKnG,SAAWkrB,gBAAiB/nB,IAC5CgD,KAAKuyH,YAAYv1H,MAAQA,MAGzBgD,MAAKgmB,gBAAgB,IACrBhmB,KAAKnG,QAAQyS,gBAAgB,iBAC7BtM,KAAKuyH,YAAYv1H,MAAQ,MAIjC0zH,EAAel1H,UAAUwqB,gBAAkB,SAAU8D,EAAKjwB,GACtDyzB,GAAMlwB,SAAS0sB,EAAMjwB,GAAoBmG,KAAKnG,QAAUmG,KAAK2oB,eAAgB3oB,KAAK+mB,kBAEtF2pG,EAAel1H,UAAUs6H,cAAgB,WACrC91H,KAAKmxH,cAAe,GAChBnxH,KAAKhD,OAAwB,IAAfgD,KAAKhD,SACnBgD,KAAKmxH,eAAiBnxH,KAAKhD,MAAQgD,KAAKqN,KAAOrN,KAAKhD,MAAQgD,KAAK+hB,MAErE/hB,KAAKszH,mBAET5C,EAAel1H,UAAU2hD,aAAe,WACpC,GAAIw4E,GAEAC,EADe51H,KAAKhD,MACO2D,WAAWzD,MAAM,KAAK,EAKrD,OAJAy4H,GAAoBC,GAAgBA,EAAYr9H,OAAaq9H,EAAYr9H,OAAhB,EACnC,OAAlByH,KAAKmyH,WACLwD,EAAmBA,EAAmB31H,KAAKmyH,SAAWwD,EAAmB31H,KAAKmyH,UAE3EnyH,KAAKmD,SAAS65C,iBACjB9U,sBAAuBytF,EACvBxtF,sBAAuBwtF,EAAkBttF,aAAa,IACvDroC,KAAKhD,QAGZ0zH,EAAel1H,UAAU02H,UAAY,SAAUl1H,GAC3C,MAAIA,GAAQgD,KAAKqN,IACNrN,KAAKqN,IAEZrQ,EAAQgD,KAAK+hB,IACN/hB,KAAK+hB,IAET/kB,GAGX0zH,EAAel1H,UAAU42H,YAAc,SAAUp1H,EAAOs4H,GACpD,GAAIt2H,GAAShC,EACTm1H,EAAWmD,GAAa,EACxBS,EAAU/2H,EAAO2B,WAAWzD,MAAM,KAElC84H,GADJh3H,EAASoO,KAAKknG,MAAM/oD,OAAOwqE,EAAQ,GAAK,KAAOA,EAAQ,GAAMxqE,OAAOwqE,EAAQ,IAAM5D,EAAYA,MACzExxH,WAAWzD,MAAM,IAEtC,OADA8B,GAASusD,OAAOyqE,EAAQ,GAAK,KAAOA,EAAQ,GAAMzqE,OAAOyqE,EAAQ,IAAM7D,GAAaA,IAC7E5mE,OAAOvsD,EAAO+gB,QAAQoyG,KAGjCzB,EAAel1H,UAAUm0D,YAAc,SAAUpzD,GAE7C,MADAA,GAAM4qB,kBACC,GAEXupG,EAAel1H,UAAU6uD,gBAAkB,SAAU9tD,GACjD,IAAK6P,GAAQkc,UAAqC,SAAzBlc,GAAQmc,KAAKC,SAAwC,KAAlBjsB,EAAM7E,QAAgB,CAC9E,GAAIs8H,GAAch0H,KAAKmD,SAAS+5C,iBAAkB1V,OAAQ,MAAOxnC,KAAKnG,QAAQmD,MAE9E,OADAgD,MAAKi0H,YAAYD,EAAaz3H,IACvB,EAEX,GAAoB,IAAhBA,EAAMouD,OAAepuD,EAAM05H,SAAW15H,EAAMmtB,SAA6B,IAAlBntB,EAAM7E,SAAmC,KAAlB6E,EAAM7E,QACpF,OAAO,CAEX,IAAIw+H,GAAcn+H,OAAOC,aAAauE,EAAMouD,OACxClxD,EAAOuG,KAAKnG,QAAQmD,KAExB,OADAvD,GAAOA,EAAKosB,UAAU,EAAG7lB,KAAKnG,QAAQ0tB,gBAAkB2uG,EAAcz8H,EAAKosB,UAAU7lB,KAAKnG,QAAQ4tB,gBAC7FznB,KAAKqlC,eAAeprC,KAAKR,KAC1B8C,EAAM4qB,iBACN5qB,EAAM45H,mBACC,IAOfzF,EAAel1H,UAAU6pC,aAAe,WACpC,GACIurF,GAAmB/zH,EAAS,UADZ6S,GAAiB1P,KAAKgP,SAEtConH,EAAe,GAInB,OAzjBe,MAsjBXxF,IACAA,EAAmB,KAAOA,GAER,IAAlB5wH,KAAKmyH,UAAkBnyH,KAAKq2H,sBACrB5F,IAEPzwH,KAAKmyH,UAAYnyH,KAAKq2H,wBACtBD,EAAe,MAAQp2H,KAAKmyH,SAAW,KAEpC,GAAI/3H,QAAO,gBAAkBw2H,EAAmB,MAAQwF,EAC3D,QAAUxF,EAAmB,MAAQwF,EAAe,WAG5D1F,EAAel1H,UAAU86H,WAAa,SAAU/5H,GAC5CA,EAAM4qB,gBACN,IAAIovG,GACAC,EAAWj6H,CACXi6H,GAASC,WACTF,EAAQC,EAASC,WAAa,IAEzBD,EAASE,SACdH,GAASC,EAASE,OAAS,GAE3BH,EAAQ,EACRv2H,KAAKkrD,OAjlBD,YAilBmB3uD,GAElBg6H,EAAQ,GACbv2H,KAAKkrD,OAnlBD,YAmlBmB3uD,GAE3ByD,KAAK2vD,YAAYpzD,IAErBm0H,EAAel1H,UAAU+3H,QAAU,SAAUh3H,GACzC,GAAIwD,GAAQC,IACZ,IAAKA,KAAK4mB,UAAW5mB,KAAKyuH,SAA1B,CAMA,GAHAzuH,KAAKmzH,WAAY,EACjB3uH,GAAaxE,KAAKqc,WA/lBd,WAgmBJrc,KAAK+pB,UAAY/pB,KAAKhD,MACjBgD,KAAKhD,OAAwB,IAAfgD,KAAKhD,MAAc,CAClC,GAAI25H,GAAgB32H,KAAKm9C,cAEzB,IADAn9C,KAAKgmB,gBAAgB2wG,IAChB32H,KAAK2wH,cAAe,CACrB,GAAI9wH,GAASuM,GAAQkc,UAAYlc,GAAQqc,MAAS,IAAM,CACxDxwB,YAAW,WACP8H,EAAMlG,QAAQ8tB,kBAAkB,EAAGgvG,EAAcp+H,SAClDsH,IAGNuM,GAAQkc,UACT7iB,GAAalB,IAAIvE,KAAKnG,QAAS,4BAA6BmG,KAAKs2H,WAAYt2H,QAIrF0wH,EAAel1H,UAAUg4H,SAAW,SAAUj3H,GAC1C,GAAIwD,GAAQC,IACZ,IAAIA,KAAK2wH,eAEL,GADAp0H,EAAM4qB,iBACF/a,GAAQkc,SAAU,CAClB,GAAImB,GAAUzpB,KAAKnG,QAAQmD,KAC3BgD,MAAKnG,QAAQwI,QACbrC,KAAK2wH,eAAgB,CACrB,IAAIiG,GAAQ52H,KAAKnG,OACjB5B,YAAW,WACP8H,EAAMimB,gBAAgByD,EAASmtG,IAChC,UAGN,CACD52H,KAAKmzH,WAAY,EACZnzH,KAAKnG,QAAQmD,MAAMzE,QACpByH,KAAK2H,eAAgB3K,MAAO,OAAQ,EAExC,IAAIg3H,GAAch0H,KAAKmD,SAAS+5C,iBAAkB1V,OAAQ,MAAOxnC,KAAKnG,QAAQmD,MAC9EgD,MAAKi0H,YAAYD,GACZ5nH,GAAQkc,UACT7iB,GAAaf,OAAO1E,KAAKnG,QAAS,4BAA6BmG,KAAKs2H,cAKhF5F,EAAel1H,UAAUo4H,mBAAqB,SAAUr3H,GACpD,GAAIwD,GAAQC,IAKZ,IAJIA,KAAKmzH,YACLnzH,KAAK2wH,eAAgB,EACrBp0H,EAAM4qB,kBAELnnB,KAAK62H,eAAet6H,GAAzB,CAGayD,KAAK62H,eAAet6H,EAAjC,IACIsM,GAAStM,EAAM8kD,cACf6J,EAAUriD,EAAOrQ,UAAUC,SAxpB1B,aAGG,YACA,WAqpBRgN,IAAalB,IAAIsE,EAAQ,aAAc7I,KAAK82H,aAAc92H,MAC1DA,KAAKwd,QAAUjb,YAAY,WAAcxC,EAAM+wH,UAAW,EAAM/wH,EAAMmrD,OAAOA,EAAQ3uD,IAAW,KAChGkJ,GAAalB,IAAIxJ,SAAU,UAAWiF,KAAK82H,aAAc92H,QAE7D0wH,EAAel1H,UAAUs4H,mBAAqB,SAAUv3H,GACvCxB,SAASurD,iBAAiB/pD,EAAMgqD,QAAShqD,EAAMiqD,SAC/ChuD,UAAUC,SAAS+3H,KAC5B/tH,cAAczC,KAAKwd,UAG3BkzG,EAAel1H,UAAUq4H,iBAAmB,SAAUt3H,GAUlD,GATIyD,KAAK2wH,gBACL3wH,KAAKnG,QAAQwI,QACR+J,GAAQkc,WACTtoB,KAAK2wH,eAAgB,IAGxBvkH,GAAQkc,UACT/rB,EAAM4qB,iBAELnnB,KAAK62H,eAAet6H,GAAzB,CAGA,GAAIsM,GAAStM,EAAM8kD,cACf6J,EAAUriD,EAAOrQ,UAAUC,SAjrB1B,aAGG,YACA,WA8qBRgN,IAAaf,OAAOmE,EAAQ,aAAc7I,KAAK82H,cAC1C92H,KAAK8wH,UACN9wH,KAAKkrD,OAAOA,EAAQ3uD,GAExByD,KAAK8wH,UAAW,EAChBrrH,GAAaf,OAAO3J,SAAU,UAAWiF,KAAK82H,gBAElDpG,EAAel1H,UAAUq7H,eAAiB,SAAUt6H,GAChD,QAAKA,EAAMouD,OAAyB,IAAhBpuD,EAAMouD,OAAiBpuD,EAAMoyH,QAA2B,IAAjBpyH,EAAMoyH,SACzD3uH,KAAK4mB,SAAW5mB,KAAKyuH,YAG7BhsH,cAAczC,KAAKwd,UACZ,IAEXkzG,EAAel1H,UAAUu7H,qBAAuB,WAC5CzpG,GAAMuB,eAAe7uB,KAAKqyH,aAC1B,IAAIE,GAAcvyH,KAAKuyH,WACvBvyH,MAAKuyH,YAAY7tH,SACjB4oB,GAAMsiG,YAAY5vH,KAAKnG,QAASmG,KAAK2oB,eAAgB3oB,KAAK0oB,YAAa1oB,KAAKyB,eAC5EzB,KAAKqc,UAAUjX,aAAamtH,EAAavyH,KAAKqc,UAAU/hB,WAAW,KAEvEo2H,EAAel1H,UAAUs7H,aAAe,SAAUv6H,GAC9CA,EAAM45H,kBACN1zH,cAAczC,KAAKwd,SACnBxd,KAAK8wH,UAAW,EAChBrrH,GAAaf,OAAO1E,KAAK2yH,OAAQ,aAAc3yH,KAAK82H,cACpDrxH,GAAaf,OAAO1E,KAAKyyH,SAAU,aAAczyH,KAAK82H,eAO1DpG,EAAel1H,UAAUqkB,UAAY,SAAUka,OAC9B,KAATA,IAAmBA,EAAO/5B,KAAK+5B,MACnC/5B,KAAKkzH,YAAa,EAClBlzH,KAAKgyH,YAAYhyH,KAAKozH,cAAcpzH,KAAKhD,MAAO+8B,EAptBxC,cAqtBR/5B,KAAKqzH,oBAOT3C,EAAel1H,UAAUw7H,UAAY,SAAUj9F,OAC9B,KAATA,IAAmBA,EAAO/5B,KAAK+5B,MACnC/5B,KAAKkzH,YAAa,EAClBlzH,KAAKgyH,YAAYhyH,KAAKozH,cAAcpzH,KAAKhD,MAAO+8B,EA9tBxC,cA+tBR/5B,KAAKqzH,oBAQT3C,EAAel1H,UAAUqY,QAAU,WAC/B7T,KAAK8mB,eACLvhB,EAAOvF,KAAKuyH,aACRvyH,KAAK8xH,iBACL9xH,KAAK+zH,sBACLxuH,EAAOvF,KAAK2yH,QACZptH,EAAOvF,KAAKyyH,WAEhBzyH,KAAKqc,UAAUtG,cAAchU,YAAY/B,KAAK+wH,cAC9CxrH,EAAOvF,KAAKqc,WACZqc,EAAOl9B,UAAUqY,QAAQjT,KAAKZ,OAKlC0wH,EAAel1H,UAAUy7H,QAAU,WAC/B,MAAOj3H,MAAKnG,QAAQmD,OAMxB0zH,EAAel1H,UAAUwjD,eAAiB,WACtC,GAAIk4E,IAAa,QACjB,OAAOl3H,MAAKy/C,aAAay3E,IAM7BxG,EAAel1H,UAAU05B,kBAAoB,SAAUwF,EAASC,GAC5D,IACK,GAAIt8B,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAKo9B,GAAUr8B,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAC9D,GAAI6M,GAAOlI,EAAG3E,EACd,QAAQ6M,GACJ,IAAK,QACDxE,EAAkB1G,KAAKqc,WAAa5E,MAAS/U,EAAWg4B,EAAQjjB,QAChE,MACJ,KAAK,WACD6V,GAAMghG,YAAY5zF,EAAQpmB,UAAWtU,KAAKqc,WAAYse,EAAQrmB,SAC9D,MACJ,KAAK,UACDgZ,GAAMytF,WAAWrgF,EAAQ9T,QAAS5mB,KAAKnG,QACvC,MACJ,KAAK,YACDyzB,GAAMktF,aAAa9/E,EAAQnrB,WAAYvP,KAAKqc,WAC5C,MACJ,KAAK,WACDiR,GAAMkhG,YAAY9zF,EAAQ+zF,SAAUzuH,KAAKnG,SACrCmG,KAAKyuH,SACL1qH,EAAW/D,KAAKnG,SAAWy4H,gBAAiB,SAG5CtyH,KAAKnG,QAAQyS,gBAAgB,gBAEjC,MACJ,KAAK,cACDghB,GAAMihG,eAAe7zF,EAAQhS,YAAa1oB,KAAKnG,QAC/C,MACJ,KAAK,OACDmG,KAAK+5B,KAAOW,EAAQX,KACpB/5B,KAAK2xH,cACL,MACJ,KAAK,iBACGj3F,EAAQo3F,eACR9xH,KAAK+xH,mBAGLxsH,EAAOvF,KAAK2yH,QACZptH,EAAOvF,KAAKyyH,UAEhB,MACJ,KAAK,kBACDnlG,GAAMugG,eAAenzF,EAAQ3T,gBAAiB/mB,KAAKnG,QAASmG,KAAKqyH,iBAAcj5H,GAAW4G,KAAKyB,eAC/FzB,KAAK6mB,gBACL,MACJ,KAAK,iBACD7mB,KAAK2oB,eAAiB+R,EAAQ/R,eAC9B3oB,KAAK+2H,sBACL,MACJ,KAAK,QACD/2H,KAAKi0H,YAAYv5F,EAAQ19B,MACzB,MACJ,KAAK,MACL,IAAK,MACDI,EAAS8N,EAAMrO,EAASqO,EAAMwvB,GAAU16B,MACxCA,KAAK0xH,iBACL1xH,KAAKi0H,YAAYj0H,KAAKhD,MACtB,MACJ,KAAK,aACDgD,KAAKiyH,WAAav3F,EAAQu3F,WAC1BjyH,KAAKi0H,YAAYj0H,KAAKhD,OACtBgD,KAAK81H,eACL,MACJ,KAAK,SACD91H,KAAKwxH,kBACLxxH,KAAKs6G,KAAKzuD,UAAU7rD,KAAKgP,QACpBvR,EAAkBuC,KAAKyyH,WACxB1uH,EAAW/D,KAAKyyH,UACZnlE,MAASttD,KAAKs6G,KAAKnuD,YAAY,kBAC/BumE,aAAc1yH,KAAKs6G,KAAKnuD,YAAY,oBAGvC1uD,EAAkBuC,KAAK2yH,SACxB5uH,EAAW/D,KAAK2yH,QACZrlE,MAASttD,KAAKs6G,KAAKnuD,YAAY,kBAC/BumE,aAAc1yH,KAAKs6G,KAAKnuD,YAAY,oBAG5CnsD,KAAK4xH,oBACLtkG,GAAMihG,eAAevuH,KAAK0oB,YAAa1oB,KAAKnG,SAC5CmG,KAAKi0H,YAAYj0H,KAAKhD,MACtB,MACJ,KAAK,WACD,GAAI04H,GAAU74H,EAASqO,EAAMwvB,EAC7B16B,MAAK2H,eAAgBuH,aAAcwmH,IAAW,GAC9C11H,KAAKy1H,eAAevqH,EAAMwqH,EAC1B,MACJ,KAAK,eACD,GAAIyB,GAAYt6H,EAASqO,EAAMwvB,EAC/B16B,MAAK2H,eAAgBw/B,SAAUgwF,IAAa,GAC5Cn3H,KAAKy1H,eAAe,WAAY0B,EAChC,MACJ,KAAK,SACD/5H,EAAS8N,EAAMrO,EAASqO,EAAMwvB,GAAU16B,MACxCA,KAAKuxH,kBACLvxH,KAAKi0H,YAAYj0H,KAAKhD,MACtB,MACJ,KAAK,WACDgD,KAAKmyH,SAAWz3F,EAAQy3F,SACxBnyH,KAAKi0H,YAAYj0H,KAAKhD,UAQtC0zH,EAAel1H,UAAU0L,cAAgB,WACrC,MAAO,kBAEX+wB,IACIrvB,GAAS,KACV8nH,EAAel1H,UAAW,eAAY,IACzCy8B,IACIrvB,GAAS,OACV8nH,EAAel1H,UAAW,YAAS,IACtCy8B,IACIrvB,IAAW2iD,OAAiB,YAC7BmlE,EAAel1H,UAAW,UAAO,IACpCy8B,IACIrvB,GAAS2iD,OAAOsnE,YACjBnC,EAAel1H,UAAW,UAAO,IACpCy8B,IACIrvB,GAAS,IACV8nH,EAAel1H,UAAW,WAAQ,IACrCy8B,IACIrvB,GAAS,OACV8nH,EAAel1H,UAAW,YAAS,IACtCy8B,IACIrvB,GAAS,OACV8nH,EAAel1H,UAAW,kBAAe,IAC5Cy8B,IACIrvB,IAAS,IACV8nH,EAAel1H,UAAW,qBAAkB,IAC/Cy8B,IACIrvB,IAAS,IACV8nH,EAAel1H,UAAW,eAAY,IACzCy8B,IACIrvB,IAAS,IACV8nH,EAAel1H,UAAW,cAAW,IACxCy8B,IACIrvB,IAAS,IACV8nH,EAAel1H,UAAW,gBAAa,IAC1Cy8B,IACIrvB,IAAS,IACV8nH,EAAel1H,UAAW,sBAAmB,IAChDy8B,IACIrvB,IAAS,IACV8nH,EAAel1H,UAAW,wBAAqB,IAClDy8B,IACIrvB,GAAS,OACV8nH,EAAel1H,UAAW,aAAU,IACvCy8B,IACIrvB,GAAS,OACV8nH,EAAel1H,UAAW,eAAY,IACzCy8B,IACIrvB,GAAS,OACV8nH,EAAel1H,UAAW,eAAY,IACzCy8B,IACIrvB,GAAS,OACV8nH,EAAel1H,UAAW,mBAAgB,IAC7Cy8B,IACIrvB,IAAS,IACV8nH,EAAel1H,UAAW,iBAAc,IAC3Cy8B,IACIrvB,IAAS,IACV8nH,EAAel1H,UAAW,4BAAyB,IACtDy8B,IACIrvB,GAAS,UACV8nH,EAAel1H,UAAW,qBAAkB,IAC/Cy8B,IACIxuB,MACDinH,EAAel1H,UAAW,cAAW,IACxCy8B,IACIxuB,MACDinH,EAAel1H,UAAW,gBAAa,IAC1Cy8B,IACIxuB,MACDinH,EAAel1H,UAAW,aAAU,IACvCk1H,EAAiBz4F,IACbluB,IACD2mH,IAEL9yE,IrCp9BE5wB,GAAQ,UACRF,GAAa,gBACbC,GAAa,gBACbW,GAAW,iBACX7E,GAAW,cACXwE,GAAc,iBAKPM,IACPsjB,EAAK,QACLgB,EAAK,SACLmlF,IAAK,WACLrnF,EAAK,WACLsnF,IAAK,YACLC,IAAK,SACLzgF,EAAK,QACLG,EAAK,cACL5H,EAAK,gBAi9BLmoF,GAA0B,WAC1B,QAASA,MAET,MAAOA,MuC5+BP9/F,GAAwC,WACxC,GAAIC,GAAgBn5B,OAAOo5B,iBACpBC,uBAA2Bn5B,QAAS,SAAUo5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAExwB,eAAeywB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOh4B,KAAKnC,YAAcg6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAEr8B,UAAkB,OAANs8B,EAAav5B,OAAOgN,OAAOusB,IAAME,EAAGx8B,UAAYs8B,EAAEt8B,UAAW,GAAIw8B,QAGnFC,GAA0C,SAAUC,EAAYrvB,EAAQxL,EAAK86B,GAC7E,GAA2HN,GAAvHO,EAAIn5B,UAAU1G,OAAQ8/B,EAAID,EAAI,EAAIvvB,EAAkB,OAATsvB,EAAgBA,EAAO55B,OAAO+5B,yBAAyBzvB,EAAQxL,GAAO86B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYrvB,EAAQxL,EAAK86B,OACpH,KAAK,GAAI9/B,GAAI6/B,EAAW3/B,OAAS,EAAGF,GAAK,EAAGA,KAASw/B,EAAIK,EAAW7/B,MAAIggC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAEhvB,EAAQxL,EAAKg7B,GAAKR,EAAEhvB,EAAQxL,KAASg7B,EAChJ,OAAOD,GAAI,GAAKC,GAAK95B,OAAO4K,eAAeN,EAAQxL,EAAKg7B,GAAIA,GAyB5Dm/F,GAA+B,SAAU9+F,GAEzC,QAAS8+F,GAAcnjH,EAASxa,GAC5B,MAAO6+B,GAAO93B,KAAKZ,KAAMqU,EAASxa,IAAYmG,KAuRlD,MAzRAy3B,IAAU+/F,EAAe9+F,GAQzB8+F,EAAch8H,UAAU0L,cAAgB,WACpC,MAAO,iBAMXswH,EAAch8H,UAAUwY,UAAY,WAChChU,KAAK0lB,WAAa,GAClB1lB,KAAKulB,WAAa,GAClBvlB,KAAKylB,gBAAkB,GACvBzlB,KAAKkoB,aAAeyF,GACpB3tB,KAAKslB,sBACLtlB,KAAKwpB,cACLxpB,KAAKqnB,cACLrnB,KAAKkrB,mBACLlrB,KAAKmoB,kBACLnoB,KAAKkpB,cAAe,EACpBlpB,KAAKqoB,SAAU,EACfroB,KAAKmrB,WAAY,EACjBnrB,KAAKirB,cAAe,CACpB,IAAI5X,GAAaxW,EAAS,gBAAiBmD,KAAKnG,QAIhD,IAHAmG,KAAK+wH,aAAe/wH,KAAKnG,QAAQmI,WAAU,GAC3CwC,GAAaxE,KAAK+wH,eA7CZ,YADE,oBA+CR/wH,KAAKgxH,eAAiB,KACO,sBAAzBhxH,KAAKnG,QAAQyJ,QAAiC,CAC9CtD,KAAKgxH,eAAiBhxH,KAAKnG,QAAQyJ,OAEnC,KAAK,GADDgQ,GAAQtT,KAAKyB,cAAc,SACtBpJ,EAAI,EAAGA,EAAI2H,KAAKnG,QAAQkK,WAAWxL,OAAQF,IAChDib,EAAMzP,aAAa7D,KAAKnG,QAAQkK,WAAW1L,GAAGob,SAAUzT,KAAKnG,QAAQkK,WAAW1L,GAAGqb,WACnFJ,EAAM9Y,UAAYwF,KAAKnG,QAAQW,SAE/BwF,MAAKnG,QAAQyoH,aAAa,OAC1BtiH,KAAKnG,QAAQyS,gBAAgB,MAEjCtM,KAAKnG,QAAQrB,UAAUkM,OAAO,YAAa,mBAC3C1E,KAAKnG,QAAQrB,UAAU+L,IAAI,oBAC3BvE,KAAKnG,QAAQkI,YAAYuR,GACzBtT,KAAKnG,QAAUyZ,EACflW,EAAS,gBAAiBiW,EAAYrT,KAAKnG,WAOnD29H,EAAch8H,UAAUwjD,eAAiB,WACrC,GAAIk4E,IAAa,QACjB,OAAOl3H,MAAKy/C,aAAay3E,IAM7BM,EAAch8H,UAAU+iD,OAAS,WACc,UAAvCv+C,KAAKnG,QAAQyJ,QAAQnL,gBACO,UAAxB6H,KAAK2oB,gBACL3kB,GAAUhE,KAAKnG,SAjFnB,WAmFAmG,KAAK6xH,gBACqB,KAAtB7xH,KAAKnG,QAAQ+4B,MACb5yB,KAAKnG,QAAQgK,aAAa,OAAQ7D,KAAKnG,QAAQ8J,IAEnD3D,KAAKmrB,WAAY,EACjBnrB,KAAKy3H,qBACLz3H,KAAKmrB,WAAY,EACjBnrB,KAAK03H,oBAAmB,GAAM,GAC9B13H,KAAK23H,SAAS33H,KAAKyX,OACnBzX,KAAK6pB,UAAY7pB,KAAKnG,QAAQmD,QAGtCw6H,EAAch8H,UAAUi8H,mBAAqB,WACzCz3H,KAAK0lB,WAAa,GAClB1lB,KAAKulB,WAAa,GAClBvlB,KAAKylB,gBAAkB,GACvBzlB,KAAKslB,sBACLtlB,KAAKwpB,cACLxpB,KAAKqnB,cACDrnB,KAAKwlB,WAAWjtB,OAAS,IACzByH,KAAKwlB,WAAaxlB,KAAKwlB,WAAW,IAEtCf,GAAW7jB,KAAKZ,MAChB+lB,GAAUnlB,KAAKZ,OACG,OAAdA,KAAKglB,MAA+B,KAAdhlB,KAAKglB,UAA8B5rB,KAAf4G,KAAKhD,QAC/CgpB,GAAgBplB,KAAKZ,KAAMA,KAAKhD,MAEpC,IAAI8sB,GAAMjC,GAAcjnB,KAAKZ,KAAMA,KAAKnG,QACxCmG,MAAK+pB,UAAYD,EACjB9pB,KAAKhD,MAAQ8sB,EACR9pB,KAAKmrB,WACNrE,GAAalmB,KAAKZ,MAEtBkmB,GAAWtlB,KAAKZ,OAEpBw3H,EAAch8H,UAAUk8H,mBAAqB,SAAUE,EAAQC,IACvDA,GAAsB73H,KAAK0oB,eAC3B4E,GAAMihG,eAAevuH,KAAK0oB,YAAa1oB,KAAKnG,SACxCmG,KAAKnG,QAAQmD,QAAUgD,KAAK0lB,YAAckyG,GAAkC,WAAxB53H,KAAK2oB,gBACzD3C,GAAgBplB,KAAKZ,KAAM,IAEH,UAAxBA,KAAK2oB,gBACLnC,GAAqB5lB,KAAKZ,QAItCw3H,EAAch8H,UAAU8yH,YAAc,SAAUh6G,EAAUza,GAClDya,GACAtQ,EAASnK,EAASya,IAG1BkjH,EAAch8H,UAAUm8H,SAAW,SAAUlgH,GACpCha,EAAkBga,KACnBzX,KAAKnG,QAAQ+K,MAAM6S,MAAQ/U,EAAW+U,GACtCzX,KAAKgnB,SAAS3K,UAAUzX,MAAM6S,MAAQ/U,EAAW+U,KAGzD+/G,EAAch8H,UAAUq2H,cAAgB,WACpC7xH,KAAKgnB,SAAWsG,GAAMkgG,aAClB3zH,QAASmG,KAAKnG,QACd8uB,eAAgB3oB,KAAK2oB,eACrBplB,YACIgM,UAAWvP,KAAKuP,UAChB+E,SAAUtU,KAAKsU,SACfsS,QAAS5mB,KAAK4mB,QACd8B,YAAa1oB,KAAK0oB,YAClB3B,gBAAiB/mB,KAAK+mB,kBAE3B/mB,KAAKyB,eACRzB,KAAKgnB,SAAS3K,UAAUxY,aAAa,QAASq6G,qCAAal+G,KAAKgnB,SAAS3K,UAAU5V,aAAa,WAMpG+wH,EAAch8H,UAAU05B,kBAAoB,SAAUwF,EAASC,GAC3D,IAAK,GAAIt8B,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAKo9B,GAAUr8B,EAAK2E,EAAGzK,OAAQ8F,IAExD,OADW2E,EAAG3E,IAEV,IAAK,QACD4nB,GAAarlB,KAAKZ,KAAMA,KAAKhD,OACzBgD,KAAK0oB,aACL1oB,KAAK03H,oBAAmB,GAAO,EAEnC,MACJ,KAAK,cACD13H,KAAK03H,oBAAmB,GAAM,EAC9B,MACJ,KAAK,QACD13H,KAAK23H,SAASj9F,EAAQjjB,MACtB,MACJ,KAAK,WACDzX,KAAKsuH,YAAY5zF,EAAQpmB,UAAWtU,KAAKgnB,SAAS3K,WAClD,MACJ,KAAK,UACDiR,GAAMytF,WAAWrgF,EAAQ9T,QAAS5mB,KAAKnG,QACvC,MACJ,KAAK,YACDyzB,GAAMktF,aAAa9/E,EAAQnrB,WAAYvP,KAAKgnB,SAAS3K,WACrD,MACJ,KAAK,mBACDrc,KAAK2lB,iBAAmB+U,EAAQ/U,iBAChC3lB,KAAKy3H,oBACL,MACJ,KAAK,kBACDnqG,GAAMugG,eAAenzF,EAAQ3T,gBAAiB/mB,KAAKnG,QAASmG,KAAKgnB,aAAU5tB,GAAW4G,KAAKyB,eAC3FolB,GAAejmB,KAAKZ,KACpB,MACJ,KAAK,iBACDA,KAAK2oB,eAAiB+R,EAAQ/R,eAC9B2E,GAAMuB,eAAe7uB,KAAKgnB,UAC1BsG,GAAMsiG,YAAY5vH,KAAKnG,QAASmG,KAAK2oB,eAAgB3oB,KAAK0oB,YAAa1oB,KAAKyB,cAC5E,MACJ,KAAK,OACD,GAAIq2H,GAAkB93H,KAAKhD,KAC3BgD,MAAKglB,KAAO0V,EAAQ1V,KACpBhlB,KAAKi0H,YAAY6D,EACjB,MACJ,KAAK,aACGp9F,EAAQlV,WAAWjtB,OAAS,IAC5BmiC,EAAQlV,WAAakV,EAAQlV,WAAW,IAExCkV,EAAQlV,WACRxlB,KAAKwlB,WAAakV,EAAQlV,WAG1BxlB,KAAKwlB,WAAa,GAEtB,IAAIxoB,GAAQgD,KAAKnG,QAAQmD,MAAMrD,QAAQ,GAAIS,QAAO,IAAMugC,EAAQnV,WAAa,IAAK,KAAMxlB,KAAKwlB,WACzFxlB,MAAK0lB,aAAe1lB,KAAKnG,QAAQmD,QACjCA,EAAQgD,KAAK0lB,WAAW/rB,QAAQ,GAAIS,QAAO,IAAMugC,EAAQnV,WAAa,IAAK,KAAMxlB,KAAKwlB,aAE1FxlB,KAAK0lB,WAAa1lB,KAAK0lB,WAAW/rB,QAAQ,GAAIS,QAAO,IAAMugC,EAAQnV,WAAa,IAAK,KAAMxlB,KAAKwlB,YAChGxlB,KAAKwpB,WAAaxpB,KAAKqnB,cACvBrB,GAAgBplB,KAAKZ,KAAMhD,KAK3Cw6H,EAAch8H,UAAUy4H,YAAc,SAAU8D,GAC5C/3H,KAAKy3H,qBACLxxG,GAAarlB,KAAKZ,KAAM+3H,IAO5BP,EAAch8H,UAAUw8H,eAAiB,WACrC,MAAOpwG,IAAgBhnB,KAAKZ,KAAMA,KAAKnG,UAQ3C29H,EAAch8H,UAAUqY,QAAU,WAC9BiT,GAAalmB,KAAKZ,MAClBA,KAAKgnB,SAAS3K,UAAUtG,cAAchU,YAAY/B,KAAK+wH,cACvDxrH,EAAOvF,KAAKgnB,SAAS3K,WACrBqc,EAAOl9B,UAAUqY,QAAQjT,KAAKZ,OAElCi4B,IACIrvB,GAAS,OACV4uH,EAAch8H,UAAW,eAAY,IACxCy8B,IACIrvB,GAAS,OACV4uH,EAAch8H,UAAW,YAAS,IACrCy8B,IACIrvB,GAAS,OACV4uH,EAAch8H,UAAW,kBAAe,IAC3Cy8B,IACIrvB,GAAS,UACV4uH,EAAch8H,UAAW,qBAAkB,IAC9Cy8B,IACIrvB,IAAS,IACV4uH,EAAch8H,UAAW,cAAW,IACvCy8B,IACIrvB,IAAS,IACV4uH,EAAch8H,UAAW,sBAAmB,IAC/Cy8B,IACIrvB,IAAS,IACV4uH,EAAch8H,UAAW,wBAAqB,IACjDy8B,IACIrvB,IAAS,IACV4uH,EAAch8H,UAAW,gBAAa,IACzCy8B,IACIrvB,GAAS,OACV4uH,EAAch8H,UAAW,WAAQ,IACpCy8B,IACIrvB,GAAS,MACV4uH,EAAch8H,UAAW,iBAAc,IAC1Cy8B,IACIrvB,GAAS,OACV4uH,EAAch8H,UAAW,YAAS,IACrCy8B,IACIrvB,GAAS,OACV4uH,EAAch8H,UAAW,uBAAoB,IAChDy8B,IACIxuB,MACD+tH,EAAch8H,UAAW,cAAW,IACvCy8B,IACIxuB,MACD+tH,EAAch8H,UAAW,gBAAa,IACzCy8B,IACIxuB,MACD+tH,EAAch8H,UAAW,aAAU,IACtCy8B,IACIxuB,MACD+tH,EAAch8H,UAAW,YAAS,IACrCg8H,EAAgBv/F,IACZluB,IACDytH,IAEL55E,IClUEnmB,GAAwC,WACxC,GAAIC,GAAgBn5B,OAAOo5B,iBACpBC,uBAA2Bn5B,QAAS,SAAUo5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAExwB,eAAeywB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOh4B,KAAKnC,YAAcg6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAEr8B,UAAkB,OAANs8B,EAAav5B,OAAOgN,OAAOusB,IAAME,EAAGx8B,UAAYs8B,EAAEt8B,UAAW,GAAIw8B,QAGnFC,GAA0C,SAAUC,EAAYrvB,EAAQxL,EAAK86B,GAC7E,GAA2HN,GAAvHO,EAAIn5B,UAAU1G,OAAQ8/B,EAAID,EAAI,EAAIvvB,EAAkB,OAATsvB,EAAgBA,EAAO55B,OAAO+5B,yBAAyBzvB,EAAQxL,GAAO86B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYrvB,EAAQxL,EAAK86B,OACpH,KAAK,GAAI9/B,GAAI6/B,EAAW3/B,OAAS,EAAGF,GAAK,EAAGA,KAASw/B,EAAIK,EAAW7/B,MAAIggC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAEhvB,EAAQxL,EAAKg7B,GAAKR,EAAEhvB,EAAQxL,KAASg7B,EAChJ,OAAOD,GAAI,GAAKC,GAAK95B,OAAO4K,eAAeN,EAAQxL,EAAKg7B,GAAIA,GAW5D4/F,GAA2B,SAAUv/F,GAErC,QAASu/F,KACL,MAAkB,QAAXv/F,GAAmBA,EAAOh9B,MAAMsE,KAAMf,YAAce,KAiB/D,MAnBAy3B,IAAUwgG,EAAWv/F,GAIrBT,IACIrvB,GAAS,SACVqvH,EAAUz8H,UAAW,gBAAa,IACrCy8B,IACIrvB,GAAS,KACVqvH,EAAUz8H,UAAW,gBAAa,IACrCy8B,IACIrvB,GAAS,IACVqvH,EAAUz8H,UAAW,gBAAa,IACrCy8B,IACIrvB,IAAS,IACVqvH,EAAUz8H,UAAW,qBAAkB,IAC1Cy8B,IACIrvB,GAAS,OACVqvH,EAAUz8H,UAAW,aAAU,IAC3By8H,GACT31F,IAKE41F,GAA2B,SAAUx/F,GAErC,QAASw/F,KACL,MAAkB,QAAXx/F,GAAmBA,EAAOh9B,MAAMsE,KAAMf,YAAce,KAuB/D,MAzBAy3B,IAAUygG,EAAWx/F,GAIrBT,IACIrvB,IAAS,IACVsvH,EAAU18H,UAAW,cAAW,IACnCy8B,IACIrvB,GAAS,OACVsvH,EAAU18H,UAAW,eAAY,IACpCy8B,IACIrvB,GAAS,OACVsvH,EAAU18H,UAAW,aAAU,IAClCy8B,IACIrvB,GAAS,OACVsvH,EAAU18H,UAAW,eAAY,IACpCy8B,IACIrvB,GAAS,OACVsvH,EAAU18H,UAAW,aAAU,IAClCy8B,IACIrvB,IAAS,IACVsvH,EAAU18H,UAAW,uBAAoB,IAC5Cy8B,IACIrvB,IAAS,IACVsvH,EAAU18H,UAAW,qBAAkB,IACnC08H,GACT51F,IAKE61F,GAA6B,SAAUz/F,GAEvC,QAASy/F,KACL,MAAkB,QAAXz/F,GAAmBA,EAAOh9B,MAAMsE,KAAMf,YAAce,KAiB/D,MAnBAy3B,IAAU0gG,EAAaz/F,GAIvBT,IACIrvB,GAAS,KACVuvH,EAAY38H,UAAW,eAAY,IACtCy8B,IACIrvB,GAAS,WACVuvH,EAAY38H,UAAW,gBAAa,IACvCy8B,IACIrvB,GAAS,UACVuvH,EAAY38H,UAAW,aAAU,IACpCy8B,IACIrvB,IAAS,IACVuvH,EAAY38H,UAAW,gBAAa,IACvCy8B,IACIrvB,GAAS,OACVuvH,EAAY38H,UAAW,aAAU,IAC7B28H,GACT71F,IAGEolE,IACAC,KAAM,WACN+Q,IAAK,QACL0f,kBAAmB,iBACnBC,eAAgB,oBAChBC,aAAc,WACdC,SAAU,UACVC,aAAc,kBACdC,YAAa,iBACbC,aAAc,kBACdj5F,MAAO,UACPk5F,KAAM,SACNC,MAAO,UACPC,UAAW,eACXC,cAAe,mBACfC,YAAa,iBACbC,kBAAmB,iBACnBC,mBAAoB,kBACpBC,eAAgB,aAChBC,gBAAiB,qBACjBC,wBAAyB,6BACzBC,uBAAwB,4BACxBC,sBAAuB,2BACvBC,qBAAsB,0BACtBC,gBAAiB,qBACjBC,oBAAqB,0BACrBC,sBAAuB,mBACvBC,eAAgB,oBAChBC,YAAa,iBACbC,oBAAqB,mBACrBC,eAAgB,aAChBC,iBAAkB,eAClBC,kBAAmB,iBACnBC,mBAAoB,2BACpBC,gBAAiB,eACjBC,iBAAkB,gBAClBC,gBAAiB,eACjBC,mBAAoB,aACpBC,gBAAiB,eACjBC,eAAgB,cAChBC,kBAAmB,eACnBC,qBAAsB,iBACtBC,eAAgB,cAChBC,eAAgB,cAChBC,mBAAoB,kBACpBC,qBAAsB,oBACtBC,oBAAqB,mBACrBC,sBAAuB,qBACvBC,oBAAqB,0BACrBC,oBAAqB,0BACrBxM,SAAU,cACVyM,OAAQ,WACRC,gBAAiB,cACjBC,cAAe,gBACfC,eAAgB,iBAChBC,eAAgB,oBAChBC,aAAc,mBAedC,GAAwB,SAAU9iG,GAElC,QAAS8iG,GAAOnnH,EAASxa,GACrB,GAAIkG,GAAQ24B,EAAO93B,KAAKZ,KAAMqU,EAASxa,IAAYmG,IAenD,OAdAD,GAAM07H,OAAS,OACf17H,EAAM27H,OAAS,SACf37H,EAAM47H,YACFz6E,OAAQ,oKAERq3E,SAAU,yCAEdx4H,EAAM67H,6BACF16E,OAAQ,6DACRq3E,SAAU,uGAEdx4H,EAAM87H,eAAiB,8CACvB97H,EAAM+7H,eAAiB,KACvB/7H,EAAMqkD,MAAO,EACNrkD,EAspFX,MAvqFA03B,IAAU+jG,EAAQ9iG,GAmBlB8iG,EAAOhgI,UAAUwY,UAAY,WACzB,GAAI6tG,IAAeoP,eAAgB,WAAYC,eAAgB,WAC/DlxH,MAAKs6G,KAAO,GAAI5uD,IAAK,SAAUm2D,EAAY7hH,KAAKgP,QAChDhP,KAAK+7H,kBAAmB,EACxB/7H,KAAKg8H,yBACLh8H,KAAKi8H,qBACLj8H,KAAKk8H,mBACLl8H,KAAKuxH,kBACLvxH,KAAKwxH,mBAETgK,EAAOhgI,UAAUg2H,gBAAkB,WAC/BxxH,KAAKm8H,qBAAuB,GAAIt/E,IAAqB78C,KAAKgP,SAE9DwsH,EAAOhgI,UAAU+1H,gBAAkB,WAC/BvxH,KAAKi8H,kBAAkBz0F,OAAW/pC,EAAkBuC,KAAKqjG,QAAQ77D,QAAiC,KAAtBxnC,KAAKqjG,QAAQ77D,OACzFxnC,KAAKk8H,gBAAgB10F,OAAW/pC,EAAkBuC,KAAKo8H,MAAM50F,QAA+B,KAApBxnC,KAAKo8H,MAAM50F,QAEvFg0F,EAAOhgI,UAAU6gI,aAAe,SAAUr/H,EAAOs/H,GAC7C,GAAIC,GAAc,KACdF,EAAe,IACnB,IAAKr/H,GAAmB,IAAVA,EAAc,CACxBu/H,EAAcv8H,KAAKm9C,aAAangD,EAChC,IAAI24H,GAAmB31H,KAAK21H,iBAAiB34H,EAC7Cq/H,GAAer8H,KAAKm8H,qBAAqBn/E,gBAAgBs/E,GAAYt8H,KAAKw8H,gBAAgBx/H,EAAO24H,IAErG,OAAS8G,WAAYF,EAAaF,aAAcA,IAGpDb,EAAOhgI,UAAU2hD,aAAe,SAAUngD,GACtC,GAAI24H,GAAmB31H,KAAK21H,iBAAiB34H,EAC7C,OAAOgD,MAAKm8H,qBAAqBn/E,iBAC7B9U,sBAAuBytF,EACvBxtF,sBAAuBwtF,EAAkBttF,aAAa,IACvDrrC,IAGPw+H,EAAOhgI,UAAUm6H,iBAAmB,SAAU34H,GAC1C,GAAI44H,GAAc54H,EAAM2D,WAAWzD,MAAM,KAAK,EAE9C,OADwB04H,IAAgBA,EAAYr9H,OAAaq9H,EAAYr9H,OAAhB,GAGjEijI,EAAOhgI,UAAUghI,gBAAkB,SAAUx/H,EAAOs4H,GAChD,GAAInD,GAAWmD,GAAa,CAC5B,OAAO/pE,QAAOvuD,EAAM+iB,QAAQoyG,KAGhCqJ,EAAOhgI,UAAUkhI,oBAAsB,SAAU1/H,GAC7CA,EAA0C,IAAjCgD,KAAK21H,iBAAiB34H,GAAgBuuD,OAAOvuD,GAAO+iB,QAAQ/f,KAAK28H,cAAgB3/H,CAE1F,KAAK,GADD4/H,GAAO,EACFvkI,EAAI,EAAGA,EAAI2H,KAAK28H,aAActkI,IACnCukI,GAAQ,EAGZ,OADA5/H,GAAQuuD,QAAQvuD,EAAQ4/H,GAAM78G,QAAQ,KAO1Cy7G,EAAOhgI,UAAU+iD,OAAS,WACtBv+C,KAAKmhD,aACLnhD,KAAKuhH,aACLvhH,KAAKkmB,aACLlmB,KAAK68H,aAETrB,EAAOhgI,UAAU2lD,WAAa,WAC1Bn9C,GAAUhE,KAAKnG,SAAU6tG,GAAWC,MACpC3nG,KAAKmpG,eAETqyB,EAAOhgI,UAAU2tG,YAAc,SAAUgB,GACjCA,GACA3lG,GAAaxE,KAAKnG,SAAUswG,EAAYjtG,MAAM,MAE9C8C,KAAKsU,UACLtQ,GAAUhE,KAAKnG,SAAUmG,KAAKsU,SAASpX,MAAM,OAGrDs+H,EAAOhgI,UAAUu/G,WAAa,WAC1B,GAAI+hB,GAA+B,UAAd98H,KAAKjG,MAAoBiG,KAAK+8H,sBAC9C/8H,KAAK+8H,oBAAqB/8H,KAAKg9H,qBAC/Bh9H,MAAK4mB,SAUNpiB,GAAaxE,KAAKm5H,kBAAmBzxB,GAAWwxB,iBAC5Cl5H,KAAKqjG,QAAQ1+F,WAAqC,WAAxB3E,KAAKqjG,QAAQ45B,QACvCH,EAAe19H,QAAQ,SAAU09H,GAC7BA,EAAetkI,UAAUkM,OAAOgjG,GAAWwxB,kBAGnDl5H,KAAKkmB,eAfLliB,GAAUhE,KAAKm5H,kBAAmBzxB,GAAWwxB,iBACzCl5H,KAAKqjG,QAAQ1+F,WAAqC,WAAxB3E,KAAKqjG,QAAQ45B,QACvCH,EAAe19H,QAAQ,SAAU09H,GAC7BA,EAAetkI,UAAU+L,IAAImjG,GAAWwxB,kBAGhDl5H,KAAK8mB,iBAYb00G,EAAOhgI,UAAUkhB,SAAW,SAAUL,GAElC,MADYrgB,QAAOiS,iBAAiBoO,EAAW,UAAUnO,iBAAiB,WAC7DvU,QAAQ,SAAU,KAMnC6hI,EAAOhgI,UAAU+lH,WAAa,WAC1BvhH,KAAKm5H,gBAAkBn5H,KAAKyB,cAAc,OAASiC,UAAWgkG,GAAWyxB,gBAAkB,IAAMzxB,GAAW2wB,iBAC5Gr4H,KAAKnG,QAAQiB,WAAWsK,aAAapF,KAAKm5H,gBAAiBn5H,KAAKnG,SAChEmG,KAAKm5H,gBAAgBp3H,YAAY/B,KAAKnG,SACtCmG,KAAK45H,YAAc55H,KAAKyB,cAAc,OAASiC,UAAWgkG,GAAWkyB,cACrE55H,KAAKnG,QAAQkI,YAAY/B,KAAK45H,aAC9B55H,KAAKnG,QAAQ+rH,UAAY,EACzB5lH,KAAKk9H,WAAqD,aAAxCl9H,KAAK0c,SAAS1c,KAAKm5H,iBACrCn5H,KAAKm9H,YAAsD,cAAxCn9H,KAAK0c,SAAS1c,KAAKm5H,iBACtCn5H,KAAKo9H,aACLp9H,KAAKq9H,iBACDr9H,KAAKk7H,OAAOt0G,SACZ5mB,KAAKs9H,iBAETt9H,KAAKu9H,iBACLv9H,KAAKuyH,YAAevyH,KAAKyB,cAAc,SACnCqC,OACI/J,KAAM,SAAUiD,MAAQS,EAAkBuC,KAAKhD,OAASgD,KAAK+hB,IAAIphB,WAAaX,KAAKhD,MAAM2D,WACzFiyB,KAAM5yB,KAAKnG,QAAQ4M,aAAa,SAAWzG,KAAKnG,QAAQ4M,aAAa,OACjE,KAAuB,IAAhB2G,KAAKqT,UAAiBV,QAAQ,GAAK,SAAUolF,MAAOuC,GAAW0wB,qBAGlFp4H,KAAKuyH,YAAY3M,UAAY,EAC7B5lH,KAAKm5H,gBAAgBp3H,YAAY/B,KAAKuyH,aAClCvyH,KAAKw9H,aACLx9H,KAAKy9H,aAETz9H,KAAKspG,eACa,UAAdtpG,KAAKjG,KACLiG,KAAK09H,mBAGL19H,KAAKhD,MAAQS,EAAkBuC,KAAKhD,OAAS8iB,WAAWpd,EAAW1C,KAAK+hB,IAAIphB,aAAeX,KAAKhD,MAEpGgD,KAAK29H,YAA4B,UAAd39H,KAAKjG,KAAmBiG,KAAK49H,iBAAiB99G,WAAWpd,EAAW1C,KAAKhD,MAAM2D,eAC7FX,KAAK49H,iBAAiB99G,WAAWpd,EAAW1C,KAAKhD,MAAM,GAAG2D,cACvDX,KAAK49H,iBAAiB99G,WAAWpd,EAAW1C,KAAKhD,MAAM,GAAG2D,eAClEX,KAAK69H,gBAAkB79H,KAAK29H,YACvBlgI,EAAkBuC,KAAKnG,QAAQyoH,aAAa,UAC7CtiH,KAAKnG,QAAQyS,gBAAgB,QAEjCtM,KAAK5C,WACD4C,KAAKk7H,OAAOt0G,SACZ5mB,KAAK89H,cAEoB,SAAzB99H,KAAKo8H,MAAM2B,WACX/9H,KAAKg+H,cAELh+H,KAAKqjG,QAAQ1+F,WACb3E,KAAKi+H,gBAEJj+H,KAAK4mB,QAINpiB,GAAaxE,KAAKm5H,kBAAmBzxB,GAAWwxB,iBAHhDl1H,GAAUhE,KAAKm5H,kBAAmBzxB,GAAWwxB,iBAK7Cl5H,KAAKyuH,SACLzqH,GAAUhE,KAAKm5H,kBAAmBzxB,GAAW+mB,WAG7CjqH,GAAaxE,KAAKm5H,kBAAmBzxB,GAAW+mB,YAGxD+M,EAAOhgI,UAAU6hI,eAAiB,WACZ,YAAdr9H,KAAKjG,OACLiG,KAAKu4H,SAAYv4H,KAAKyB,cAAc,OAASqC,OAASqhG,MAAOuC,GAAW6wB,YACxEv4H,KAAKnG,QAAQkI,YAAY/B,KAAKu4H,UAC1Bv4H,KAAKokD,MAAsB,UAAdpkD,KAAKjG,OACO,eAArBiG,KAAKk+H,YACLl+H,KAAKu4H,SAAS//H,UAAU+L,IAAImjG,GAAW4zB,gBAGvCt7H,KAAKu4H,SAAS//H,UAAU+L,IAAImjG,GAAW6zB,iBAKvDC,EAAOhgI,UAAU8hI,eAAiB,WAC9B,GAAIa,GAAsC,UAAdn+H,KAAKjG,KAAmB2tG,GAAWyzB,gBAC3DzzB,GAAW0zB,aACf+C,IAAyB,IAAMz2B,GAAWwzB,OAC1Cl7H,KAAKo7H,cAAiBp7H,KAAKyB,cAAc,OACrCqC,OAASqhG,MAAOg5B,KAEpBn+H,KAAKnG,QAAQkI,YAAY/B,KAAKo7H,eACZ,UAAdp7H,KAAKjG,OACLiG,KAAKq7H,eAAkBr7H,KAAKyB,cAAc,OACtCqC,OACIqhG,MAAOuC,GAAW2zB,eAAiB,IAAM3zB,GAAWwzB,UAG5Dl7H,KAAKnG,QAAQkI,YAAY/B,KAAKq7H,kBAGtCG,EAAOhgI,UAAU+hI,eAAiB,WACL,aAArBv9H,KAAKk+H,aACLl+H,KAAKm5H,gBAAgB3gI,UAAUkM,OAAOgjG,GAAWoyB,gBACjD95H,KAAKm5H,gBAAgB3gI,UAAU+L,IAAImjG,GAAWqyB,kBAC9C/5H,KAAKo+H,YAAYv6H,aAAa,mBAAoB,cAChC,UAAd7D,KAAKjG,MACLiG,KAAKq+H,aAAax6H,aAAa,mBAAoB,gBAIvD7D,KAAKm5H,gBAAgB3gI,UAAUkM,OAAOgjG,GAAWqyB,kBACjD/5H,KAAKm5H,gBAAgB3gI,UAAU+L,IAAImjG,GAAWoyB,gBAC9C95H,KAAKo+H,YAAYv6H,aAAa,mBAAoB,YAChC,UAAd7D,KAAKjG,MACLiG,KAAKq+H,aAAax6H,aAAa,mBAAoB,cAI/D23H,EAAOhgI,UAAU8iI,kBAAoB,SAAUzkI,GAC3C,GAAIkG,GAAQC,KACR+hB,EAAM/hB,KAAK+hB,IACX1U,EAAMrN,KAAKqN,KACV5P,EAAkBuC,KAAKu+H,eAAiBv+H,KAAKu+H,aAAahmI,OAAS,IACpEwpB,EAAM/hB,KAAKu+H,aAAa,GACxBlxH,EAAMrN,KAAKu+H,aAAav+H,KAAKu+H,aAAahmI,OAAS,IAErC,UAAdyH,KAAKjG,KACLgK,EAAWlK,GACPk5H,gBAAiBhxG,EAAIphB,WAAYqyH,gBAAiB3lH,EAAI1M,eAI7ClD,EAAkBuC,KAAKu+H,eAAiBv+H,KAAKu+H,aAAahmI,OAAS,IAC1EwpB,EAAIphB,WAAaX,KAAKu+H,aAAav+H,KAAKhD,MAAM,IAAK2D,aAC/CX,KAAKu+H,aAAav+H,KAAKhD,MAAM,IAAK2D,WAAY0M,EAAI1M,eACtDohB,EAAIphB,WAAYX,KAAKhD,MAAM,GAAG2D,aAAcX,KAAKhD,MAAM,GAAG2D,WAAY0M,EAAI1M,cAC1EvB,QAAQ,SAAU+qC,EAAOjyC,GAC3B,GAAI2B,GAAoB,IAAV3B,EAAc6H,EAAMq+H,YAAcr+H,EAAMs+H,YAClDxkI,IACAkK,EAAWlK,GACPk5H,gBAAiB5oF,EAAM,GAAI6oF,gBAAiB7oF,EAAM,QAMtEqxF,EAAOhgI,UAAUgjI,mBAAqB,WAClCx+H,KAAKq+H,aAAer+H,KAAKyB,cAAc,OACnCqC,OACIqhG,MAAOuC,GAAW4wB,aAAcllH,KAAQ,SAAUqb,kBAAmBzuB,KAAKnG,QAAQ8J,GAAK,SAAUiiH,SAAU,OAGnH5lH,KAAKq+H,aAAa7lI,UAAU+L,IAAImjG,GAAWuxB,oBAC3Cj5H,KAAKnG,QAAQkI,YAAY/B,KAAKq+H,cAC1Br+H,KAAKk9H,YAAcl9H,KAAKqjG,QAAQ1+F,YAChC3E,KAAKy+H,qBAAuBz+H,KAAKyB,cAAc,OAC3CqC,OACIqhG,MAAOuC,GAAW4wB,aAAe,IAC7B5wB,GAAWmzB,wBAGvB76H,KAAKnG,QAAQkI,YAAY/B,KAAKy+H,wBAGtCjD,EAAOhgI,UAAUkjI,kBAAoB,WACjC1+H,KAAKo+H,YAAcp+H,KAAKyB,cAAc,OAClCqC,OACIqhG,MAAOuC,GAAW4wB,aAAcllH,KAAQ,SAAUqb,kBAAmBzuB,KAAKnG,QAAQ8J,GAAK,SAAUiiH,SAAU,OAGnH5lH,KAAKo+H,YAAY5lI,UAAU+L,IAAImjG,GAAWsxB,mBAC1Ch5H,KAAKnG,QAAQkI,YAAY/B,KAAKo+H,aAC1Bp+H,KAAKk9H,YAAcl9H,KAAKqjG,QAAQ1+F,YAChC3E,KAAK2+H,oBAAsB3+H,KAAKyB,cAAc,OAC1CqC,OACIqhG,MAAOuC,GAAW4wB,aAAe,IAC7B5wB,GAAWmzB,wBAGvB76H,KAAKnG,QAAQkI,YAAY/B,KAAK2+H,uBAGtCnD,EAAOhgI,UAAUojI,mBAAqB,SAAU/qH,GACvCA,GAODpO,GAAaf,OAAO1E,KAAKo+H,YAAa,uBAAwBp+H,KAAK6+H,aACnEp5H,GAAaf,OAAO1E,KAAKo+H,YAAa,gBAAiBp+H,KAAK8+H,eAC5Dr5H,GAAaf,OAAO1E,KAAKo+H,YAAa,wBAAyBp+H,KAAK++H,YACpEt5H,GAAaf,OAAO1E,KAAKo+H,YAAa,sBAAuBp+H,KAAKg/H,eATlEv5H,GAAalB,IAAIvE,KAAKo+H,YAAa,uBAAwBp+H,KAAK6+H,YAAa7+H,MAC7EyF,GAAalB,IAAIvE,KAAKo+H,YAAa,gBAAiBp+H,KAAK8+H,cAAe9+H,MACxEyF,GAAalB,IAAIvE,KAAKo+H,YAAa,wBAAyBp+H,KAAK++H,WAAY/+H,MAC7EyF,GAAalB,IAAIvE,KAAKo+H,YAAa,sBAAuBp+H,KAAKg/H,YAAah/H,QASpFw7H,EAAOhgI,UAAUyjI,oBAAsB,SAAUprH,GACxCA,GAODpO,GAAaf,OAAO1E,KAAKq+H,aAAc,uBAAwBr+H,KAAK6+H,aACpEp5H,GAAaf,OAAO1E,KAAKq+H,aAAc,gBAAiBr+H,KAAK8+H,eAC7Dr5H,GAAaf,OAAO1E,KAAKq+H,aAAc,wBAAyBr+H,KAAK++H,YACrEt5H,GAAaf,OAAO1E,KAAKq+H,aAAc,sBAAuBr+H,KAAKg/H,eATnEv5H,GAAalB,IAAIvE,KAAKq+H,aAAc,uBAAwBr+H,KAAK6+H,YAAa7+H,MAC9EyF,GAAalB,IAAIvE,KAAKq+H,aAAc,gBAAiBr+H,KAAK8+H,cAAe9+H,MACzEyF,GAAalB,IAAIvE,KAAKq+H,aAAc,wBAAyBr+H,KAAK++H,WAAY/+H,MAC9EyF,GAAalB,IAAIvE,KAAKq+H,aAAc,sBAAuBr+H,KAAKg/H,YAAah/H,QASrFw7H,EAAOhgI,UAAU0jI,YAAc,WAC3B,GAAIzoH,GAA6B,IAAtBzW,KAAKm/H,aAAsBn/H,KAAKo/H,WAAap/H,KAAKq/H,WACzDvC,EAAuC,IAAtB98H,KAAKm/H,aAAqBn/H,KAAK+8H,oBAAsB/8H,KAAKg9H,oBACnE,KAARvmH,GAA2B,UAAdzW,KAAKjG,OAClBiG,KAAKs/H,YAAY9mI,UAAU+L,IAAImjG,GAAWsyB,mBACtCh6H,KAAKk9H,YAAcl9H,KAAKqjG,QAAQ1+F,YAChC3E,KAAK2+H,oBAAoBnmI,UAAU+L,IAAImjG,GAAWsyB,mBAC9C8C,GACAA,EAAetkI,UAAU+L,IAAImjG,GAAWuyB,uBAKxDuB,EAAOhgI,UAAUsjI,cAAgB,SAAU19H,GAMvC,GALApB,KAAKk/H,cACLl/H,KAAKs/H,YAAY16H,MAAM+2H,WAAa,OAClB,YAAd37H,KAAKjG,OACLiG,KAAKu4H,SAAS3zH,MAAM+2H,WAAa,QAEjC37H,KAAKqjG,QAAQ1+F,UAAW,CACxB,GAAI46H,GAAmC,IAAtBv/H,KAAKm/H,aAAqBn/H,KAAKw/H,gBAAkBx/H,KAAKy/H,iBACnE3C,EAAuC,IAAtB98H,KAAKm/H,aAAqBn/H,KAAK+8H,oBAAsB/8H,KAAKg9H,oBAC1Eh9H,MAAKk9H,WAKDJ,EAAetkI,UAAUC,SAASivG,GAAW+xB,sBAA2C,cAAnBr4H,EAAEuJ,cAItD,YAAd3K,KAAKjG,OACL+iI,EAAel4H,MAAM+2H,WAAa37H,KAAK27H,WAAWz6E,QAEtDlhD,KAAK0/H,kBANL1/H,KAAK2/H,uBALTJ,EAAW/lG,WAAc13B,MAAQupG,OAAQ,QAAUjpG,OAASipG,OAAQ,UAAW5+F,SAAU,MACzFzM,KAAK4/H,oBAce,WAAxB5/H,KAAKqjG,QAAQ45B,QACbj9H,KAAK6/H,gBAGbrE,EAAOhgI,UAAUskI,eAAiB,WAC1B9/H,KAAKo+H,YAAY5lI,UAAUC,SAASivG,GAAWmyB,sBAC/C75H,KAAKo+H,YAAY5lI,UAAUkM,OAAOgjG,GAAWmyB,qBAE/B,UAAd75H,KAAKjG,MACDiG,KAAKq+H,aAAa7lI,UAAUC,SAASivG,GAAWmyB,sBAChD75H,KAAKq+H,aAAa7lI,UAAUkM,OAAOgjG,GAAWmyB,sBAI1D2B,EAAOhgI,UAAUqjI,YAAc,SAAUz9H,GACjCA,EAAEigD,gBAAkBrhD,KAAKo+H,YACzBp+H,KAAKo+H,YAAY5lI,UAAU+L,IAAImjG,GAAWmyB,qBAG1C75H,KAAKq+H,aAAa7lI,UAAU+L,IAAImjG,GAAWmyB,sBAGnD2B,EAAOhgI,UAAUujI,WAAa,SAAU39H,GAChCpB,KAAKqjG,QAAQ1+F,WAAqC,UAAxB3E,KAAKqjG,QAAQ45B,SACvCj9H,KAAK+/H,gBACY3+H,EAAEigD,gBAAkBrhD,KAAKo+H,YAAcp+H,KAAKw/H,gBAAkBx/H,KAAKy/H,kBACzEjmG,WAAc13B,MAAQupG,OAAQ,QAAUjpG,OAASipG,OAAQ,UAAW5+F,SAAU,MACrFrL,EAAEigD,gBAAkBrhD,KAAKo+H,YACzBp+H,KAAKw/H,gBAAgB19H,KAAK9B,KAAKo+H,aAG/Bp+H,KAAKy/H,iBAAiB39H,KAAK9B,KAAKq+H,gBAI5C7C,EAAOhgI,UAAUwjI,YAAc,SAAU59H,GACrC,GAAIpB,KAAKqjG,QAAQ1+F,WAAqC,UAAxB3E,KAAKqjG,QAAQ45B,SACtC77H,EAAEigD,cAAc7oD,UAAUC,SAASivG,GAAWmyB,uBAC9Cz4H,EAAEigD,cAAc7oD,UAAUC,SAASivG,GAAWwyB,iBAAkB,CACjEl6H,KAAK+/H,cACL,IAAIR,GAAan+H,EAAEigD,gBAAkBrhD,KAAKo+H,YAAcp+H,KAAKw/H,gBAAkBx/H,KAAKy/H,gBAChFr+H,GAAEigD,gBAAkBrhD,KAAKo+H,YACzBp+H,KAAKw/H,gBAAgBp9H,QAGrBpC,KAAKy/H,iBAAiBr9H,QAE1Bm9H,EAAW/lG,WAAc13B,MAAQupG,OAAQ,QAAUjpG,OAASipG,OAAQ,UAAW5+F,SAAU,QAGjG+uH,EAAOhgI,UAAU4hI,WAAa,WACtBp9H,KAAK+hB,IAAM/hB,KAAKqN,MAChBrN,KAAK+hB,IAAM/hB,KAAKqN,KAEpBrN,KAAK0+H,oBACa,UAAd1+H,KAAKjG,MACLiG,KAAKw+H,sBAGbhD,EAAOhgI,UAAU8tG,aAAe,WAC5BtpG,KAAKuP,WAAkC,aAArBvP,KAAKk+H,YAA6Bl6H,GAAUhE,KAAKm5H,iBAAkBzxB,GAAWgR,KAC5Fl0G,GAAaxE,KAAKm5H,iBAAkBzxB,GAAWgR,IACnD,IAAIsnB,GAA+B,aAArBhgI,KAAKk+H,YAA8Bl+H,KAAKy7H,OAASz7H,KAAK07H,MAChE17H,MAAKuP,WACLvP,KAAKy7H,OAAS,QACdz7H,KAAK07H,OAAS,WAGd17H,KAAKy7H,OAAS,OACdz7H,KAAK07H,OAAS,UAGdsE,KADgC,aAArBhgI,KAAKk+H,YAA8Bl+H,KAAKy7H,OAASz7H,KAAK07H,SAExC,eAArB17H,KAAKk+H,cACLx3H,EAAkB1G,KAAKo+H,aAAe5wH,MAAS,GAAID,KAAQ,SACzC,UAAdvN,KAAKjG,MACL2M,EAAkB1G,KAAKq+H,cAAgB5wH,IAAO,GAAIF,KAAQ,WAK1EiuH,EAAOhgI,UAAUukI,aAAe,WAC5B,GAAItmI,GAGAwG,GACAjD,MAAOgD,KAAKhD,MACZvD,KAAM,GAEVuG,MAAKigI,oBACLhgI,EAAKxG,KAAOA,EAAOuG,KAAKw/H,gBAAgB9kI,QACxCsF,KAAKooB,QAAQ,gBAAiBnoB,GAC9BD,KAAKkgI,gBAAgBjgI,EAAKxG,MACtBA,IAASwG,EAAKxG,OACduG,KAAK87H,eAAiB77H,EAAKxG,KAC3BuG,KAAKw/H,gBAAgB9kI,QAAUuF,EAAKxG,KACpCuG,KAAKmgI,iBAAiBngI,KAAKo+H,aACT,UAAdp+H,KAAKjG,OACLiG,KAAKy/H,iBAAiB/kI,QAAUuF,EAAKxG,KACrCuG,KAAKmgI,iBAAiBngI,KAAKq+H,iBAIvC7C,EAAOhgI,UAAUykI,kBAAoB,WACjC,GAAIvlI,EACc,WAAdsF,KAAKjG,MACLW,EAAUsF,KAAKogI,cAAcpgI,KAAKi8H,mBAAmB,GACrDj8H,KAAKw/H,gBAAgB9kI,QAAUA,EAC/BsF,KAAKy/H,iBAAiB/kI,QAAUA,GAG3B+C,EAAkBuC,KAAKqgI,cACxB3lI,EAAUsF,KAAKogI,cAAcpgI,KAAKi8H,mBAAmB,GACrDj8H,KAAKw/H,gBAAgB9kI,QAAUA,IAI3C8gI,EAAOhgI,UAAU4kI,cAAgB,SAAU9D,EAAYgE,GACnD,GAAI5lI,GAAU,GACV6lI,EAAUvgI,KAAKqgI,WACfG,EAAUxgI,KAAKygI,UAKnB,QAJKhjI,EAAkBuC,KAAKu+H,eAAiBv+H,KAAKu+H,aAAahmI,OAAS,IACpEgoI,EAAUvgI,KAAKu+H,aAAav+H,KAAKqgI,YACjCG,EAAUxgI,KAAKu+H,aAAav+H,KAAKygI,aAEhCH,GAsBiB,UAAdtgI,KAAKjG,KAEDW,EADAsF,KAAKuP,WAAkC,aAArBvP,KAAKk+H,YACXzgI,EAAkBuC,KAAKqjG,UAAa5lG,EAAkBuC,KAAKqjG,QAAQ77D,QAG1Eg5F,EAAQ7/H,WAAa,MAAQ4/H,EAAQ5/H,WAFrCX,KAAKq8H,aAAamE,EAASlE,GAAYG,WAAa,MACjDz8H,KAAKq8H,aAAakE,EAASjE,GAAYG,WAInCh/H,EAAkBuC,KAAKqjG,UAAa5lG,EAAkBuC,KAAKqjG,QAAQ77D,QAG1E+4F,EAAQ5/H,WAAa,MAAQ6/H,EAAQ7/H,WAFrCX,KAAKq8H,aAAakE,EAASjE,GAAYG,WAAa,MACjDz8H,KAAKq8H,aAAamE,EAASlE,GAAYG,WAK9Ch/H,EAAkB8iI,KACnB7lI,EAAY+C,EAAkBuC,KAAKqjG,UAAa5lG,EAAkBuC,KAAKqjG,QAAQ77D,QACvB+4F,EAAQ5/H,WAA5DX,KAAKq8H,aAAakE,EAASjE,GAAYG,YAG5C/hI,IAzCW,UAAdsF,KAAKjG,KAEDW,EADAsF,KAAKuP,WAAkC,aAArBvP,KAAKk+H,YACXzgI,EAAkB6+H,EAAW90F,QAEpCg5F,EAAQ7/H,WAAa,MAAQ4/H,EAAQ5/H,WAFWX,KAAKq8H,aAAamE,EAASlE,GAC3ED,aAAe,MAAQr8H,KAAKq8H,aAAakE,EAASjE,GAAYD,aAIvD5+H,EAAkB6+H,EAAW90F,QAEpC+4F,EAAQ5/H,WAAa,MAAQ6/H,EAAQ7/H,WAFWX,KAAKq8H,aAAakE,EAASjE,GAC3ED,aAAe,MAAQr8H,KAAKq8H,aAAamE,EAASlE,GAAYD,aAKlE5+H,EAAkB8iI,KACnB7lI,EAAY+C,EAAkB6+H,EAAW90F,QACiB+4F,EAAQ5/H,WAA9DX,KAAKq8H,aAAakE,EAASjE,GAAYD,cAG5C3hI,IA0Bf8gI,EAAOhgI,UAAU0kI,gBAAkB,SAAUxlI,GACzC,GAAIqF,GAAQC,IACZ,IAAIA,KAAKk9H,YAAcl9H,KAAKqjG,QAAQ1+F,UAAW,CAC3C,GAAI+7H,GAAUhmI,EAAQiG,WAAWpI,QACE,UAAdyH,KAAKjG,MAAoBiG,KAAK+8H,sBAC9C/8H,KAAK+8H,oBAAqB/8H,KAAKg9H,uBACrB59H,QAAQ,SAAUvF,EAAS3B,GACtC,GAAK2B,EAMG6mI,EAAU,GACV7mI,EAAQrB,UAAUkM,OAAOgjG,GAAWqzB,uBAC/BlhI,EAAQrB,UAAUC,SAASivG,GAAWozB,uBACvCjhI,EAAQrB,UAAU+L,IAAImjG,GAAWozB,qBACjCjhI,EAAQ+K,MAAMuJ,UAAY,cAI9BtU,EAAQrB,UAAUkM,OAAOgjG,GAAWozB,qBAC/BjhI,EAAQrB,UAAUC,SAASivG,GAAWqzB,yBACvClhI,EAAQrB,UAAU+L,IAAImjG,GAAWqzB,uBACjClhI,EAAQ+K,MAAMuJ,UAAYpO,EAAM4gI,8BAA8B5gI,EAAM6gI,sBAAsBl+G,aAjBxF,CACV,GAAIpO,GAAWosH,EAAU,EAAIh5B,GAAWozB,oBAAsBpzB,GAAWqzB,qBACxE7iI,GACG6H,EAAM0/H,iBAAiBnrH,SAAWozF,GAAWoxB,cAAgB,IAAMxkH,EAD9DvU,EAAMy/H,gBAAgBlrH,SAAWozF,GAAWoxB,cAAgB,IAAMxkH,OAsB3FknH,EAAOhgI,UAAUqlI,iBAAmB,WAChC,GAAIC,EAEsCA,GADjB,eAArB9gI,KAAKk+H,YACsB,WAA3Bl+H,KAAKqjG,QAAQ06B,UAA2C,YAAgC,eAG7D,WAA3B/9H,KAAKqjG,QAAQ06B,UAA2C,aAAiC,cAE7F/9H,KAAKw/H,gBAAgB5pH,SAAWkrH,EACd,UAAd9gI,KAAKjG,OACLiG,KAAKy/H,iBAAiB7pH,SAAWkrH,GAEjC9gI,KAAKk9H,aACLl9H,KAAKw/H,gBAAgBlX,gBAAiB,EACtCtoH,KAAK2H,eAAgB07F,SAAW45B,OAAQ,YAAc,GACtDj9H,KAAKw/H,gBAAgBhoH,OAAS,GACZ,UAAdxX,KAAKjG,OACLiG,KAAKy/H,iBAAiBnX,gBAAiB,EACvCtoH,KAAKy/H,iBAAiBjoH,OAAS,MAI3CgkH,EAAOhgI,UAAUulI,kBAAoB,SAAU9gI,GAC3C,GAAI68H,GAAiB78H,EAAK4I,SAAW7I,KAAKo+H,YAAcp+H,KAAK+8H,oBAAsB98H,EAAKpG,QACpFmG,KAAKg9H,qBAAuB/8H,EAAKpG,OAKrC,IAJ8B,KAA1BmG,KAAKqjG,QAAQ/uF,UACbtQ,GAAU84H,GAAiB98H,KAAKqjG,QAAQ/uF,SAASpX,MAAM,MAE3D+C,EAAK4I,OAAOyD,gBAAgB,oBACxBtM,KAAKk9H,YAAcl9H,KAAKqjG,QAAQ1+F,UAAW,CAC3C,GAAIq8H,GAAsBhhI,KAAK2gI,8BAA8B3gI,KAAK4gI,qBAClE9D,GAAe/9G,WAAWvmB,UAAU+L,IAAImjG,GAAWuzB,qBACnDj7H,KAAKk/H,cACDpC,EAAez3H,kBAAkBvM,UAAUP,OAAS,EACpDukI,EAAel4H,MAAMuJ,UAAY6yH,EAAoBrjG,UAAY,eAGjEm/F,EAAel4H,MAAMuJ,UAAY6yH,EAAoBrjG,UAAY,IAAMqjG,EAAoBt+G,OAAS,eAG5G,GAAI1iB,KAAKm9H,YACL,OAAQn9H,KAAKihI,uBAAuBzV,kBAChC,IAAK,YACDxrH,KAAKw/H,gBAAgB73H,eAAgBqF,SA9qB5B,IA8qBoE,GAC3D,UAAdhN,KAAKjG,MACLiG,KAAKy/H,iBAAiB93H,eAAgBqF,SAhrBjC,IAgrByE,EAElF,MACJ,KAAK,eACDhN,KAAKw/H,gBAAgB73H,eAAgBqF,QAprB5B,IAorBiE,GACxD,UAAdhN,KAAKjG,MACLiG,KAAKy/H,iBAAiB93H,eAAgBqF,QAtrBjC,IAsrBsE,EAE/E,MACJ,KAAK,aACDhN,KAAKw/H,gBAAgB73H,eAAgBiF,SA1rB5B,IA0rBoE,GAC3D,UAAd5M,KAAKjG,MACLiG,KAAKy/H,iBAAiB93H,eAAgBiF,SA5rBjC,IA4rByE,EAElF,MACJ,KAAK,cACD5M,KAAKw/H,gBAAgB73H,eAAgBiF,QAhsB5B,IAgsBiE,GACxD,UAAd5M,KAAKjG,MACLiG,KAAKy/H,iBAAiB93H,eAAgBiF,QAlsBjC,IAksBsE,KAQ/F4uH,EAAOhgI,UAAU0lI,yBAA2B,SAAUrtH,GAC9C7T,KAAKk9H,YAAcl9H,KAAKqjG,QAAQ1+F,YAC3BkP,GAODpO,GAAaf,OAAO1E,KAAK+8H,oBAAqB,uBAAwB/8H,KAAKmhI,YACzD,UAAdnhI,KAAKjG,MACL0L,GAAaf,OAAO1E,KAAKg9H,qBAAsB,uBAAwBh9H,KAAKmhI,cARhF17H,GAAalB,IAAIvE,KAAK+8H,oBAAqB,uBAAwB/8H,KAAKmhI,WAAYnhI,MAClE,UAAdA,KAAKjG,MACL0L,GAAalB,IAAIvE,KAAKg9H,qBAAsB,uBAAwBh9H,KAAKmhI,WAAYnhI,SAWrGw7H,EAAOhgI,UAAU4lI,2BAA6B,SAAUxrH,GACpD,GAAItB,EACJ,QAAQsB,GACJ,IAAK,YACDtB,EAAWozF,GAAW0xB,uBACtB,MACJ,KAAK,eACD9kH,EAAWozF,GAAW2xB,sBACtB,MACJ,KAAK,aACD/kH,EAAWozF,GAAW4xB,qBACtB,MACJ,KAAK,cACDhlH,EAAWozF,GAAW6xB,qBAG9B,MAAOjlH,IAEXknH,EAAOhgI,UAAUmlI,8BAAgC,SAAUj9H,GACvD,GAAI1D,KAAK+8H,oBAAqB,CAC1B,GAAInnH,OAAW,EAYf,OAVIA,GADqB,eAArB5V,KAAKk+H,YACOl+H,KAAK+8H,oBAAoBpX,aAAe,GAAO3lH,KAAK+8H,oBAAoBpX,aAAe,EAGvF3lH,KAAK+8H,oBAAoBtU,YAAc,GAAOzoH,KAAK+8H,oBAAoBtU,YAAc,EAEtD,eAArBzoH,KAAKk+H,YAC1Bx6H,IAAcgkG,GAAW0xB,yBAA4B12G,OAAQ,gBAAiBib,UAAW,cAAgB/nB,EAAW,QAC/G8M,OAAQ,iBAAkBib,UAAW,iBAA8B,OACxEj6B,IAAcgkG,GAAW4xB,uBAA0B52G,OAAQ,iBAAkBib,UAAW,cAAgB/nB,EAAW,QAC9G8M,OAAQ,kBAAmBib,UAAW,eAAkB/nB,EAAY,SAKtF4lH,EAAOhgI,UAAUmkI,oBAAsB,WACnC,GAAI5/H,GAAQC,IACZA,MAAK0/H,gBACL,IAAI5C,GAAuC,IAAtB98H,KAAKm/H,aAAqBn/H,KAAK+8H,oBAAsB/8H,KAAKg9H,qBAC3E97E,EAA+B,IAAtBlhD,KAAKm/H,aAAqBn/H,KAAK2+H,oBAAsB3+H,KAAKy+H,oBACnE3B,GAAe/9G,WAAWvmB,UAAUC,SAASivG,GAAWuzB,sBACxD6B,EAAe/9G,WAAWvmB,UAAUkM,OAAOgjG,GAAWuzB,qBAE1D6B,EAAe/9G,WAAWvmB,UAAU+L,IAAImjG,GAAWszB,qBACnDh7H,KAAKs/H,YAAY16H,MAAMy8H,OAAS,UAChCvE,EAAel4H,MAAM+2H,WAAa37H,KAAK67H,eACvCiB,EAAetkI,UAAU+L,IAAImjG,GAAW+xB,qBACxCv4E,EAAOt8C,MAAMuJ,UAAY,WACrB2uH,EAAez3H,kBAAkBvM,UAAUP,OAAS,EACpDukI,EAAel4H,MAAMuJ,UAAY,WAGjC2uH,EAAel4H,MAAMuJ,UAAYnO,KAAK2gI,8BAA8B3gI,KAAK4gI,sBAAsBl+G,OAEjF,YAAd1iB,KAAKjG,KACL9B,WAAW,WAAc6kI,EAAel4H,MAAM+2H,WAAa57H,EAAM47H,WAAWz6E,QAAW,MAGvFjpD,WAAW,WAAc6kI,EAAel4H,MAAM+2H,WAAa,QAAW,OAG9EH,EAAOhgI,UAAU8lI,qBAAuB,SAAUrhI,GAC9C,GAAI6gI,GAAkB7gI,EAAK4I,SAAW7I,KAAKo+H,YAAcp+H,KAAKuhI,2BAC1DvhI,KAAKwhI,2BACT,IAAIxhI,KAAKk9H,iBAAmC9jI,KAApB0nI,GAAiCA,IAAoB7gI,EAAKurH,kBAAmB,CACjG,GAAIiW,GAAezhI,KAAKohI,2BAA2BnhI,EAAKurH,iBACxDvrH,GAAKpG,QAAQrB,UAAUkM,OAAO1E,KAAK4gI,sBACnC3gI,EAAKpG,QAAQrB,UAAU+L,IAAIk9H,GAC3BzhI,KAAK4gI,qBAAuBa,EACxBxhI,EAAKpG,QAAQ+K,MAAMuJ,WAAalO,EAAKpG,QAAQrB,UAAUC,SAASivG,GAAW+xB,sBAC3Ex5H,EAAKpG,QAAQwL,kBAAkBvM,UAAUP,OAAS,IAClD0H,EAAKpG,QAAQ+K,MAAMuJ,UAAYnO,KAAK2gI,8BAA8B3gI,KAAK4gI,sBAAsBl+G,QAE7FziB,EAAK4I,SAAW7I,KAAKo+H,YACrBp+H,KAAKuhI,2BAA6BthI,EAAKurH,iBAGvCxrH,KAAKwhI,4BAA8BvhI,EAAKurH,iBAGhDxrH,KAAKihI,uBAAyBhhI,GAElCu7H,EAAOhgI,UAAUyiI,cAAgB,WACD,SAAxBj+H,KAAKqjG,QAAQ45B,QACbj9H,KAAK2H,eAAgB07F,SAAW45B,OAAQ,WAAa,EAEzD,IAAIyE,KAAiB1hI,KAAKm9H,WAC1Bn9H,MAAKw/H,gBAAkB,GAAI9Y,KACvB4B,eAAgBoZ,EAChBptH,SAAUozF,GAAWoxB,cACrBt/F,WAAa13B,MAAQupG,OAAQ,QAAUjpG,OAASipG,OAAQ,SACxDihB,QAAS,SACTqV,WAAY3hI,KAAK+gI,kBAAkBtlI,KAAKuE,MACxC4hI,gBAAiB5hI,KAAKshI,qBAAqB7lI,KAAKuE,MAChD6hI,WAAY7hI,KAAK8hI,kBAAkBrmI,KAAKuE,QAE5CA,KAAKw/H,gBAAgBthF,SAASl+C,KAAKo+H,aACjB,UAAdp+H,KAAKjG,OACLiG,KAAKy/H,iBAAmB,GAAI/Y,KACxB4B,eAAgBoZ,EAChBptH,SAAUozF,GAAWoxB,cACrBt/F,WAAa13B,MAAQupG,OAAQ,QAAUjpG,OAASipG,OAAQ,SACxDihB,QAAS,SACTqV,WAAY3hI,KAAK+gI,kBAAkBtlI,KAAKuE,MACxC4hI,gBAAiB5hI,KAAKshI,qBAAqB7lI,KAAKuE,MAChD6hI,WAAY7hI,KAAK8hI,kBAAkBrmI,KAAKuE,QAE5CA,KAAKy/H,iBAAiBvhF,SAASl+C,KAAKq+H,eAExCr+H,KAAK6gI,mBACL7gI,KAAKo+H,YAAYx5H,MAAM+2H,WAAa,OAClB,YAAd37H,KAAKjG,OACLiG,KAAKu4H,SAAS3zH,MAAM+2H,WAAa,QAEnB,UAAd37H,KAAKjG,OACLiG,KAAKq+H,aAAaz5H,MAAM+2H,WAAa,QAErC37H,KAAKk9H,aACLl9H,KAAKm5H,gBAAgB3gI,UAAU+L,IAAImjG,GAAWiyB,gBAC9C35H,KAAK+/H,eACL//H,KAAKw/H,gBAAgB19H,KAAK9B,KAAKo+H,aACb,UAAdp+H,KAAKjG,MACLiG,KAAKy/H,iBAAiB39H,KAAK9B,KAAKq+H,gBAI5C7C,EAAOhgI,UAAUsmI,kBAAoB,SAAU7hI,GACvCA,EAAKpG,UAAYmG,KAAK+8H,oBACtB/8H,KAAK+8H,wBAAsB3jI,GAG3B4G,KAAKg9H,yBAAuB5jI,IAGpCoiI,EAAOhgI,UAAUiiI,WAAa,WAC1Bz9H,KAAK+hI,SAAW/hI,KAAKyB,cAAc,OAASiC,UAAWgkG,GAAW8wB,aAAe,IAAM9wB,GAAW+wB,cAClGz4H,KAAK+hI,SAAShgI,YAAY/B,KAAKyB,cAAc,QAAUiC,UAAWgkG,GAAWyyB,oBAC7En6H,KAAK+hI,SAASnc,UAAY,EAC1B5lH,KAAKgiI,UAAYhiI,KAAKyB,cAAc,OAASiC,UAAWgkG,GAAW8wB,aAAe,IAAM9wB,GAAWgxB,eACnG14H,KAAKgiI,UAAUjgI,YAAY/B,KAAKyB,cAAc,QAAUiC,UAAWgkG,GAAWyyB,oBAC9En6H,KAAKgiI,UAAUpc,UAAY,EAC3B5lH,KAAKm5H,gBAAgB3gI,UAAU+L,IAAImjG,GAAW8yB,mBAC9Cx6H,KAAKm5H,gBAAgBp3H,YAAY/B,KAAK+hI,UACtC/hI,KAAKm5H,gBAAgBp3H,YAAY/B,KAAKgiI,WACtChiI,KAAKm5H,gBAAgBp3H,YAAY/B,KAAKnG,SACtCmG,KAAKiiI,eAETzG,EAAOhgI,UAAUymI,YAAc,WAC3B,GAAIC,GAAaliI,KAAKuP,WAAkC,aAArBvP,KAAKk+H,WACxCl+H,MAAKs6G,KAAKzuD,UAAU7rD,KAAKgP,OACzB,IAAIkiH,GAAiBlxH,KAAKs6G,KAAKnuD,YAAY,kBACvC8kE,EAAiBjxH,KAAKs6G,KAAKnuD,YAAY,iBAC3CpoD,GAAWm+H,EAAaliI,KAAKgiI,UAAYhiI,KAAK+hI,UAAYrP,aAAcxB,EAAgB5jE,MAAO4jE,IAC/FntH,EAAWm+H,EAAaliI,KAAK+hI,SAAW/hI,KAAKgiI,WAAatP,aAAczB,EAAgB3jE,MAAO2jE,KAEnGuK,EAAOhgI,UAAU2mI,eAAiB,WAC1BniI,KAAKk9H,YACLl9H,KAAKs/H,YAAY9mI,UAAUkM,OAAO,uBAG1C82H,EAAOhgI,UAAU4mI,aAAe,SAAUniI,GAClBA,EAAK4I,OAAOkN,gBACW,IAAtB/V,KAAKm/H,aAAqBn/H,KAAK+8H,oBAAsB/8H,KAAKg9H,uBACxDh9H,KAAKqjG,QAAQ1+F,WAChC3E,KAAKqiI,aAET,IAEIrlI,GAFAslI,EAAOtiI,KAAKuiI,oBACZL,EAAaliI,KAAKuP,WAAkC,aAArBvP,KAAKk+H,WAEpCj+H,GAAK4I,OAAOkN,cAAcvd,UAAUC,SAASivG,GAAW+wB,cACrDx4H,EAAK4I,OAAOrQ,UAAUC,SAASivG,GAAW+wB,aAC/Bz7H,EAAdklI,EAAsBliI,KAAKuE,IAAI+9H,EAAMxiH,WAAW9f,KAAK+5B,KAAKp5B,aAAa,GAC1DX,KAAKuE,IAAI+9H,EAAMxiH,WAAW9f,KAAK+5B,KAAKp5B,aAAa,IAEzDV,EAAK4I,OAAOkN,cAAcvd,UAAUC,SAASivG,GAAWgxB,eACzDz4H,EAAK4I,OAAOrQ,UAAUC,SAASivG,GAAWgxB,iBAChC17H,EAAdklI,EAAsBliI,KAAKuE,IAAI+9H,EAAMxiH,WAAW9f,KAAK+5B,KAAKp5B,aAAa,GAC1DX,KAAKuE,IAAI+9H,EAAMxiH,WAAW9f,KAAK+5B,KAAKp5B,aAAa,IAE9DX,KAAKk7H,OAAOt0G,UACZ5pB,EAAQgD,KAAKwiI,wBAAwBxlI,IAErCA,GAASgD,KAAK+hB,KAAO/kB,GAASgD,KAAKqN,MACnCrN,KAAKyiI,kBAAkBzlI,GACvBgD,KAAK0iI,yBAGblH,EAAOhgI,UAAUmnI,mBAAqB,SAAU1iI,GAC5CA,EAAKknB,+BACDlnB,EAAKlG,qBAA0BkG,EAAKlG,OACpCiG,KAAK4iI,YAAY3iI,GACjBD,KAAK6iI,eAAiBtgI,YAAYvC,KAAKoiI,aAAa3mI,KAAKuE,MAAO,IAAKC,KAG7Eu7H,EAAOhgI,UAAUsnI,eAAiB,WACzB9iI,KAAKs/H,YAAY9mI,UAAUC,SAAS,uBACrCuH,KAAKs/H,YAAY9mI,UAAU+L,IAAI,uBAGvCi3H,EAAOhgI,UAAUunI,gBAAkB,SAAU3hI,GACzCpB,KAAKgjI,YAAY,WACbhjI,KAAKqjG,QAAQ1+F,WAAqC,WAAxB3E,KAAKqjG,QAAQ45B,SAAwBj9H,KAAKk9H,YACpEl9H,KAAK6/H,eAETp9H,cAAczC,KAAK6iI,gBACnB7iI,KAAKs/H,YAAYj9H,SAErBm5H,EAAOhgI,UAAUynI,kBAAoB,SAAUC,GAC3C,GAAIC,GAAY,CAehB,QAdK1lI,EAAkBuC,KAAKu+H,eAAiBv+H,KAAKu+H,aAAahmI,OAAS,IAChE2qI,EAAS,IACTC,EAAY,GAEZD,EAAS,IACTC,EAAY,GAEZD,EAAS,KACTC,EAAY,GAEZD,EAAS,KACTC,EAAY,IAGbA,GAEX3H,EAAOhgI,UAAUwiI,YAAc,WAC3B,GAAIoF,GAA6B,aAArBpjI,KAAKk+H,YAA6B,IAAM,GACpDl+H,MACK28H,aAAe38H,KAAK21H,iBAAiB31H,KAAK+5B,MAC/C/5B,KAAKohG,GAAKphG,KAAKyB,cAAc,MACzBiC,UAAWgkG,GAAWjoE,MAAQ,MAAa2jG,EAAQ,UAAY17B,GAAWixB,KAAO,IAAM34H,KAAKo8H,MAAM2B,UAAU5lI,cAC5G2L,OAASsP,KAAM,eAAgBwyG,SAAU,KAAMoF,cAAe,UAElEhrH,KAAKohG,GAAGx8F,MAAMw3G,OAAS,KACnBhwG,GAAQsf,WAAuB,MAAV03G,GACrBpjI,KAAKohG,GAAG5oG,UAAU+L,IAAImjG,GAAW2yB,mBAErC,IAAIgJ,GAAYrjI,KAAKo8H,MAAMiH,SACtBrjI,MAAKo8H,MAAMkH,eAIPD,GAAa,IAClBA,EAAYvjH,WAAWpd,EAAW1C,KAAK+5B,QAJXspG,EAA5BrjI,KAAKo8H,MAAMmH,UAAY,EAAiBvjI,KAAKo8H,MAAMmH,UACjCzjH,WAAWpd,EAAW1C,KAAKqN,MAAUyS,WAAWpd,EAAW1C,KAAK+hB,KAKtF,IAAIA,GAAM/hB,KAAK08H,oBAAoB18H,KAAK+hB,KACpC1U,EAAMrN,KAAK08H,oBAAoB18H,KAAKqN,KACpCm2H,EAAQxjI,KAAK08H,oBAAoB2G,GACjCH,GAAUzlI,EAAkBuC,KAAKu+H,eAAiBv+H,KAAKu+H,aAAahmI,OAAS,GAAKyH,KAAKu+H,aAAahmI,OAAS,EAC7GkrI,EAAazjI,KAAKijI,kBAAkBC,GACpCtjH,GAASniB,EAAkBuC,KAAKu+H,eAAiBv+H,KAAKu+H,aAAahmI,OAAS,EAC3E2qI,EAASO,EAAcP,EAAS91H,KAAKE,KAAKD,EAAM0U,GAAOyhH,EAC5DxjI,MAAKnG,QAAQkI,YAAY/B,KAAKohG,GAC9B,IAAID,GACA5jG,EAAQuiB,WAAW9f,KAAK+hB,IAAIphB,WAClB,OAAVyiI,IACA7lI,EAAQuiB,WAAW9f,KAAKqN,IAAI1M,YAEhC,IACI+iI,GADAn2H,EAAO,EAEPo2H,EAAY,IAAM/jH,CAClB+jH,KAAcjnF,EAAAA,IACdinF,EAAY,EAEhB,KAAK,GAAItrI,GAAI,EAAG0V,GAAKtQ,EAAkBuC,KAAKu+H,eAAiBv+H,KAAKu+H,aAAahmI,OAAS,EACpFyH,KAAKu+H,aAAahmI,OAAS,EAAI,EAAGwvB,EAAI,EAAG1vB,GAAKunB,EAAOvnB,IAAK,CAO1D,GANA8oG,EAAMnhG,KAAKyB,cAAc,MACrBqC,OACIqhG,MAAOuC,GAAWixB,KAAMvlH,KAAM,eAAgBwyG,SAAU,KACxDoF,cAAe,WAGlBvtH,EAAkBuC,KAAKu+H,eAAiBv+H,KAAKu+H,aAAahmI,OAAS,GACpEmrI,EAAcrrI,GAAKorI,EAAa,IAAO,KAErB,MAAVL,GACA7lI,EAAQyC,KAAKu+H,aAAax2G,GAC1BA,MAGAxqB,EAAQyC,KAAKu+H,aAAaxwH,GAC1BA,KAEJozF,EAAGt9F,aAAa,QAAStG,EAAMoD,iBAKnC,IADAwgG,EAAGt9F,aAAa,QAAStG,EAAMoD,YACS,IAApCX,KAAK21H,iBAAiB31H,KAAKqN,MAAkD,IAApCrN,KAAK21H,iBAAiB31H,KAAK+hB,MAC/B,IAArC/hB,KAAK21H,iBAAiB31H,KAAK+5B,MAEvB2pG,EADU,MAAVN,GACgB7lI,EAAQuiB,WAAW9f,KAAK+hB,IAAIphB,aAAeX,KAAKo8H,MAAMmH,WAAc,EAGrEn2H,KAAKE,IAAI/P,EAAQuiB,WAAW9f,KAAKqN,IAAI1M,aAAeX,KAAKo8H,MAAMmH,WAAc,MAG/F,CACD,GAAIK,GAAY5jI,KAAK08H,oBAAoB18H,KAAKo8H,MAAMmH,UAEpDG,IADiB1jI,KAAK08H,oBAAoBn/H,GACbwkB,GAAO6hH,GAAc,EAGtDF,GACAviC,EAAG3oG,UAAU+L,IAAImjG,GAAWkxB,OAErB,MAAVwK,EAAkBjiC,EAAGv8F,MAAM6S,MAAQksH,EAAY,IAAQxiC,EAAGv8F,MAAM4S,OAASmsH,EAAY,GACtF,IAAIE,GAASH,EAAwC,SAAzB1jI,KAAKo8H,MAAM2B,UAAuB,EAAI,EAAK,CACvE,IAAI2F,EACA,IAAK,GAAIv+G,GAAI,EAAGA,EAAI0+G,EAAQ1+G,IACxBnlB,KAAK8jI,WAAW3iC,EAAI5jG,OAGnBE,GAAkBuC,KAAKu+H,eAC5Bv+H,KAAK+jI,iBAAiB5iC,EAAI5jG,EAE9ByC,MAAKohG,GAAGr/F,YAAYo/F,GACpBnhG,KAAKg8H,sBAAsBhjI,KAAKmoG,EAChC,IAAI6iC,OAAgB,EAChBvmI,GAAkBuC,KAAKu+H,gBAEnByF,EADAhkI,KAAK21H,iBAAiB0N,GAAarjI,KAAK21H,iBAAiBp4H,GACzCyC,KAAK21H,iBAAiB0N,GAGtBrjI,KAAK21H,iBAAiBp4H,GAGtCA,EADU,MAAV6lI,EACQpjI,KAAKw8H,gBAAgBj/H,EAAQ8lI,EAAWW,GAGxChkI,KAAKw8H,gBAAgBj/H,EAAQ8lI,EAAWW,GAEpDz2H,EAAOvN,KAAKw8H,gBAAgBjvH,EAAO81H,EAAWW,IAGtDhkI,KAAKikI,gBAAgBb,EAAOO,IAEhCnI,EAAOhgI,UAAUyoI,gBAAkB,SAAUb,EAAOO,GAChD3jI,KAAK+e,WAAa/e,KAAKohG,GAAG/7F,kBAC1BrF,KAAKkkI,UAAYlkI,KAAKohG,GAAGmV,iBACzBv2G,KAAK+e,WAAWvmB,UAAU+L,IAAImjG,GAAW4yB,iBACzCt6H,KAAKkkI,UAAU1rI,UAAU+L,IAAImjG,GAAW6yB,gBACxCv6H,KAAKm5H,gBAAgB3gI,UAAU+L,IAAImjG,GAAWjoE,MAAQ,IAAMz/B,KAAKo8H,MAAM2B,UAAU5lI,eACnE,MAAVirI,GACApjI,KAAK+e,WAAWna,MAAM6S,MAAQksH,EAAY,EAAI,IAC9C3jI,KAAKkkI,UAAUt/H,MAAM6S,MAAQksH,EAAY,EAAI,MAG7C3jI,KAAK+e,WAAWna,MAAM4S,OAASmsH,EAAY,EAAI,IAC/C3jI,KAAKkkI,UAAUt/H,MAAM4S,OAASmsH,EAAY,EAAI,IAElD,IAAIt1H,IAAc81H,aAAcnkI,KAAKohG,GAAIgjC,aAAcpkI,KAAKg8H,sBAC5Dh8H,MAAKooB,QAAQ,gBAAiB/Z,GAC9BrO,KAAKqkI,kBAET7I,EAAOhgI,UAAUsoI,WAAa,SAAU3iC,EAAI5jG,GACxC,GAAI4gG,GAAOn+F,KAAKyB,cAAc,QAC1BiC,UAAWgkG,GAAWmxB,UAAY,IAAMnxB,GAAWixB,KAAO,IAAM34H,KAAKo8H,MAAM2B,UAAU5lI,cACrF2L,OAASsP,KAAM,eAAgBwyG,SAAU,KAAMoF,cAAe,SAElE7pB,GAAGp/F,YAAYo8F,GACfA,EAAK3jG,UAAYiD,EAAkBuC,KAAKu+H,cAAgBv+H,KAAK+jI,iBAAiB5iC,EAAI5jG,GAASA,GAE/Fi+H,EAAOhgI,UAAUuoI,iBAAmB,SAAU5iC,EAAI5jG,GAC9C,GAAI+mI,GAAWtkI,KAAKm9C,aAAa5/C,GAG7B8Q,GAAcrR,MAAOO,EAAO9D,KAFpBgE,EAAkBuC,KAAKo8H,QAAW3+H,EAAkBuC,KAAKo8H,MAAM50F,QACT88F,EAA9DtkI,KAAKq8H,aAAa9+H,EAAOyC,KAAKk8H,iBAAiBG,aACPkI,YAAapjC,EAGzD,OAFAnhG,MAAKooB,QAAQ,iBAAkB/Z,GAC/B8yF,EAAGt9F,aAAa,QAASwK,EAAU5U,KAAKkH,YACjC0N,EAAU5U,KAAKkH,YAE1B66H,EAAOhgI,UAAU6oI,eAAiB,WAC9BrkI,KAAKwkI,mBAIOxkI,MAAKk+H,WACQ,cAArBl+H,KAAKk+H,YACJl+H,KAAKnG,QAAQ8S,wBAAwB8K,OAAS,GAC3CzX,KAAKm5H,gBAAgB3gI,UAAU+L,IAAImjG,GAAW0yB,iBAC9Cp6H,KAAKm5H,gBAAgB3gI,UAAUkM,OAAOgjG,GAAW0yB,iBAGpDp6H,KAAKnG,QAAQ8S,wBAAwB6K,QAAU,GAC5CxX,KAAKm5H,gBAAgB3gI,UAAU+L,IAAImjG,GAAW0yB,iBAC9Cp6H,KAAKm5H,gBAAgB3gI,UAAUkM,OAAOgjG,GAAW0yB,kBAG7DoB,EAAOhgI,UAAUgpI,kBAAoB,WACjC,GACIzlH,GADAlgB,EAAQmB,KAAK+e,WAAWpS,wBAExB02H,EAAYrjI,KAAKo8H,MAAMiH,UACvBzjH,EAAQxS,KAAKE,IAAKwS,WAAWpd,EAAW1C,KAAKqN,MAAUyS,WAAWpd,EAAW1C,KAAK+hB,OAAUshH,CAC5FrjI,MAAK+e,WAAWlD,SAAStjB,OAAS,IAClCwmB,EAAa/e,KAAK+e,WAAWlD,SAAS,GAAGlP,wBAE7C,IAEI83H,GAFAL,GAAgBpkI,KAAKm5H,gBAAgBv+H,iBAAiB,IAAM8sG,GAAWixB,KAAO,IAC1EjxB,GAAWkxB,MAAQ,KAAOlxB,GAAWmxB,WAGzC4L,GADyB,SAAzBzkI,KAAKo8H,MAAM2B,aACAp8H,MAAMf,KAAKwjI,EAAa,GAAI,MAG5BziI,MAAMf,KAAKwjI,EAAa,GAAI,EAI3C,KAAK,GAFDT,GAAiC,aAArB3jI,KAAKk+H,YACD,EAAfr/H,EAAM2Y,OAA6B,EAAd3Y,EAAM4Y,MACvBpf,EAAI,EAAGA,EAAI2H,KAAK+e,WAAWlD,SAAStjB,OAAQF,IACxB,aAArB2H,KAAKk+H,YACLl+H,KAAK+e,WAAWlD,SAASxjB,GAAGuM,MAAM6I,KAAQsR,EAAWvH,OAAS,EAAK,KAG9DxX,KAAKuP,UAINvP,KAAK+e,WAAWlD,SAASxjB,GAAGuM,MAAM2I,MAAQo2H,EACtC3jI,KAAK+e,WAAWlD,SAASxjB,GAAGsU,wBAAwB8K,OAAS,EAAI,KAJrEzX,KAAK+e,WAAWlD,SAASxjB,GAAGuM,MAAM2I,MAASwR,EAAWtH,MAAQ,EAAK,IAQ/E,KAASpf,EAAI,EAAGA,EAAIosI,EAAMlsI,OAAQF,IAAK,CACnC,GAAIqsI,GAAaD,EAAMpsI,GAAGsU,uBACD,cAArB3M,KAAKk+H,YACLx3H,EAAkB+9H,EAAMpsI,IAAMoV,KAAMk2H,EAAYe,EAAWltH,QAAU,EAAI,OAGzE9Q,EAAkB+9H,EAAMpsI,IAAMkV,MAAOo2H,EAAYe,EAAWjtH,OAAS,EAAI,OAG7EzX,KAAKuP,WAAavP,KAAKkkI,UAAUroH,SAAStjB,QAAoB,IAAVqnB,IACpD5f,KAAKkkI,UAAUroH,SAAS,GAAGjX,MAAM2I,MAASvN,KAAKkkI,UAAUv3H,wBAAwB8K,MAAQ,EAAK,KACjE,SAAzBzX,KAAKo8H,MAAM2B,YACX/9H,KAAKkkI,UAAUroH,SAAS,GAAGjX,MAAM2I,MAASvN,KAAKkkI,UAAUv3H,wBAAwB8K,MAAQ,EAAK,OAGxF,IAAVmI,IACyB,eAArB5f,KAAKk+H,cACAl+H,KAAKuP,WAKNvP,KAAK+e,WAAWvmB,UAAUkM,OAAOgjG,GAAW6yB,gBAC5Cv6H,KAAK+e,WAAWna,MAAM4I,MAAQxN,KAAKo+H,YAAYx5H,MAAM4I,MACrDxN,KAAK+e,WAAWlD,SAAS,GAAGjX,MAAM2I,KAC7BvN,KAAK+e,WAAWpS,wBAAwB8K,MAAQ,EAAK,EAAI,KACjC,SAAzBzX,KAAKo8H,MAAM2B,YACX/9H,KAAK+e,WAAWlD,SAAS,GAAGjX,MAAM2I,KAC7BvN,KAAK+e,WAAWpS,wBAAwB8K,MAAQ,EAAK,EAAI,QAVlEzX,KAAK+e,WAAWvmB,UAAUkM,OAAOgjG,GAAW6yB,gBAC5Cv6H,KAAK+e,WAAWna,MAAM2I,KAAOvN,KAAKo+H,YAAYx5H,MAAM2I,OAanC,aAArBvN,KAAKk+H,aACLl+H,KAAK+e,WAAWvmB,UAAUkM,OAAOgjG,GAAW6yB,kBAIxDiB,EAAOhgI,UAAU2kI,iBAAmB,SAAUtmI,GAC1C,GAAI8qI,GACAC,GAAqBnnI,EAAkBuC,KAAKo8H,SAAW3+H,EAAkBuC,KAAKo8H,MAAM50F,QACpF/tC,EAAQmrI,EAC0C5kI,KAAKogI,cAAcpgI,KAAKi8H,mBAAmB,GAA7Fj8H,KAAKogI,cAAcpgI,KAAKk8H,iBAAiB,GACzC2I,EAAWD,EAAkB5kI,KAAKogI,cAAcpgI,KAAKk8H,iBAAiB,GACtEl8H,KAAKogI,cAAcpgI,KAAKi8H,mBAAmB,EAG3C0I,GAD6B,KADjClrI,EAASuG,KAAK87H,eAA4B97H,KAAoB,kBACrD9C,MAAM,OAAO3E,OACFkB,EAAKyD,MAAM,QAGVzD,EAAMA,GAE3BuG,KAAKs+H,kBAAkBzkI,GACL,UAAdmG,KAAKjG,KACLgK,EAAWlK,GAAWkrB,gBAAiB8/G,EAAUC,iBAAkBrrI,IAGjEuG,KAAKuP,UAGD1V,IAAYmG,KAAKo+H,YACfr6H,EAAWlK,GAAWkrB,gBAAiB8/G,EAAS3nI,MAAM,OAAO,GAAI4nI,iBAAkBH,EAAc,KACjG5gI,EAAWlK,GAAWkrB,gBAAiB8/G,EAAS3nI,MAAM,OAAO,GAAI4nI,iBAAkBH,EAAc,KALnF9qI,IAAYmG,KAAKo+H,YACnCr6H,EAAWlK,GAAWkrB,gBAAiB8/G,EAAS3nI,MAAM,OAAO,GAAI4nI,iBAAkBH,EAAc,KACjG5gI,EAAWlK,GAAWkrB,gBAAiB8/G,EAAS3nI,MAAM,OAAO,GAAI4nI,iBAAkBH,EAAc,MAM7GnJ,EAAOhgI,UAAU+mI,kBAAoB,WAajC,MAXkB,UAAdviI,KAAKjG,KACqB,IAAtBiG,KAAKm/H,aACEn/H,KAAKqgI,WAGLrgI,KAAKygI,WAITzgI,KAAKqgI,YAIpB7E,EAAOhgI,UAAUgnI,wBAA0B,SAAUxlI,GAYjD,MAVIA,GADc,aAAdgD,KAAKjG,MAAqC,YAAdiG,KAAKjG,KACxBiG,KAAK+kI,yBAAyB/nI,EAAOgD,KAAKk7H,OAAO8J,SAAUhlI,KAAKk7H,OAAO+J,QAAS,GAG/D,IAAtBjlI,KAAKm/H,aACIn/H,KAAK+kI,yBAAyB/nI,EAAOgD,KAAKk7H,OAAO8J,SAAUhlI,KAAKk7H,OAAO+J,QAAS,GAGhFjlI,KAAK+kI,yBAAyB/nI,EAAOgD,KAAKk7H,OAAOgK,SAAUllI,KAAKk7H,OAAOiK,QAAS,IAKrG3J,EAAOhgI,UAAU4pI,mBAAqB,WAC7BplI,KAAK+7H,mBACN/7H,KAAKnG,QAAQwI,QACbrC,KAAK+7H,kBAAmB,IAGhCP,EAAOhgI,UAAUonI,YAAc,SAAU3iI,GACrCD,KAAKolI,oBACL,IAAIpoI,GACAklI,EAAaliI,KAAKuP,WAAkC,aAArBvP,KAAKk+H,YACpCoE,EAAOtiI,KAAKuiI,mBACM,MAAjBtiI,EAAKvI,SAAqC,KAAjBuI,EAAKvI,SAC5BuI,EAAKohD,cAAc7oD,UAAUC,SAASivG,GAAW+wB,aACtCz7H,EAAdklI,EAAsBliI,KAAKuE,IAAI+9H,EAAMxiH,WAAW9f,KAAK+5B,KAAKp5B,aAAa,GAC1DX,KAAKuE,IAAI+9H,EAAMxiH,WAAW9f,KAAK+5B,KAAKp5B,aAAa,GAEvC,KAAjBV,EAAKvI,SAAqC,KAAjBuI,EAAKvI,SACpCuI,EAAKohD,cAAc7oD,UAAUC,SAASivG,GAAWgxB,cACnC17H,EAAdklI,EAAsBliI,KAAKuE,IAAI+9H,EAAMxiH,WAAW9f,KAAK+5B,KAAKp5B,aAAa,GAC1DX,KAAKuE,IAAI+9H,EAAMxiH,WAAW9f,KAAK+5B,KAAKp5B,aAAa,GAEvC,KAAjBV,EAAKvI,SACRuI,EAAKohD,cAAc7oD,UAAUC,SAASivG,GAAW+wB,aACtCz7H,EAAdklI,EAAsBliI,KAAKuE,IAAI+9H,EAAMxiH,WAAW9f,KAAKo8H,MAAMmH,UAAU5iI,aAAa,GACrEX,KAAKuE,IAAI+9H,EAAMxiH,WAAW9f,KAAKo8H,MAAMmH,UAAU5iI,aAAa,GAElD,KAAjBV,EAAKvI,SACXuI,EAAKohD,cAAc7oD,UAAUC,SAASivG,GAAWgxB,cACnC17H,EAAdklI,EAAsBliI,KAAKuE,IAAI+9H,EAAMxiH,WAAW9f,KAAKo8H,MAAMmH,UAAU5iI,aAAa,GACrEX,KAAKuE,IAAI+9H,EAAMxiH,WAAW9f,KAAKo8H,MAAMmH,UAAU5iI,aAAa,GAElD,KAAjBV,EAAKvI,QACXsF,EAAQ8iB,WAAW9f,KAAK+hB,IAAIphB,YAEL,KAAjBV,EAAKvI,UACXsF,EAAQ8iB,WAAW9f,KAAKqN,IAAI1M,aAE5BX,KAAKk7H,OAAOt0G,UACZ5pB,EAAQgD,KAAKwiI,wBAAwBxlI,IAEzCgD,KAAKyiI,kBAAkBzlI,IACnBgD,KAAKk9H,YAAel9H,KAAKqjG,QAAQ1+F,WAChC3E,KAAKs/H,YAAY9mI,UAAUC,SAASivG,GAAWwyB,kBAChDl6H,KAAK8iI,iBAET9iI,KAAK4/H,mBACL5/H,KAAKs/H,YAAYj9H,QACbpC,EAAKohD,cAAc7oD,UAAUC,SAASivG,GAAW+wB,cACjDhzH,GAAalB,IAAIvE,KAAK+hI,SAAU,mBAAoB/hI,KAAKqlI,SAAUrlI,MAEnEC,EAAKohD,cAAc7oD,UAAUC,SAASivG,GAAWgxB,eACjDjzH,GAAalB,IAAIvE,KAAKgiI,UAAW,mBAAoBhiI,KAAKqlI,SAAUrlI,OAG5Ew7H,EAAOhgI,UAAUokI,iBAAmB,WAChC,GAAI5/H,KAAKqjG,QAAQ1+F,UAAW,CACxB,GAAI46H,GAAmC,IAAtBv/H,KAAKm/H,aAAqBn/H,KAAKw/H,gBAAkBx/H,KAAKy/H,iBACnE3C,EAAuC,IAAtB98H,KAAKm/H,aAAqBn/H,KAAK+8H,oBAAsB/8H,KAAKg9H,oBAC3Eh9H,MAAKk9H,WACJJ,EAAetkI,UAAUC,SAASivG,GAAW+xB,qBAAoDz5H,KAAK0/H,iBAAlC1/H,KAAK2/H,uBAG1EJ,EAAW/lG,WAAc13B,MAAQupG,OAAQ,QAAUjpG,OAASipG,OAAQ,UAAW5+F,SAAU,MACzFzM,KAAKqiI,iBAIjB7G,EAAOhgI,UAAU6pI,SAAW,SAAUplI,GAC9BD,KAAKqjG,QAAQ1+F,YACR3E,KAAKk9H,cACiC,IAAtBl9H,KAAKm/H,aAAqBn/H,KAAKw/H,gBAAkBx/H,KAAKy/H,kBAC5DjmG,WAAc13B,MAAQupG,OAAQ,QAAUjpG,OAASipG,OAAQ,WAGxEprG,EAAKohD,cAAc7oD,UAAUC,SAASivG,GAAW+wB,cACjDhzH,GAAaf,OAAO1E,KAAK+hI,SAAU,mBAAoB/hI,KAAKqlI,UAE5DplI,EAAKohD,cAAc7oD,UAAUC,SAASivG,GAAWgxB,eACjDjzH,GAAaf,OAAO1E,KAAKgiI,UAAW,mBAAoBhiI,KAAKqlI,WAGrE7J,EAAOhgI,UAAU8pI,YAAc,WACF,eAArBtlI,KAAKk+H,YACa,aAAdl+H,KAAKjG,MACLiG,KAAKuP,UAAavP,KAAKu4H,SAAS3zH,MAAM4I,MAAQ,MAAUxN,KAAKu4H,SAAS3zH,MAAM2I,KAAO,MACnF7G,EAAkB1G,KAAKu4H,UAAY9gH,MAASha,EAAkBuC,KAAKo/H,YAAc,EAAIp/H,KAAKo/H,WAAa,SAGvGp/H,KAAKuP,UAAavP,KAAKu4H,SAAS3zH,MAAM4I,MAClCxN,KAAKo/H,WAAa,KAASp/H,KAAKu4H,SAAS3zH,MAAM2I,KAAOvN,KAAKo/H,WAAa,KAC5E14H,EAAkB1G,KAAKu4H,UAAY9gH,MAASzX,KAAKq/H,WAAar/H,KAAKo/H,WAAa,QAIlE,aAAdp/H,KAAKjG,MACLiG,KAAKu4H,SAAS3zH,MAAM8I,OAAS,MAC7BhH,EAAkB1G,KAAKu4H,UAAY/gH,OAAU/Z,EAAkBuC,KAAKo/H,YAAc,EAAIp/H,KAAKo/H,WAAa,SAGxGp/H,KAAKu4H,SAAS3zH,MAAM8I,OAAS1N,KAAKo/H,WAAa,KAC/C14H,EAAkB1G,KAAKu4H,UAAY/gH,OAAUxX,KAAKq/H,WAAar/H,KAAKo/H,WAAa,SAI7F5D,EAAOhgI,UAAU+pI,sBAAwB,SAAUvoI,GAG/C,MAFAA,GAAQgD,KAAK49H,iBAAiB5gI,GAC9BA,EAAQgD,KAAKwlI,oBAAoBxoI,IAGrCw+H,EAAOhgI,UAAUiqI,qBAAuB,SAAUC,EAAgBC,EAAgBC,EAAcC,GACnE,eAArB7lI,KAAKk+H,YACAl+H,KAAKuP,WAKNvP,KAAKo7H,cAAcx2H,MAAM4I,MAAQk4H,EAAiB,KAClD1lI,KAAKo7H,cAAcx2H,MAAM6S,MAASkuH,EAAiBD,EAAkB,OALrE1lI,KAAKo7H,cAAcx2H,MAAM2I,KAAOm4H,EAAiB,KACjD1lI,KAAKo7H,cAAcx2H,MAAM6S,MAASkuH,EAAiBD,EAAkB,OAQzE1lI,KAAKo7H,cAAcx2H,MAAM8I,OAASg4H,EAAiB,KACnD1lI,KAAKo7H,cAAcx2H,MAAM4S,OAAUmuH,EAAiBD,EAAkB,MAExD,UAAd1lI,KAAKjG,OACoB,eAArBiG,KAAKk+H,YACAl+H,KAAKuP,WAKNvP,KAAKq7H,eAAez2H,MAAM4I,MAAQo4H,EAAe,KACjD5lI,KAAKq7H,eAAez2H,MAAM6S,MAASouH,EAAeD,EAAgB,OALlE5lI,KAAKq7H,eAAez2H,MAAM2I,KAAOq4H,EAAe,KAChD5lI,KAAKq7H,eAAez2H,MAAM6S,MAASouH,EAAeD,EAAgB,OAQtE5lI,KAAKq7H,eAAez2H,MAAM8I,OAASk4H,EAAe,KAClD5lI,KAAKq7H,eAAez2H,MAAM4S,OAAUquH,EAAeD,EAAgB,QAI/EpK,EAAOhgI,UAAUsiI,YAAc,WAC3B,GAAkB,YAAd99H,KAAKjG,MAAoC,aAAdiG,KAAKjG,KAAqB,CACrD,GAAI+rI,GAAgB9lI,KAAK+kI,yBAAyB/kI,KAAKk7H,OAAO8J,SAAUhlI,KAAKk7H,OAAO8J,SAAUhlI,KAAKk7H,OAAO+J,QAAQ,GAAO,EACzHa,GAAe9lI,KAAKulI,sBAAsBO,EAC1C,IAAIC,GAAc/lI,KAAK+kI,yBAAyB/kI,KAAKk7H,OAAO+J,OAAQjlI,KAAKk7H,OAAO8J,SAAUhlI,KAAKk7H,OAAO+J,QAAQ,GAAO,EACrHc,GAAa/lI,KAAKulI,sBAAsBQ,GACxC/lI,KAAKylI,qBAAqBK,EAAcC,OAEvC,IAAkB,UAAd/lI,KAAKjG,KAAkB,CAC5B,GAAI2rI,GAAkB1lI,KAAK+kI,yBAAyB/kI,KAAKk7H,OAAO8J,SAAUhlI,KAAKk7H,OAAO8J,SAAUhlI,KAAKk7H,OAAO+J,QAAQ,GAAO,EAC3HS,GAAiB1lI,KAAKulI,sBAAsBG,EAC5C,IAAIC,GAAkB3lI,KAAK+kI,yBAAyB/kI,KAAKk7H,OAAO+J,OAAQjlI,KAAKk7H,OAAO8J,SAAUhlI,KAAKk7H,OAAO+J,QAAQ,GAAO,EACzHU,GAAiB3lI,KAAKulI,sBAAsBI,EAC5C,IAAIC,GAAgB5lI,KAAK+kI,yBAAyB/kI,KAAKk7H,OAAOgK,SAAUllI,KAAKk7H,OAAOgK,SAAUllI,KAAKk7H,OAAOiK,QAAQ,GAAO,EACzHS,GAAe5lI,KAAKulI,sBAAsBK,EAC1C,IAAIC,GAAgB7lI,KAAK+kI,yBAAyB/kI,KAAKk7H,OAAOiK,OAAQnlI,KAAKk7H,OAAOgK,SAAUllI,KAAKk7H,OAAOiK,QAAQ,GAAO,EACvHU,GAAe7lI,KAAKulI,sBAAsBM,GAC1C7lI,KAAKylI,qBAAqBC,EAAgBC,EAAgBC,EAAcC,KAGhFrK,EAAOhgI,UAAUupI,yBAA2B,SAAUiB,EAAcC,EAAUC,EAAUC,GAmBpF,MAlBI1oI,GAAkBwoI,KAClBA,EAAWjmI,KAAK+hB,IACZtkB,EAAkBuoI,IAAiBG,IACnCH,EAAeC,IAGnBxoI,EAAkByoI,KAClBA,EAAWlmI,KAAKqN,IACZ5P,EAAkBuoI,IAAiBG,IACnCH,EAAeE,IAGnBF,EAAeC,IACfD,EAAeC,GAEfD,EAAeE,IACfF,EAAeE,IAEXF,EAAchmI,KAAKwlI,oBAAoBQ,KAEnDxK,EAAOhgI,UAAU4B,SAAW,WAYxB,IAXKK,EAAkBuC,KAAKu+H,eAAiBv+H,KAAKu+H,aAAahmI,OAAS,IACpEyH,KAAK+hB,IAAM,EACX/hB,KAAKqN,IAAMrN,KAAKu+H,aAAahmI,OAAS,GAE1CyH,KAAKs+H,kBAAkBt+H,KAAKo+H,aAC5Bp+H,KAAKqgI,WAAa5iI,EAAkBuC,KAAKhD,OAASgD,KAAK49H,iBAAiB99G,WAAW9f,KAAK+hB,IAAIphB,aACxFX,KAAK49H,iBAAiB99G,WAAW9f,KAAKhD,MAAM2D,aAChDX,KAAKo/H,WAAap/H,KAAKwlI,oBAAoBxlI,KAAKqgI,YAChDrgI,KAAKomI,cAAgBpmI,KAAKo/H,WAC1B3hI,EAAkBuC,KAAKm/H,cAA+B,UAAdn/H,KAAKjG,KAAmBiG,KAAKm/H,aAAe,EAAIn/H,KAAKm/H,aAAe,EACxGn/H,KAAKm/H,aAAen/H,KAAKm/H,aACX,YAAdn/H,KAAKjG,MAAoC,aAAdiG,KAAKjG,KAAqB,CACrD,GAAIiG,KAAKk7H,OAAOt0G,QAAS,CACrB,GAAI8Z,GAAS1gC,KAAK+kI,yBAAyB/kI,KAAKqgI,WAAYrgI,KAAKk7H,OAAO8J,SAAUhlI,KAAKk7H,OAAO+J,OAC9FjlI,MAAKqgI,WAAa3/F,EAAO,GACzB1gC,KAAKo/H,WAAa1+F,EAAO,GACzB1gC,KAAKomI,cAAgBpmI,KAAKo/H,WAE9Bp/H,KAAKqmI,oBACLrmI,KAAKk/H,cACLl/H,KAAKhD,MAAQgD,KAAKqgI,WAClBrgI,KAAKmgI,iBAAiBngI,KAAKo+H,aAC3Bp+H,KAAKgjI,YAAY,eAGjBhjI,MAAKsmI,oBAES,aAAdtmI,KAAKjG,MACLiG,KAAKslI,cAELtlI,KAAKk7H,OAAOt0G,SACZ5mB,KAAK89H,eAGbtC,EAAOhgI,UAAUkiI,iBAAmB,WACb,OAAf19H,KAAKhD,OAA0C,gBAAhBgD,cAC/BA,KAAKhD,OAAS8iB,WAAWpd,EAAW1C,KAAK+hB,MAAOjC,WAAWpd,EAAW1C,KAAKqN,SAGnFmuH,EAAOhgI,UAAU8qI,mBAAqB,WAClCtmI,KAAK09H,mBACL19H,KAAKumI,iBAET/K,EAAOhgI,UAAUgrI,aAAe,WACV,UAAdxmI,KAAKjG,KACqB,IAAtBiG,KAAKm/H,cACLn/H,KAAKo+H,YAAYx5H,MAAMw3G,OAAUp8G,KAAKo8G,OAAS,EAAK,GACpDp8G,KAAKq+H,aAAaz5H,MAAMw3G,OAAUp8G,KAAKo8G,OAAS,EAAK,GACjDp8G,KAAKk9H,YAAcl9H,KAAKqjG,QAAQ1+F,WAAa3E,KAAK+8H,qBAAuB/8H,KAAKg9H,uBAC9Eh9H,KAAK+8H,oBAAoBn4H,MAAMw3G,OAAUp8G,KAAKo8G,OAAS,EAAK,GAC5Dp8G,KAAKg9H,qBAAqBp4H,MAAMw3G,OAAUp8G,KAAKo8G,OAAS,EAAK,MAIjEp8G,KAAKo+H,YAAYx5H,MAAMw3G,OAAUp8G,KAAKo8G,OAAS,EAAK,GACpDp8G,KAAKq+H,aAAaz5H,MAAMw3G,OAAUp8G,KAAKo8G,OAAS,EAAK,GACjDp8G,KAAKk9H,YAAcl9H,KAAKqjG,QAAQ1+F,WAAa3E,KAAK+8H,qBAAuB/8H,KAAKg9H,uBAC9Eh9H,KAAK+8H,oBAAoBn4H,MAAMw3G,OAAUp8G,KAAKo8G,OAAS,EAAK,GAC5Dp8G,KAAKg9H,qBAAqBp4H,MAAMw3G,OAAUp8G,KAAKo8G,OAAS,EAAK,KAIhEp8G,KAAKk9H,YAAcl9H,KAAKqjG,QAAQ1+F,WAAa3E,KAAK+8H,sBACvD/8H,KAAK+8H,oBAAoBn4H,MAAMw3G,OAAUp8G,KAAKo8G,OAAS,EAAK,KAGpEof,EAAOhgI,UAAU6qI,kBAAoB,WACjC,GAGInlF,GACA47E,EAJA/8H,EAAQC,KACRyW,EAA6B,IAAtBzW,KAAKm/H,aAAsBn/H,KAAKo/H,WAAap/H,KAAKq/H,UAC5B,KAAtBr/H,KAAKm/H,aAAsBn/H,KAAKqgI,WAAargI,KAAKygI,UAGzDzgI,MAAKk9H,YAAcl9H,KAAKqjG,QAAQ1+F,WAChCm4H,EAAuC,IAAtB98H,KAAKm/H,aAAqBn/H,KAAK+8H,oBAAsB/8H,KAAKg9H,qBAC3E97E,GAAUlhD,KAAKs/H,YAAoC,IAAtBt/H,KAAKm/H,aAAqBn/H,KAAK2+H,oBAAsB3+H,KAAKy+H,uBAGvFv9E,GAAUlhD,KAAKs/H,aAEft/H,KAAKqjG,QAAQ1+F,WAAqB,IAAR8R,GAA2B,UAAdzW,KAAKjG,MAC5CmnD,EAAO,GAAG1oD,UAAU+L,IAAImjG,GAAWsyB,mBAC/Bh6H,KAAKk9H,aACLh8E,EAAO,GAAG1oD,UAAU+L,IAAImjG,GAAWsyB,mBAC/B8C,GACAA,EAAetkI,UAAU+L,IAAImjG,GAAWuyB,uBAKhD/4E,EAAO,GAAG1oD,UAAUkM,OAAOgjG,GAAWsyB,mBAClCh6H,KAAKqjG,QAAQ1+F,WAAa3E,KAAKk9H,aAC/Bh8E,EAAO,GAAG1oD,UAAUkM,OAAOgjG,GAAWsyB,mBAClC8C,GACAA,EAAetkI,UAAUkM,OAAOgjG,GAAWuyB,sBAIvD/4E,EAAO9hD,QAAQ,SAAU8hD,GACK,eAAtBnhD,EAAMm+H,YACNn+H,EAAMwP,UAAa2xC,EAAOt8C,MAAM4I,MAC5BiJ,EAAM,KAASyqC,EAAOt8C,MAAM2I,KAAOkJ,EAAM,KAG7CyqC,EAAOt8C,MAAM8I,OAAS+I,EAAM,OAGpCzW,KAAKgjI,YAAY,WAErBxH,EAAOhgI,UAAU8jI,UAAY,WACzB,MAA8B,KAAtBt/H,KAAKm/H,aAAsBn/H,KAAKo+H,YAAcp+H,KAAKq+H,cAE/D7C,EAAOhgI,UAAU+qI,cAAgB,WAClBvmI,KAAKm/H,YAChBn/H,MAAKymI,mBACLzmI,KAAKm/H,aAAe,EACpBn/H,KAAKqmI,oBACLrmI,KAAKm/H,aAAe,EACpBn/H,KAAKqmI,oBACLrmI,KAAKm/H,aAAe,GAExB3D,EAAOhgI,UAAUwnI,YAAc,SAAU1wG,GACrC,GAAIo0G,GAAyB,WAAdp0G,EAAyBtyB,KAAK29H,YAAc39H,KAAK69H,eAChE,IAAkB,UAAd79H,KAAKjG,KACLiG,KAAK2H,eAAgB3K,MAASgD,KAAKqgI,aAAc,GAC7CqG,IAAa1mI,KAAKhD,QAClBgD,KAAKooB,QAAQkK,EAAWtyB,KAAKkrB,gBAAgBoH,IAC7CtyB,KAAK2mI,eAAer0G,EAAWtyB,KAAKhD,QAExCgD,KAAKmgI,iBAAiBngI,KAAKo+H,iBAE1B,CACD,GAAIphI,GAAQgD,KAAKhD,OAASgD,KAAKqgI,WAAYrgI,KAAKygI,WAChDzgI,MAAK2H,eAAgB3K,MAASA,IAAS,IACnC0pI,EAASnuI,SAAWyH,KAAKhD,MAAMzE,QAC5ByH,KAAKhD,MAAM,KAAO0pI,EAAS,IAAM1mI,KAAKhD,MAAM,KAAO0pI,EAAS,MAC/D1mI,KAAKooB,QAAQkK,EAAWtyB,KAAKkrB,gBAAgBoH,IAC7CtyB,KAAK2mI,eAAer0G,EAAWtyB,KAAKhD,QAExCgD,KAAKmgI,iBAAiBngI,KAAKs/H,aAE/Bt/H,KAAKuyH,YAAYv1H,MAAQgD,KAAKhD,MAAM2D,YAExC66H,EAAOhgI,UAAU0vB,gBAAkB,SAAUoH,GACzC,GAAIjkB,EAmBJ,OAlBIrO,MAAKqjG,QAAQ1+F,WAAa3E,KAAKw/H,iBAC/Bx/H,KAAK+/H,eACL1xH,GACIrR,MAAOgD,KAAKhD,MACZk3H,cAA6B,WAAd5hG,EAAyBtyB,KAAK29H,YAAc39H,KAAK69H,gBAChE3yE,OAAQ54B,EAAW74B,KAAMuG,KAAKw/H,gBAAgB9kI,UAIlD2T,GACIrR,MAAOgD,KAAKhD,MACZk3H,cAA6B,WAAd5hG,EAAyBtyB,KAAK29H,YAAc39H,KAAK69H,gBAChE3yE,OAAQ54B,EAAW74B,KAAMgE,EAAkBuC,KAAKk8H,gBAAgB10F,QAAUxnC,KAAKhD,MAAM2D,WAClE,UAAdX,KAAKjG,KAAmBiG,KAAKq8H,aAAar8H,KAAKhD,MAAOgD,KAAKk8H,iBAAiBG,aACxEr8H,KAAKq8H,aAAar8H,KAAKhD,MAAM,GAAIgD,KAAKk8H,iBAAiBG,aAAe,MACnEr8H,KAAKq8H,aAAar8H,KAAKhD,MAAM,GAAIgD,KAAKk8H,iBAAiBG,cAGpEhuH,GAEXmtH,EAAOhgI,UAAUmrI,eAAiB,SAAUr0G,EAAWt1B,GACjC,WAAds1B,EACAtyB,KAAK29H,YAAc3gI,EAGnBgD,KAAK69H,gBAAkB7gI,GAG/Bw+H,EAAOhgI,UAAUirI,iBAAmB,WAChC,GAAI/lG,GAAS1gC,KAAKhD,MAAM2D,WAAWzD,MAAM,KAAKyjC,IAAI4qB,OAuBlD,IAtBKvrD,KAAKuP,WAAkC,aAArBvP,KAAKk+H,aAA+Bl+H,KAAK04G,IAC5D14G,KAAKhD,OAAS0jC,EAAO,GAAIA,EAAO,IAGhC1gC,KAAKhD,OAAS0jC,EAAO,GAAIA,EAAO,IAEhC1gC,KAAKuP,WAAkC,aAArBvP,KAAKk+H,aACvBl+H,KAAKqgI,WAAargI,KAAK49H,iBAAiB59H,KAAKhD,MAAM,IACnDgD,KAAKygI,WAAazgI,KAAK49H,iBAAiB59H,KAAKhD,MAAM,MAGnDgD,KAAKqgI,WAAargI,KAAK49H,iBAAiB59H,KAAKhD,MAAM,IACnDgD,KAAKygI,WAAazgI,KAAK49H,iBAAiB59H,KAAKhD,MAAM,KAEvDgD,KAAKo/H,WAAap/H,KAAKwlI,oBAAoBxlI,KAAKqgI,YAChDrgI,KAAKq/H,WAAar/H,KAAKwlI,oBAAoBxlI,KAAKygI,YAC5CzgI,KAAKo/H,WAAap/H,KAAKq/H,aACvBr/H,KAAKo/H,WAAap/H,KAAKq/H,WACvBr/H,KAAKqgI,WAAargI,KAAKygI,YAE3BzgI,KAAKomI,cAAgBpmI,KAAKo/H,WAC1Bp/H,KAAK4mI,cAAgB5mI,KAAKq/H,WACtBr/H,KAAKk7H,OAAOt0G,QAAS,CACrB5mB,KAAKm/H,aAAe,CACpB,IAAI0H,GAAW7mI,KAAK+kI,yBAAyB/kI,KAAKqgI,WAAYrgI,KAAKk7H,OAAO8J,SAAUhlI,KAAKk7H,OAAO+J,OAChGjlI,MAAKqgI,WAAawG,EAAS,GAC3B7mI,KAAKo/H,WAAayH,EAAS,GAC3B7mI,KAAKomI,cAAgBpmI,KAAKo/H,WAC1Bp/H,KAAKm/H,aAAe,EACpB0H,EAAW7mI,KAAK+kI,yBAAyB/kI,KAAKygI,WAAYzgI,KAAKk7H,OAAOgK,SAAUllI,KAAKk7H,OAAOiK,QAC5FnlI,KAAKygI,WAAaoG,EAAS,GAC3B7mI,KAAKq/H,WAAawH,EAAS,GAC3B7mI,KAAK4mI,cAAgB5mI,KAAKq/H,aAGlC7D,EAAOhgI,UAAUgqI,oBAAsB,SAAUxoI,GAC7C,GAAIyZ,EAiBJ,OAhBAzZ,GAAS,KACJA,EAAS8iB,WAAWpd,EAAW1C,KAAK+hB,QAAajC,WAAWpd,EAAW1C,KAAKqN,MAAUyS,WAAWpd,EAAW1C,KAAK+hB,OAElHtL,EADqB,eAArBzW,KAAKk+H,YACCl+H,KAAKnG,QAAQ8S,wBAAwB8K,OAASza,EAAQ,KAGtDgD,KAAKnG,QAAQ8S,wBAAwB6K,QAAUxa,EAAQ,KAE3D8iB,WAAWpd,EAAW1C,KAAKqN,QAAYyS,WAAWpd,EAAW1C,KAAK+hB,QAEhEtL,EADqB,eAArBzW,KAAKk+H,YACCl+H,KAAKnG,QAAQ8S,wBAAwB8K,MAGrCzX,KAAKnG,QAAQ8S,wBAAwB6K,QAG5Cf,GAEX+kH,EAAOhgI,UAAUoiI,iBAAmB,SAAU5gI,GAI1C,GAHIgD,KAAK+hB,IAAM/hB,KAAKqN,MAChBrN,KAAK+hB,IAAM/hB,KAAKqN,KAEhBrN,KAAK+hB,MAAQ/hB,KAAKqN,IAClB,MAAQyS,YAAWpd,EAAW1C,KAAKqN,KAEvC,IAAI6zC,GAASlhD,KAAK8mI,cAOlB,OANI9pI,GAAQkkD,EAAO3jD,MACfP,EAAQkkD,EAAO3jD,MAEVP,EAAQkkD,EAAOvhC,MACpB3iB,EAAQkkD,EAAOvhC,KAEZ3iB,GAEXw+H,EAAOhgI,UAAUurI,SAAW,WACxB,GAAIhnI,GAAQC,IACZA,MAAKo+H,YAAYx5H,MAAM+2H,WAAa,OAClB,YAAd37H,KAAKjG,OACLiG,KAAKu4H,SAAS3zH,MAAM+2H,WAAa,QAEnB,UAAd37H,KAAKjG,OACLiG,KAAKq+H,aAAaz5H,MAAM+2H,WAAa,QAEzC37H,KAAKo/H,WAAap/H,KAAKwlI,oBAAoBxlI,KAAKqgI,YAC5CrgI,KAAKygI,aACLzgI,KAAKq/H,WAAar/H,KAAKwlI,oBAAoBxlI,KAAKygI,aAE3B,eAArBzgI,KAAKk+H,aACLl+H,KAAKuP,UAAYvP,KAAKo+H,YAAYx5H,MAAM4I,MACpCxN,KAAKo/H,WAAa,KAAOp/H,KAAKo+H,YAAYx5H,MAAM2I,KAAOvN,KAAKo/H,WAAa,KACzEp/H,KAAKk9H,YAAcl9H,KAAKqjG,QAAQ1+F,WAAa3E,KAAK2+H,sBAClD3+H,KAAKuP,UAAYvP,KAAK2+H,oBAAoB/5H,MAAM4I,MAC5CxN,KAAKo/H,WAAa,KAAOp/H,KAAK2+H,oBAAoB/5H,MAAM2I,KAAOvN,KAAKo/H,WAAa,MAEvE,aAAdp/H,KAAKjG,MACLiG,KAAKuP,UAAavP,KAAKu4H,SAAS3zH,MAAM4I,MAAQ,MAAUxN,KAAKu4H,SAAS3zH,MAAM2I,KAAO,MACnF7G,EAAkB1G,KAAKu4H,UAAY9gH,MAASha,EAAkBuC,KAAKo/H,YAAc,EAAIp/H,KAAKo/H,WAAa,QAEpF,UAAdp/H,KAAKjG,OACViG,KAAKuP,UAAYvP,KAAKq+H,aAAaz5H,MAAM4I,MACrCxN,KAAKq/H,WAAa,KAAOr/H,KAAKq+H,aAAaz5H,MAAM2I,KAAOvN,KAAKq/H,WAAa,KAC1Er/H,KAAKk9H,YAAcl9H,KAAKqjG,QAAQ1+F,WAAa3E,KAAKy+H,uBAClDz+H,KAAKuP,UAAYvP,KAAKy+H,qBAAqB75H,MAAM4I,MAC7CxN,KAAKq/H,WAAa,KAAOr/H,KAAKy+H,qBAAqB75H,MAAM2I,KAAOvN,KAAKq/H,WAAa,MAE1Fr/H,KAAKuP,UAAavP,KAAKu4H,SAAS3zH,MAAM4I,MAClCxN,KAAKo/H,WAAa,KAASp/H,KAAKu4H,SAAS3zH,MAAM2I,KAAOvN,KAAKo/H,WAAa,KAC5E14H,EAAkB1G,KAAKu4H,UAAY9gH,MAASzX,KAAKq/H,WAAar/H,KAAKo/H,WAAa,UAIpFp/H,KAAKo+H,YAAYx5H,MAAM8I,OAAS1N,KAAKo/H,WAAa,KAC9Cp/H,KAAKk9H,YAAcl9H,KAAKqjG,QAAQ1+F,WAAa3E,KAAK2+H,sBAClD3+H,KAAK2+H,oBAAoB/5H,MAAM8I,OAAS1N,KAAKo/H,WAAa,MAE5C,aAAdp/H,KAAKjG,MACLiG,KAAKu4H,SAAS3zH,MAAM8I,OAAS,MAC7BhH,EAAkB1G,KAAKu4H,UAAY/gH,OAAU/Z,EAAkBuC,KAAKo/H,YAAc,EAAIp/H,KAAKo/H,WAAa,QAErF,UAAdp/H,KAAKjG,OACViG,KAAKq+H,aAAaz5H,MAAM8I,OAAS1N,KAAKq/H,WAAa,KAC/Cr/H,KAAKk9H,YAAcl9H,KAAKqjG,QAAQ1+F,WAAa3E,KAAKy+H,uBAClDz+H,KAAKy+H,qBAAqB75H,MAAM8I,OAAS1N,KAAKq/H,WAAa,MAE/Dr/H,KAAKu4H,SAAS3zH,MAAM8I,OAAS1N,KAAKo/H,WAAa,KAC/C14H,EAAkB1G,KAAKu4H,UAAY/gH,OAAUxX,KAAKq/H,WAAar/H,KAAKo/H,WAAa,SAGrFp/H,KAAKk7H,OAAOt0G,SACZ5mB,KAAK89H,cAEoB,SAAzB99H,KAAKo8H,MAAM2B,WAAwB/9H,KAAKohG,KACxCphG,KAAKitG,cAAcjtG,KAAKohG,IACxBphG,KAAKg+H,eAEJh+H,KAAKqjG,QAAQ1+F,WACd1M,WAAW,WACP8H,EAAMq+H,YAAYx5H,MAAM+2H,WAAa57H,EAAM87H,eACxB,UAAf97H,EAAMhG,OACNgG,EAAMs+H,aAAaz5H,MAAM+2H,WAAa57H,EAAM87H,kBAIxD77H,KAAK0/H,kBAETlE,EAAOhgI,UAAUinI,kBAAoB,SAAUzlI,GAC3C,GAAI4Y,GAAW,IACW,KAAtB5V,KAAKm/H,cACCn/H,KAAKk7H,OAAOt0G,SAAW5mB,KAAKk7H,OAAO8L,mBACrChnI,KAAKqgI,WAAargI,KAAK49H,iBAAiB5gI,GACxCgD,KAAKo/H,WAAap/H,KAAKwlI,oBAAoBxlI,KAAKqgI,YAC9B,UAAdrgI,KAAKjG,MAAoBiG,KAAKo/H,WAAap/H,KAAKq/H,aAChDr/H,KAAKo/H,WAAap/H,KAAKq/H,WACvBr/H,KAAKqgI,WAAargI,KAAKygI,YAEvBzgI,KAAKo/H,aAAep/H,KAAKomI,gBACzBxwH,EAAW5V,KAAKomI,cAAgBpmI,KAAKo/H,aAG7Cp/H,KAAKwmI,iBAGCxmI,KAAKk7H,OAAOt0G,SAAW5mB,KAAKk7H,OAAO+L,iBACrCjnI,KAAKygI,WAAazgI,KAAK49H,iBAAiB5gI,GACxCgD,KAAKq/H,WAAar/H,KAAKwlI,oBAAoBxlI,KAAKygI,YAC9B,UAAdzgI,KAAKjG,MAAoBiG,KAAKq/H,WAAar/H,KAAKo/H,aAChDp/H,KAAKq/H,WAAar/H,KAAKo/H,WACvBp/H,KAAKygI,WAAazgI,KAAKqgI,YAEvBrgI,KAAKq/H,aAAer/H,KAAK4mI,gBACzBhxH,EAAW5V,KAAK4mI,cAAgB5mI,KAAKq/H,aAG7Cr/H,KAAKwmI,gBAEQ,OAAb5wH,IACkB,YAAd5V,KAAKjG,MACLiG,KAAKslI,cAETtlI,KAAKqmI,sBAGb7K,EAAOhgI,UAAUsrI,aAAe,WAC5B,MAAI9mI,MAAK+hB,IAAM/hB,KAAKqN,KAEZ9P,MAAOyC,KAAKqN,IACZsS,IAAK3f,KAAK+hB,MAKVxkB,MAAOyC,KAAK+hB,IACZpC,IAAK3f,KAAKqN,MAItBmuH,EAAOhgI,UAAU0rI,aAAe,SAAUtxH,GAEtC,GAAI5V,KAAK+hB,MAAQ/hB,KAAKqN,IAClB,MAAO,IAEX,IAAyB,eAArBrN,KAAKk+H,YAA8B,CACnC,GAAI3wH,GAAOqI,EAAS9H,EAAI9N,KAAKnG,QAAQ8S,wBAAwBY,KACzDzR,EAAMkE,KAAKnG,QAAQiL,YAAc,GACrC9E,MAAK8pB,IAAOvc,EAAOzR,MAElB,CACD,GAAIqrI,GAAQvxH,EAAS7H,EAAI/N,KAAKnG,QAAQ8S,wBAAwBc,IAC1D3R,EAAMkE,KAAKnG,QAAQgqD,aAAe,GACtC7jD,MAAK8pB,IAAM,IAAOq9G,EAAQrrI,EAE9B,GAAIguB,GAAM9pB,KAAKonI,qBAAqBpnI,KAAK8pB,IAgBzC,OAfIA,GAAM,EACNA,EAAM,EAEDA,EAAM,MACXA,EAAM,KAEN9pB,KAAKuP,WAAkC,aAArBvP,KAAKk+H,cACvBp0G,EAAM,IAAMA,GAES,eAArB9pB,KAAKk+H,YACCl+H,KAAKnG,QAAQ8S,wBAAwB8K,OAASqS,EAAM,KAGpD9pB,KAAKnG,QAAQ8S,wBAAwB6K,QAAUsS,EAAM,MAInE0xG,EAAOhgI,UAAU4rI,qBAAuB,SAAUpqI,GAC5B,IAAdgD,KAAK+5B,OACL/5B,KAAK+5B,KAAO,EAEhB,IAAIstG,GAAevnH,WAAWpd,EAAW1C,KAAK+5B,SAAYja,WAAWpd,EAAW1C,KAAKqN,MAAQyS,WAAWpd,EAAW1C,KAAK+hB,OAAS,KAC7HulH,EAAStqI,EAAQoQ,KAAKE,IAAI+5H,EAS9B,OARe,KAAXC,IACKD,EAAc,EAAKC,EACpBtqI,GAASsqI,EAGTtqI,GAASoQ,KAAKE,IAAI+5H,GAAeC,GAGlCtqI,GAEXw+H,EAAOhgI,UAAU+I,IAAM,SAAU6qC,EAAGtX,EAAGyvG,GACnC,GACIz5H,GAAIV,KAAKooH,IAAI,GAAiB,EAQlC,OANI+R,IACOn6H,KAAKknG,MAAMllE,EAAIthC,GAAKV,KAAKknG,MAAMx8E,EAAIhqB,IAAMA,GAGzCV,KAAKknG,MAAMllE,EAAIthC,GAAKV,KAAKknG,MAAMx8E,EAAIhqB,IAAMA,GAIxD0tH,EAAOhgI,UAAU84G,MAAQ,SAAUllE,GAC/B,GAAIo4F,GAAIxnI,KAAK+5B,KAAKp5B,WAAWzD,MAAM,IACnC,OAAOsqI,GAAE,GAAK1nH,WAAWsvB,EAAErvB,QAAQynH,EAAE,GAAGjvI,SAAW6U,KAAKknG,MAAMllE,IAElEosF,EAAOhgI,UAAUisI,gBAAkB,SAAUhxH,GACzC,GAAIqT,GACAulB,EAAOvvB,WAAWpd,EAAW1C,KAAKqN,MAAQyS,WAAWpd,EAAW1C,KAAK+hB,KAQzE,OANI+H,GADqB,eAArB9pB,KAAKk+H,YACEznH,EAAMzW,KAAKnG,QAAQ8S,wBAAwB8K,MAAS43B,EAGpD54B,EAAMzW,KAAKnG,QAAQ8S,wBAAwB6K,OAAU63B,EAEpDrvC,KAAKuE,IAAIulB,EAAKhK,WAAW9f,KAAK+hB,IAAIphB,aAAa,IAG/D66H,EAAOhgI,UAAUksI,eAAiB,SAAUtmF,GACxCA,EAAIj6B,gBACJ,IAAI1Q,EACa,eAAb2qC,EAAIrnD,MAAqC,UAAbqnD,EAAIrnD,KAChC0c,GAAQ3I,EAAGszC,EAAImF,QAASx4C,EAAGqzC,EAAIoF,SAEb,eAAbpF,EAAIrnD,OACT0c,GAAQ3I,EAAGszC,EAAIG,eAAe,GAAGgF,QAASx4C,EAAGqzC,EAAIG,eAAe,GAAGiF,SAEvE,IAAImhF,GAAY3nI,KAAKknI,aAAazwH,GAC9BmxH,EAAY5nI,KAAKynI,gBAAgBE,EACrC,IAAkB,UAAd3nI,KAAKjG,MAAqBiG,KAAKq/H,WAAasI,EAAcA,EAAY3nI,KAAKo/H,WAC3Ep/H,KAAKm/H,aAAe,EACdn/H,KAAKk7H,OAAOt0G,SAAW5mB,KAAKk7H,OAAO+L,iBACjCjnI,KAAKk7H,OAAOt0G,UAEZghH,GADI5qI,EAAQgD,KAAK+kI,yBAAyB6C,EAAW5nI,KAAKk7H,OAAOgK,SAAUllI,KAAKk7H,OAAOiK,SACrE,GAClBwC,EAAY3qI,EAAM,IAEtBgD,KAAKq+H,aAAa7lI,UAAU+L,IAAImjG,GAAWkzB,oBAC3C56H,KAAKq/H,WAAar/H,KAAK4mI,cAAgBe,EACvC3nI,KAAKygI,WAAamH,GAEtB5nI,KAAKwmI,eACLxmI,KAAKq+H,aAAah8H,YAEjB,CAED,GADArC,KAAKm/H,aAAe,GACdn/H,KAAKk7H,OAAOt0G,UAAW5mB,KAAKk7H,OAAO8L,iBAAmB,CACxD,GAAIhnI,KAAKk7H,OAAOt0G,QAAS,CACrB,GAAI5pB,GAAQgD,KAAK+kI,yBAAyB6C,EAAW5nI,KAAKk7H,OAAO8J,SAAUhlI,KAAKk7H,OAAO+J,OACvF2C,GAAY5qI,EAAM,GAClB2qI,EAAY3qI,EAAM,GAEtBgD,KAAKo+H,YAAY5lI,UAAU+L,IAAImjG,GAAWkzB,oBAC1C56H,KAAKo/H,WAAap/H,KAAKomI,cAAgBuB,EACvC3nI,KAAKqgI,WAAauH,EAEtB5nI,KAAKwmI,eACLxmI,KAAKo+H,YAAY/7H,QAEjBrC,KAAKk9H,YAAcl9H,KAAKqjG,QAAQ1+F,YACW,IAAtB3E,KAAKm/H,aAAqBn/H,KAAK+8H,oBAAsB/8H,KAAKg9H,sBAChExkI,UAAU+L,IAAImjG,GAAWgyB,sBAE5C,IAAI3rB,GAAiB/tG,KAAKnG,QAAQiJ,cAAc,IAAM4kG,GAAWwyB,gBAC7DnsB,IAAkB/tG,KAAKs/H,cAAgBvxB,GACvCA,EAAev1G,UAAUkM,OAAOgjG,GAAWwyB,gBAE/C,IAAIh5E,GAA+B,IAAtBlhD,KAAKm/H,aAAqBn/H,KAAKo+H,YAAcp+H,KAAKq+H,YAC/D,IAAIj9E,EAAIv4C,SAAWq4C,EAMf,OALIlhD,KAAKk9H,YAAel9H,KAAKqjG,QAAQ1+F,WAChC3E,KAAKs/H,YAAY9mI,UAAUC,SAASivG,GAAWwyB,kBAChDl6H,KAAK8iI,qBAET9iI,MAAK4/H,kBAGT,IAAK5/H,KAAK6nI,mBAAmBD,GAA7B,CAGA,GAAIjM,GAAa37H,KAAKk9H,YAAcl9H,KAAKqjG,QAAQ1+F,UAC7C3E,KAAK47H,4BAA8B57H,KAAK27H,UAC5C37H,MAAKs/H,YAAY16H,MAAM+2H,WAAaA,EAAWz6E,OAC7B,YAAdlhD,KAAKjG,OACLiG,KAAKu4H,SAAS3zH,MAAM+2H,WAAaA,EAAWpD,UAEhDv4H,KAAKqmI,oBACa,YAAdrmI,KAAKjG,MACLiG,KAAKslI,gBAGb9J,EAAOhgI,UAAUknI,qBAAuB,WAChC1iI,KAAKqjG,QAAQ1+F,YACb3E,KAAK+/H,eACiB,IAAtB//H,KAAKm/H,aAAqBn/H,KAAKw/H,gBAAgBnhF,QAAQr+C,KAAKo+H,aACxDp+H,KAAKy/H,iBAAiBphF,QAAQr+C,KAAKq+H,gBAG/C7C,EAAOhgI,UAAU2lI,WAAa,SAAU5kI,GAGpC,GAFAA,EAAM4qB,iBACNnnB,KAAKolI,qBACa,UAAdplI,KAAKjG,MAAoBiG,KAAKokD,MAAQ7nD,EAAMsM,SAAW7I,KAAKu4H,SAAU,CACtE,GAAIuP,OAAW,GACXC,MAAW,EACI,eAAfxrI,EAAMxC,MAC+B+tI,GAArC9kI,GAAMzG,EAAMgqD,QAAShqD,EAAMiqD,UAAwB,GAAIuhF,EAAW/kI,EAAG,IAEjD,eAAfzG,EAAMxC,OAC8D+tI,GAAzEzjI,GAAM9H,EAAMglD,eAAe,GAAGgF,QAAShqD,EAAMglD,eAAe,GAAGiF,UAAwB,GAAIuhF,EAAW1jI,EAAG,IAEpF,eAArBrE,KAAKk+H,aACLl+H,KAAKgoI,gBAAkBF,EAAW9nI,KAAKu4H,SAAS5rH,wBAAwBY,KACxEvN,KAAKioI,iBAAmBjoI,KAAKu4H,SAAS5rH,wBAAwBa,MAAQs6H,IAGtE9nI,KAAKgoI,gBAAkBD,EAAW/nI,KAAKu4H,SAAS5rH,wBAAwBc,IACxEzN,KAAKioI,iBAAmBjoI,KAAKu4H,SAAS5rH,wBAAwBe,OAASq6H,GAE3E/nI,KAAKkoI,QAAUloI,KAAKygI,WAAazgI,KAAKqgI,WACtCrgI,KAAKs/H,YAAYj9H,QACjBoD,GAAalB,IAAIxJ,SAAU,sBAAuBiF,KAAKmoI,iBAAkBnoI,MACzEyF,GAAalB,IAAIxJ,SAAU,mBAAoBiF,KAAKooI,eAAgBpoI,UAGpEA,MAAK0nI,eAAenrI,GACpBkJ,GAAalB,IAAIxJ,SAAU,sBAAuBiF,KAAKqoI,cAAeroI,MACtEyF,GAAalB,IAAIxJ,SAAU,mBAAoBiF,KAAKsoI,YAAatoI,KAErE,IAAIgD,GAAIqB,GAEZm3H,EAAOhgI,UAAU+sI,kBAAoB,SAAUC,EAAaC,EAAaC,GAChD,IAAjBA,GACA1oI,KAAKqgI,WAAaoI,EAClBzoI,KAAKygI,WAAazgI,KAAKqgI,WAAargI,KAAKkoI,SAEnB,IAAjBQ,IACL1oI,KAAKygI,WAAagI,EAClBzoI,KAAKqgI,WAAargI,KAAKygI,WAAazgI,KAAKkoI,SAE7CloI,KAAKo/H,WAAap/H,KAAKwlI,oBAAoBxlI,KAAKqgI,YAChDrgI,KAAKq/H,WAAar/H,KAAKwlI,oBAAoBxlI,KAAKygI,aAEpDjF,EAAOhgI,UAAU2sI,iBAAmB,SAAU5rI,GACvB,cAAfA,EAAMxC,MACNwC,EAAM4qB,gBAEV,IAAI1Q,EACJzW,MAAKu4H,SAAS3zH,MAAM+2H,WAAa,OACjC37H,KAAKo+H,YAAYx5H,MAAM+2H,WAAa,OACpC37H,KAAKq+H,aAAaz5H,MAAM+2H,WAAa,MACrC,IAAImM,GACAC,CAOJ,IANmB,cAAfxrI,EAAMxC,MAC+B+tI,GAArC9kI,GAAMzG,EAAMgqD,QAAShqD,EAAMiqD,UAAwB,GAAIuhF,EAAW/kI,EAAG,KAGI8kI,GAAzEzjI,GAAM9H,EAAMglD,eAAe,GAAGgF,QAAShqD,EAAMglD,eAAe,GAAGiF,UAAwB,GAAIuhF,EAAW1jI,EAAG,MAEvGrE,KAAKk7H,OAAOt0G,SAAW5mB,KAAKk7H,OAAO8L,kBAAuBhnI,KAAKk7H,OAAOt0G,SAAW5mB,KAAKk7H,OAAO+L,gBAAiB,CAiBhH,GAZIxwH,EAJCzW,KAAKuP,WAIEzB,EAAGg6H,EAAW9nI,KAAKioI,iBAAkBl6H,EAAGg6H,EAAW/nI,KAAKioI,mBAHxDn6H,EAAGg6H,EAAW9nI,KAAKgoI,gBAAiBj6H,EAAGg6H,EAAW/nI,KAAKioI,kBAKnEjoI,KAAKo/H,WAAap/H,KAAKknI,aAAazwH,GACpCzW,KAAKqgI,WAAargI,KAAKynI,gBAAgBznI,KAAKo/H,YAKxC3oH,EAJCzW,KAAKuP,WAIEzB,EAAGg6H,EAAW9nI,KAAKgoI,gBAAiBj6H,EAAGg6H,EAAW/nI,KAAKgoI,kBAHvDl6H,EAAGg6H,EAAW9nI,KAAKioI,iBAAkBl6H,EAAGg6H,EAAW/nI,KAAKgoI,iBAKpEhoI,KAAKq/H,WAAar/H,KAAKknI,aAAazwH,GACpCzW,KAAKygI,WAAazgI,KAAKynI,gBAAgBznI,KAAKq/H,YACxCr/H,KAAKk7H,OAAOt0G,QAAS,CACrB,GAAI5pB,GAAQgD,KAAK+kI,yBAAyB/kI,KAAKqgI,WAAYrgI,KAAKk7H,OAAO8J,SAAUhlI,KAAKk7H,OAAO+J,OAC7FjlI,MAAKqgI,WAAarjI,EAAM,GACxBgD,KAAKo/H,WAAapiI,EAAM,GACpBgD,KAAKqgI,aAAergI,KAAKk7H,OAAO+J,QAChCjlI,KAAKuoI,kBAAkBvoI,KAAKqgI,WAAYrgI,KAAKk7H,OAAO+J,OAAQ,GAE5DjlI,KAAKqgI,aAAergI,KAAKk7H,OAAO8J,UAChChlI,KAAKuoI,kBAAkBvoI,KAAKqgI,WAAYrgI,KAAKk7H,OAAO8J,SAAU,GAElEhoI,EAAQgD,KAAK+kI,yBAAyB/kI,KAAKygI,WAAYzgI,KAAKk7H,OAAOgK,SAAUllI,KAAKk7H,OAAOiK,QACzFnlI,KAAKygI,WAAazjI,EAAM,GACxBgD,KAAKq/H,WAAariI,EAAM,GACpBgD,KAAKygI,aAAezgI,KAAKk7H,OAAOgK,UAChCllI,KAAKuoI,kBAAkBvoI,KAAKygI,WAAYzgI,KAAKk7H,OAAOgK,SAAU,GAE9DllI,KAAKygI,aAAezgI,KAAKk7H,OAAOiK,QAChCnlI,KAAKuoI,kBAAkBvoI,KAAKygI,WAAYzgI,KAAKk7H,OAAOiK,OAAQ,GAGhEnlI,KAAKygI,aAAezgI,KAAKqN,KACzBrN,KAAKuoI,kBAAkBvoI,KAAKygI,WAAYzgI,KAAKqN,IAAK,GAElDrN,KAAKqgI,aAAergI,KAAK+hB,KACzB/hB,KAAKuoI,kBAAkBvoI,KAAKqgI,WAAYrgI,KAAK+hB,IAAK,GAG1D/hB,KAAKm/H,aAAe,EACpBn/H,KAAKqmI,oBACDrmI,KAAKqjG,QAAQ1+F,YACT3E,KAAKk9H,WACJl9H,KAAK+8H,oBAAoBvkI,UAAUC,SAASivG,GAAW+xB,qBACpDz5H,KAAK0iI,uBADsE1iI,KAAK2/H,sBAInF3/H,KAAK+8H,oBAA2C/8H,KAAK0iI,uBAA1B1iI,KAAKqiI,eAGzCriI,KAAKm/H,aAAe,EACpBn/H,KAAKqmI,oBACDrmI,KAAKqjG,QAAQ1+F,YACT3E,KAAKk9H,WACJl9H,KAAKg9H,qBAAqBxkI,UAAUC,SAASivG,GAAW+xB,qBACrDz5H,KAAK0iI,uBADuE1iI,KAAK2/H,sBAIpF3/H,KAAKg9H,qBAA4Ch9H,KAAK0iI,uBAA1B1iI,KAAKqiI,eAG1CriI,KAAKslI,aACL,IAAItiI,GAAIqB,GAEZm3H,EAAOhgI,UAAU8sI,YAAc,WAC3BtoI,KAAKgjI,YAAY,WACjBhjI,KAAK8/H,iBACL9/H,KAAKo+H,YAAY5lI,UAAUkM,OAAOgjG,GAAWkzB,oBAC3B,UAAd56H,KAAKjG,MACLiG,KAAKq+H,aAAa7lI,UAAUkM,OAAOgjG,GAAWkzB,oBAE9C56H,KAAKqjG,QAAQ1+F,YACe,WAAxB3E,KAAKqjG,QAAQ45B,QACbj9H,KAAK6/H,eAEJ7/H,KAAKk9H,cACiC,IAAtBl9H,KAAKm/H,aAAqBn/H,KAAKw/H,gBAAkBx/H,KAAKy/H,kBAC5DjmG,WAAc13B,MAAQupG,OAAQ,QAAUjpG,OAASipG,OAAQ,WAGxErrG,KAAKk9H,aACLl9H,KAAKs/H,YAAY9mI,UAAUkM,OAAO,sBAC9B1E,KAAKqjG,QAAQ1+F,YAC8B,IAAtB3E,KAAKm/H,aAAqBn/H,KAAK+8H,oBAAsB/8H,KAAKg9H,sBAChExkI,UAAUkM,OAAOgjG,GAAWgyB,wBAGnDj0H,GAAaf,OAAO3J,SAAU,sBAAuBiF,KAAKqoI,eAC1D5iI,GAAaf,OAAO3J,SAAU,mBAAoBiF,KAAKsoI,cAE3D9M,EAAOhgI,UAAU6sI,cAAgB,SAAUjnF,GACtB,cAAbA,EAAIrnD,MACJqnD,EAAIj6B,gBAER,IAAI1Q,EAEAA,GADa,cAAb2qC,EAAIrnD,MACI+T,EAAGszC,EAAImF,QAASx4C,EAAGqzC,EAAIoF,UAGvB14C,EAAGszC,EAAIG,eAAe,GAAGgF,QAASx4C,EAAGqzC,EAAIG,eAAe,GAAGiF,QAEvE,IAAImhF,GAAY3nI,KAAKknI,aAAazwH,GAC9BmxH,EAAY5nI,KAAKynI,gBAAgBE,EAErC,IADAA,EAAYv6H,KAAKknG,MAAMqzB,GACL,UAAd3nI,KAAKjG,MAA0C,IAAtBiG,KAAKm/H,aAAoB,CAClD,IAAMn/H,KAAKk7H,OAAOt0G,UAAW5mB,KAAKk7H,OAAO8L,iBAAmB,CACxD,GAAIhnI,KAAKk7H,OAAOt0G,QAAS,CACrB,GAAI+hH,GAAkB3oI,KAAK+kI,yBAAyB6C,EAAW5nI,KAAKk7H,OAAO8J,SAAUhlI,KAAKk7H,OAAO+J,OACjG0C,GAAYgB,EAAgB,GAC5Bf,EAAYe,EAAgB,GAEhC3oI,KAAKo/H,WAAauI,EAClB3nI,KAAKqgI,WAAauH,EAEtB5nI,KAAKo+H,YAAY5lI,UAAU+L,IAAImjG,GAAWkzB,oBAE9C,GAAkB,UAAd56H,KAAKjG,KACL,GAA0B,IAAtBiG,KAAKm/H,aACLn/H,KAAKo+H,YAAY5lI,UAAU+L,IAAImjG,GAAWkzB,oBACpC56H,KAAKk7H,OAAOt0G,SAAW5mB,KAAKk7H,OAAO8L,mBACjCW,EAAY3nI,KAAKq/H,aACjBsI,EAAY3nI,KAAKq/H,WACjBuI,EAAY5nI,KAAKygI,YAEjBkH,IAAc3nI,KAAKomI,gBACfpmI,KAAKk7H,OAAOt0G,UAEZghH,GADI5qI,EAAQgD,KAAK+kI,yBAAyB6C,EAAW5nI,KAAKk7H,OAAO8J,SAAUhlI,KAAKk7H,OAAO+J,SACrE,GAClB0C,EAAY3qI,EAAM,IAEtBgD,KAAKo/H,WAAap/H,KAAKomI,cAAgBuB,EACvC3nI,KAAKqgI,WAAauH,EAClB5nI,KAAKm/H,aAAe,QAI3B,IAA0B,IAAtBn/H,KAAKm/H,eACVn/H,KAAKq+H,aAAa7lI,UAAU+L,IAAImjG,GAAWkzB,sBACrC56H,KAAKk7H,OAAOt0G,SAAW5mB,KAAKk7H,OAAO+L,iBACjCU,EAAY3nI,KAAKo/H,aACjBuI,EAAY3nI,KAAKo/H,WACjBwI,EAAY5nI,KAAKqgI,YAEjBsH,IAAc3nI,KAAK4mI,iBAAe,CAClC,GAAI5mI,KAAKk7H,OAAOt0G,QAAS,CACrB,GAAI5pB,GAAQgD,KAAK+kI,yBAAyB6C,EAAW5nI,KAAKk7H,OAAOgK,SAAUllI,KAAKk7H,OAAOiK,OACvFyC,GAAY5qI,EAAM,GAClB2qI,EAAY3qI,EAAM,GAEtBgD,KAAKq/H,WAAar/H,KAAK4mI,cAAgBe,EACvC3nI,KAAKygI,WAAamH,EAClB5nI,KAAKm/H,aAAe,EAKpC,GAAKn/H,KAAK6nI,mBAAmBD,GAA7B,CAGA5nI,KAAKs/H,YAAY16H,MAAM+2H,WAAa37H,KAAK67H,eACvB,YAAd77H,KAAKjG,OACLiG,KAAKu4H,SAAS3zH,MAAM+2H,WAAa,QAErC37H,KAAKqmI,qBACDrmI,KAAKk9H,YAAel9H,KAAKqjG,QAAQ1+F,WAChC3E,KAAKs/H,YAAY9mI,UAAUC,SAASivG,GAAWwyB,kBAChDl6H,KAAK8iI,gBAET,IAAIhG,GAAuC,IAAtB98H,KAAKm/H,aAAqBn/H,KAAK+8H,oBAAsB/8H,KAAKg9H,oBAC3Eh9H,MAAKqjG,QAAQ1+F,YACT3E,KAAKk9H,WACJJ,EAAetkI,UAAUC,SAASivG,GAAW+xB,qBAC1Cz5H,KAAK0iI,uBAD4D1iI,KAAK2/H,sBAIzE7C,EAAsC98H,KAAK0iI,uBAA1B1iI,KAAKqiI,eAGb,YAAdriI,KAAKjG,MACLiG,KAAKslI,gBAGb9J,EAAOhgI,UAAU4sI,eAAiB,SAAU7rI,GACxCyD,KAAKgjI,YAAY,WACbhjI,KAAKqjG,QAAQ1+F,YACe,WAAxB3E,KAAKqjG,QAAQ45B,QAAwBj9H,KAAKk9H,aAC1Cl9H,KAAKm/H,aAAe,EACpBn/H,KAAKw/H,gBAAgBhmG,WAAc13B,MAAQupG,OAAQ,QAAUjpG,OAASipG,OAAQ,UAAW5+F,SAAU,MACnGzM,KAAK6/H,eACL7/H,KAAKm/H,aAAe,EACpBn/H,KAAKy/H,iBAAiBjmG,WAAc13B,MAAQupG,OAAQ,QAAUjpG,OAASipG,OAAQ,UAAW5+F,SAAU,MACpGzM,KAAK6/H,iBAGbp6H,GAAaf,OAAO3J,SAAU,sBAAuBiF,KAAKmoI,kBAC1D1iI,GAAaf,OAAO3J,SAAU,mBAAoBiF,KAAKooI,iBAE3D5M,EAAOhgI,UAAUqsI,mBAAqB,SAAU7B,GAC5C,GAAkB,UAAdhmI,KAAKjG,MAIL,GAAIisI,KAHchmI,KAAKuP,WAAkC,aAArBvP,KAAKk+H,YAAoD,IAAtBl+H,KAAKm/H,aACxEn/H,KAAK29H,YAAY,GAAK39H,KAAK29H,YAAY,GAChB,IAAtB39H,KAAKm/H,aAAqBn/H,KAAK29H,YAAY,GAAK39H,KAAK29H,YAAY,IAElE,MAAO,OAIX,IAAIqI,IAAiBhmI,KAAK29H,YACtB,MAAO,EAGf,OAAO,IAEXnC,EAAOhgI,UAAUkkI,eAAiB,WAC1B1/H,KAAKqjG,QAAQ1+F,WAAa3E,KAAKw/H,kBAC/Bx/H,KAAK+/H,eACL//H,KAAKw/H,gBAAgBnhF,QAAQr+C,KAAKo+H,aAChB,UAAdp+H,KAAKjG,MACLiG,KAAKy/H,iBAAiBphF,QAAQr+C,KAAKq+H,gBAI/C7C,EAAOhgI,UAAU6mI,YAAc,WACvBriI,KAAKqjG,QAAQ1+F,WAAa3E,KAAKw/H,kBAC/Bx/H,KAAK+/H,eACD//H,KAAKk9H,WACLl9H,KAAK2/H,sBAGqB,IAAtB3/H,KAAKm/H,aACLn/H,KAAKw/H,gBAAgB19H,KAAK9B,KAAKo+H,aAG/Bp+H,KAAKy/H,iBAAiB39H,KAAK9B,KAAKq+H,gBAKhD7C,EAAOhgI,UAAUumH,QAAU,SAAUxlH,GACjC,OAAQA,EAAM7E,SACV,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACD6E,EAAM4qB,iBACNnnB,KAAK4iI,YAAYrmI,GACbyD,KAAKqjG,QAAQ1+F,WAAqC,WAAxB3E,KAAKqjG,QAAQ45B,SAAwBj9H,KAAKk9H,YACpEl9H,KAAK6/H,iBAKrBrE,EAAOhgI,UAAUotI,cAAgB,SAAU/0H,GAClCA,GAWDpO,GAAaf,OAAO1E,KAAK+hI,SAAU,wBAAyB/hI,KAAKmiI,gBACjE18H,GAAaf,OAAO1E,KAAKgiI,UAAW,wBAAyBhiI,KAAKmiI,gBAClE18H,GAAaf,OAAO1E,KAAK+hI,SAAU,uBAAwB/hI,KAAK2iI,oBAChEl9H,GAAaf,OAAO1E,KAAK+hI,SAAU,sCAAuC/hI,KAAK+iI,iBAC/Et9H,GAAaf,OAAO1E,KAAKgiI,UAAW,uBAAwBhiI,KAAK2iI,oBACjEl9H,GAAaf,OAAO1E,KAAKgiI,UAAW,sCAAuChiI,KAAK+iI,iBAChFt9H,GAAaf,OAAO1E,KAAK+hI,SAAU,WAAY/hI,KAAK6oI,gBACpDpjI,GAAaf,OAAO1E,KAAKgiI,UAAW,WAAYhiI,KAAK6oI,kBAjBrDpjI,GAAalB,IAAIvE,KAAK+hI,SAAU,wBAAyB/hI,KAAKmiI,eAAgBniI,MAC9EyF,GAAalB,IAAIvE,KAAKgiI,UAAW,wBAAyBhiI,KAAKmiI,eAAgBniI,MAC/EyF,GAAalB,IAAIvE,KAAK+hI,SAAU,uBAAwB/hI,KAAK2iI,mBAAoB3iI,MACjFyF,GAAalB,IAAIvE,KAAK+hI,SAAU,sCAAuC/hI,KAAK+iI,gBAAiB/iI,MAC7FyF,GAAalB,IAAIvE,KAAKgiI,UAAW,uBAAwBhiI,KAAK2iI,mBAAoB3iI,MAClFyF,GAAalB,IAAIvE,KAAKgiI,UAAW,sCAAuChiI,KAAK+iI,gBAAiB/iI,MAC9FyF,GAAalB,IAAIvE,KAAK+hI,SAAU,WAAY/hI,KAAK6oI,eAAgB7oI,MACjEyF,GAAalB,IAAIvE,KAAKgiI,UAAW,WAAYhiI,KAAK6oI,eAAgB7oI,QAa1Ew7H,EAAOhgI,UAAU0qB,WAAa,WAC1BlmB,KAAK8oI,SAAW9oI,KAAK+mI,SAAStrI,KAAKuE,MACnChE,OAAOU,iBAAiB,SAAUsD,KAAK8oI,UACnC9oI,KAAK4mB,UAAY5mB,KAAKyuH,WACtBhpH,GAAalB,IAAIvE,KAAKnG,QAAS,uBAAwBmG,KAAKmhI,WAAYnhI,MACxEyF,GAAalB,IAAIvE,KAAKm5H,gBAAiB,UAAWn5H,KAAK+hH,QAAS/hH,MAChEyF,GAAalB,IAAIvE,KAAKm5H,gBAAiB,QAASn5H,KAAK+oI,MAAO/oI,MAC5DyF,GAAalB,IAAIvE,KAAKnG,QAAS,WAAYmG,KAAK6oI,eAAgB7oI,MAChEyF,GAAalB,IAAIvE,KAAKm5H,gBAAiB,yCAA0Cn5H,KAAK4nG,MAAO5nG,MAC7FA,KAAK4+H,oBAAmB,GACN,UAAd5+H,KAAKjG,MACLiG,KAAKi/H,qBAAoB,GAEzBj/H,KAAKw9H,aACLx9H,KAAK4oI,eAAc,GAEvB5oI,KAAKkhI,0BAAyB,KAGtC1F,EAAOhgI,UAAUsrB,aAAe,WAC5BrhB,GAAaf,OAAO1E,KAAKnG,QAAS,uBAAwBmG,KAAKmhI,YAC/D17H,GAAaf,OAAO1E,KAAKm5H,gBAAiB,UAAWn5H,KAAK+hH,SAC1Dt8G,GAAaf,OAAO1E,KAAKm5H,gBAAiB,QAASn5H,KAAK+oI,OACxDtjI,GAAaf,OAAO1E,KAAKnG,QAAS,WAAYmG,KAAK6oI,gBACnDpjI,GAAaf,OAAO1E,KAAKm5H,gBAAiB,yCAA0Cn5H,KAAK4nG,OACzF5nG,KAAK4+H,oBAAmB,GACN,UAAd5+H,KAAKjG,MACLiG,KAAKi/H,qBAAoB,GAEzBj/H,KAAKw9H,aACLx9H,KAAK4oI,eAAc,GAEvB5oI,KAAKkhI,0BAAyB,IAElC1F,EAAOhgI,UAAUutI,MAAQ,SAAUxsI,GAC/B,GAAsB,IAAlBA,EAAM7E,SAAiB6E,EAAMsM,OAAOrQ,UAAUC,SAASivG,GAAW4wB,gBAClEt4H,KAAKolI,sBACA7oI,EAAMsM,OAAOrQ,UAAUC,SAASivG,GAAWwyB,kBAAkB,CAC1Dl6H,KAAKnG,QAAQiJ,cAAc,IAAM4kG,GAAWwyB,kBAC5Cl6H,KAAKnG,QAAQiJ,cAAc,IAAM4kG,GAAWwyB,iBAAiB1hI,UAAUkM,OAAOgjG,GAAWwyB,iBAE7F39H,EAAMsM,OAAOrQ,UAAU+L,IAAImjG,GAAWwyB,gBACtC,IAAInkH,GAAgBxZ,EAAMsM,OAAOkN,aAC7BA,KAAkB/V,KAAKnG,UACvBkc,EAAcjT,cAAc,IAAM4kG,GAAWkyB,aAAaphI,UAAU+L,IAAImjG,GAAWgzB,gBACjE,UAAd16H,KAAKjG,MAAkC,aAAdiG,KAAKjG,MAC9Bgc,EAAcjT,cAAc,IAAM4kG,GAAW6wB,UAAU//H,UAAU+L,IAAImjG,GAAWizB,iBAGtE,UAAd36H,KAAKjG,OACJwC,EAAMsM,uBAAwBrQ,UAAUC,SAASivG,GAAW4wB,cACzDt4H,KAAKm/H,aAAe,EAAIn/H,KAAKm/H,aAAe,GAEpDn/H,KAAKs/H,YAAYj9H,QACjBrC,KAAK4/H,mBACD5/H,KAAKqjG,QAAQ1+F,WAAqC,WAAxB3E,KAAKqjG,QAAQ45B,SAAwBj9H,KAAKk9H,YACpEl9H,KAAK6/H,eAIjB7/H,KAAKgjI,YAAY,YAErBxH,EAAOhgI,UAAUosG,MAAQ,SAAUrrG,GAC1BkB,EAAkBlB,KACA,cAAfA,EAAMxC,MAAuC,cAAfwC,EAAMxC,MAAuC,cAAfwC,EAAMxC,MACnD,gBAAfwC,EAAMxC,MAAyC,eAAfwC,EAAMxC,KACtCiG,KAAKm5H,gBAAgB3gI,UAAU+L,IAAImjG,GAAWqxB,aAG9C/4H,KAAKm5H,gBAAgB3gI,UAAUkM,OAAOgjG,GAAWqxB,eAI7DyC,EAAOhgI,UAAUqtI,eAAiB,SAAUtsI,GACxC,GAAIwD,GAAQC,IACZ,IAAIzD,EAAMysI,gBAAkBhpI,KAAKq+H,cAAgB9hI,EAAMysI,gBAAkBhpI,KAAKo+H,aAC1E7hI,EAAMysI,gBAAkBhpI,KAAKnG,SAAW0C,EAAMysI,gBAAkBhpI,KAAK+hI,UAAYxlI,EAAMysI,gBAAkBhpI,KAAKgiI,UAAW,CACzH,GAAIhiI,KAAKk9H,YAAcl9H,KAAKqjG,QAAQ1+F,UAAW,CAC3C,GAAIskI,GAAwBjpI,KAAK2gI,8BAA8B3gI,KAAK4gI,sBAChE9D,EAA+B,UAAd98H,KAAKjG,MAAoBiG,KAAK+8H,sBAC9C/8H,KAAK+8H,oBAAqB/8H,KAAKg9H,sBAChCkM,EAA+B,UAAdlpI,KAAKjG,MAAoBiG,KAAKo+H,cAAgBp+H,KAAKo+H,YAAap+H,KAAKq+H,cACtF8K,EAAyB,UAAdnpI,KAAKjG,MAAoBiG,KAAK2+H,sBACxC3+H,KAAK2+H,oBAAqB3+H,KAAKy+H,qBACpC3B,GAAe19H,QAAQ,SAAU09H,EAAgB5kI,GACzC4kI,IACAA,EAAel4H,MAAM+2H,WAAa57H,EAAM87H,eACxCiB,EAAe/9G,WAAWvmB,UAAUkM,OAAOgjG,GAAWszB,qBACtD8B,EAAe/9G,WAAWvmB,UAAU+L,IAAImjG,GAAWuzB,qBACnDiO,EAAehxI,GAAO0M,MAAMy8H,OAAS,eACrC6H,EAAehxI,GAAO0M,MAAMy8H,OAAS,OACrC8H,EAASjxI,GAAO0M,MAAMuJ,UAAY,WAClC2uH,EAAetkI,UAAUkM,OAAOgjG,GAAW+xB,qBACvCqD,EAAez3H,kBAAkBvM,UAAUP,OAAS,EACpDukI,EAAel4H,MAAMuJ,UAAY86H,EAAsBtrG,UAAY,eAGnEm/F,EAAel4H,MAAMuJ,UAAY86H,EAAsBtrG,UAAY,IAC/DsrG,EAAsBvmH,OAAS,eAEvCzqB,WAAW,WAAc6kI,EAAel4H,MAAM+2H,WAAa,QAAW,SAI9E37H,KAAKnG,QAAQiJ,cAAc,IAAM4kG,GAAWwyB,kBAC5Cl6H,KAAKnG,QAAQiJ,cAAc,IAAM4kG,GAAWwyB,iBAAiB1hI,UAAUkM,OAAOgjG,GAAWwyB,iBAEzFl6H,KAAKnG,QAAQiJ,cAAc,IAAM4kG,GAAWgzB,kBAC5C16H,KAAKnG,QAAQiJ,cAAc,IAAM4kG,GAAWgzB,gBAAgBliI,UAAUkM,OAAOgjG,GAAWgzB,gBACrE,UAAd16H,KAAKjG,MAAkC,aAAdiG,KAAKjG,OAC/BiG,KAAKnG,QAAQiJ,cAAc,IAAM4kG,GAAWizB,iBAC5C36H,KAAKnG,QAAQiJ,cAAc,IAAM4kG,GAAWizB,gBAAgBniI,UAAUkM,OAAOgjG,GAAWizB,iBAGhG36H,KAAKuyH,YAAYlwH,QACjBrC,KAAKuyH,YAAY6W,OACjBppI,KAAK+7H,kBAAmB,IAGhCP,EAAOhgI,UAAUqkI,aAAe,WACxB7/H,KAAKqjG,QAAQ1+F,YACb3E,KAAK+/H,eACqB,IAAtB//H,KAAKm/H,aACLn/H,KAAKw/H,gBAAgBp9H,QAGrBpC,KAAKy/H,iBAAiBr9H,UAIlCo5H,EAAOhgI,UAAUyxG,cAAgB,SAAUpzG,GACnCA,EAAQiB,YACRjB,EAAQiB,WAAW0K,YAAY3L,IAGvC2hI,EAAOhgI,UAAU6tI,iBAAmB,SAAUtvI,GACtCiG,KAAKk9H,YAAcl9H,KAAK2+H,sBACxB3+H,KAAKm5H,gBAAgB3gI,UAAUkM,OAAOgjG,GAAWiyB,gBACjD35H,KAAKitG,cAAcjtG,KAAK2+H,qBACxB3+H,KAAK+8H,wBAAsB3jI,GAC3B4G,KAAKuhI,+BAA6BnoI,GAC9B4G,KAAKy+H,uBACLz+H,KAAKitG,cAAcjtG,KAAKy+H,sBACxBz+H,KAAKg9H,yBAAuB5jI,GAC5B4G,KAAKwhI,gCAA8BpoI,KAGvC4G,KAAKqjG,QAAQ1+F,WAAa3E,KAAKk9H,YAC/Bl9H,KAAKm5H,gBAAgB3gI,UAAU+L,IAAImjG,GAAWiyB,gBAElD35H,KAAKitG,cAAcjtG,KAAKo+H,aACX,YAATrkI,IACa,UAATA,GACAiG,KAAKitG,cAAcjtG,KAAKq+H,cAE5Br+H,KAAKitG,cAAcjtG,KAAKu4H,WAExBv4H,KAAKqjG,QAAQ1+F,YAAclH,EAAkBuC,KAAKw/H,mBAClDx/H,KAAKw/H,gBAAgB3rH,UACR,UAAT9Z,GAAqB0D,EAAkBuC,KAAKy/H,mBAC5Cz/H,KAAKy/H,iBAAiB5rH,YAG1B7T,KAAKk7H,OAAOt0G,SAAoB,aAAT7sB,GAAgC,YAATA,KACzC0D,EAAkBuC,KAAKo7H,gBACxBp7H,KAAKitG,cAAcjtG,KAAKo7H,gBAGnB,UAATrhI,GACIiG,KAAKk7H,OAAOt0G,UACPnpB,EAAkBuC,KAAKo7H,gBAAmB39H,EAAkBuC,KAAKq7H,kBAClEr7H,KAAKitG,cAAcjtG,KAAKo7H,eACxBp7H,KAAKitG,cAAcjtG,KAAKq7H,kBAIpCr7H,KAAKq9H,iBACDr9H,KAAKk7H,OAAOt0G,SACZ5mB,KAAKs9H,iBAETt9H,KAAKo9H,aACLp9H,KAAKu9H,iBACLv9H,KAAK4+H,oBAAmB,GACN,UAAd5+H,KAAKjG,MACLiG,KAAKi/H,qBAAoB,GAE7Bj/H,KAAK5C,WACD4C,KAAKqjG,QAAQ1+F,YACb3E,KAAKi+H,gBACLj+H,KAAKkhI,0BAAyB,IAElClhI,KAAKspI,gBAET9N,EAAOhgI,UAAU+tI,UAAY,WAWzB,GAVKvpI,KAAKuP,WAA2B,UAAdvP,KAAKjG,OACxBiG,KAAKhD,OAASgD,KAAKygI,WAAYzgI,KAAKqgI,aAExCrgI,KAAKspI,eACDtpI,KAAKqjG,QAAQ1+F,YACb3E,KAAKw/H,gBAAgBnhF,QAAQr+C,KAAKo+H,aAChB,UAAdp+H,KAAKjG,MACLiG,KAAKy/H,iBAAiBphF,QAAQr+C,KAAKq+H,eAGvCr+H,KAAKw9H,YAAa,CAClB,GAAI0E,GAAaliI,KAAKuP,WAAkC,aAArBvP,KAAKk+H,WACxCn6H,GAAWm+H,EAAaliI,KAAKgiI,UAAYhiI,KAAK+hI,UAAYrP,aAAc,WAAYplE,MAAO,aAC3FvpD,EAAWm+H,EAAaliI,KAAK+hI,SAAW/hI,KAAKgiI,WAAatP,aAAc,WAAYplE,MAAO,eAGnGkuE,EAAOhgI,UAAUguI,kBAAoB,WACjCxpI,KAAKqpI,iBAAiBrpI,KAAKjG,OAE/ByhI,EAAOhgI,UAAU8tI,aAAe,WAC5BtpI,KAAKspG,eACLtpG,KAAK5C,WACD4C,KAAKqjG,QAAQ1+F,WACb3E,KAAK0/H,iBAEoB,SAAzB1/H,KAAKo8H,MAAM2B,WACP/9H,KAAKohG,KACLphG,KAAKitG,cAAcjtG,KAAKohG,IACxBphG,KAAKg+H,eAGbh+H,KAAKypI,wBAETjO,EAAOhgI,UAAUiuI,qBAAuB,WAChCzpI,KAAKk7H,OAAOt0G,SACRnpB,EAAkBuC,KAAKo7H,gBAAgC,UAAdp7H,KAAKjG,MAC9CiG,KAAKs9H,iBAEL7/H,EAAkBuC,KAAKo7H,gBAAkB39H,EAAkBuC,KAAKq7H,iBAAiC,UAAdr7H,KAAKjG,MACxFiG,KAAKs9H,iBAETt9H,KAAK89H,cACL99H,KAAK5C,aAGAK,EAAkBuC,KAAKo7H,gBACxB71H,EAAOvF,KAAKo7H,eAEX39H,EAAkBuC,KAAKq7H,iBACxB91H,EAAOvF,KAAKq7H,kBAQxBG,EAAOhgI,UAAUwjD,eAAiB,WAC9B,GAAIk4E,IAAa,QACjB,OAAOl3H,MAAKy/C,aAAay3E,IAQ7BsE,EAAOhgI,UAAUqY,QAAU,WACvB6kB,EAAOl9B,UAAUqY,QAAQjT,KAAKZ,MAC9BA,KAAK8mB,eACL9qB,OAAOY,oBAAoB,SAAUoD,KAAK8oI,UAC1CtkI,GAAaxE,KAAKm5H,kBAAmBzxB,GAAWwxB,iBAChDl5H,KAAKo+H,YAAY9xH,gBAAgB,oBACf,UAAdtM,KAAKjG,MACLiG,KAAKq+H,aAAa/xH,gBAAgB,oBAEtCtM,KAAKm5H,gBAAgBr+H,WAAWsK,aAAapF,KAAKnG,QAASmG,KAAKm5H,iBAChE5zH,EAAOvF,KAAKm5H,iBACRn5H,KAAKqjG,QAAQ1+F,YACb3E,KAAKw/H,gBAAgB3rH,UACH,UAAd7T,KAAKjG,MAAqB0D,EAAkBuC,KAAKy/H,mBACjDz/H,KAAKy/H,iBAAiB5rH,WAG9B7T,KAAKnG,QAAQW,UAAY,IAM7BghI,EAAOhgI,UAAU05B,kBAAoB,SAAUwF,EAASC,GAEpD,IAAK,GADD56B,GAAQC,KACH3B,EAAK,EAAG2E,EAAKzE,OAAOjB,KAAKo9B,GAAUr8B,EAAK2E,EAAGzK,OAAQ8F,IAExD,OADW2E,EAAG3E,IAEV,IAAK,WACD2B,KAAKmpG,YAAYxuE,EAAQrmB,SACzB,MACJ,KAAK,QACI7W,EAAkBk9B,EAAQ39B,QAAWS,EAAkBi9B,EAAQ19B,QAC5D29B,EAAQ39B,MAAM2D,aAAe+5B,EAAQ19B,MAAM2D,aAC3CX,KAAK5C,WACL4C,KAAK0/H,iBACa,UAAd1/H,KAAKjG,OACD4gC,EAAQ39B,MAAM,KAAO09B,EAAQ19B,MAAM,GACnCgD,KAAKm/H,aAAe,EAGpBn/H,KAAKm/H,aAAe,GAKpC,MACJ,KAAK,MACL,IAAK,OACL,IAAK,MACDn/H,KAAK0pI,gBACL,MACJ,KAAK,UACIjsI,EAAkBi9B,EAAQ2oE,UAAa5lG,EAAkBk9B,EAAQ0oE,UAClErjG,KAAK2pI,YAET,MACJ,KAAK,OACD3pI,KAAKqpI,iBAAiB1uG,EAAQ5gC,MAC9BiG,KAAK68H,WACL,MACJ,KAAK,YACGliG,EAAQprB,YAAcmrB,EAAQnrB,WAAkC,aAArBvP,KAAKk+H,cAChDl+H,KAAK04G,IAAM/9E,EAAQprB,UACnBvP,KAAKupI,YAET,MACJ,KAAK,SACDvpI,KAAKypI,sBACL,MACJ,KAAK,cACDzpI,KAAKwpI,mBACL,MACJ,KAAK,QACI/rI,EAAkBuC,KAAKm5H,gBAAgBr2H,cAAc,IAAM4kG,GAAWjoE,UACvEl6B,EAAOvF,KAAKohG,IACZ3iG,MAAMjD,UAAU4D,QAAQwB,KAAKZ,KAAKm5H,gBAAgB3gI,UAAW,SAAUkL,GAC/DA,EAAUwN,MAAM,aAChBnR,EAAMo5H,gBAAgB3gI,UAAUkM,OAAOhB,MAItB,SAAzB1D,KAAKo8H,MAAM2B,YACX/9H,KAAKg+H,cACLh+H,KAAK68H,YAET,MACJ,KAAK,SACG78H,KAAKw9H,aACLx9H,KAAKiiI,aAET,MACJ,KAAK,cACGvnG,EAAQ8iG,aACRx9H,KAAKy9H,aACLz9H,KAAK+mI,WACD/mI,KAAK4mB,UAAY5mB,KAAKyuH,UACtBzuH,KAAK4oI,eAAc,IAInB5oI,KAAK+hI,UAAY/hI,KAAKgiI,YACtBhiI,KAAKm5H,gBAAgB3zH,YAAYxF,KAAK+hI,UACtC/hI,KAAKm5H,gBAAgB3zH,YAAYxF,KAAKgiI,WACtChiI,KAAK+hI,aAAW3oI,GAChB4G,KAAKgiI,cAAY5oI,GAGzB,MACJ,KAAK,UACD4G,KAAK+6G,YACL,MACJ,KAAK,WACD/6G,KAAK4pI,aACL,MACJ,KAAK,cACD5pI,KAAK5C,WACL4C,KAAK+mI,aAKrBvL,EAAOhgI,UAAUouI,YAAc,WACvB5pI,KAAKyuH,UACLzuH,KAAK8mB,eACL9mB,KAAKm5H,gBAAgB3gI,UAAU+L,IAAImjG,GAAW+mB,YAG9CzuH,KAAKkmB,aACLlmB,KAAKm5H,gBAAgB3gI,UAAUkM,OAAOgjG,GAAW+mB,YAGzD+M,EAAOhgI,UAAUkuI,eAAiB,WAC9B,GAAI3pI,GAAQC,IACZA,MAAK5C,WACL4C,KAAK0/H,iBACAjiI,EAAkBuC,KAAKm5H,gBAAgBr2H,cAAc,IAAM4kG,GAAWjoE,SACnEz/B,KAAKohG,KACL77F,EAAOvF,KAAKohG,IACZ3iG,MAAMjD,UAAU4D,QAAQwB,KAAKZ,KAAKm5H,gBAAgB3gI,UAAW,SAAUkL,GAC/DA,EAAUwN,MAAM,aAChBnR,EAAMo5H,gBAAgB3gI,UAAUkM,OAAOhB,MAK1B,SAAzB1D,KAAKo8H,MAAM2B,YACX/9H,KAAKg+H,cACLh+H,KAAK68H,cAGbrB,EAAOhgI,UAAUqhI,UAAY,WACzB78H,KAAKo8G,OAAS,EACT3+G,EAAkBuC,KAAKo8H,QAAmC,SAAzBp8H,KAAKo8H,MAAM2B,YAC7C/9H,KAAKohG,GAAGx8F,MAAMw3G,OAAUp8G,KAAKo8G,QAAU,EAAK,GAC5Cp8G,KAAKnG,QAAQ+K,MAAMw3G,OAAUp8G,KAAKo8G,OAAS,EAAK,IAE/Cp8G,KAAKk9H,YAAez/H,EAAkBuC,KAAKo8H,QAAmC,SAAzBp8H,KAAKo8H,MAAM2B,YACjE/9H,KAAKnG,QAAQ+K,MAAMw3G,OAAUp8G,KAAKo8G,OAAS,EAAK,IAEpDp8G,KAAKo+H,YAAYx5H,MAAMw3G,OAAUp8G,KAAKo8G,OAAS,EAAK,GAClC,UAAdp8G,KAAKjG,OACLiG,KAAKq+H,aAAaz5H,MAAMw3G,OAAUp8G,KAAKo8G,OAAS,EAAK,KAG7Dof,EAAOhgI,UAAUmuI,WAAa,WAC1B3pI,KAAKqpI,iBAAiBrpI,KAAKjG,OAM/ByhI,EAAOhgI,UAAU0L,cAAgB,WAC7B,MAAO,UAEX+wB,IACIrvB,GAAS,OACV4yH,EAAOhgI,UAAW,YAAS,IAC9By8B,IACIrvB,GAAS,OACV4yH,EAAOhgI,UAAW,mBAAgB,IACrCy8B,IACIrvB,GAAS,IACV4yH,EAAOhgI,UAAW,WAAQ,IAC7By8B,IACIrvB,GAAS,IACV4yH,EAAOhgI,UAAW,UAAO,IAC5By8B,IACIrvB,GAAS,MACV4yH,EAAOhgI,UAAW,UAAO,IAC5By8B,IACIrvB,IAAS,IACV4yH,EAAOhgI,UAAW,eAAY,IACjCy8B,IACIrvB,GAAS,YACV4yH,EAAOhgI,UAAW,WAAQ,IAC7By8B,IACI5uB,MAAY4uH,KACbuD,EAAOhgI,UAAW,YAAS,IAC9By8B,IACI5uB,MAAY6uH,KACbsD,EAAOhgI,UAAW,aAAU,IAC/By8B,IACIrvB,IAAS,IACV4yH,EAAOhgI,UAAW,cAAW,IAChCy8B,IACIrvB,IAAS,IACV4yH,EAAOhgI,UAAW,gBAAa,IAClCy8B,IACI5uB,MAAY8uH,KACbqD,EAAOhgI,UAAW,cAAW,IAChCy8B,IACIrvB,IAAS,IACV4yH,EAAOhgI,UAAW,kBAAe,IACpCy8B,IACIrvB,IAAS,IACV4yH,EAAOhgI,UAAW,sBAAmB,IACxCy8B,IACIrvB,GAAS,eACV4yH,EAAOhgI,UAAW,kBAAe,IACpCy8B,IACIrvB,GAAS,KACV4yH,EAAOhgI,UAAW,eAAY,IACjCy8B,IACIxuB,MACD+xH,EAAOhgI,UAAW,cAAW,IAChCy8B,IACIxuB,MACD+xH,EAAOhgI,UAAW,aAAU,IAC/By8B,IACIxuB,MACD+xH,EAAOhgI,UAAW,cAAW,IAChCy8B,IACIxuB,MACD+xH,EAAOhgI,UAAW,qBAAkB,IACvCy8B,IACIxuB,MACD+xH,EAAOhgI,UAAW,oBAAiB,IACtCy8B,IACIxuB,MACD+xH,EAAOhgI,UAAW,oBAAiB,IACtCggI,EAASvjG,IACLluB,IACDyxH,IAEL59E,IF31FEnmB,GAAwC,WACxC,GAAIC,GAAgBn5B,OAAOo5B,iBACpBC,uBAA2Bn5B,QAAS,SAAUo5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAExwB,eAAeywB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOh4B,KAAKnC,YAAcg6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAEr8B,UAAkB,OAANs8B,EAAav5B,OAAOgN,OAAOusB,IAAME,EAAGx8B,UAAYs8B,EAAEt8B,UAAW,GAAIw8B,QAGnFC,GAA0C,SAAUC,EAAYrvB,EAAQxL,EAAK86B,GAC7E,GAA2HN,GAAvHO,EAAIn5B,UAAU1G,OAAQ8/B,EAAID,EAAI,EAAIvvB,EAAkB,OAATsvB,EAAgBA,EAAO55B,OAAO+5B,yBAAyBzvB,EAAQxL,GAAO86B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYrvB,EAAQxL,EAAK86B,OACpH,KAAK,GAAI9/B,GAAI6/B,EAAW3/B,OAAS,EAAGF,GAAK,EAAGA,KAASw/B,EAAIK,EAAW7/B,MAAIggC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAEhvB,EAAQxL,EAAKg7B,GAAKR,EAAEhvB,EAAQxL,KAASg7B,EAChJ,OAAOD,GAAI,GAAKC,GAAK95B,OAAO4K,eAAeN,EAAQxL,EAAKg7B,GAAIA,GAQ5DwxG,GAAiB,GAAIzvI,QAAO,mGAE5B0vI,GAAe,GAAI1vI,QAAO,uDAC1B2vI,GAAoB,GAAI3vI,QAAO,2DAC/B4vI,GAAkB,GAAI5vI,QAAO,YAC7B6vI,GAAiB,GAAI7vI,QAAO,qBAC5B8vI,GAAsB,GAAI9vI,QAAO,iBAMrC,SAAWm2H,GACPA,EAAYA,EAAqB,QAAI,GAAK,UAC1CA,EAAYA,EAAmB,MAAI,GAAK,SACzCA,KAAgBA,OAgBnB,IAAI4Z,IAA+B,SAAUzxG,GAGzC,QAASyxG,GAActwI,EAASwa,GAC5B,GAAItU,GAAQ24B,EAAO93B,KAAKZ,KAAMqU,EAASxa,IAAYmG,IAqCnD,IApCAD,EAAMqqI,aACNrqI,EAAMsqI,cACNtqI,EAAMuqI,aAAc,EACpBvqI,EAAMwqI,SAAW,WACjBxqI,EAAMyqI,YAAc,KACpBzqI,EAAMquB,aAAe,KACrBruB,EAAM0qI,YAAc,+DAKpB1qI,EAAM2qI,iBACFH,SAAU,0BACVI,MAAO,sCACP/6G,IAAK,4BACLiiE,KAAM,6BACN+4C,QAAS,qCACTC,WAAY,iCACZC,OAAQ,+BACR5lG,OAAQ,4BACR6lG,UAAW,4CACXC,UAAW,wCACXC,YAAa,4DACb9gG,MAAO,4CACP98B,IAAK,kDACL0U,IAAK,qDACL4iB,MAAO,gCACPumG,IAAK,qCACL7wI,QAAS,wCACT8wI,QAAS,yCAEc,KAAhBprI,EAAMqrI,QACbrrI,EAAMqrI,UAEVvxI,EAA6B,gBAAZA,GAAuB8L,EAAO9L,EAASkB,UAAYlB,EAE/C,MAAjBkG,EAAMlG,QASV,MARIkG,GAAMlG,QAAQgK,aAAa,aAAc,IACzC9D,EAAMsrI,cAAgBvlI,EAAU/F,EAAM0qI,YAAa1qI,EAAMlG,SACzDkG,EAAMurI,mBACNvrI,EAAMmmB,aAKHnmB,EAqnBX,MAtqBA03B,IAAU0yG,EAAezxG,GAmDzB6yG,EAAkBpB,EAOlBA,EAAc3uI,UAAUgwI,SAAW,SAAU54G,EAAMw4G,GAC3Cx4G,IACI5yB,KAAKorI,MAAM9jI,eAAesrB,GAC1Bj0B,EAAOqB,KAAKorI,MAAMx4G,GAAOw4G,MAGzBprI,KAAKorI,MAAMx4G,GAAQw4G,IAW/BjB,EAAc3uI,UAAUiwI,YAAc,SAAU74G,EAAMw4G,GAClD,GAAKx4G,GAASw4G,EAGT,GAAIprI,KAAKorI,MAAMx4G,KAAUw4G,QACnBprI,MAAKorI,MAAMx4G,OAEjB,CAAA,GAAKn1B,EAAkBuC,KAAKorI,MAAMx4G,IAASw4G,GAM5C,MALA,KAAK,GAAI/yI,GAAI,EAAGA,EAAI+yI,EAAM7yI,OAAQF,UACvB2H,MAAKorI,MAAMx4G,GAAMw4G,EAAM/yI,QAPlC2H,MAAKorI,UAoBbjB,EAAc3uI,UAAUu7D,SAAW,SAAU0iC,GACzC,GAAI2xC,GAAQ7sI,OAAOjB,KAAK0C,KAAKorI,MAC7B,IAAI3xC,GAAY2xC,EAAM7yI,OAGlB,MAFAyH,MAAK0rI,cAAcjyC,IAEiB,IAA7B2xC,EAAM5sI,QAAQi7F,IAEP,IAF2Bz5F,KAAKqqI,WAAWj1G,OAAO,SAAU34B,GACtE,MAAOA,GAAKm2B,OAAS6mE,IACtBlhG,MAGH,KAAK,GAAI8F,GAAK,EAAGstI,EAAUP,EAAO/sI,EAAKstI,EAAQpzI,OAAQ8F,IAAM,CACzD,GAAIutI,GAASD,EAAQttI,EACrB2B,MAAK0rI,cAAcE,GAEvB,MAAkC,KAA3B5rI,KAAKqqI,WAAW9xI,QAO/B4xI,EAAc3uI,UAAUmrD,MAAQ,WAC5B3mD,KAAKnG,QAAQ8sD,QACb3mD,KAAK6rI,aAOT1B,EAAc3uI,UAAUswI,gBAAkB,SAAUl5G,GAEhD,MADA5yB,MAAKouB,aAAgBzoB,EAAO,SAAWitB,EAAO,IAAK5yB,KAAKnG,SACjDmG,KAAKouB,cAMhB+7G,EAAc3uI,UAAUqY,QAAU,WAC9B7T,KAAK2mD,QACL3mD,KAAK8mB,eACL9mB,KAAKorI,QAEL,KAAK,GAAI/sI,GAAK,EAAGg7B,EADFvzB,EAAU,IAAM9F,KAAK+rI,WAAa,MAAQ/rI,KAAKgsI,WAAYhsI,KAAKnG,SACvCwE,EAAKg7B,EAAW9gC,OAAQ8F,IAC9Cg7B,EAAWh7B,GACjBqG,QAEZg0B,GAAOl9B,UAAUqY,QAAQjT,KAAKZ,OAKlCmqI,EAAc3uI,UAAU05B,kBAAoB,SAAUwF,EAASC,KAO/DwvG,EAAc3uI,UAAU0L,cAAgB,WACpC,MAAO,iBAEXijI,EAAc3uI,UAAUqwI,UAAY,WAChC7rI,KAAKqqI,cACLrqI,KAAKoqI,YAEL,KAAK,GAAI/rI,GAAK,EAAG4tI,EADFnmI,EAAU9F,KAAKyqI,YAAazqI,KAAKnG,SACRwE,EAAK4tI,EAAW1zI,OAAQ8F,IAAM,CAClE,GACIiV,GADU24H,EAAW5tI,EAEzBiV,GAAMhH,gBAAgB,gBACtBgH,EAAM9a,UAAUkM,OAAO1E,KAAK+rI,YACxBz4H,EAAMsf,KAAKr6B,OAAS,IACpByH,KAAK8rI,gBAAgBx4H,EAAMsf,MAC3B5yB,KAAKksI,gBAAgB54H,EAAMsf,MAC3B5yB,KAAKmsI,YAAY74H,EAAMsf,OAE3Btf,EAAM9a,UAAUkM,OAAO1E,KAAKgsI,cAGpC7B,EAAc3uI,UAAU8vI,iBAAmB,WAMvC,IAAK,GALDc,IAAY,WAAY,iBAAkB,QAAS,cAAe,YAAa,YAAa,UAAW,SACvG,UAAW,oBAAqB,OAAQ,kBAAmB,MAAO,MAAO,QAAS,UAAW,yBAC7F,yBAA0B,yBAA0B,qBAAsB,yBAA0B,sBACpG,sBAAuB,kBACvBC,GAAiB,SAAU,QAAS,MAAO,OAAQ,SAAU,OACxDhuI,EAAK,EAAG2E,EAAMhD,KAAmB,cAAE3B,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAI9D,IAAK,GAHDiV,GAAQtQ,EAAG3E,GAEXiuI,KACKjoI,EAAK,EAAGkoI,EAAaH,EAAU/nI,EAAKkoI,EAAWh0I,OAAQ8L,IAAM,CAClE,GAAImoI,GAAOD,EAAWloI,EACtB,IAAiC,OAA7BiP,EAAM7M,aAAa+lI,GACnB,OAAQA,GACJ,IAAK,WACDxsI,KAAKysI,QAAQn5H,EAAOg5H,EAASE,EAAMl5H,EAAMi3H,SACzC,MACJ,KAAK,kBACDiC,EAAOl5H,EAAM7M,aAAa+lI,GAC1BxsI,KAAKysI,QAAQn5H,EAAOg5H,EAASE,GAAM,EACnC,MACJ,KAAK,QAC0C,IAAvCH,EAAc7tI,QAAQ8U,EAAMvZ,OAC5BiG,KAAKysI,QAAQn5H,EAAOg5H,EAASh5H,EAAMvZ,MAAM,EAE7C,MACJ,KAAK,cACL,IAAK,QACDiG,KAAKysI,QAAQn5H,EAAOg5H,EAASE,EAAM/6G,KAAKC,MAAMpe,EAAM7M,aAAa+lI,IACjE,MACJ,KAAK,UACD,GAAI7oI,GAAK2P,EAAM7M,aAAa+lI,EAC5BxsI,MAAKysI,QAAQn5H,EAAOg5H,EAASE,EAAM7oI,EACnC,MACJ,SAC2C,SAAnC2P,EAAM7M,aAAa,YACnBzG,KAAK0sI,eAAep5H,EAAOg5H,EAASE,EAAMl5H,EAAM7M,aAAa+lI,IAG7DxsI,KAAKysI,QAAQn5H,EAAOg5H,EAASE,EAAMl5H,EAAM7M,aAAa+lI,KAMtC,IAAhCjuI,OAAOjB,KAAKgvI,GAAS/zI,QACrByH,KAAKwrI,SAASl4H,EAAMsf,KAAM05G,KAItCnC,EAAc3uI,UAAUkxI,eAAiB,SAAUp5H,EAAOq5H,EAASC,EAAU5vI,GACzE,GAAI0vI,GAAiBE,EAAS1vI,MAAM,KAChC2vI,GAAa,WAAY,aAAc,QAAS,YAAa,YAAa,QAAS,QAAS,WAC5FC,EAAgBJ,EAAeA,EAAen0I,OAAS,GACvDw0I,EAAiBL,EAAeA,EAAen0I,OAAS,EAC5D,KAA0C,IAAtCs0I,EAAUruI,QAAQsuI,GAClB,OAAQA,GACJ,IAAK,WACD9sI,KAAKysI,QAAQn5H,EAAOq5H,EAAS,WAAY3vI,EACzC,MACJ,KAAK,aACDgD,KAAKysI,QAAQn5H,EAAOq5H,EAAS,aAAc3vI,EAC3C,MACJ,KAAK,QACDgD,KAAKysI,QAAQn5H,EAAOq5H,EAAS,MAAO3vI,OAI3C,KAA2C,IAAvC6vI,EAAUruI,QAAQuuI,GACvB,OAAQA,GACJ,IAAK,YACD/sI,KAAKysI,QAAQn5H,EAAOq5H,EAAS,YAAa3vI,EAC1C,MACJ,KAAK,YACDgD,KAAKysI,QAAQn5H,EAAOq5H,EAAS,YAAa3vI,EAC1C,MACJ,KAAK,QACD,GAAIgwI,GAAW15H,EAAM7M,aAAa,sBAC9BwmI,EAAW35H,EAAM7M,aAAa,qBAClCzG,MAAKysI,QAAQn5H,EAAOq5H,EAAS,SAAUK,EAAUC,GACjD,MACJ,KAAK,UACD,GAAItpI,GAAK2P,EAAM7M,aAAammI,GAAU1vI,MAAM,IAC5C8C,MAAKysI,QAAQn5H,EAAOq5H,EAAS,UAAWhpI,EAAGA,EAAGpL,OAAS,GACvD,MACJ,KAAK,QACDyH,KAAKysI,QAAQn5H,EAAOq5H,EAAS,QAAS3vI,KAKtDmtI,EAAc3uI,UAAUixI,QAAU,SAAUn5H,EAAOq5H,EAASC,EAAU5vI,GAClE,GAAIkE,GAAUoS,EAAM7M,aAAa,QAAUmmI,EAAW,YAClDM,EAAoB55H,EAAM7M,aAAa,YAAcmmI,EACrD1rI,GACAlE,GAASA,EAAOkE,GAEXgsI,IACLlwI,GAASA,EAAOkwI,IAEpBP,EAAQC,GAAY5vI,GAGxBmtI,EAAc3uI,UAAU0qB,WAAa,WACjC,IAAK,GAAI7nB,GAAK,EAAG2E,EAAMhD,KAAmB,cAAE3B,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAC9D,GAAIiV,GAAQtQ,EAAG3E,EACXktI,GAAgB4B,YAAY75H,GAC5B7N,GAAalB,IAAI+O,EAAO,QAAStT,KAAKg/F,aAAch/F,MAE7B,WAAlBsT,EAAMhQ,QACXmC,GAAalB,IAAI+O,EAAO,SAAUtT,KAAK8/F,cAAe9/F,OAGtDyF,GAAalB,IAAI+O,EAAO,WAAYtT,KAAKi/F,gBAAiBj/F,MAC1DyF,GAAalB,IAAI+O,EAAO,QAAStT,KAAKyzH,aAAczzH,OAG5DyF,GAAalB,IAAIvE,KAAKnG,QAAS,SAAUmG,KAAKotI,cAAeptI,MAC7DyF,GAAalB,IAAIvE,KAAKnG,QAAS,QAASmG,KAAKknB,aAAclnB,OAG/DmqI,EAAc3uI,UAAUsrB,aAAe,WACnC,IAAK,GAAIzoB,GAAK,EAAG2E,EAAMhD,KAAmB,cAAE3B,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAC9D,GAAIiV,GAAQtQ,EAAG3E,EACfoH,IAAaC,YAAY4N,GAE7B7N,GAAaf,OAAO1E,KAAKnG,QAAS,SAAUmG,KAAKotI,eACjD3nI,GAAaf,OAAO1E,KAAKnG,QAAS,QAASmG,KAAKknB,eAGpDijH,EAAc3uI,UAAUyjG,gBAAkB,SAAU79F,GAChDpB,KAAKooB,QAAQ,WAAYhnB,EAEzB,IAAIvH,GAAUuH,EAAEyH,MACZ7I,MAAKorI,MAAMvxI,EAAQ+4B,QACf5yB,KAAKorI,MAAMvxI,EAAQ+4B,MAAM5yB,KAAKuqI,WAAa1wI,EAAQmD,MAAMzE,OAAS,EAClEyH,KAAK+2D,SAASl9D,EAAQ+4B,OAEyB,IAA1C5yB,KAAKoqI,UAAU5rI,QAAQ3E,EAAQ+4B,OACpC5yB,KAAKoqI,UAAUpxI,KAAKa,EAAQ+4B,QAKxCu3G,EAAc3uI,UAAUi4H,aAAe,SAAUryH,GAC7CpB,KAAKooB,QAAQ,QAAShnB,EACtB,IAAIvH,GAAUuH,EAAEyH,OAEZwkI,GAAe,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,MACpD,IAAZjsI,EAAEupD,OAAiB3qD,KAAKorI,MAAMvxI,EAAQ+4B,SAAU5yB,KAAKorI,MAAMvxI,EAAQ+4B,OAAU5yB,KAAKorI,MAAMvxI,EAAQ+4B,MAAM5yB,KAAKuqI,cAGjE,IAA1CvqI,KAAKoqI,UAAU5rI,QAAQ3E,EAAQ+4B,OAAgB5yB,KAAKorI,MAAMvxI,EAAQ+4B,QAA2C,IAAlCy6G,EAAY7uI,QAAQ4C,EAAEupD,QACjG3qD,KAAK+2D,SAASl9D,EAAQ+4B,OAI9Bu3G,EAAc3uI,UAAUwjG,aAAe,SAAU59F,GAC7CpB,KAAKooB,QAAQ,QAAShnB,EACtB,IAAIvH,GAAUuH,EAAEyH,MAEK,YAAjBhP,EAAQE,KACRiG,KAAK+2D,SAASl9D,EAAQ+4B,MAE0B,OAA3C/4B,EAAQ4M,aAAa,oBAE1BzG,KAAKsqI,aAAc,IAI3BH,EAAc3uI,UAAUskG,cAAgB,SAAU1+F,GAC9CpB,KAAKooB,QAAQ,SAAUhnB,EACvB,IAAIvH,GAAUuH,EAAEyH,MAChB7I,MAAK+2D,SAASl9D,EAAQ+4B,OAG1Bu3G,EAAc3uI,UAAU4xI,cAAgB,SAAUhsI,GAC9CpB,KAAKooB,QAAQ,SAAUhnB,GAGlBpB,KAAKsqI,aAAgBtqI,KAAK+2D,WAI3B/2D,KAAKsqI,aAAc,EAHnBlpI,EAAE+lB,kBAOVgjH,EAAc3uI,UAAU0rB,aAAe,WACnClnB,KAAK6rI,aAGT1B,EAAc3uI,UAAUkwI,cAAgB,SAAU94G,GAC9C,GAAK5yB,KAAKorI,MAAMx4G,GAAhB,CAGA,GAAIw4G,GAAQ7sI,OAAOjB,KAAK0C,KAAKorI,MAAMx4G,IAC/B06G,GAAa,EACbC,GAAqB,EACrBC,EAAQpC,EAAM5sI,QAAQ,kBACtBivI,EAAOrC,EAAM5sI,QAAQ,SAQzB,IAPAwB,KAAK8rI,gBAAgBl5G,IACP,IAAV66G,IACAH,GAAa,IAEF,IAAXE,IACAD,GAAqB,IAEpBD,GAAeA,GAAcC,EAAlC,EACmB,IAAXC,GACApC,EAAMlhH,OAAOsjH,EAAO,IAEV,IAAVC,GACArC,EAAMlhH,OAAQujH,EAAO,EAAI,GAE7BztI,KAAKksI,gBAAgBt5G,EACrB,KAAK,GAAIv0B,GAAK,EAAGqvI,EAAUtC,EAAO/sI,EAAKqvI,EAAQn1I,OAAQ8F,IAAM,CACzD,GAAImuI,GAAOkB,EAAQrvI,GACfsvI,EAAe3tI,KAAK4tI,gBAAgB5tI,KAAKorI,MAAMx4G,GAAM45G,GAAOA,GAC5DqB,GAAcj7G,KAAMA,EAAM1xB,QAASysI,GACnCt/H,GACAgjH,UAAWz+F,EACX/4B,QAASmG,KAAKouB,aACdltB,QAASysI,EAEb,KAAK3tI,KAAK8tI,QAAQl7G,EAAM45G,KAAUxsI,KAAKouB,aAAa51B,UAAUC,SAASuH,KAAKuM,QAAS,CACjFvM,KAAK+tI,iBAAiBn7G,GACtB5yB,KAAKqqI,WAAWrxI,KAAK60I,GAErB7tI,KAAKouB,aAAavqB,aAAa,eAAgB,QAC/C7D,KAAKouB,aAAavqB,aAAa,mBAAoB7D,KAAKouB,aAAazqB,GAAK,SAC1E3D,KAAKouB,aAAa51B,UAAU+L,IAAIvE,KAAK+rI,YACrC/rI,KAAKouB,aAAa51B,UAAUkM,OAAO1E,KAAKgsI,YACnChsI,KAAKwqI,YAINxqI,KAAKguI,YAAYH,GAHjB7tI,KAAKiuI,mBAAmBr7G,EAAMi7G,EAAU3sI,QAASlB,KAAKouB,cAK1D/f,EAAU6/H,aAAeluI,KAAKwqI,YAC9Bn8H,EAAUmB,OAAS,UACnBxP,KAAKouB,aAAa51B,UAAU+L,IAAIvE,KAAK+rI,YACrC/rI,KAAKouB,aAAa51B,UAAUkM,OAAO1E,KAAKgsI,YACxChsI,KAAKmuI,yBAAyBv7G,EAAMvkB,GACpCrO,KAAKooB,QAAQ,qBAAsB/Z,GAEtB,aAATm+H,GACAxsI,KAAKouB,aAAavqB,aAAa,gBAAiB,OAEpD,OAGA7D,KAAKmsI,YAAYv5G,GACjBvkB,EAAUmB,OAAS,UACnBxP,KAAKooB,QAAQ,qBAAsB/Z,OASnD87H,EAAc3uI,UAAU2yI,yBAA2B,SAAUv7G,EAAMw7G,GAC1DpuI,KAAKorI,MAAMx4G,GAAM5yB,KAAKuqI,WAAcvqI,KAAKouB,aAAapxB,MAAMzE,SAC7DyH,KAAKwqI,YAAYhwI,UAAYwF,KAAKouB,aAAapxB,MAC/CgD,KAAKwqI,YAAY3mI,aAAa,eAAgB,SAC9CuqI,EAAM5+H,OAAS,GACfxP,KAAKmsI,YAAYv5G,KAIzBu3G,EAAc3uI,UAAUsyI,QAAU,SAAUl7G,EAAM45G,GAC9C,GAAIpxI,GAAS4E,KAAKorI,MAAMx4G,GAAM45G,GAC1BvyC,EAAS7+F,YAAkBqD,QAA8B,gBAAdrD,GAAO,GAAmBA,EAAO,GAAKA,EACjFizI,EAAcruI,KAAKorI,MAAMx4G,GAAM45G,GAC/BvsI,GAASjD,MAAOgD,KAAKouB,aAAapxB,MAAOi9F,MAAOA,EAAOpgG,QAASmG,KAAKouB,aAAckgH,YAAatuI,KAAKnG,QAEzG,OADAmG,MAAKooB,QAAQ,kBAAmBnoB,GAC5BouI,GAAyC,kBAAnBA,GAAY,GACzBA,EAAY,GACXztI,KAAKZ,MAAQnG,QAASmG,KAAKouB,aAAcpxB,MAAOgD,KAAKouB,aAAapxB,QAEvEuuI,EAAgB4B,YAAYntI,KAAKouB,cACzB,aAATo+G,GAGG1mI,EAAU,cAAgB8sB,EAAO,YAAa5yB,KAAKnG,SAAStB,OAAS,EAGrEgzI,EAAgBgD,eAAe/B,GAAMvsI,IAIpDkqI,EAAc3uI,UAAUoyI,gBAAkB,SAAUY,EAAWhC,GAC3D,GAAItrI,GAAWstI,YAAqB/vI,QAAiC,gBAAjB+vI,GAAU,GAAmBA,EAAU,GAAKxuI,KAAK0qI,gBAAgB8B,GACjHiC,EAAUvtI,EAAQgQ,MAAM,UAC5B,KAAKzT,EAAkBgxI,GACnB,IAAK,GAAIp2I,GAAI,EAAGA,EAAIo2I,EAAQl2I,OAAQF,IAAK,CACrC,GAAI2E,GAAQwxI,YAAqB/vI,OAAQ+vI,EAAUn2I,GAAKm2I,CACxDttI,GAAUA,EAAQvH,QAAQ80I,EAAQp2I,GAAI2E,GAG9C,MAAOkE,IAGXipI,EAAc3uI,UAAUyyI,mBAAqB,SAAUr7G,EAAM1xB,EAASoS,GAClE,GAAI46H,GAAezsI,EAAczB,KAAKkuI,cAClCxqI,UAAW1D,KAAK+rI,WAChBvxI,UAAW0G,EACX4C,OAASu7F,IAAKzsE,IAUlB,IAPI5yB,KAAK0uI,cAAgBne,GAAYoe,UACjCT,EAAa11I,UAAUkM,OAAO1E,KAAK+rI,YACnCmC,EAAa11I,UAAU+L,IAAI,aAC3B2pI,EAAezsI,EAAczB,KAAK4uI,gBAAkBlrI,UAAW1D,KAAK+rI,WAAYvxI,UAAW0zI,EAAahsI,aAE5GgsI,EAAavqI,GAAK3D,KAAKouB,aAAawE,KAAO,QAEvC5yB,KAAKnG,QAAQiJ,cAAc,qBAAuBwQ,EAAM3P,GAAK,MAC7D3D,KAAKnG,QAAQiJ,cAAc,qBAAuBwQ,EAAM3P,GAAK,MAAM5B,YAAYmsI,OAE9E,KAAmD,IAA/C56H,EAAMgvG,aAAa,wBAAkC,CAE1D,GAAIusB,GAAcv7H,EAAM7M,aAAa,uBACpBzG,MAAKnG,QAAQiJ,cAAc,IAAM+rI,GACvC9sI,YAAYmsI,OAEM,OAAxBluI,KAAK8uI,gBAEV9uI,KAAK8uI,gBAAgBluI,KAAKZ,KAAMA,KAAKouB,aAAc8/G,GAGnDluI,KAAKouB,aAAatzB,WAAWsK,aAAa8oI,EAAcluI,KAAKouB,aAAa+mF,YAE9E+4B,GAAatpI,MAAMyhD,QAAU,QAC7BrmD,KAAKksI,gBAAgBt5G,GACrB5yB,KAAKoqI,UAAUpxI,KAAK45B,GACpB5yB,KAAK+uI,cAAcn8G,IAGvBu3G,EAAc3uI,UAAU0wI,gBAAkB,SAAUt5G,GAKhD,MAJA5yB,MAAKwqI,YAAc7kI,EAAO3F,KAAKkuI,aAAe,IAAMluI,KAAK+rI,WAAY/rI,KAAKouB,aAAarY,eAClF/V,KAAKwqI,cACNxqI,KAAKwqI,YAAc7kI,EAAO3F,KAAKkuI,aAAe,IAAMluI,KAAK+rI,WAAa,SAAWn5G,EAAO,OAErF5yB,KAAKwqI,aAGhBL,EAAc3uI,UAAUuyI,iBAAmB,SAAUn7G,GACjD,IAAK,GAAIv6B,GAAI,EAAGA,EAAI2H,KAAKqqI,WAAW9xI,OAAQF,IAC7B2H,KAAKqqI,WAAWhyI,GAClBu6B,OAASA,GACd5yB,KAAKqqI,WAAWngH,OAAO7xB,EAAG,IAKtC8xI,EAAc3uI,UAAUwyI,YAAc,SAAUH,GAC5C7tI,KAAKwqI,YAAY5lI,MAAMyhD,QAAU,QACjCrmD,KAAKwqI,YAAYhwI,UAAYqzI,EAAU3sI,QACvClB,KAAK+uI,cAAclB,EAAUj7G,OAGjCu3G,EAAc3uI,UAAU2wI,YAAc,SAAUv5G,GACxC5yB,KAAKwqI,cACLxqI,KAAKwqI,YAAY5lI,MAAMyhD,QAAU,OACjCrmD,KAAK+tI,iBAAiBn7G,GACtB5yB,KAAKouB,aAAa51B,UAAU+L,IAAIvE,KAAKgsI,YACrChsI,KAAKouB,aAAa51B,UAAUkM,OAAO1E,KAAK+rI,YACxC/rI,KAAKouB,aAAavqB,aAAa,eAAgB,WAIvDsmI,EAAc3uI,UAAUuzI,cAAgB,SAAUn8G,GACzC5yB,KAAKorI,MAAMx4G,GAAM5yB,KAAKuqI,WAAcvqI,KAAKouB,aAAapxB,MAAMzE,SAC7DyH,KAAKwqI,YAAYhwI,UAAYwF,KAAKouB,aAAapxB,MAC/CgD,KAAKwqI,YAAY3mI,aAAa,eAAgB,SAC9C7D,KAAKmsI,YAAYv5G,KAIzBu3G,EAAcgD,YAAc,SAAU75H,GAClC,GAAI07H,GAAY17H,EAAM7M,aAAa,OACnC,OAAOuoI,KAA4B,aAAdA,GAA0C,UAAdA,GAAuC,WAAdA,IAG9E7E,EAAcoE,gBACVhE,SAAU,SAAUjkG,GAChB,MAAOA,GAAOtpC,MAAMzE,OAAS,GAEjCoyI,MAAO,SAAUrkG,GACb,MAAOujG,IAAe5vI,KAAKqsC,EAAOtpC,QAEtC4yB,IAAK,SAAU0W,GACX,MAAOwjG,IAAa7vI,KAAKqsC,EAAOtpC,QAEpC4tI,QAAS,SAAUtkG,GACf,MAAOyjG,IAAkB9vI,KAAKqsC,EAAOtpC,QAEzCkuI,IAAK,SAAU5kG,GACX,MAAO2jG,IAAehwI,KAAKqsC,EAAOtpC,QAEtC6tI,WAAY,SAAUvkG,GAClB,MAAO4jG,IAAoBjwI,KAAKqsC,EAAOtpC,QAE3C8tI,OAAQ,SAAUxkG,GACd,OAAQ2C,MAAMsiB,OAAOjlB,EAAOtpC,UAA0C,IAA/BspC,EAAOtpC,MAAMwB,QAAQ,MAEhE0mC,OAAQ,SAAUoB,GACd,MAAO0jG,IAAgB/vI,KAAKqsC,EAAOtpC,QAEvC+tI,UAAW,SAAUzkG,GACjB,MAAOA,GAAOtpC,MAAMzE,QAAU+tC,EAAO2zD,OAEzC+wC,UAAW,SAAU1kG,GACjB,MAAOA,GAAOtpC,MAAMzE,QAAU+tC,EAAO2zD,OAEzCgxC,YAAa,SAAU3kG,GACnB,GAAI2zD,GAAQ3zD,EAAO2zD,KACnB,OAAO3zD,GAAOtpC,MAAMzE,QAAU0hG,EAAM,IAAM3zD,EAAOtpC,MAAMzE,QAAU0hG,EAAM,IAE3E9vD,MAAO,SAAU7D,GACb,GAAI2zD,GAAQ3zD,EAAO2zD,KACnB,QAAQhxD,MAAMsiB,OAAOjlB,EAAOtpC,SAAWuuD,OAAOjlB,EAAOtpC,QAAUi9F,EAAM,IAAM1uC,OAAOjlB,EAAOtpC,QAAUi9F,EAAM,IAE7GpI,KAAM,SAAUvrD,GACZ,OAAQ2C,MAAM,GAAIjnB,MAAKskB,EAAOtpC,OAAOilB,YAEzC5U,IAAK,SAAUi5B,GACX,MAAK2C,OAAMsiB,OAAOjlB,EAAOtpC,QAKlB,GAAIglB,MAAKskB,EAAOtpC,OAAOilB,WAAa,GAAID,MAAKyP,KAAKC,MAAMD,KAAKouB,UAAUvZ,EAAO2zD,SAASh4E,WAHlFqkB,EAAOtpC,OAASspC,EAAO2zD,OAKvCl4E,IAAK,SAAUukB,GACX,MAAK2C,OAAMsiB,OAAOjlB,EAAOtpC,QAKlB,GAAIglB,MAAKskB,EAAOtpC,OAAOilB,WAAa,GAAID,MAAKyP,KAAKC,MAAMD,KAAKouB,UAAUvZ,EAAO2zD,SAASh4E,WAHlFqkB,EAAOtpC,OAASspC,EAAO2zD,OAKvCt1D,MAAO,SAAU2B,GACb,MAAO,IAAIlsC,QAAOksC,EAAO2zD,OAAOhgG,KAAKqsC,EAAOtpC,QAEhDmuI,QAAS,SAAU7kG,GACf,GAAI2oG,GAAY3oG,EAAOgoG,YAAYxrI,cAAc,IAAMwjC,EAAO2zD,MAE9D,OADA3zD,GAAO2zD,MAAQg1C,EAAUjyI,MAClBspC,EAAO2zD,QAAU3zD,EAAOtpC,QAGvCi7B,IACIrvB,GAAS,aACVuhI,EAAc3uI,UAAW,aAAU,IACtCy8B,IACIrvB,MACDuhI,EAAc3uI,UAAW,YAAS,IACrCy8B,IACIrvB,GAAS,YACVuhI,EAAc3uI,UAAW,iBAAc,IAC1Cy8B,IACIrvB,GAAS,YACVuhI,EAAc3uI,UAAW,iBAAc,IAC1Cy8B,IACIrvB,GAAS,UACVuhI,EAAc3uI,UAAW,mBAAgB,IAC5Cy8B,IACIrvB,GAAS,QACVuhI,EAAc3uI,UAAW,qBAAkB,IAC9Cy8B,IACIrvB,GAAS2nH,GAAY2e,QACtB/E,EAAc3uI,UAAW,kBAAe,IAC3Cy8B,IACIxuB,MACD0gI,EAAc3uI,UAAW,eAAY,IACxCy8B,IACIxuB,MACD0gI,EAAc3uI,UAAW,YAAS,IACrCy8B,IACIxuB,MACD0gI,EAAc3uI,UAAW,YAAS,IACrCy8B,IACIxuB,MACD0gI,EAAc3uI,UAAW,aAAU,IACtCy8B,IACIxuB,MACD0gI,EAAc3uI,UAAW,aAAU,IACtCy8B,IACIxuB,MACD0gI,EAAc3uI,UAAW,sBAAmB,IAC/Cy8B,IACIxuB,MACD0gI,EAAc3uI,UAAW,yBAAsB,IAClDy8B,IACIxuB,MACD0gI,EAAc3uI,UAAW,sBAAmB,IAC/C2uI,EAAgBoB,EAAkBtzG,IAC9BluB,IACDogI,EAEH,IAAIoB,IACNv3G,IG9tBEyD,GAAwC,WACxC,GAAIC,GAAgBn5B,OAAOo5B,iBACpBC,uBAA2Bn5B,QAAS,SAAUo5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAExwB,eAAeywB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOh4B,KAAKnC,YAAcg6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAEr8B,UAAkB,OAANs8B,EAAav5B,OAAOgN,OAAOusB,IAAME,EAAGx8B,UAAYs8B,EAAEt8B,UAAW,GAAIw8B,QAGnFC,GAA0C,SAAUC,EAAYrvB,EAAQxL,EAAK86B,GAC7E,GAA2HN,GAAvHO,EAAIn5B,UAAU1G,OAAQ8/B,EAAID,EAAI,EAAIvvB,EAAkB,OAATsvB,EAAgBA,EAAO55B,OAAO+5B,yBAAyBzvB,EAAQxL,GAAO86B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYrvB,EAAQxL,EAAK86B,OACpH,KAAK,GAAI9/B,GAAI6/B,EAAW3/B,OAAS,EAAGF,GAAK,EAAGA,KAASw/B,EAAIK,EAAW7/B,MAAIggC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAEhvB,EAAQxL,EAAKg7B,GAAKR,EAAEhvB,EAAQxL,KAASg7B,EAChJ,OAAOD,GAAI,GAAKC,GAAK95B,OAAO4K,eAAeN,EAAQxL,EAAKg7B,GAAIA,GAa5D82G,GAAO,qBACPC,GAAS,gBAOTC,GAAa,oBACbC,GAAc,oBACdC,GAAa,mBACbC,GAAa,oBAEbC,GAAmB,yBACnBC,GAAc,wBAGdC,GAAiB,mBACjBC,GAAgB,iBAMhBC,GAAe,qBAEfC,GAAe,mBAEfC,GAA2B,SAAUr3G,GAErC,QAASq3G,KACL,MAAkB,QAAXr3G,GAAmBA,EAAOh9B,MAAMsE,KAAMf,YAAce,KAW/D,MAbAy3B,IAAUs4G,EAAWr3G,GAIrBT,IACIrvB,GAAS,KACVmnI,EAAUv0I,UAAW,WAAQ,IAChCy8B,IACIrvB,GAAS,OACVmnI,EAAUv0I,UAAW,WAAQ,IAChCy8B,IACIrvB,GAAS,KACVmnI,EAAUv0I,UAAW,WAAQ,IACzBu0I,GACTztG,IAEE0tG,GAA8B,SAAUt3G,GAExC,QAASs3G,KACL,MAAkB,QAAXt3G,GAAmBA,EAAOh9B,MAAMsE,KAAMf,YAAce,KAW/D,MAbAy3B,IAAUu4G,EAAct3G,GAIxBT,IACIrvB,GAAS,cACVonI,EAAax0I,UAAW,aAAU,IACrCy8B,IACIrvB,GAAS,WACVonI,EAAax0I,UAAW,aAAU,IACrCy8B,IACIrvB,GAAS,UACVonI,EAAax0I,UAAW,YAAS,IAC7Bw0I,GACT1tG,IAEE2tG,GAA+B,SAAUv3G,GAEzC,QAASu3G,KACL,MAAkB,QAAXv3G,GAAmBA,EAAOh9B,MAAMsE,KAAMf,YAAce,KAiB/D,MAnBAy3B,IAAUw4G,EAAev3G,GAIzBT,IACIrvB,GAAS,KACVqnI,EAAcz0I,UAAW,cAAW,IACvCy8B,IACIrvB,GAAS,KACVqnI,EAAcz0I,UAAW,gBAAa,IACzCy8B,IACIrvB,GAAS,IACVqnI,EAAcz0I,UAAW,gBAAa,IACzCy8B,IACIrvB,GAAS,IACVqnI,EAAcz0I,UAAW,iBAAc,IAC1Cy8B,IACIrvB,GAAS,MACVqnI,EAAcz0I,UAAW,sBAAmB,IACxCy0I,GACT3tG,IAcE4tG,GAA0B,SAAUx3G,GAKpC,QAASw3G,GAAS77H,EAASxa,GACvB,GAAIkG,GAAQ24B,EAAO93B,KAAKZ,KAAMqU,EAASxa,IAAYmG,IASnD,OARAD,GAAMowI,aAAgB7oF,OAAQ,KAAM8oF,UAAU,EAAOryC,UAAU,GAC/Dh+F,EAAMswI,YACNtwI,EAAMuwI,aACNvwI,EAAMwwI,qBACNxwI,EAAMywI,QAAS,EACfzwI,EAAM0wI,UAAW,EACjB1wI,EAAM2wI,cACN3wI,EAAM4wI,kBACC5wI,EAujEX,MArkEA03B,IAAUy4G,EAAUx3G,GAoBpBw3G,EAAS10I,UAAU05B,kBAAoB,SAAUwF,EAASC,GACtD,IAAK,GAAIt8B,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAKo9B,GAAUr8B,EAAK2E,EAAGzK,OAAQ8F,IAExD,OADW2E,EAAG3E,IAEV,IAAK,oBACD2B,KAAK4wI,cAAc5wI,KAAK6wI,mBACxB7wI,KAAK8wI,UACL,MACJ,KAAK,UACD9wI,KAAK+wI,kBACL,MACJ,KAAK,WACD/wI,KAAKgxI,sBACL,MACJ,KAAK,YACDhxI,KAAKixI,SACLjxI,KAAKkxI,kBACL,MACJ,KAAK,UACDlxI,KAAK0iH,QAAQyuB,OAAS1zI,EAAkBuC,KAAK0iH,QAAQyuB,QAAU,GAAKnxI,KAAK0iH,QAAQyuB,OACjFnxI,KAAK0iH,QAAQt7F,MAAQ3pB,EAAkBuC,KAAK0iH,QAAQt7F,OAAS,GAAKpnB,KAAK0iH,QAAQt7F,MAC/EpnB,KAAK0iH,QAAQ3xF,OAAStzB,EAAkBuC,KAAK0iH,QAAQ3xF,QAAU,GAAK/wB,KAAK0iH,QAAQ3xF,OACjF/wB,KAAKoxI,uBACL,MACJ,KAAK,WACDpxI,KAAKqxI,mBACLrxI,KAAKsxI,aACL,MACJ,KAAK,QACDtxI,KAAKuxI,oBACL,MACJ,KAAK,cACL,IAAK,cACL,IAAK,WACL,IAAK,aACDvxI,KAAK8wI,UACL,MACJ,KAAK,SACD9wI,KAAKs6G,KAAKzuD,UAAU7rD,KAAKgP,QACzBhP,KAAKwxI,oBACLxxI,KAAKyxI,aAAe50I,EAAS,gBAAiBmD,KAAKs6G,QAKnE41B,EAAS10I,UAAUg2I,kBAAoB,WAC/B/zI,EAAkBuC,KAAKwQ,YACc,gBAAzBxQ,MAAK0iH,iBACb1iH,KAAK0xI,aAAa54I,UAAqC,cAAxBkH,KAAK0iH,QAAQyuB,OACxCnxI,KAAK2xI,eAAe,UAAY3xI,KAAK0iH,QAAQyuB,OACjDnxI,KAAK0xI,aAAa7tI,aAAa,QAAS7D,KAAK0xI,aAAa54I,WAC1DkH,KAAK4xI,cAAc9uI,cAAc,gBAAiBtI,UAAYwF,KAAK2xI,eAAe,kBAEtF3xI,KAAK6xI,mBAGb3B,EAAS10I,UAAUs2I,YAAc,SAAUhoH,GAEvC,IAAK,GADDsC,GACK/tB,EAAK,EAAG2E,EAAKzE,OAAOjB,KAAK0C,KAAKyxI,cAAepzI,EAAK2E,EAAGzK,OAAQ8F,IAAM,CACxE,GAAIhB,GAAM2F,EAAG3E,EACT2B,MAAKyxI,aAAap0I,KAASysB,IAC3BsC,EAAW/uB,GAGnB,MAAO+uB,IAEX8jH,EAAS10I,UAAUq2I,eAAiB,WAEhC,GAAI7xI,KAAKqwI,SAAS93I,OAAS,IAAMkF,EAAkBuC,KAAK4xI,cAAc9uI,cAAc,oBAChF,IAAK,GAAIzK,GAAI,EAAGA,EAAI2H,KAAKqwI,SAAS93I,OAAQF,IAC5B2H,KAAKqwI,SAASh4I,GAAGyK,cAAc,kBACjCtI,UAAYwF,KAAK2xI,eAAe3xI,KAAK8xI,YAAY9xI,KAAKswI,UAAUj4I,GAAGmX,SAC3ExP,KAAKswI,UAAUj4I,GAAGmX,OAASxP,KAAK2xI,eAAe3xI,KAAK8xI,YAAY9xI,KAAKswI,UAAUj4I,GAAGmX,SAE9ExP,KAAKqwI,SAASh4I,GAAGG,UAAUC,SAASk3I,IACpC3vI,KAAKqwI,SAASh4I,GAAGyK,cAAc,YAAYe,aAAa,QAAS7D,KAAK2xI,eAAe,WAGrF3xI,KAAKqwI,SAASh4I,GAAGyK,cAAc,YAAYe,aAAa,QAAS7D,KAAK2xI,eAAe,WAEpF3xI,KAAK+xI,aACN/xI,KAAKgyI,aAAal5I,UAAqC,WAAxBkH,KAAK0iH,QAAQ3xF,OACxC/wB,KAAK2xI,eAAe,UAAY3xI,KAAK0iH,QAAQ3xF,OACjD/wB,KAAKinB,YAAYnuB,UAAoC,UAAvBkH,KAAK0iH,QAAQt7F,MACvCpnB,KAAK2xI,eAAe,SAAW3xI,KAAK0iH,QAAQt7F,QAKhE8oH,EAAS10I,UAAU01I,iBAAmB,WAC9BlxI,KAAKiyI,aACL1sI,EAAOvF,KAAKiyI,YACZjyI,KAAKiyI,WAAa,KAClBjyI,KAAKqwI,YACLrwI,KAAKkyI,eAAelyI,KAAKswI,WACrBtwI,KAAKmyI,gBACLnyI,KAAKoyI,sBACLpyI,KAAKqyI,sBACLryI,KAAKsyI,6BAIjBpC,EAAS10I,UAAUwY,UAAY,WAc3B,GAbAhU,KAAK+wH,aAAe/wH,KAAKnG,QAAQmI,WAAU,GAC3ChC,KAAK6hH,YAAe0wB,OAAQ,YAAaC,MAAO,QAASC,OAAQ,SAC7DC,cAAe,qBAAsBC,mBAAoB,yBACzDC,mBAAoB,yBAA0BC,gBAAiB,2BAC/DC,oBAAqB,wBAAyBC,qBAAsB,6BACpEC,sBAAuB,4BAA6BC,qBAAsB,wBAAyBC,WAAY,YAC/GC,qBAAsB,kBAAmB7xF,MAAO,QAAS58C,OAAQ,SAAUorB,OAAQ,SAAU84B,OAAQ,cACrGwqF,YAAa,qBAAsBprF,MAAO,QAASqrF,OAAQ,SAAUC,MAAO,QAC5EC,iBAAkB,wBAEtBvzI,KAAKs6G,KAAO,GAAI5uD,IAAK,WAAY1rD,KAAK6hH,WAAY7hH,KAAKgP,QACvDhP,KAAKyxI,aAAe50I,EAAS,gBAAiBmD,KAAKs6G,MACnDt6G,KAAKwzI,sBAC8B,KAA/BxzI,KAAKyzI,cAAcC,SAAmD,KAAjC1zI,KAAKyzI,cAAcj+C,YAAqBx1F,KAAK+xI,WAElF,IADA,GAAI1hB,GAAYrwH,KAAKnG,QAAQkc,cACtBs6G,GAAaA,IAAct1H,SAASoS,gBAAiBkjH,EAAYA,EAAUt6G,cACpD,SAAtBs6G,EAAU/sH,UACVtD,KAAKwwI,QAAS,EACdxwI,KAAKsuI,YAAcje,EACnBA,EAAUxsH,aAAa,UAAW,uBAClCwsH,EAAUxsH,aAAa,WAAY,uBAK/C,IAAIwP,GAAaxW,EAAS,gBAAiBmD,KAAKnG,QAEhD,IAA6B,iBAAzBmG,KAAKnG,QAAQyJ,QAA4B,CACzC,GAAI8qB,GAAepuB,KAAKyB,cAAc,SAAWqC,OAAS/J,KAAM,UAC5D7B,EAAQ,CACZ,KAAKA,EAAOA,EAAQ8H,KAAKnG,QAAQkK,WAAWxL,OAAQL,IAChDk2B,EAAavqB,aAAa7D,KAAKnG,QAAQkK,WAAW7L,GAAOub,SAAUzT,KAAKnG,QAAQkK,WAAW7L,GAAOwb,WAClG0a,EAAa5zB,UAAYwF,KAAKnG,QAAQW,SAErC4zB,GAAak0F,aAAa,SAC3Bl0F,EAAavqB,aAAa,OAAQ,eAEtC7D,KAAKnG,QAAQkI,YAAYqsB,GACzBpuB,KAAKnG,QAAUu0B,EACfhxB,EAAS,gBAAiBiW,EAAYrT,KAAKnG,SAG3CwZ,EAAW,GAAGsgI,uBACTl2I,EAAkB4V,EAAW,GAAGlJ,MAAMyoB,OAGjCn1B,EAAkB4V,EAAW,GAAGlJ,MAAMxG,KAAOlG,EAAkB4V,EAAW,GAAGlJ,MAAMyoB,MACzF5yB,KAAKnG,QAAQgK,aAAa,OAAQwP,EAAW,GAAGlJ,MAAMxG,IAGtD3D,KAAKnG,QAAQgK,aAAa,OAAQ,eANlC7D,KAAKnG,QAAQgK,aAAa,OAAQwP,EAAW,GAAGlJ,MAAMyoB,OAS1Dn1B,EAAkBuC,KAAKnG,QAAQ4M,aAAa,UAC5CzG,KAAKnG,QAAQgK,aAAa,OAAQ7D,KAAKnG,QAAQ4M,aAAa,OAE3DzG,KAAKnG,QAAQyoH,aAAa,SAC3BtiH,KAAKnG,QAAQgK,aAAa,OAAQ,QAEtC7D,KAAK4qD,YACD87E,SAAU,YACV5+E,MAAO,QACP8rF,KAAM,QAGd1D,EAAS10I,UAAUwjD,eAAiB,WAChC,MAAOh/C,MAAKy/C,kBAKhBywF,EAAS10I,UAAU0L,cAAgB,WAC/B,MAAO,YAMXgpI,EAAS10I,UAAU+iD,OAAS,WACxBv+C,KAAK6zI,qBACL7zI,KAAK8zI,mBACL9zI,KAAKkmB,aACLlmB,KAAKgxI,uBACLhxI,KAAK4wI,cAAc5wI,KAAK6wI,mBACxB7wI,KAAKixI,SACLjxI,KAAKuxI,qBACLvxI,KAAK+wI,oBAETb,EAAS10I,UAAUq4I,mBAAqB,WACpC7zI,KAAK0xI,aAAe1xI,KAAKyB,cAAc,UAAYiC,UAAW,cAAeI,OAAS/J,KAAQ,YACzD,gBAAzBiG,MAAK0iH,gBACb1iH,KAAK0xI,aAAa54I,UAAqC,cAAxBkH,KAAK0iH,QAAQyuB,OACxCnxI,KAAK2xI,eAAe,UAAY3xI,KAAK0iH,QAAQyuB,OACjDnxI,KAAK0xI,aAAa7tI,aAAa,QAAS7D,KAAK0xI,aAAa54I,YAG1DkH,KAAK0xI,aAAa3vI,YAAY/B,KAAK0iH,QAAQyuB,QAE/CnxI,KAAKnG,QAAQgK,aAAa,aAAc,aAE5CqsI,EAAS10I,UAAU62I,oBAAsB,WACrCryI,KAAKnG,QAAQgK,aAAa,WAAY,MACtC7D,KAAKmyI,cAAgBnyI,KAAKyB,cAAc,OAASiC,UAjUpC,qBAkUb1D,KAAKgyI,aAAehyI,KAAKyB,cAAc,UAAYiC,UAjUtC,iDAiUiEI,OAAS/J,KAAQ,SAAUs3G,SAAY,QACrHrxG,KAAKinB,YAAcjnB,KAAKyB,cAAc,UAAYiC,UAjUtC,sCAiUgEI,OAAS/J,KAAQ,SAAUs3G,SAAY,QACnHrxG,KAAKmyI,cAAcpwI,YAAY/B,KAAKinB,aACpCjnB,KAAKmyI,cAAcpwI,YAAY/B,KAAKgyI,cACpChyI,KAAKoxI,wBACLpxI,KAAK4xI,cAAc7vI,YAAY/B,KAAKmyI,eACpCnyI,KAAK0xI,aAAatI,OAClBppI,KAAKgyI,aAAa3vI,QAClBrC,KAAK+zI,0BAET7D,EAAS10I,UAAUu4I,uBAAyB,WACxCtuI,GAAalB,IAAIvE,KAAKgyI,aAAc,QAAShyI,KAAKg0I,kBAAmBh0I,MACrEyF,GAAalB,IAAIvE,KAAKinB,YAAa,QAASjnB,KAAKi0I,iBAAkBj0I,OAEvEkwI,EAAS10I,UAAU04I,yBAA2B,WAC1CzuI,GAAaf,OAAO1E,KAAKgyI,aAAc,QAAShyI,KAAKg0I,mBACrDvuI,GAAaf,OAAO1E,KAAKinB,YAAa,QAASjnB,KAAKi0I,mBAExD/D,EAAS10I,UAAU42I,oBAAsB,WACjCpyI,KAAKmyI,gBACLnyI,KAAKk0I,2BACL3uI,EAAOvF,KAAKmyI,eACZnyI,KAAKmyI,cAAgB,OAG7BjC,EAAS10I,UAAU41I,sBAAwB,WAUvC,GATqC,gBAAzBpxI,MAAK0iH,gBACb1iH,KAAK0xI,aAAa54I,UAAqC,cAAxBkH,KAAK0iH,QAAQyuB,OACxCnxI,KAAK2xI,eAAe,UAAY3xI,KAAK0iH,QAAQyuB,OACjDnxI,KAAK0xI,aAAa7tI,aAAa,QAAS7D,KAAK0xI,aAAa54I,aAG1DkH,KAAK0xI,aAAal3I,UAAY,GAC9BwF,KAAK0xI,aAAa3vI,YAAY/B,KAAK0iH,QAAQyuB,SAE3CnxI,KAAKgyI,aAAc,CACnB,GAAImC,OAAa,EACjBA,GAAa12I,EAAkBuC,KAAK0iH,QAAQ3xF,QAAU,SAAW/wB,KAAK0iH,QAAQ3xF,OAC9E/wB,KAAK0iH,QAAQ3xF,OAASojH,EACe,gBAAzBn0I,MAAK0iH,gBACb1iH,KAAKgyI,aAAal5I,UAAqC,WAAxBkH,KAAK0iH,QAAQ3xF,OACxC/wB,KAAK2xI,eAAe,UAAY3xI,KAAK0iH,QAAQ3xF,OACjD/wB,KAAKgyI,aAAanuI,aAAa,QAAS7D,KAAKgyI,aAAal5I,aAG1DkH,KAAKgyI,aAAax3I,UAAY,GAC9BwF,KAAKgyI,aAAajwI,YAAY/B,KAAK0iH,QAAQ3xF,SAGnD,GAAI/wB,KAAKinB,YAAa,CAClB,GAAImtH,OAAY,EAChBA,GAAY32I,EAAkBuC,KAAK0iH,QAAQt7F,OAAS,QAAUpnB,KAAK0iH,QAAQt7F,MAC3EpnB,KAAK0iH,QAAQt7F,MAAQgtH,EACe,gBAAxBp0I,MAAK0iH,eACb1iH,KAAKinB,YAAYnuB,UAAoC,UAAvBkH,KAAK0iH,QAAQt7F,MACvCpnB,KAAK2xI,eAAe,SAAW3xI,KAAK0iH,QAAQt7F,MAChDpnB,KAAKinB,YAAYpjB,aAAa,QAAS7D,KAAKinB,YAAYnuB,aAGxDkH,KAAKinB,YAAYzsB,UAAY,GAC7BwF,KAAKinB,YAAYllB,YAAY/B,KAAK0iH,QAAQt7F,UAItD8oH,EAAS10I,UAAUs4I,iBAAmB,WAClC9zI,KAAKnG,QAAQgK,aAAa,WAAY,KACtC,IAAIwuH,GAAeryH,KAAKyB,cAAc,QAAUiC,UA1YpC,iBA2YZ1D,MAAKnG,QAAQkc,cAAc3Q,aAAaitH,EAAcryH,KAAKnG,SAC3DmG,KAAKq0I,gBAAkBr0I,KAAKyB,cAAc,OAASiC,UA1YxC,uBA2YX1D,KAAKnG,QAAQkc,cAAc3Q,aAAapF,KAAKq0I,gBAAiBr0I,KAAKnG,SACnEw4H,EAAatwH,YAAY/B,KAAKnG,SAC9BmG,KAAKq0I,gBAAgBtyI,YAAY/B,KAAK0xI,cACtC1xI,KAAKq0I,gBAAgBtyI,YAAYswH,EACjC,IAAIiiB,GAAet0I,KAAKyB,cAAc,QAAUiC,UAhZxC,eAiZR4wI,GAAa95I,UAAYwF,KAAK2xI,eAAe,iBAC7C3xI,KAAKq0I,gBAAgBtyI,YAAYuyI,GACjCt0I,KAAK4xI,cAAgB5xI,KAAKyB,cAAc,OAASiC,UArZnC,WAqZ+DI,OAASywI,wBAAyB,gBAC/Gv0I,KAAKq0I,gBAAgBt+H,cAAc3Q,aAAapF,KAAK4xI,cAAe5xI,KAAKq0I,iBACzEr0I,KAAK4xI,cAAc7vI,YAAY/B,KAAKq0I,iBACpCr0I,KAAKsxI,eAETpB,EAAS10I,UAAU+1I,mBAAqB,WACpC,IAAI9zI,EAAkBuC,KAAKw0I,MAAM,GAAGl5G,OAAU79B,EAAkBuC,KAAKwQ,UAArE,CAGA,GAAIgkI,MAAW7yI,MAAMf,KAAKZ,KAAKw0I,OAC3BlE,IACCtwI,MAAKowI,WACNpwI,KAAKy0I,YACLD,GAASA,EAAM,IAEnB,KAAK,GAAIn2I,GAAK,EAAGq2I,EAAUF,EAAOn2I,EAAKq2I,EAAQn8I,OAAQ8F,IAAM,CACzD,GAAI5B,GAAOi4I,EAAQr2I,GACfs2I,GACA/hH,KAAMn2B,EAAKm2B,KAAO,IAAMn2B,EAAK1C,KAAKmD,MAAM,KAAKT,EAAK1C,KAAKmD,MAAM,KAAK3E,OAAS,GAC3Eq8I,QAAS,GACTt5G,KAAM7+B,EAAK6+B,KACX9rB,OAAQxP,KAAK2xI,eAAe,wBAC5B53I,KAAM0C,EAAK1C,KACX86I,oBAAsBC,QAAS,GAAIC,QAAS,IAC5CC,WAAY,IAEhB1E,GAAUt3I,KAAK27I,GACf30I,KAAKswI,UAAUt3I,KAAK27I,GAExB30I,KAAKkyI,eAAe5B,GACftwI,KAAK+xI,aAAc/xI,KAAKiyI,YAAejyI,KAAKmyI,eAAkBnyI,KAAKwwI,SAAUxwI,KAAKi1I,cACnFj1I,KAAKqyI,sBAETryI,KAAKsyI,4BAETpC,EAAS10I,UAAU82I,wBAA0B,WACzC,GAAItyI,KAAKmyI,cAAe,CACpB,GAAI/5F,GAAWp4C,KAAK4xI,cAAch3I,iBAAiB,uBAAwBrC,OACvEyH,KAAK4xI,cAAch3I,iBAAiB,2CAA2CrC,OAC/EyH,KAAK4xI,cAAch3I,iBAAiB,QAAU+0I,IAAgBp3I,OAC9DyH,KAAK4xI,cAAch3I,iBAAiB,0BAA6BrC,MACjE6/C,GAAW,GAAKA,IAAap4C,KAAK4xI,cAAch3I,iBAAiB,MAAMrC,OACvEyH,KAAKgyI,aAAanuI,aAAa,WAAY,YAG3C7D,KAAKgyI,aAAa1lI,gBAAgB,cAI9C4jI,EAAS10I,UAAU81I,YAAc,WAC7B,GAAI4D,GAAel1I,KAAKq0I,gBAAgBvxI,cAAc,eACtD,IAAI9C,KAAKm1I,SAAU,CACfn1I,KAAKo1I,gBAA8C,gBAAnBp1I,eAA+BA,KAAKm1I,SAChEp6I,SAAS+H,cAAc9C,KAAKm1I,SAGhC,KAFA,GAAIt7I,GAAUmG,KAAKnG,QACfw7I,GAAiB,EACdx7I,EAAQiB,aACXjB,EAAUA,EAAQiB,cACFkF,KAAKo1I,kBACjBC,GAAiB,EACjBH,EAAax7I,YAAcsG,KAAK2xI,eAAe,iBAGlD0D,KACDH,EAAax7I,YAAc,QAI/BsG,MAAKo1I,gBAAkBp1I,KAAK4xI,cAC5BsD,EAAax7I,YAAcsG,KAAK2xI,eAAe,gBAEnD3xI,MAAKs1I,kBAETpF,EAAS10I,UAAUw1I,qBAAuB,WACtC,GAAIhxI,KAAKowI,WAAapwI,KAAKnG,QAAQyoH,aAAa,YAAa,CACzD,GAAIizB,GAAUx6I,SAASy6I,gBAAgB,WACvCx1I,MAAKnG,QAAQ47I,iBAAiBF,OAExBv1I,MAAKowI,UACXpwI,KAAKnG,QAAQyS,gBAAgB,aAGrC4jI,EAAS10I,UAAUk6I,gBAAkB,SAAUf,GACvC30I,KAAK+xI,YACL/xI,KAAK+wB,OAAO4jH,GACZ30I,KAAKoyI,uBAECpyI,KAAKmyI,eACXnyI,KAAKqyI,sBAETryI,KAAKsyI,2BAETpC,EAAS10I,UAAU0qB,WAAa,WAC5BzgB,GAAalB,IAAIvE,KAAK0xI,aAAc,QAAS1xI,KAAK21I,kBAAmB31I,MACrEyF,GAAalB,IAAIvE,KAAKnG,QAAS,SAAUmG,KAAK41I,cAAe51I,MAC7DyF,GAAalB,IAAIxJ,SAAU,QAASiF,KAAKotG,YAAaptG,MACtDA,KAAK61I,eAAiB,GAAIzrF,IAAepqD,KAAK4xI,eAC1CzmF,UAAWnrD,KAAKkvG,iBAAiBzzG,KAAKuE,MACtC4qD,WAAY5qD,KAAK4qD,WACjBt4B,UAAW,YAEXtyB,KAAKwwI,QACL/qI,GAAalB,IAAIvE,KAAKsuI,YAAa,QAAStuI,KAAK81I,UAAW91I,OAGpEkwI,EAAS10I,UAAU+iG,aAAe,WAC9B94F,GAAaf,OAAO1E,KAAK0xI,aAAc,QAAS1xI,KAAK21I,mBACrDlwI,GAAaf,OAAO1E,KAAKnG,QAAS,SAAUmG,KAAK41I,eACjDnwI,GAAaf,OAAO3J,SAAU,QAASiF,KAAKotG,aAC5CptG,KAAK61I,eAAehiI,WAExBq8H,EAAS10I,UAAUs6I,UAAY,WAC3B91I,KAAK8wI,YAETZ,EAAS10I,UAAU0zG,iBAAmB,SAAU9tG,GAC5C,GAAIo3G,GAAgBp3G,EAAEyH,MACtB,QAAQzH,EAAE8pD,QACN,IAAK,OACG9pD,EAAEyH,SAAW7I,KAAK0xI,cAAgBj0I,EAAkBuC,KAAKiyI,YACzDjyI,KAAK0xI,aAAatI,OAEbhoI,EAAEyH,SAAW7I,KAAKgyI,aACvBhyI,KAAKgyI,aAAa5I,QAGlBppI,KAAK+1I,YAAY30I,GACjBA,EAAE+lB,iBACF/lB,EAAE+0H,kBACE/0H,EAAEyH,SAAW7I,KAAKinB,aAAejnB,KAAKgyI,aAAa1vB,aAAa,aAChEtiH,KAAKinB,YAAYmiH,OAGzB,MACJ,KAAK,WACGhoI,EAAEyH,SAAW7I,KAAK0xI,aAClB1xI,KAAK0xI,aAAatI,QAGlBppI,KAAKg2I,gBAAgB50I,GACrBA,EAAE+lB,iBACF/lB,EAAE+0H,kBAEN,MACJ,KAAK,QACD,GAAI/0H,EAAEyH,SAAW7I,KAAKinB,YAClBjnB,KAAKi0I,uBAEJ,IAAI7yI,EAAEyH,SAAW7I,KAAKgyI,aACvBhyI,KAAKg0I,wBAEJ,IAAI5yI,EAAEyH,SAAW7I,KAAK0xI,aACvB1xI,KAAK21I,wBAEJ,IAAIn9B,EAAchgH,UAAUC,SAASq3I,KAClCmG,EAAWj2I,KAAKk2I,mBAAmB,KAAM90I,IACpC+0I,KAAKnB,WAAa,IAC3BiB,EAASE,KAAK3mI,OAASxP,KAAK2xI,eAAe,eAC3C3xI,KAAKo2I,YAAYH,GAAU,OAE1B,IAAIz9B,EAAchgH,UAAUC,SAphB7B,mBAqhBAuH,KAAKq2I,aAAar2I,KAAKk2I,mBAAmB,KAAM90I,GAAIA,OAEnD,IAAIo3G,EAAchgH,UAAUC,SAAS+2I,IAAa,CACnD,GAAIyG,GAAWj2I,KAAKk2I,mBAAmB,KAAM90I,EAC7C60I,GAASE,KAAKnB,WAAa,IAC3BiB,EAASE,KAAK3mI,OAASxP,KAAK2xI,eAAe,wBAC3C3xI,KAAKs2I,YAAYL,EAASE,UAG1Bn2I,MAAKu2I,YAAYn1I,GACZo3G,EAAchgH,UAAUC,SAAS82I,KAClCvvI,KAAK0xI,aAAarvI,OAG1BjB,GAAE+lB,iBACF/lB,EAAE+0H,oBAId+Z,EAAS10I,UAAU06I,mBAAqB,SAAUM,EAAUp1I,GACxD,GAAIuzI,GACA8B,CACJ,IAAIh5I,EAAkB+4I,GAAW,CAC7B,GAAI3tI,GAAS7I,KAAK4xI,cAAc9uI,cAAc,IAAM+sI,IAAc95H,aAClE4+H,GAAW30I,KAAKswI,UAAUtwI,KAAKqwI,SAAS7xI,QAAQqK,QAGhD8rI,GAAW6B,CAEf,KAAK,GAAIn+I,GAAI,EAAGA,EAAI2H,KAAK2wI,eAAep4I,OAAQF,IACxC2H,KAAK2wI,eAAet4I,GAAG89I,KAAKvjH,OAAS+hH,EAAS/hH,OAC9C6jH,EAAiBz2I,KAAK2wI,eAAet4I,GAG7C,OAAOo+I,IAEXvG,EAAS10I,UAAUw6I,gBAAkB,SAAU50I,GAC3C,GAAIyH,GAASzH,EAAEyH,MACf,IAAIA,IAAW7I,KAAKgyI,aAChBhyI,KAAKgyI,aAAa5I,OAClBppI,KAAKinB,YAAY5kB,YAEhB,IAAIwG,IAAW7I,KAAKinB,aAAejnB,KAAKiyI,YAAcjyI,KAAKiyI,WAAWnvI,cAAc,YAAa,CAClG9C,KAAKinB,YAAYmiH,MACjB,IAAIzxI,MAAWgK,MAAMf,KAAKZ,KAAKiyI,WAAWr3I,iBAAiB,gBAC3DjD,GAAMA,EAAMY,OAAS,GAAGC,UAAU+L,IAAIsrI,IACtCl4I,EAAMA,EAAMY,OAAS,GAAG8J,YAEvB,CACD,GAAIq0I,MAAkB/0I,MAAMf,KAAKZ,KAAKiyI,WAAWr3I,iBAAiB,iBAC9D1C,EAAQw+I,EAAal4I,QAAQqK,EAC7B3Q,GAAQ,GACR8H,KAAKotG,cACLspC,EAAax+I,EAAQ,GAAGM,UAAU+L,IAAIsrI,IACtC6G,EAAax+I,EAAQ,GAAGmK,UAGxBrC,KAAKotG,cACLptG,KAAK0xI,aAAarvI,WAI9B6tI,EAAS10I,UAAUu6I,YAAc,SAAU30I,GACvC,GAAIyH,GAASzH,EAAEyH,MACf,IAAIA,IAAW7I,KAAKinB,YAAa,CAE7B,GADAjnB,KAAKotG,cACDptG,KAAKgyI,aAAa1vB,aAAa,YAC/B,MAEJtiH,MAAKgyI,aAAa3vI,YAEjB,IAAIwG,EAAOrQ,UAAUC,SAAS,WAAY,CAC3C,GAAIi+I,MAAkB/0I,MAAMf,KAAKZ,KAAKiyI,WAAWr3I,iBAAiB,iBAC9D1C,EAAQw+I,EAAal4I,QAAQqK,EAC7B3Q,GAASw+I,EAAan+I,OAAS,GAC/ByH,KAAKotG,cACLspC,EAAax+I,EAAQ,GAAGM,UAAU+L,IAAIsrI,IACtC6G,EAAax+I,EAAQ,GAAGmK,UAGxBrC,KAAKotG,cACLptG,KAAKinB,YAAY5kB,aAGpB,CACDrC,KAAK0xI,aAAatI,MAClB,IAAIuN,GAAc32I,KAAKiyI,WAAWr3I,iBAAiB,gBAAgB,EACnE+7I,GAAYt0I,QACZs0I,EAAYn+I,UAAU+L,IAAIsrI,MAGlCK,EAAS10I,UAAU4xG,YAAc,WACzBptG,KAAK4xI,eAAiB5xI,KAAKiyI,YAAcjyI,KAAKiyI,WAAWnvI,cAAc,IAAM+sI,MAC7E90I,SAASu0G,cAAc85B,OACvBppI,KAAKiyI,WAAWnvI,cAAc,IAAM+sI,IAAcr3I,UAAUkM,OAAOmrI,MAG3EK,EAAS10I,UAAUm6I,kBAAoB,WACnC31I,KAAKnG,QAAQ+oH,SAEjBstB,EAAS10I,UAAUw4I,kBAAoB,WACnCh0I,KAAK+wB,OAAO/wB,KAAKswI,YAErBJ,EAAS10I,UAAUy4I,iBAAmB,WAClCj0I,KAAK8wI,YAETZ,EAAS10I,UAAU85I,eAAiB,WAC5Bt1I,KAAKo1I,kBACL3vI,GAAalB,IAAIvE,KAAKo1I,gBAAiB,OAAQp1I,KAAK42I,YAAa52I,MACjEyF,GAAalB,IAAIvE,KAAKo1I,gBAAiB,WAAYp1I,KAAK62I,UAAW72I,MACnEyF,GAAalB,IAAIvE,KAAKo1I,gBAAiB,YAAap1I,KAAK82I,YAAa92I,QAG9EkwI,EAAS10I,UAAU61I,iBAAmB,WAC9BrxI,KAAKo1I,kBACL3vI,GAAaf,OAAO1E,KAAKo1I,gBAAiB,OAAQp1I,KAAK42I,aACvDnxI,GAAaf,OAAO1E,KAAKo1I,gBAAiB,WAAYp1I,KAAK62I,WAC3DpxI,GAAaf,OAAO1E,KAAKo1I,gBAAiB,YAAap1I,KAAK82I,eAGpE5G,EAAS10I,UAAUs7I,YAAc,SAAU11I,GACvCpB,KAAKo1I,gBAAgB58I,UAAUkM,OA7pBtB,wBA+pBbwrI,EAAS10I,UAAUq7I,UAAY,SAAUz1I,GAChCpB,KAAK4mB,UAGV5mB,KAAKo1I,gBAAgB58I,UAAU+L,IAnqBtB,uBAoqBTnD,EAAE+lB,iBACF/lB,EAAE+0H,oBAEN+Z,EAAS10I,UAAUo7I,YAAc,SAAUx1I,GACvCpB,KAAKo1I,gBAAgB58I,UAAUkM,OAxqBtB,uBAyqBT1E,KAAK41I,cAAcx0I,GACnBA,EAAE+lB,iBACF/lB,EAAE+0H,mBAEN+Z,EAAS10I,UAAU+6I,YAAc,SAAUt2I,GACvC,GAAKD,KAAK4mB,QAAV,CAGA,GAAImwH,GAAkB92I,EAAK4I,OAAOkN,cAC9B7d,EAAQ8H,KAAKqwI,SAAS7xI,QAAQu4I,GAC9BjwC,EAAY9mG,KAAKqwI,SAASn4I,GAC1By8I,EAAW30I,KAAKswI,UAAUp4I,EAC9B,IAAI+H,EAAK4I,OAAOrQ,UAAUC,SAAS82I,IAAa,CAC5C,GAAItvI,EAAK4I,OAAOrQ,UAAUC,SA5qBvB,cA6qBC,MAGJ,IADAk8I,EAASK,WAAa,KACjBv3I,EAAkBqpG,GAAY,CAC/B,GAAIkwC,GAAgBlwC,EAAUhkG,cAAc,IAAMysI,GAClDrzH,KAAgBrT,OAAQmuI,EAAev/H,MAAO,SAC9CmM,GAAYozH,QAIhBh3I,MAAK0E,OAAOiwI,GAAU,GAAO,EAAO10I,EAExCD,MAAKnG,QAAQmD,MAAQ,GACrBgD,KAAKsyI,4BAETpC,EAAS10I,UAAUy7I,gBAAkB,SAAUd,EAAMe,GACjD,GAAIh/I,EACJ,IAAIg/I,EAKA,YAJKl3I,KAAKi1I,eACN/8I,EAAQ8H,KAAKswI,UAAU9xI,QAAQ23I,GAC/Bn2I,KAAKswI,UAAUpmH,OAAOhyB,EAAO,IAIrC,IAAI6+I,GAAkB/2I,KAAKm3I,aAAahB,EACpC14I,GAAkBs5I,KAGtBxxI,EAAOwxI,GACP7+I,EAAQ8H,KAAKqwI,SAAS7xI,QAAQu4I,GAC9B/2I,KAAKqwI,SAASnmH,OAAOhyB,EAAO,GAC5B8H,KAAKswI,UAAUpmH,OAAOhyB,EAAO,GACA,IAAzB8H,KAAKqwI,SAAS93I,QAAiBkF,EAAkBuC,KAAKiyI,cACtD1sI,EAAOvF,KAAKiyI,YACZjyI,KAAKiyI,WAAa,KAClBjyI,KAAKoyI,yBAGblC,EAAS10I,UAAU47I,mBAAqB,SAAUjB,EAAM9nI,EAAWgpI,EAAgB5oG,GAC/E,GAAI1uC,GAAQC,KACRs3I,EAAgBnB,EAChBvjH,EAAO5yB,KAAKnG,QAAQ4M,aAAa,QACjCs2F,EAAO,GAAIxtE,IAAKvvB,KAAKyzI,cAAcj+C,UAAW,QAAQ,EAAM,MAC5D+hD,EAAW,GAAIC,SACnBz6C,GAAK9rE,WAAa,SAAU7vB,GACxBiN,EAAUopI,eAAiB16C,EAAK7sE,YAC3BmnH,GACDt3I,EAAMqoB,QAAQ,WAAY/Z,GAE1BA,EAAUyhB,SACV1uB,EAAE0uB,QAAS,GAEXzhB,EAAUqpI,cAAgBj6I,EAAkB65I,EAAc1C,UAAsC,KAA1B0C,EAAc1C,QACpF2C,EAASjyI,OAAOstB,EAAM0kH,EAAc1C,SAGpC2C,EAASjyI,OAAOstB,EAAM0kH,EAAc1kH,MAExC7yB,EAAM43I,eAAeJ,EAAUlpI,EAAUupI,gBAE7C,IAAI9wC,GAAY9mG,KAAKm3I,aAAahB,EAKlC,IAJAp5C,EAAKzsE,OAAS,SAAUlvB,GAAsD,MAAjDrB,GAAM83I,gBAAgBz2I,EAAGk2I,EAAe7oG,OAErEsuD,EAAKnsE,QAAU,SAAUxvB,GAAmD,MAA9CrB,GAAM+3I,aAAa12I,EAAGk2I,EAAe7oG,OACnEsuD,EAAKltE,KAAK0nH,IACL95I,EAAkBqpG,KAAerpG,EAAkBqpG,EAAUhkG,cAAc,IAAMwsI,KAAe,CACjG,GAAI0H,GAAgBlwC,EAAUhkG,cAAc,IAAMwsI,GAClDpzH,KAAgBrT,OAAQmuI,EAAev/H,MAAO,SAC9CmM,GAAYozH,KAIpB9G,EAAS10I,UAAUm8I,eAAiB,SAAUJ,EAAUQ,GACpD,GAAIA,EAAWx/I,OAAS,GAAKw/I,EAAW,GASpC,IAAK,GAAI1/I,GAAI,EAAGA,EAAI0/I,EAAWx/I,OAAQF,KARzB,SAAUA,GACpB,GAAIoE,GAAOs7I,EAAW1/I,GAElB2E,EAAQuB,OAAOjB,KAAKb,GAAMkkC,IAAI,SAAUv/B,GACxC,MAAO3E,GAAK2E,IAEhBm2I,GAASjyI,OAAO/G,OAAOjB,KAAKb,GAAM,GAAIO,IAG9B3E,IAIpB63I,EAAS10I,UAAUq8I,gBAAkB,SAAUz2I,EAAGozI,EAAO0C,GACrD,GAAIj3I,IACAmB,EAAGA,EAAG6xH,UAAW,SAAUkjB,KAAMn2I,KAAKg4I,aAAaxD,EAAOx0I,KAAK2xI,eAAe,yBAA0B,KAE5G3xI,MAAKooB,QAAQ,UAAWnoB,GACxBD,KAAKi3I,gBAAgBzC,EAAO0C,EAC5B,IAAIh/I,GAAQ8H,KAAKuwI,kBAAkB/xI,QAAQg2I,EAC3Cx0I,MAAKuwI,kBAAkBrmH,OAAOhyB,EAAO,GACrC8H,KAAKooB,QAAQ,UAAYosH,MAAOx0I,KAAKuwI,qBAEzCL,EAAS10I,UAAUs8I,aAAe,SAAU12I,EAAGozI,EAAO0C,GAClD,GAAIj3I,IACAmB,EAAGA,EAAG6xH,UAAW,SAAUkjB,KAAMn2I,KAAKg4I,aAAaxD,EAAOx0I,KAAK2xI,eAAe,wBAAyB,KAE3G,KAAKuF,EAAgB,CACjB,GAAIh/I,GAAQ8H,KAAKswI,UAAU9xI,QAAQg2I,GAC/ByD,EAAcj4I,KAAKqwI,SAASn4I,EAChC,IAAI+/I,EAAa,CACb,GAAIC,GAAgBD,EAAYn1I,cAAc,IAAMssI,GACpD6I,GAAYz/I,UAAUkM,OAAOirI,IAC7BuI,EAAc1/I,UAAUkM,OAAOirI,IAC/BsI,EAAYz/I,UAAU+L,IAAIqrI,IAC1BsI,EAAc1/I,UAAU+L,IAAIqrI,IAEhC5vI,KAAKsyI,0BAETtyI,KAAKooB,QAAQ,UAAWnoB,EACxB,IAAI6mG,GAAY9mG,KAAKm3I,aAAa3C,EAC7B/2I,GAAkBqpG,IAAerpG,EAAkBqpG,EAAUhkG,cAAc,IAAMwsI,OAElFnrH,GADoB2iF,EAAUhkG,cAAc,IAAMwsI,KAElD/pI,EAAOuhG,EAAUhkG,cAAc,sBAGvCotI,EAAS10I,UAAUo6I,cAAgB,SAAU31I,GACzC,GAAKD,KAAK4mB,QAAV,CAGA,GACIuxH,GADAxD,IAEJ,IAAkB,SAAd10I,EAAKlG,KAAiB,CACtB,GAAIy6I,GAAQv0I,EAAKm4I,aAAa5D,KAC9B2D,GAAcn4I,KAAKowI,SAAWpwI,KAAKq4I,aAAa7D,IAAUA,EAAM,QAGhE2D,MAAiBx2I,MAAMf,KAAKX,EAAK4I,OAAO2rI,MAEvCx0I,MAAKowI,WACNpwI,KAAKy0I,WAAU,GACf0D,GAAeA,EAAY,IAE/B,KAAK,GAAI9/I,GAAI,EAAGA,EAAI8/I,EAAY5/I,OAAQF,IAAK,CACzC,GAAI89I,GAAOgC,EAAY9/I,GACnBigJ,GACA1lH,KAAMujH,EAAKvjH,KACXgiH,QAASuB,EACT76G,KAAM66G,EAAK76G,KACX9rB,OAAQxP,KAAK2xI,eAAe,wBAC5B53I,KAAMiG,KAAKu4I,YAAYpC,EAAKvjH,MAC5BiiH,mBAAoB70I,KAAKw4I,kBAAkBrC,EAAK76G,MAChD05G,WAAY,IAEhBsD,GAAY9oI,OAAoD,KAA3C8oI,EAAYzD,mBAAmBC,QAAiB90I,KAAK2xI,eAAe,sBAC1C,KAA3C2G,EAAYzD,mBAAmBE,QAAiB/0I,KAAK2xI,eAAe,sBAAwB2G,EAAY9oI,OAC7D,KAA3C8oI,EAAYzD,mBAAmBC,SAA6D,KAA3CwD,EAAYzD,mBAAmBE,UAChFuD,EAAYtD,WAAa,KAE7BL,EAAS37I,KAAKs/I,GAElB,GAAIjqI,IACA9R,MAAO0D,EACP6vB,QAAQ,EACRwgH,UAAWqE,EACX8D,YAAY,EACZC,qBACAC,iBAAkB,GAStB,IAPI34I,KAAK6wI,kBAAkBryI,QAAQ,MAAQ,IACvCwB,KAAKywI,UAAW,GAEfzwI,KAAKywI,WACNkE,EAAW30I,KAAK44I,eAAejE,IAEnC30I,KAAKooB,QAAQ,WAAY/Z,IACrBA,EAAUyhB,OAGd,GAAI9vB,KAAKi1I,aAAc,CACnB,GAAI5mI,EAAUoqI,YAAcpqI,EAAUqqI,kBAAkBngJ,OAAS,EAAG,CAChE,GAAIsgJ,GAAY74I,KAAKywI,SAAWpiI,EAAUqqI,kBACtC14I,KAAK44I,eAAevqI,EAAUqqI,kBAClC14I,MAAK84I,qBAAqBD,GAC1B74I,KAAKswI,UAAYuI,EACZ74I,KAAKwwI,QACNxwI,KAAK01I,gBAAgBmD,OAIzB74I,MAAKkyI,eAAeyC,GACpB30I,KAAKswI,UAAYtwI,KAAKswI,UAAUr0H,OAAO04H,GAClC30I,KAAKwwI,QACNxwI,KAAK01I,gBAAgBf,EAGxBl3I,GAAkB4Q,EAAUsqI,mBAAoD,KAA/BtqI,EAAUsqI,mBAC5D34I,KAAK24I,iBAAmBtqI,EAAUsqI,sBAItC34I,MAAKswI,UAAYtwI,KAAKswI,UAAUr0H,OAAO04H,GACnC30I,KAAK+xI,YACL/xI,KAAK+wB,OAAO/wB,KAAKswI,WAAW,KAIxCJ,EAAS10I,UAAUi5I,UAAY,SAAUsE,GAChCt7I,EAAkBuC,KAAKiyI,cACxB1sI,EAAOvF,KAAKiyI,YACZjyI,KAAKiyI,WAAa,MAEI,SAAtB7lI,GAAQmc,KAAKqK,MAAoBmmH,IACjC/4I,KAAKnG,QAAQmD,MAAQ,IAEzBgD,KAAKqwI,YACLrwI,KAAKswI,aACLtwI,KAAKoyI,uBAETlC,EAAS10I,UAAUs9I,qBAAuB,SAAUxI,GAChD,GAEI0I,GAFAC,EAAoBj5I,KAAKyB,cAAc,OAASkC,GAAI,iBACpD+xF,GAAS,CAEb,IAAI11F,KAAKiyI,WAAY,CACjB,IAAK,GAAI55I,GAAI,EAAGA,EAAI2H,KAAKiyI,WAAWr3I,iBAAiB,MAAMrC,OAAQF,IAAK,CACpE,GAAIyuG,GAAY9mG,KAAKiyI,WAAWr3I,iBAAiB,MAAMvC,EACvD4gJ,GAAkBl3I,YAAY+kG,EAAU9kG,WAAU,IAGtD,IAAK,GAAI3D,GAAK,EAAG66I,EADjBF,EAAch5I,KAAKiyI,WAAWr3I,iBAAiB,MACDyD,EAAK66I,EAAc3gJ,OAAQ8F,IAErEkH,EADW2zI,EAAc76I,GAG7B2B,MAAKoyI,qBACL,IAAI+G,MAAax3I,MAAMf,KAAKq4I,EAAkB3+I,WAC9CiL,GAAOvF,KAAKiyI,YACZjyI,KAAKiyI,WAAa,KAClBjyI,KAAKqwI,YACLrwI,KAAKo5I,gBACL,KAAK,GAAIlhJ,GAAQ,EAAGA,EAAQo4I,EAAU/3I,OAAQL,IAAS,CACnD,IAAK,GAAIitB,GAAI,EAAGA,EAAInlB,KAAKswI,UAAU/3I,OAAQ4sB,IACnCnlB,KAAKswI,UAAUnrH,GAAGyN,OAAS09G,EAAUp4I,GAAO06B,OAC5C5yB,KAAKiyI,WAAWlwI,YAAYo3I,EAAQh0H,IACpC1f,GAAalB,IAAI40I,EAAQh0H,GAAGriB,cAAc,YAAa,QAAS9C,KAAKu2I,YAAav2I,MAClFA,KAAKqwI,SAASr3I,KAAKmgJ,EAAQh0H,IAC3BuwE,EAAQx9F,EAGZw9F,KAAUx9F,GACV8H,KAAKkyI,gBAAgB5B,EAAUp4I,UAKvC8H,MAAKkyI,eAAe5B,IAG5BJ,EAAS10I,UAAUo9I,eAAiB,SAAUpE,GAC1C,GAAI6E,GAAY7E,CAChB,IAA+B,KAA3Bx0I,KAAK6wI,kBAA0B,CAG/B,IAAK,GAFDA,MAEKxyI,EAAK,EAAGi7I,EADAt5I,KAAK6wI,kBAAkB3zI,MAAM,KACFmB,EAAKi7I,EAAa/gJ,OAAQ8F,IAAM,CACxE,GAAIk7I,GAAYD,EAAaj7I,EAC7BwyI,GAAkB73I,KAAKugJ,EAAU9nI,OAAOlY,qBAE5C,IAAK,GAAIlB,GAAI,EAAGA,EAAIm8I,EAAMj8I,OAAQF,KACgD,IAA1Ew4I,EAAkBryI,SAAS,IAAMg2I,EAAMn8I,GAAG0B,MAAMR,uBAChDi7I,EAAMn8I,GAAGmX,OAASxP,KAAK2xI,eAAe,mBACtC6C,EAAMn8I,GAAG28I,WAAa,KAIlC,MAAOqE,IAEXnJ,EAAS10I,UAAUg9I,kBAAoB,SAAUgB,GAC7C,GAAIC,GAAe,GACfC,EAAe,EAYnB,OAXIF,GAAWx5I,KAAK25I,YAChBF,EAAez5I,KAAK2xI,eAAe,sBAE9B6H,EAAWx5I,KAAK45I,YACrBF,EAAe15I,KAAK2xI,eAAe,uBAGnC8H,EAAe,GACfC,EAAe,KAEE5E,QAAS2E,EAAc1E,QAAS2E,IAGzDxJ,EAAS10I,UAAUq+I,qBAAuB,SAAUlF,GAChD30I,KAAKo5I,gBACL,KAAK,GAAI/6I,GAAK,EAAGy7I,EAAanF,EAAUt2I,EAAKy7I,EAAWvhJ,OAAQ8F,IAAM,CAClE,GAAI0pG,GAAW+xC,EAAWz7I,GACtByoG,EAAY9mG,KAAKyB,cAAc,MAAQiC,UAAWyrI,GAAMrrI,OAASi2I,iBAAkBhyC,EAASn1E,OAChG5yB,MAAKg6I,iBAAmBh6I,KAAKi6I,iBAAiBj6I,KAAKwQ,UACnDxQ,KAAKiyI,WAAWlwI,YAAY+kG,GAE5BxhG,KADsB3D,MAAMf,KAAKZ,KAAKg6I,iBAAiBjyC,IAClCjB,GACrB9mG,KAAKqwI,SAASr3I,KAAK8tG,KAG3BopC,EAAS10I,UAAU49I,eAAiB,WAC5B37I,EAAkBuC,KAAKiyI,cACvBjyI,KAAKiyI,WAAajyI,KAAKyB,cAAc,MAAQiC,UAh/BvC,mBAi/BN1D,KAAK4xI,cAAc7vI,YAAY/B,KAAKiyI,cAG5C/B,EAAS10I,UAAU02I,eAAiB,SAAUyC,GAE1C,GADA30I,KAAKo5I,iBACiB,KAAlBp5I,KAAKwQ,UAAoB/S,EAAkBuC,KAAKwQ,UAIhD,IAAK,GAAInS,GAAK,EAAG67I,EAAavF,EAAUt2I,EAAK67I,EAAW3hJ,OAAQ8F,IAAM,CAClE,GAAI0pG,GAAWmyC,EAAW77I,GACtByoG,EAAY9mG,KAAKyB,cAAc,MAAQiC,UAAWyrI,GAAMrrI,OAASi2I,iBAAkBhyC,EAASn1E,QAC5FunH,EAAgBn6I,KAAKyB,cAAc,QAAUiC,UAz+B5C,qBA0+BD02I,EAAcp6I,KAAKyB,cAAc,QAAUiC,UAx/B/C,cAw/BqEI,OAASwpD,MAASy6C,EAASn1E,OAChGwnH,GAAY5/I,UAAYwF,KAAKq6I,gBAAgBtyC,EAASn1E,KACtD,IAAI0nH,GAAgBt6I,KAAKyB,cAAc,QAAUiC,UAz/BjD,eA2/BA,IADA42I,EAAc9/I,UAAY,IAAMwF,KAAKu4I,YAAYxwC,EAASn1E,MACrD5yB,KAAKuP,UAIL,CACD,GAAIgrI,GAAev6I,KAAKyB,cAAc,QAAUiC,UA/+BhD,mBAg/BA62I,GAAax4I,YAAYu4I,GACzBC,EAAax4I,YAAYq4I,GACzBD,EAAcp4I,YAAYw4I,OAP1BJ,GAAcp4I,YAAYq4I,GAC1BD,EAAcp4I,YAAYu4I,EAQ9B,IAAId,GAAWx5I,KAAKyB,cAAc,QAAUiC,UApgC5C,eAqgCA81I,GAASh/I,UAAYwF,KAAKw6I,YAAYzyC,EAASzsE,MAC/C6+G,EAAcp4I,YAAYy3I,EAC1B,IAAItB,GAAgBl4I,KAAKyB,cAAc,QAAUiC,UAAW0rI,IAC5D+K,GAAcp4I,YAAYm2I,GAC1BA,EAAc19I,UAAYutG,EAASv4F,OACnCs3F,EAAU/kG,YAAYo4I,EACtB,IAAIxD,GAAc32I,KAAKyB,cAAc,QAAUiC,UAAW,WAAYI,OAASutG,SAAY,OAEjE,UAAtBjlG,GAAQmc,KAAKqK,MACb+jH,EAAYn+I,UAAU+L,IAAI,UAE9BoyI,EAAY9yI,aAAa,QAAS7D,KAAK2xI,eAAe,WACtD7qC,EAAU/kG,YAAY40I,GACtBlxI,GAAalB,IAAIoyI,EAAa,QAAS32I,KAAKu2I,YAAav2I,MAC7B,MAAxB+nG,EAASitC,YACTkD,EAAc1/I,UAAU+L,IAAIorI,IAC5BgH,EAAYn+I,UAAU+L,IAAI+qI,IAC1BqH,EAAY9yI,aAAa,QAAS7D,KAAK2xI,eAAe,YAEzB,MAAxB5pC,EAASitC,aACdkD,EAAc1/I,UAAUkM,OAAOirI,IAC/BuI,EAAc1/I,UAAU+L,IA7gCrB,uBA+gCHvE,KAAK+xI,YAAsC,MAAxBhqC,EAASitC,YAAqD,KAA/Bh1I,KAAKyzI,cAAcC,UACrEwE,EAAc19I,UAAY,IAEzBm8I,EAAYn+I,UAAUC,SAAS62I,KAChCqH,EAAYn+I,UAAU+L,IAAI8qI,IAE9BrvI,KAAKiyI,WAAWlwI,YAAY+kG,GAC5B9mG,KAAKqwI,SAASr3I,KAAK8tG,GACnB9mG,KAAKy6I,aAAaL,OArDtBp6I,MAAK65I,qBAAqBlF,IAyDlCzE,EAAS10I,UAAUi/I,aAAe,SAAU7nH,GACxC,GACIn5B,GADAihJ,EAAc9nH,CAEd8nH,GAAY51I,YAAc41I,EAAYC,cACtClhJ,EAAOihJ,EAAYhhJ,YACnBghJ,EAAYnlC,QAAQqlC,KAAOnhJ,EAAKkI,MAAMlI,EAAKlB,OAAS,MAG5D23I,EAAS10I,UAAU+8I,YAAc,SAAU3lH,GACvC,GAAI2mH,GACArhJ,EAAQ06B,EAAK0W,YAAY,IAI7B,OAHIpxC,IAAS,IACTqhJ,EAAY3mH,EAAK/M,UAAU3tB,EAAQ,IAEhCqhJ,GAAwB,IAEnCrJ,EAAS10I,UAAU6+I,gBAAkB,SAAUznH,GAC3C,GAAI74B,GAAOiG,KAAKu4I,YAAY3lH,EAE5B,OAAO74B,GADK64B,EAAK11B,MAAM,IAAMnD,GACT,IAExBm2I,EAAS10I,UAAUq/I,qBAAuB,WAOtC,GANI76I,KAAKmwI,YAAY7oF,QACjBtnD,KAAKnG,QAAQgK,aAAa,SAAU7D,KAAKmwI,YAAY7oF,QAErDtnD,KAAKmwI,YAAYpyC,UACjB/9F,KAAKnG,QAAQgK,aAAa,WAAY,YAEtC7D,KAAKmwI,YAAYC,SAAU,CAC3B,GAAImF,GAAUx6I,SAASy6I,gBAAgB,WACvCx1I,MAAKnG,QAAQ47I,iBAAiBF,KAGtCrF,EAAS10I,UAAUs/I,eAAiB,SAAUtG,GAG1C,IAAK,GAFDuG,MAEK1iJ,EAAI,EAAGA,EAAIm8I,EAAMj8I,OAAQF,IACzB2H,KAAKm3I,aAAa3C,EAAMn8I,IACrBG,UAAUC,SAASk3I,KACvBoL,EAAY/hJ,KAAKw7I,EAAMn8I,GAG/B,OAAO0iJ,IAEX7K,EAAS10I,UAAUw8I,aAAe,SAAUxD,EAAOhlI,EAAQwlI,GACtC,KAAXxlI,GAAiB/R,EAAkB+R,IAA6B,KAAfwlI,GAAqBv3I,EAAkBu3I,KAC1FR,EAAMhlI,OAASA,EACfglI,EAAMQ,WAAaA,EAEvB,IAAI7zC,GAAKnhG,KAAKm3I,aAAa3C,EAM3B,OALK/2I,GAAkB0jG,IACd1jG,EAAkB0jG,EAAGr+F,cAAc,IAAMssI,MAA0B,KAAX5/H,GAAiB/R,EAAkB+R,KAC5F2xF,EAAGr+F,cAAc,IAAMssI,IAAQ11I,YAAc8V,GAG9CglI,GAEXtE,EAAS10I,UAAU27I,aAAe,SAAU3C,GACxC,GAAIt8I,GAAQ8H,KAAKswI,UAAU9xI,QAAQg2I,EACnC,OAAOx0I,MAAKqwI,SAASn4I,IAEzBg4I,EAAS10I,UAAUw/I,kBAAoB,SAAUl0C,GAC7C,GAAIm0C,GAAqBj7I,KAAKyB,cAAc,QAAUiC,UAAW+rI,KAC7DyL,EAAcl7I,KAAKyB,cAAc,eAAiBiC,UAAWgsI,GAAa5rI,OAAS9G,MAAO,IAAKqQ,IAAK,SACpG8tI,EAA0Bn7I,KAAKyB,cAAc,QAAUiC,UAtlCtC,yBAulCrBw3I,GAAYr3I,aAAa,QAAS,YAClC,IAAIu3I,GAAkBp7I,KAAKyB,cAAc,QAAUiC,UAlmCpC,uBAmmCf03I,GAAgB1hJ,YAAc,KAC9ByhJ,EAAwBp5I,YAAYm5I,GACpCD,EAAmBl5I,YAAYo5I,GAC/BF,EAAmBl5I,YAAYq5I,GAC/Bt0C,EAAUhkG,cAAc,qBAAsBf,YAAYk5I,IAG9D/K,EAAS10I,UAAU6/I,kBAAoB,SAAUj6I,EAAG+/F,GAChD,IAAKl4D,MAAM77B,KAAKknG,MAAOlzG,EAAEk6I,OAASl6I,EAAEm6I,MAAS,QAAU99I,EAAkB0jG,EAAGr+F,cAAc,IAAM4sI,KAC5F,GAAKjyI,EAAkBuC,KAAK24I,mBAA+C,KAA1B34I,KAAK24I,iBAOlD34I,KAAKw7I,oBAAoBr6C,EAAI/zF,KAAKknG,MAAOlzG,EAAEk6I,OAASl6I,EAAEm6I,MAAS,KAAK56I,WAAa,SAPN,CAC3E,GAAI3D,GAASoQ,KAAKknG,MAAOlzG,EAAEk6I,OAASl6I,EAAEm6I,MAAS,KAAQ5hH,SAAS35B,KAAK24I,iBAAkB,GACzE,KAAV37I,GAAyB,MAAVA,GACfgD,KAAKw7I,oBAAoBr6C,EAAI/zF,KAAKknG,MAAOlzG,EAAEk6I,OAASl6I,EAAEm6I,MAAS,KAAK56I,WAAa,OAQjGuvI,EAAS10I,UAAUggJ,oBAAsB,SAAUr6C,EAAIs6C,GACnDt6C,EAAGr+F,cAAc,IAAM4sI,IAAa7rI,aAAa,QAAS,SAAW43I,GACrEt6C,EAAGr+F,cAAc,wBAAwBpJ,YAAc+hJ,GAE3DvL,EAAS10I,UAAUkgJ,iBAAmB,SAAUt6I,EAAGozI,EAAOmH,EAAUpnD,GAChE,GAAIx0F,GAAQC,KACRmhG,EAAKnhG,KAAKm3I,aAAa3C,EAC3B,KAAI/2I,EAAkB0jG,IAASw6C,IAAYl+I,EAAkBk+I,GAA7D,CAGA,IAAKl+I,EAAkB0jG,GAAK,CAExB,GAAyB,MAArBqzC,EAAMQ,WAAoB,CAC1B,GAAI3mI,IACA9R,MAAO6E,EACPuzI,SAAUH,EACV1kH,QAAQ,EAGZ,IADA9vB,KAAKooB,QAAQ,YAAa/Z,GACtBA,EAAUyhB,OAAQ,CAClB0kH,EAAMQ,WAAa,GACnB,IAAIgC,GAAgB71C,EAAGr+F,cAAc,IAAMysI,GAK3C,aAJK9xI,EAAkB0jG,IAAQ1jG,EAAkBu5I,KAC7C7yH,GAAY6yH,GACZzxI,EAAO47F,EAAGr+F,cAAc,sBAIhCyxF,EAAQ5kE,WAAY,EACpB4kE,EAAQrkE,YAAYoxB,OACpB,IAAIi2F,GAAW,GAAIC,SACnB,IAAyB,MAArBhD,EAAMQ,WAAoB,CAC1B,GAAIpJ,GAAS5rI,KAAKnG,QAAQ4M,aAAa,OACvC8wI,GAASjyI,OAAOsmI,EAAQ4I,EAAM5hH,MAC9B2kH,EAASjyI,OAAO,mBAAoBkvI,EAAM5hH,KAC1C,IAAImqE,GAAO,GAAIxtE,IAAKvvB,KAAKyzI,cAAcj+C,UAAW,QAAQ,EAAM,KAChEuH,GAAKzsE,OAAS,SAAUlvB,GAAyC,MAApCrB,GAAM67I,mBAAmBx6I,EAAGozI,OACzDz3C,EAAKltE,KAAK0nH,IAGZp2C,EAAGvmG,iBAAiB,IAAM60I,IAAkBl3I,OAAS,IAAM4oG,EAAGr+F,cAAc,IAAMssI,MACpFjuC,EAAGr+F,cAAc,IAAMssI,IAAQ52I,UAAU+L,IA/pCjC,qBAgqCRvE,KAAKg7I,kBAAkB75C,GACvBnhG,KAAK67I,yBAAyB16C,EAjqCtB,qBAkqCRA,EAAGr+F,cAAc,IAAMssI,IAAQ52I,UAAUkM,OAAOkrI,KAEpD5vI,KAAKq7I,kBAAkBj6I,EAAG+/F,EAC1B,IAAI0uB,GAAU1uB,EAAGr+F,cAAc,IAAMusI,GAChC5xI,GAAkBoyH,KACnBA,EAAQr3H,UAAU+L,IAAIgrI,GAvqCd,qBAwqCR1f,EAAQhsH,aAAa,QAAS7D,KAAK2xI,eAAe,UAClD9hB,EAAQr3H,UAAUkM,OAAO2qI,KAGjC,GAAIpvI,IAASmB,EAAGA,EAAG6xH,UAAW,SAAUkjB,KAAMn2I,KAAKg4I,aAAaxD,EAAOx0I,KAAK2xI,eAAe,cAAe,KAC1G3xI,MAAKooB,QAAQ,WAAYnoB,KAE7BiwI,EAAS10I,UAAUogJ,mBAAqB,SAAUx6I,EAAG+0I,GACjD,GAAIrvC,GAAY9mG,KAAKm3I,aAAahB,EAClC,KAAIrvC,EAAUhkG,cAAc,IAAM0sI,MAAe/xI,EAAkBqpG,EAAUhkG,cAAc,IAAMysI,KAAjG,CAGAvvI,KAAKg4I,aAAa7B,EAAMn2I,KAAK2xI,eAAe,oBAAqB,KACjE3xI,KAAK87I,mBAAmB16I,EAAG+0I,EAAMrvC,EACjC,IAAIkwC,GAAgBlwC,EAAUhkG,cAAc,IAAMusI,GAC7C5xI,GAAkBqpG,KACnB3iF,GAAY6yH,GACZzxI,EAAOuhG,EAAUhkG,cAAc,oBAEnC,IAAI7C,IAAS1D,MAAO6E,EAAG6xH,UAAW,SAAUkjB,KAAMA,EAClDn2I,MAAKooB,QAAQ,UAAWnoB,KAE5BiwI,EAAS10I,UAAUsgJ,mBAAqB,SAAU16I,EAAG+0I,EAAMrvC,GACvD,GAAI/mG,GAAQC,IACZA,MAAK67I,yBAAyB/0C,EAAW8oC,IACzC5vI,KAAK+7I,kBAAkBj1C,EAAW,WAC7BrpG,EAAkBqpG,EAAUhkG,cAAc,oBAC3CgkG,EAAUhkG,cAAc,kBAAkBtK,UAAU+L,IAAIqrI,GAE5D,IAAIoM,GAAal1C,EAAUhkG,cAAc,IAAMysI,GAC3C9xI,GAAkBu+I,KAGtBA,EAAWxjJ,UAAUkM,OAAO6qI,GAzsCZ,qBA0sChByM,EAAWxjJ,UAAU+L,IAAI8qI,IACzB2M,EAAWn4I,aAAa,QAAS7D,KAAK2xI,eAAe,WACrD3xI,KAAKi8I,YAAcj8I,KAAKyB,cAAc,QAAUiC,UAAW,4BAA6BI,OAASutG,SAAY,QAC7GvK,EAAU1hG,aAAapF,KAAKi8I,YAAaD,GACzCh8I,KAAKi8I,YAAYp4I,aAAa,QAAS7D,KAAK2xI,eAAe,UACxC7qC,EAAUhkG,cAAc,IAAM0sI,IAEpC9yI,iBAAiB,QAAS,SAAU0E,GAAKrB,EAAMm8I,mBAAmB96I,EAAG+0I,EAAMrvC,KAAe,KAE3GopC,EAAS10I,UAAU0gJ,mBAAqB,SAAU96I,EAAG+0I,EAAMrvC,GACvDqvC,EAAKnB,WAAa,IAClBmB,EAAK3mI,OAASxP,KAAK2xI,eAAe,wBAClC7qC,EAAUhkG,cAAc,IAAMssI,IAAQ52I,UAAUkM,OAAOkrI,IAClDnyI,EAAkBqpG,EAAUhkG,cAAc,IAAM0sI,MACjDjqI,EAAOuhG,EAAUhkG,cAAc,IAAM0sI,KAEzCxvI,KAAKi8I,YAAc,KACnBj8I,KAAK+wB,QAAQolH,KAGjBjG,EAAS10I,UAAU2gJ,eAAiB,SAAU/6I,EAAG+0I,EAAMwF,GACnD,GAAInsI,GAASpO,EAAEyH,MACf,IAA0B,IAAtB2G,EAAOoiB,YAAoBpiB,EAAOA,QAAU,KAAOA,EAAOA,QAAU,IAAK,CACzE,GAAI2xF,GAAKnhG,KAAKm3I,aAAahB,EAC3B,IAAI14I,EAAkB0jG,MAASw6C,GAAYl+I,EAAkBk+I,IACzD,MAEJ,KAAKl+I,EAAkB0jG,GAAK,CACxBnhG,KAAK67I,yBAAyB16C,EAAIwuC,IAClC3vI,KAAK+7I,kBAAkB56C,EAAI,UAC3B,IAAI0uB,GAAU1uB,EAAGr+F,cAAc,IAAMysI,GAChC9xI,GAAkBoyH,KACnBA,EAAQr3H,UAAU+L,IAAI+qI,IACtBzf,EAAQhsH,aAAa,QAAS7D,KAAK2xI,eAAe,WAClD9hB,EAAQr3H,UAAUkM,OAAO6qI,IACzB1f,EAAQr3H,UAAUkM,OA7uCd,sBAgvCZ1E,KAAKo8I,kBAAkBh7I,EAAG+0I,OAG1Bn2I,MAAKq8I,aAAaj7I,EAAG+0I,IAG7BjG,EAAS10I,UAAU4gJ,kBAAoB,SAAUh7I,EAAG+0I,GAChD,GAAIl2I,IAASmB,EAAGA,EAAG6xH,UAAW,SAAUkjB,KAAMn2I,KAAKg4I,aAAa7B,EAAMn2I,KAAK2xI,eAAe,wBAAyB,KACnH3xI,MAAKooB,QAAQ,UAAWnoB,GACxBD,KAAKuwI,kBAAkBv3I,KAAKm9I,GAC5Bn2I,KAAKooB,QAAQ,UAAY+tH,KAAMn2I,KAAKuwI,oBACpCvwI,KAAKsyI,2BAETpC,EAAS10I,UAAU6gJ,aAAe,SAAUj7I,EAAG+0I,GAC3C,GAAIh1C,GAAKnhG,KAAKm3I,aAAahB,GACvBl2I,GAASmB,EAAGA,EAAG6xH,UAAW,SAAUkjB,KAAMn2I,KAAKg4I,aAAa7B,EAAMn2I,KAAK2xI,eAAe,uBAAwB,KAC7Gl0I,GAAkB0jG,IACnBnhG,KAAK87I,mBAAmB16I,EAAG+0I,EAAMh1C,GAErCnhG,KAAKooB,QAAQ,UAAWnoB,GACxBD,KAAKsyI,2BAETpC,EAAS10I,UAAUqgJ,yBAA2B,SAAU16C,EAAIz9F,GACxD,GAAIw3I,GAAc/5C,EAAGr+F,cAAc,IAAM4sI,GACpCjyI,GAAkBy9I,IACnBA,EAAY1iJ,UAAU+L,IAAIb,IAGlCwsI,EAAS10I,UAAUugJ,kBAAoB,SAAU56C,EAAIm7C,GACjD,GAAIv8I,GAAQC,IACPvC,GAAkB0jG,EAAGr+F,cAAc,IAAM2sI,OAC1CzvI,KAAKu8I,kBAAoB,GAAI9jH,KAAYhsB,SAAU,OACnDzM,KAAKu8I,kBAAkBnjH,QAAQ+nE,EAAGr+F,cAAc,IAAM2sI,KAAqB78G,KAAM,YACjF5yB,KAAKu8I,kBAAkBnjH,QAAQ+nE,EAAGr+F,cAAc,yBAA2B8vB,KAAM,YACjF36B,WAAW,WAAc8H,EAAMy8I,mBAAmBr7C,EAAIm7C,IAAc,OAI5EpM,EAAS10I,UAAUghJ,mBAAqB,SAAUr7C,EAAIm7C,GACjC,YAAbA,GACAn7C,EAAG3oG,UAAU+L,IAAIorI,IACZlyI,EAAkB0jG,EAAGr+F,cAAc,IAAMssI,OAC1CjuC,EAAGr+F,cAAc,IAAMssI,IAAQ52I,UAAUkM,OA1xCjC,qBA2xCR1E,KAAKu8I,kBAAkBnjH,QAAQ+nE,EAAGr+F,cAAc,IAAMssI,KAAWx8G,KAAM,WACvEuuE,EAAGr+F,cAAc,IAAMssI,IAAQ52I,UAAU+L,IAAIorI,MAI5ClyI,EAAkB0jG,EAAGr+F,cAAc,IAAMssI,OAC1CjuC,EAAGr+F,cAAc,IAAMssI,IAAQ52I,UAAUkM,OAjyCjC,qBAkyCR1E,KAAKu8I,kBAAkBnjH,QAAQ+nE,EAAGr+F,cAAc,IAAMssI,KAAWx8G,KAAM,WACvEuuE,EAAGr+F,cAAc,IAAMssI,IAAQ52I,UAAU+L,IAAIqrI,KAGjDzuC,EAAGr+F,cAAc,IAAM2sI,KACvBlqI,EAAO47F,EAAGr+F,cAAc,IAAM2sI,MAGtCS,EAAS10I,UAAUo1I,cAAgB,SAAU6L,GACzCz8I,KAAKnG,QAAQgK,aAAa,SAAU44I,IAExCvM,EAAS10I,UAAUy+I,iBAAmB,SAAUyC,GAC5C,GAAIA,EACA,IAEI,GAAI3hJ,SAASH,iBAAiB8hJ,GAAgBnkJ,OAC1C,MAAOgY,IAAQxV,SAAS+H,cAAc45I,GAAgBliJ,UAAUiX,QAGxE,MAAOkrI,GACH,MAAOpsI,IAAQmsI,KAK3BxM,EAAS10I,UAAUy1I,OAAS,WACxBjxI,KAAKuP,UAAYvL,GAAUhE,KAAK4xI,eAvzC9B,SAuzCqDptI,GAAaxE,KAAK4xI,eAvzCvE,UAyzCN1B,EAAS10I,UAAUm2I,eAAiB,SAAU9vB,GAE1C,MADA7hH,MAAKs6G,KAAKzuD,UAAU7rD,KAAKgP,QAClBhP,KAAKs6G,KAAKnuD,YAAY01D,IAEjCquB,EAAS10I,UAAUu1I,iBAAmB,WAC7B/wI,KAAK4mB,SAYF5mB,KAAK4xI,cAAcp5I,UAAUC,SAz0C9B,eA00CCuH,KAAK4xI,cAAcp5I,UAAUkM,OA10C9B,eA40CEjH,EAAkBuC,KAAK0xI,eAAiB1xI,KAAKnG,QAAQyoH,aAAa,cACnEtiH,KAAKnG,QAAQyS,gBAAgB,YAC7BtM,KAAK0xI,aAAaplI,gBAAgB,cAEjC7O,EAAkBuC,KAAKinB,cAAgBjnB,KAAKinB,YAAYq7F,aAAa,aACtEtiH,KAAKinB,YAAY3a,gBAAgB,aAEhC7O,EAAkBuC,KAAKgyI,eAAiBhyI,KAAKgyI,aAAa1vB,aAAa,aACxEtiH,KAAKgyI,aAAa1vB,aAAa,cAtBnCtiH,KAAK4xI,cAAcp5I,UAAU+L,IA9zC1B,cA+zCHvE,KAAKnG,QAAQgK,aAAa,WAAY,YACtC7D,KAAK0xI,aAAa7tI,aAAa,WAAY,YACtCpG,EAAkBuC,KAAKinB,cACxBjnB,KAAKinB,YAAYpjB,aAAa,WAAY,YAEzCpG,EAAkBuC,KAAKgyI,eACxBhyI,KAAKgyI,aAAanuI,aAAa,WAAY,cAmBvDqsI,EAAS10I,UAAUg4I,oBAAsB,WACjCxzI,KAAKnG,QAAQyoH,aAAa,YAC1BtiH,KAAK6wI,kBAAoB7wI,KAAKnG,QAAQ4M,aAAa,UACnDzG,KAAKmwI,YAAY7oF,OAAStnD,KAAK6wI,mBAE/B7wI,KAAKnG,QAAQyoH,aAAa,cAC1BtiH,KAAKowI,UAAW,EAChBpwI,KAAKmwI,YAAYC,UAAW,GAE5BpwI,KAAKnG,QAAQyoH,aAAa,cAC1BtiH,KAAK4mB,SAAU,EACf5mB,KAAKmwI,YAAYpyC,UAAW,IAGpCmyC,EAAS10I,UAAU86I,YAAc,SAAUH,EAAM1nG,GAC7C,GACI9uB,GAAMvS,KAAK2U,IAAI/hB,KAAKyzI,cAAcmJ,UAAWzG,EAAK76G,MAGlD26G,GAAa4G,WAFL,EAEwBC,KADzB3G,EAAKvB,QAAQjzI,MAHZ,EAGyBge,GACWw2H,KAAMA,EAAM54I,MAJhD,EAI8DoiB,IAAKA,EAAKo9H,WAAY,EAAGxoD,QAAS,KAC5Gv0F,MAAKg9I,YAAY7G,EAAMF,EAAUxnG,IAErCyhG,EAAS10I,UAAUwhJ,YAAc,SAAU7G,EAAMF,EAAUxnG,GACvD,GAAI1uC,GAAQC,KACRu3I,EAAW,GAAIC,UACfsF,EAAO3G,EAAKvB,QAAQjzI,MAAMs0I,EAAS14I,MAAO04I,EAASt2H,IACvD43H,GAASjyI,OAAO,YAAaw3I,EAAM3G,EAAKvjH,MACxC2kH,EAASjyI,OAAO,cAAe2wI,EAAS4G,WAAWl8I,WACnD,IAAIs8I,GAAa7vI,KAAKC,IAAID,KAAK8vI,KAAK/G,EAAK76G,KAAOt7B,KAAKyzI,cAAcmJ,WAAY,EAC/ErF,GAASjyI,OAAO,cAAe23I,EAAWt8I,WAC1C,IAAIo8F,GAAO,GAAIxtE,KAAOK,IAAK5vB,KAAKyzI,cAAcC,QAAS35I,KAAM,OAAQy1B,OAAO,EAAMC,YAAa,MAC/FstE,GAAKzsE,OAAS,SAAUlvB,GAAqD,MAAhDrB,GAAMo9I,oBAAoB/7I,EAAG60I,EAAUxnG,OACpEsuD,EAAKjsE,iBAAmB,SAAU1vB,GAE9B,MADArB,GAAMq9I,sBAAsBh8I,EAAG60I,EAAUxnG,MAG7C,IAAIpgC,IACAsmI,SAAUwB,EACVyB,kBACA9nH,QAAQ,EACR8sH,UAA4C,IAAjC58I,KAAKyzI,cAAcmJ,UAAkB,KAAO58I,KAAKyzI,cAAcmJ,UAE9E7/C,GAAK9rE,WAAa,SAAU7vB,GACI,IAAxB60I,EAAS4G,aAGbxuI,EAAUopI,eAAiB16C,EAAK7sE,YAChCnwB,EAAMqoB,QAAQ,YAAa/Z,GACvBA,EAAUyhB,OACV/vB,EAAMs9I,kBAAkBj8I,EAAGiN,EAAW8nI,GAGtCp2I,EAAM43I,eAAeJ,EAAUlpI,EAAUupI,kBAIjD76C,EAAKnsE,QAAU,SAAUxvB,GAAmD,MAA9CrB,GAAMu9I,kBAAkBl8I,EAAG60I,EAAUxnG,OACnEsuD,EAAKltE,KAAK0nH,GACVtB,EAAS1hD,QAAUwI,GAEvBmzC,EAAS10I,UAAU6hJ,kBAAoB,SAAUj8I,EAAGiN,EAAW8nI,GAC3D,GAAIp2I,GAAQC,IAEZ,IADAoB,EAAE0uB,QAAS,EAC2B,MAAlCzhB,EAAUsmI,SAASK,WAAvB,CAGA,GAAIluC,GAAY9mG,KAAKm3I,aAAa9oI,EAAUsmI,SAC5C7tC,GAAUhkG,cAAc,IAAMssI,IAAQ50I,UAAYwF,KAAK2xI,eAAe,oBACtE7qC,EAAUhkG,cAAc,IAAMssI,IAAQ52I,UAAU+L,IAAIqrI,IACpDvhI,EAAUsmI,SAASK,WAAa,IAChC3mI,EAAUsmI,SAASnlI,OAASxP,KAAK2xI,eAAe,oBAChD3xI,KAAKi8I,YAAcj8I,KAAKyB,cAAc,QAAUiC,UAAW,4BAA6BI,OAASutG,SAAY,QAC7GvK,EAAU1hG,aAAapF,KAAKi8I,YAAan1C,EAAUhkG,cAAc,IAAMusI,KACvErvI,KAAKi8I,YAAYp4I,aAAa,QAAS7D,KAAK2xI,eAAe,UAE3D3xI,KAAKi8I,YAAYv/I,iBAAiB,QAAS,SAAU0E,GAAKrB,EAAMm8I,mBAAmB96I,EAAG+0I,EAAMrvC,KAAe,GAC3G9mG,KAAKsyI,4BAETpC,EAAS10I,UAAU+hJ,iBAAmB,WAClC,QAAQv9I,KAAKyzI,cAAcmJ,WAAa,GAAKn/I,EAAkBuC,KAAKyzI,cAAcmJ,aAEtF1M,EAAS10I,UAAU2hJ,oBAAsB,SAAU/7I,EAAG60I,EAAUxnG,GAC5D,GAEIq4D,GAFA/mG,EAAQC,KACRw9I,EAAWp8I,EAAEyH,MAEjB,IAA4B,IAAxB20I,EAAS5rH,YAAoB4rH,EAAShuI,QAAU,KAAOguI,EAAShuI,OAAS,IAAK,CAC9E,GAAIytI,GAAa7vI,KAAKC,IAAID,KAAK8vI,KAAKjH,EAASE,KAAK76G,KAAOt7B,KAAKyzI,cAAcmJ,WAAY,GACpFvuI,GACA9R,MAAO6E,EACP+0I,KAAMF,EAASE,KACf0G,WAAY5G,EAAS4G,WACrBI,WAAYA,EACZL,UAAW58I,KAAKyzI,cAAcmJ,UAUlC,IARA58I,KAAKooB,QAAQ,eAAgB/Z,IACzB5Q,EAAkBgxC,IAAYA,IAC9Bq4D,EAAY9mG,KAAKm3I,aAAalB,EAASE,OAE3Cn2I,KAAKy9I,eAAexH,GAChBA,EAASt2H,MAAQs2H,EAASE,KAAK76G,OAC/B26G,EAASE,KAAKnB,WAAa,KAEE,MAA7BiB,EAASE,KAAKnB,WAAoB,CAClC,GAAI0I,IAAgBnhJ,MAAO6E,EAAGuzI,SAAUsB,EAASE,KAAMrmH,QAAQ,EAE/D,IADA9vB,KAAKooB,QAAQ,YAAas1H,GACtBA,EAAY5tH,OAAQ,CACpBmmH,EAASE,KAAKnB,WAAa,GAC3B,IAAIgC,GAAgBlwC,EAAUhkG,cAAc,IAAMysI,GAMlD,OALK9xI,GAAkBqpG,IAAerpG,EAAkBu5I,KACpD7yH,GAAY6yH,GACZzxI,EAAOuhG,EAAUhkG,cAAc,yBAEnC9C,MAAK29I,gBAAgB1H,GAGzBA,EAAS1hD,QAAQ5kE,WAAY,EAC7B6tH,EAASl8F,OACT,IAAIi2F,GAAW,GAAIC,UACfoG,EAAS59I,KAAKnG,QAAQ4M,aAAa,OACvC8wI,GAASjyI,OAAOs4I,EAAQ3H,EAASE,KAAKvjH,MACtC2kH,EAASjyI,OAAO,mBAAoB2wI,EAASE,KAAKvjH,KAClD,IAAImqE,GAAO,GAAIxtE,IAAKvvB,KAAKyzI,cAAcj+C,UAAW,QAAQ,EAAM,KAChEuH,GAAKzsE,OAAS,SAAUlvB,GAAiD,MAA5CrB,GAAM89I,gBAAgBz8I,EAAG60I,EAAUxnG,OAChEsuD,EAAKltE,KAAK0nH,OAET,CACD,GAAK0F,EAAa,IAAOhH,EAAS4G,YAAcI,EAAahH,EAAS4G,WAAY,CAC9E,GAAI3kJ,GAAQ8H,KAAK0wI,WAAWlyI,QAAQy3I,EAWpC,OAVI/9I,IAAS,GACT8H,KAAK0wI,WAAWxmH,OAAOhyB,EAAO,GAE9BuF,EAAkBuC,KAAKwQ,YAAc/S,EAAkBgxC,KAAYA,IAAWq4D,IAC1EA,GACAvhG,EAAOuhG,EAAUhkG,cAAc,IAAMgtI,KAEzC9vI,KAAK89I,uBAAuB7H,QAEhCj2I,MAAKo8I,kBAAkBh7I,EAAG60I,EAASE,MAGvCn2I,KAAK29I,gBAAgB1H,QAIzBj2I,MAAKs9I,kBAAkBl8I,EAAG60I,IAGlC/F,EAAS10I,UAAUmiJ,gBAAkB,SAAU1H,GAC3CA,EAAS14I,MAAQ04I,EAASt2H,IAC1Bs2H,EAASt2H,KAAO3f,KAAKyzI,cAAcmJ,UACnC3G,EAASt2H,IAAMvS,KAAK2U,IAAIk0H,EAASt2H,IAAKs2H,EAASE,KAAK76G,MACpD26G,EAAS4G,YAAc,EACvB78I,KAAKg9I,YAAY/G,EAASE,KAAMF,IAEpC/F,EAAS10I,UAAUqiJ,gBAAkB,SAAUz8I,EAAG60I,EAAUxnG,GACxD,GAAIhxC,EAAkBuC,KAAKwQ,WAAc/S,EAAkBgxC,KAAYA,EAAS,CAC5E,GAAIq4D,GAAY9mG,KAAKm3I,aAAalB,EAASE,MACvC6F,EAAal1C,EAAUhkG,cAAc,IAAMysI,IAC3CyH,EAAgBgF,CACpBh8I,MAAKg4I,aAAa/B,EAASE,KAAMn2I,KAAK2xI,eAAe,oBAAqB,KAC1E3xI,KAAK67I,yBAAyB/0C,EAAW8oC,IACzC5vI,KAAK+7I,kBAAkBj1C,EAAW,WAClCk1C,EAAWxjJ,UAAUkM,OAAO6qI,IAC5ByM,EAAWxjJ,UAAU+L,IAAI8qI,IACzB2M,EAAWn4I,aAAa,QAAS7D,KAAK2xI,eAAe,UACrD,IAAIoM,GAAYj3C,EAAUhkG,cAAc,IAAMgtI,GAC9CiO,GAAUvlJ,UAAU+L,IAAIirI,IACxBuO,EAAUvlJ,UAAUkM,OAAOorI,IAC3BiO,EAAUl6I,aAAa,QAAS7D,KAAK2xI,eAAe,UAC/Cl0I,EAAkBqpG,IAAerpG,EAAkBu+I,KACpD73H,GAAY6yH,GACZzxI,EAAOuhG,EAAUhkG,cAAc,uBAI3CotI,EAAS10I,UAAU43I,YAAc,SAAU6C,EAAU70I,EAAGqtC,GACpDwnG,EAASE,KAAKnB,WAAa,IAC3BiB,EAASE,KAAK3mI,OAASxP,KAAK2xI,eAAe,SAC3C3xI,KAAKy9I,eAAexH,EACpB,IAAI5nI,IACA9R,MAAO6E,GAAQ,KACf+0I,KAAMF,EAASE,KACf0G,WAAY5G,EAAS4G,WACrBmB,WAAY5wI,KAAKknG,MAAM2hC,EAASE,KAAK76G,KAAOt7B,KAAKyzI,cAAcmJ,WAC/DA,UAAW58I,KAAKyzI,cAAcmJ,UAElC58I,MAAKo2I,YAAYH,EAAUxnG,EAAQpgC,IAEvC6hI,EAAS10I,UAAU46I,YAAc,SAAUH,EAAUxnG,EAAQpgC,GACzD4nI,EAAS1hD,QAAQ5kE,WAAY,EAC7BsmH,EAAS1hD,QAAQrkE,YAAYoxB,OAC7B,IAAIwlD,GAAY9mG,KAAKm3I,aAAalB,EAASE,KAC3C,IAAI14I,EAAkBuC,KAAKwQ,YAAc/S,EAAkBgxC,KAAYA,GAAS,CAC5E,GAAI+pE,GAAgB1R,EAAUhkG,cAAc,IAAMgtI,GAClDt3B,GAAchgH,UAAUkM,OAAOorI,IAC/Bt3B,EAAchgH,UAAU+L,IAthDhB,mBAuhDRi0G,EAAc30G,aAAa,QAAS7D,KAAK2xI,eAAe,WAE5D,IAAK,GAAIt5I,GAAI,EAAGA,EAAI2H,KAAK0wI,WAAWn4I,OAAQF,IACpC2H,KAAK0wI,WAAWr4I,GAAG89I,KAAKvjH,OAASqjH,EAASE,KAAKvjH,MAC/C5yB,KAAK0wI,WAAWxmH,OAAO7xB,EAAG,EAGlC2H,MAAK0wI,WAAW13I,KAAKi9I,GACrBj2I,KAAKooB,QAAQ,UAAW/Z,IAE5B6hI,EAAS10I,UAAU66I,aAAe,SAAUJ,EAAU70I,EAAGqtC,GACrD,GACI+pE,GADA1R,EAAY9mG,KAAKm3I,aAAalB,EAASE,KAEtC14I,GAAkBqpG,KACnB0R,EAAgB1R,EAAUhkG,cAAc,qBAEvCrF,EAAkB+6G,KAAmB/6G,EAAkBgxC,IAAYA,IACpE+pE,EAAchgH,UAAUkM,OAxiDhB,mBAyiDR8zG,EAAchgH,UAAU+L,IAAIurI,IAC5Bt3B,EAAc30G,aAAa,QAAS7D,KAAK2xI,eAAe,WAE5DsE,EAASE,KAAK3mI,OAASxP,KAAK2xI,eAAe,cAC3CsE,EAASE,KAAKnB,WAAa,IAC3Bh1I,KAAKy9I,eAAexH,EACpB,IAAI5nI,IACA9R,MAAO6E,GAAQ,KACf+0I,KAAMF,EAASE,KACf0G,WAAY5G,EAAS4G,WACrBmB,WAAY5wI,KAAKknG,MAAM2hC,EAASE,KAAK76G,KAAOt7B,KAAKyzI,cAAcmJ,WAC/DA,UAAW58I,KAAKyzI,cAAcmJ,UAElC58I,MAAKooB,QAAQ,WAAY/Z,EACzB,KAAK,GAAIhW,GAAI,EAAGA,EAAI2H,KAAK0wI,WAAWn4I,OAAQF,IACpC2H,KAAK0wI,WAAWr4I,GAAGsnB,MAAQ3f,KAAK0wI,WAAWr4I,GAAG89I,KAAK76G,KACnDt7B,KAAKm9I,oBAAoB/7I,EAAG60I,EAAUxnG,GAGlCzuC,KAAK0wI,WAAWr4I,GAAG89I,KAAKvjH,OAASqjH,EAASE,KAAKvjH,OAC/C5yB,KAAK0wI,WAAWr4I,GAAGkF,MAAQyC,KAAK0wI,WAAWr4I,GAAGsnB,IAC9C3f,KAAK0wI,WAAWr4I,GAAGsnB,IAAM3f,KAAK0wI,WAAWr4I,GAAGsnB,IAAM3f,KAAKyzI,cAAcmJ,UACrE58I,KAAK0wI,WAAWr4I,GAAGsnB,IAAMvS,KAAK2U,IAAI/hB,KAAK0wI,WAAWr4I,GAAGsnB,IAAK3f,KAAK0wI,WAAWr4I,GAAG89I,KAAK76G,MAClFt7B,KAAK0wI,WAAWr4I,GAAGwkJ,WAAa78I,KAAK0wI,WAAWr4I,GAAGwkJ,WAAa,EAChE78I,KAAKg9I,YAAYh9I,KAAK0wI,WAAWr4I,GAAG89I,KAAMn2I,KAAK0wI,WAAWr4I,GAAIo2C,KAK9EyhG,EAAS10I,UAAUiiJ,eAAiB,SAAUxH,IACK,IAA3Cj2I,KAAK2wI,eAAenyI,QAAQy3I,GAC5Bj2I,KAAK2wI,eAAe33I,KAAKi9I,IAGzBj2I,KAAK2wI,eAAezmH,OAAOlqB,KAAK2wI,eAAenyI,QAAQy3I,GAAW,GAClEj2I,KAAK2wI,eAAe33I,KAAKi9I,KAGjC/F,EAAS10I,UAAUsiJ,uBAAyB,SAAU7H,GAClD,GAAInvC,GAAY9mG,KAAKm3I,aAAalB,EAASE,KAC3C,KAAK14I,EAAkBqpG,GAAY,CAC/B9mG,KAAK67I,yBAAyB/0C,EAAW6oC,IACzC3vI,KAAK+7I,kBAAkBj1C,EAAW,UAClC,IAAIm3C,GAAen3C,EAAUhkG,cAAc,IAAMysI,GAC5C9xI,GAAkBwgJ,KACnBA,EAAazlJ,UAAU+L,IAAI+qI,IAC3B2O,EAAap6I,aAAa,QAAS7D,KAAK2xI,eAAe,WACvDsM,EAAazlJ,UAAUkM,OAAO6qI,GAnmDtB,wBAumDpBW,EAAS10I,UAAU8hJ,kBAAoB,SAAUl8I,EAAG60I,EAAUxnG,GAC1D,GAEIq4D,GAFA/mG,EAAQC,KACRg+I,EAAa5wI,KAAKC,IAAID,KAAK8vI,KAAKjH,EAASE,KAAK76G,KAAOt7B,KAAKyzI,cAAcmJ,WAAY,IAEpFn/I,EAAkBuC,KAAKwQ,YAAc/S,EAAkBgxC,IAAYA,IACnEq4D,EAAY9mG,KAAKm3I,aAAalB,EAASE,MAE3C,IAAI9nI,IACA9R,MAAO6E,EACP+0I,KAAMF,EAASE,KACf0G,WAAY5G,EAAS4G,WACrBI,WAAYe,EACZpB,UAAW58I,KAAKyzI,cAAcmJ,UAGlC,IADA58I,KAAKooB,QAAQ,eAAgB/Z,GACzB4nI,EAAS8G,WAAa/8I,KAAKyzI,cAAcsJ,WACzC9kJ,WAAW,WAAc8H,EAAMm+I,aAAap3C,EAAWmvC,EAAUxnG,IAAYzuC,KAAKyzI,cAAc0K,qBAE/F,CACD,IAAK1gJ,EAAkBqpG,GAAY,CAC/B,GAAIm1C,GAAcn1C,EAAUhkG,cAAc,IAAMgtI,IAC5ChpC,EAAUhkG,cAAc,IAAMgtI,IAAgBhpC,EAAUhkG,cAAc,mBACrErF,GAAkBw+I,KACnBA,EAAYzjJ,UAAU+L,IAAIirI,IAC1ByM,EAAYzjJ,UAAUkM,OAAOorI,GApnD7B,oBAsnDJ9vI,KAAK67I,yBAAyB/0C,EAAW8oC,IACzC5vI,KAAK+7I,kBAAkBj1C,EAAW,WAClCA,EAAUhkG,cAAc,YAAYtK,UAAUkM,OAnoDtC,oBAooDR,IAAIiyI,GAAc7vC,EAAUhkG,cAAc,IAAMysI,GAChDoH,GAAYn+I,UAAUkM,OAAO6qI,IACxB9xI,EAAkBqpG,EAAUhkG,cAAc,IAAMgtI,MACjDvqI,EAAOuhG,EAAUhkG,cAAc,IAAMgtI,KAErCmG,EAAS14I,MAAQ,GACjBo5I,EAAYn+I,UAAU+L,IAAI+qI,IAC1BqH,EAAY9yI,aAAa,QAAS7D,KAAK2xI,eAAe,aAGtDgF,EAAYn+I,UAAU+L,IAAI8qI,IAC1BsH,EAAY9yI,aAAa,QAAS7D,KAAK2xI,eAAe,YAG9DsE,EAAS8G,WAAa,CACtB,IAAI5G,GAAOF,EAASE,KAChBl2I,GAASmB,EAAGA,EAAG6xH,UAAW,SAAUkjB,KAAMn2I,KAAKg4I,aAAa7B,EAAMn2I,KAAK2xI,eAAe,uBAAwB,KAClH3xI,MAAKooB,QAAQ,UAAWnoB,KAGhCiwI,EAAS10I,UAAU0iJ,aAAe,SAAUp3C,EAAWmvC,EAAUxnG,GACzDhxC,EAAkBuC,KAAKwQ,YAAc/S,EAAkBgxC,KAAYA,IAAWq4D,GAC9E9mG,KAAK67I,yBAAyB/0C,EAAW8oC,IAE7CqG,EAAS8G,YAAc,EACvB/8I,KAAKg9I,YAAY/G,EAASE,KAAMF,IAEpC/F,EAAS10I,UAAU4iJ,qBAAuB,SAAUh9I,GAChD,GAAIo3G,GAAgBp3G,EAAEyH,OAClBkuI,EAAkB31I,EAAEyH,OAAOkN,cAC3B7d,EAAQ8H,KAAKqwI,SAAS7xI,QAAQu4I,GAC9BpC,EAAW30I,KAAKswI,UAAUp4I,GAC1B+9I,EAAWj2I,KAAKk2I,mBAAmBvB,EACnCn8B,GAAchgH,UAAUC,SAASq3I,KACjC9vI,KAAKozI,YAAY6C,EAAU70I,GAC3Bo3G,EAActY,mBAAmB1nG,UAAU+L,IAjqDxC,eAmqDEi0G,EAAchgH,UAAUC,SA9pDrB,oBA+pDRuH,KAAKq2I,aAAaJ,EAAU70I,GAC5Bo3G,EAActY,mBAAmB1nG,UAAUkM,OArqDxC,eAuqDE8zG,EAAchgH,UAAUC,SAAS+2I,MAClCyG,EAASE,KAAK3mI,SAAWxP,KAAK2xI,eAAe,oBAC7C3xI,KAAKq+I,YAAYpI,GAAU,GAG3Bj2I,KAAKq+I,YAAYpI,GAAU,KAIvC/F,EAAS10I,UAAU6iJ,YAAc,SAAUpI,EAAUqI,GAC7CA,GACArI,EAASt2H,IAAMs2H,EAASt2H,IAAM3f,KAAKyzI,cAAcmJ,UACjD3G,EAAS14I,MAAQ04I,EAAS14I,MAAQyC,KAAKyzI,cAAcmJ,UACrD58I,KAAKg9I,YAAY/G,EAASE,KAAMF,KAGhCA,EAASE,KAAKnB,WAAa,IAC3BiB,EAASE,KAAK3mI,OAASxP,KAAK2xI,eAAe,wBAC3C3xI,KAAKs2I,YAAYL,EAASE,QAGlCjG,EAAS10I,UAAU4hJ,sBAAwB,SAAUh8I,EAAG60I,EAAUxnG,GAC9D,GAAI1uC,GAAQC,IACZ,IAAiC,MAA7Bi2I,EAASE,KAAKnB,WAAlB,CAGiC,MAA7BiB,EAASE,KAAKnB,YAAmD,MAA7BiB,EAASE,KAAKnB,aAClDiB,EAASE,KAAKnB,WAAa,IAC3BiB,EAASE,KAAK3mI,OAASxP,KAAK2xI,eAAe,eAE/C3xI,KAAKy9I,eAAexH,EACpB,IAAInvC,GAAY9mG,KAAKm3I,aAAalB,EAASE,KAC3C,KAAI14I,EAAkBqpG,GAAtB,CAGA,GACIy3C,GAAez3C,EAAUhkG,cAAc,IAAM0sI,GAMjD,IALK/xI,EAAkB8gJ,KACnBA,EAAa/lJ,UAAU+L,IAAIurI,IAC3ByO,EAAa16I,aAAa,QAAS7D,KAAK2xI,eAAe,UACvD4M,EAAa/lJ,UAAUkM,OAAO8qI,MAE7B/xI,EAAkBqpG,GAAY,CAC/B,KAAMA,EAAUlsG,iBAAiB,IAAM60I,IAAkBl3I,OAAS,GAAI,CAClE,GAAI2/I,GAAgBpxC,EAAUhkG,cAAc,IAAMssI,GAC9C3xI,GAAkBuC,KAAKwQ,YACvB0nI,EAAc1/I,UAAU+L,IA3tDpB,qBA4tDJ2zI,EAAc1/I,UAAUkM,OAAOkrI,IAC/B5vI,KAAKg7I,kBAAkBl0C,GACvB9mG,KAAK67I,yBAAyB/0C,EA9tD1B,qBAguDR,IAAI03C,GAAY13C,EAAUhkG,cAAc,IAAMusI,IAAcvoC,EAAUhkG,cAAc,IAAMusI,IACtFvoC,EAAUhkG,cAAc,IAAMwsI,GAC7B7xI,GAAkB+gJ,KACnBA,EAAUhmJ,UAAU+L,IAAIgrI,IACxBiP,EAAU36I,aAAa,QAAS7D,KAAK2xI,eAAe,UACpD6M,EAAUhmJ,UAAUkM,OAAO2qI,KAGnC,IAAKpmG,MAAM77B,KAAKknG,MAAOlzG,EAAEk6I,OAASl6I,EAAEm6I,MAAS,OAAS99I,EAAkBuC,KAAKwQ,WAA0C,MAA7BylI,EAASE,KAAKnB,WAAoB,CACxH,GAAIyJ,GAAcxI,EAAS4G,WAAa78I,KAAKyzI,cAAcmJ,UACvD5/I,EAAQoQ,KAAK2U,KAAO08H,EAAar9I,EAAEk6I,QAAUrF,EAASE,KAAK76G,KAAQ,IAAM,IAC7Et7B,MAAKw7I,oBAAoB10C,EAAW15F,KAAKknG,MAAMt3G,GAAO2D,WAAa,KAE3C,IAAxBs1I,EAAS4G,YACT78I,KAAKsyI,0BAGT70I,EAAkBqpG,EAAUhkG,cAAc,IAAMgtI,MAAkBryI,EAAkBuC,KAAKwQ,YACzFxQ,KAAKi8I,YAAcj8I,KAAKyB,cAAc,QAAUiC,UAAW,2BAA4BI,OAASutG,SAAY,QAClF,SAAtBjlG,GAAQmc,KAAKqK,MACb5yB,KAAKi8I,YAAYzjJ,UAAU+L,IAAI,UAEnCuiG,EAAU1hG,aAAapF,KAAKi8I,YAAan1C,EAAUhkG,cAAc,IAAMysI,KACvEvvI,KAAKi8I,YAAYp4I,aAAa,QAAS7D,KAAK2xI,eAAe,UAC3D3xI,KAAKi8I,YAAYv/I,iBAAiB,QAAS,SAAU0E,GAAKrB,EAAMq+I,qBAAqBh9I,KAAO,OASpG8uI,EAAS10I,UAAUg/I,YAAc,SAAUkE,GACvC,GAAIrmJ,IAAK,CACT,KACKqmJ,EACD,MAAO,QAEX,IACIA,GAAgB,KAChBrmJ,UACKqmJ,EAAQ,GAKjB,OAJIrmJ,IAAK,IACLqmJ,GAAgB,KAChBrmJ,EAAI,GAED+U,KAAKC,IAAIqxI,EAAO,GAAG3+H,QAAQ,GAAK,KAAO,KAAM,MAAM1nB,IAO9D63I,EAAS10I,UAAU68I,aAAe,SAAU/H,GAGxC,IAAK,GAFDkE,GAAQlE,EACRqO,KACKtmJ,EAAI,EAAGA,EAAIm8I,EAAMj8I,OAAQF,IAC9BsmJ,EAAU3lJ,KAAKw7I,EAAMn8I,GAAGu6B,KAI5B,KACK,GAFDgsH,MAEKvgJ,EAAK,EAAGwgJ,EAHKF,EAAU3lF,OAGsB36D,EAAKwgJ,EAAkBtmJ,OAAQ8F,IAEjF,IAAK,GADDygJ,GAASD,EAAkBxgJ,GACtBhG,EAAI,EAAGA,EAAIm8I,EAAMj8I,OAAQF,IAC1BymJ,IAAWtK,EAAMn8I,GAAGu6B,MACpBgsH,EAAgB5lJ,KAAKw7I,EAAMn8I,GAIvC,OAAOumJ,IAOX1O,EAAS10I,UAAUqY,QAAU,WACzB7T,KAAKnG,QAAQmD,MAAQ,KACrBgD,KAAK8wI,WACL9wI,KAAKu+F,eACLv+F,KAAKqxI,mBACDrxI,KAAKowI,UACLpwI,KAAKnG,QAAQyS,gBAAgB,YAE5BtM,KAAK4mB,SACN5mB,KAAKnG,QAAQyS,gBAAgB,YAEjCtM,KAAKnG,QAAQyS,gBAAgB,UAC7BtM,KAAK66I,uBACL76I,KAAK4xI,cAAc77H,cAAchU,YAAY/B,KAAK+wH,cAClD/wH,KAAK+wH,aAAav4H,UAAUkM,OAAO,YAl1DhC,cAm1DHa,EAAOvF,KAAK4xI,eACZ5xI,KAAK4xI,cAAgB,KACrBl5G,EAAOl9B,UAAUqY,QAAQjT,KAAKZ,OASlCkwI,EAAS10I,UAAUu1B,OAAS,SAAUyjH,EAAO/lG,GACzC,GAAIswG,GAAc/+I,KAAKg/I,iBAAiBxK,EACxCx0I,MAAK++I,YAAYA,EAAatwG,IAElCyhG,EAAS10I,UAAUwjJ,iBAAmB,SAAUxK,GAC5C,GAAIuK,KAOJ,OANIvK,aAAiB/1I,OACjBsgJ,EAAcvK,EAGduK,EAAY/lJ,KAAKw7I,GAEduK,GAEX7O,EAAS10I,UAAUujJ,YAAc,SAAUvK,EAAO/lG,GAC9C,GAAI1uC,GAAQC,KACRs3I,IACJ,IAAmC,KAA/Bt3I,KAAKyzI,cAAcC,UAAkBj2I,EAAkBuC,KAAKyzI,cAAcC,SAA9E,CAGA,IAAKjlG,GAAUhxC,EAAkBgxC,GAC7B,GAAKzuC,KAAKowI,SAMNkH,EAAgBt3I,KAAK86I,eAAetG,OANpB,CAChB,GAAI2B,KACJA,GAAKn9I,KAAKw7I,EAAM,IAChB8C,EAAgBt3I,KAAK86I,eAAe3E,OAOxCmB,GAAgB9C,CAsCpB,KAAK,GApCDyK,GAAej/I,KAAKu9I,mBAmCpBt9F,EAASjgD,KACJ3H,EAAI,EAAGA,EAAIi/I,EAAc/+I,OAAQF,KAnC5B,SAAUA,GACpB,GAAI0kG,GAAO,GAAIxtE,IAAK0wB,EAAOwzF,cAAcC,QAAS,QAAQ,EAAM,MAC5DrlI,GACAsmI,SAAU2C,EAAcj/I,GACxBu/I,kBACA9nH,QAAQ,GAERynH,EAAW,GAAIC,SASnB,IARAz6C,EAAK9rE,WAAa,SAAU7vB,GACxBiN,EAAUopI,eAAiB16C,EAAK7sE,YAChCnwB,EAAMqoB,QAAQ,YAAa/Z,GACvBA,EAAUyhB,QACV/vB,EAAMs9I,kBAAkBj8I,EAAGiN,EAAWipI,EAAcj/I,IAExD0H,EAAM43I,eAAeJ,EAAUlpI,EAAUupI,iBAET,MAAhCN,EAAcj/I,GAAG28I,WAAoB,CACrC,GAAIkK,GAASj/F,EAAOpmD,QAAQ4M,aAAa,OACzC8wI,GAASjyI,OAAO45I,EAAQ5H,EAAcj/I,GAAGu8I,QAAS0C,EAAcj/I,GAAGu6B,MAC/DqsH,GAAgB3H,EAAcj/I,GAAGijC,KAAO2kB,EAAOwzF,cAAcmJ,UAC7D38F,EAAOq2F,YAAYgB,EAAcj/I,GAAIo2C,IAGrCsuD,EAAKzsE,OAAS,SAAUlvB,GAAwD,MAAnDrB,GAAMo8I,eAAe/6I,EAAGk2I,EAAcj/I,GAAIo2C,OACvEsuD,EAAKjsE,iBAAmB,SAAU1vB,GAE9B,MADArB,GAAM27I,iBAAiBt6I,EAAGk2I,EAAcj/I,GAAIo2C,EAAQsuD,OAIxDA,EAAKnsE,QAAU,SAAUxvB,GAA8C,MAAzCrB,GAAMs8I,aAAaj7I,EAAGk2I,EAAcj/I,QAClE0kG,EAAKltE,KAAK0nH,MAMVl/I,KAYhB63I,EAAS10I,UAAUkJ,OAAS,SAAUiwI,EAAUuC,EAAgBG,EAAgBp3I,GAC5E,GAAIoO,IACA9R,MAAO0D,EACP6vB,QAAQ,EACRwgH,aACAsH,kBACAF,aAAa,EAEjB,IAAI13I,KAAKwwI,OAML,MALAniI,GAAUiiI,UAAYtwI,KAAKm/I,eAC3Bn/I,KAAKooB,QAAQ,WAAY/Z,QACpBA,EAAUyhB,QACX9vB,KAAK8wI,WAIb,IAAIyF,OACJ5B,EAAYl3I,EAAkBk3I,GAAuB30I,KAAKswI,UAAhBqE,YAClBl2I,OACpB83I,EAAc5B,EAGd4B,EAAYv9I,KAAK27I,GAErBtmI,EAAUiiI,UAAYiG,CAGtB,KAAK,GAFD/gD,GAAYx1F,KAAKyzI,cAAcj+C,UAC/B4pD,EAA0B,KAAd5pD,IAAoB/3F,EAAkB+3F,GAC7Cn3F,EAAK,EAAGghJ,EAAgB9I,EAAal4I,EAAKghJ,EAAc9mJ,OAAQ8F,IAAM,CAC3E,GAAIm2I,GAAQ6K,EAAchhJ,EAC1B,IAA0B,MAArBm2I,EAAMQ,YAA2C,MAArBR,EAAMQ,aAAuBoK,EAGzD,CAID,GAHK/H,GACDr3I,KAAKooB,QAAQ,WAAY/Z,GAEzBA,EAAUyhB,OACV,MAEJ9vB,MAAKi3I,gBAAgBzC,EAAO0C,OAT5Bl3I,MAAKo3I,mBAAmB5C,EAAOnmI,EAAWgpI,EAAgBH,KAiBtEhH,EAAS10I,UAAUs1I,SAAW,WAC1B,GAAIrzI,EAAkBuC,KAAKiyI,YAKvB,MAJ0B,SAAtB7lI,GAAQmc,KAAKqK,OACb5yB,KAAKnG,QAAQmD,MAAQ,SAEzBgD,KAAKswI,aAGT,IAAIjiI,IACAyhB,QAAQ,EACRwgH,UAAWtwI,KAAKswI,UAEpBtwI,MAAKooB,QAAQ,WAAY/Z,GACrBA,EAAUyhB,QAGd9vB,KAAKy0I,aAMTvE,EAAS10I,UAAU2jJ,aAAe,WAC9B,MAAOn/I,MAAKswI,WAQhBJ,EAAS10I,UAAUwsD,MAAQ,SAAU2sF,EAAUlmG,GAC3C,GAAI6wG,GAAgBt/I,KAAKg/I,iBAAiBrK,EAC1C30I,MAAKu/I,eAAeD,EAAe7wG,IAEvCyhG,EAAS10I,UAAU+jJ,eAAiB,SAAU5K,EAAUlmG,GAEpD,IAAK,GADD+lG,GAAQx0I,KAAKw/I,SAAS7K,GACjBt8I,EAAI,EAAGA,EAAIm8I,EAAMj8I,OAAQF,IACF,MAAxBm8I,EAAMn8I,GAAG28I,YACTh1I,KAAKozI,YAAYpzI,KAAKk2I,mBAAmB1B,EAAMn8I,GAAI,MAAO,KAAMo2C,IAI5EyhG,EAAS10I,UAAUgkJ,SAAW,SAAU7K,GACpC,GAAIH,KAOJ,OANK/2I,GAAkBk3I,IAAeA,YAAoBl2I,OAItD+1I,EAAQG,EAHRH,EAAMx7I,KAAK27I,GAKRH,GAQXtE,EAAS10I,UAAU63I,OAAS,SAAUsB,EAAUlmG,GAC5C,GAAI6wG,GAAgBt/I,KAAKg/I,iBAAiBrK,EAC1C30I,MAAKy/I,YAAYH,EAAe7wG,IAEpCyhG,EAAS10I,UAAUikJ,YAAc,SAAU9K,EAAUlmG,GAEjD,IAAK,GADD+lG,GAAQx0I,KAAKw/I,SAAS7K,GACjBt8I,EAAI,EAAGA,EAAIm8I,EAAMj8I,OAAQF,IACF,MAAxBm8I,EAAMn8I,GAAG28I,YACTh1I,KAAKq2I,aAAar2I,KAAKk2I,mBAAmB1B,EAAMn8I,GAAI,MAAO,KAAMo2C,IAU7EyhG,EAAS10I,UAAU83I,MAAQ,SAAUqB,EAAU2J,GAC3C,GAAIgB,GAAgBt/I,KAAKg/I,iBAAiBrK,EAC1C30I,MAAK0/I,iBAAiBJ,EAAehB,IAEzCpO,EAAS10I,UAAUkkJ,iBAAmB,SAAU/K,EAAU2J,GAEtD,IAAK,GADD9J,GAAQx0I,KAAKw/I,SAAS7K,GACjBt8I,EAAI,EAAGA,EAAIm8I,EAAMj8I,OAAQF,IAC9B,GAA4B,MAAxBm8I,EAAMn8I,GAAG28I,YAA8C,MAAxBR,EAAMn8I,GAAG28I,WACxC,GAAIh1I,KAAKyzI,cAAcmJ,UAAY,EAC/B58I,KAAKq+I,YAAYr+I,KAAKk2I,mBAAmB1B,EAAMn8I,GAAI,MAAOimJ,OAEzD,CACD,GAAIx3C,GAAY9mG,KAAKqwI,SAASrwI,KAAKswI,UAAU9xI,QAAQg2I,EAAMn8I,IAC3D2H,MAAKk8I,mBAAmB,KAAM1H,EAAMn8I,GAAIyuG,KAWxDopC,EAAS10I,UAAUs0B,OAAS,SAAU6kH,GAClC,GAAI2K,GAAgBt/I,KAAKg/I,iBAAiBrK,EAC1C30I,MAAK2/I,aAAaL,IAEtBpP,EAAS10I,UAAUmkJ,aAAe,SAAUhL,GAExC,IAAK,GADDH,GAAQx0I,KAAKw/I,SAAS7K,GACjBt8I,EAAI,EAAGA,EAAIm8I,EAAMj8I,OAAQF,IAC9B,GAA4B,MAAxBm8I,EAAMn8I,GAAG28I,WAAoB,CAC7B,GAAIiB,GAAWj2I,KAAKk2I,mBAAmB1B,EAAMn8I,GAAI,KACjD49I,GAASE,KAAKnB,WAAa,IAC3BiB,EAASE,KAAK3mI,OAASxP,KAAK2xI,eAAe,oBAC3C3xI,KAAKy9I,eAAexH,EACpB,IAAInvC,GAAY9mG,KAAKm3I,aAAa3C,EAAMn8I,GACxC,KAAKoF,EAAkBqpG,IAAcrpG,EAAkBuC,KAAKwQ,UAAW,CACnE,GAAIwmI,GAAgBlwC,EAAUhkG,cAAc,IAAMysI,GAClDrzH,KAAgBrT,OAAQmuI,EAAev/H,MAAO,SAC9CmM,GAAYozH,MAK5B/+G,IACI5uB,IAAUqqI,QAAS,GAAIl+C,UAAW,IAAMy6C,KACzCC,EAAS10I,UAAW,oBAAiB,IACxCy8B,IACIrvB,IAAS,IACVsnI,EAAS10I,UAAW,gBAAa,IACpCy8B,IACIrvB,IAAS,IACVsnI,EAAS10I,UAAW,cAAW,IAClCy8B,IACIrvB,GAAS,OACVsnI,EAAS10I,UAAW,eAAY,IACnCy8B,IACIrvB,IAAS,IACVsnI,EAAS10I,UAAW,eAAY,IACnCy8B,IACIrvB,IAAS,IACVsnI,EAAS10I,UAAW,iBAAc,IACrCy8B,IACI5uB,MAAY2mI,KACbE,EAAS10I,UAAW,cAAW,IAClCy8B,IACIrvB,GAAS,KACVsnI,EAAS10I,UAAW,wBAAqB,IAC5Cy8B,IACIrvB,GAAS,IACVsnI,EAAS10I,UAAW,kBAAe,IACtCy8B,IACIrvB,GAAS,MACVsnI,EAAS10I,UAAW,kBAAe,IACtCy8B,IACIrvB,GAAS,OACVsnI,EAAS10I,UAAW,eAAY,IACnCy8B,IACI1uB,QAAiBwmI,KAClBG,EAAS10I,UAAW,YAAS,IAChCy8B,IACIrvB,IAAS,IACVsnI,EAAS10I,UAAW,mBAAgB,IACvCy8B,IACIxuB,MACDymI,EAAS10I,UAAW,cAAW,IAClCy8B,IACIxuB,MACDymI,EAAS10I,UAAW,eAAY,IACnCy8B,IACIxuB,MACDymI,EAAS10I,UAAW,gBAAa,IACpCy8B,IACIxuB,MACDymI,EAAS10I,UAAW,cAAW,IAClCy8B,IACIxuB,MACDymI,EAAS10I,UAAW,cAAW,IAClCy8B,IACIxuB,MACDymI,EAAS10I,UAAW,eAAY,IACnCy8B,IACIxuB,MACDymI,EAAS10I,UAAW,eAAY,IACnCy8B,IACIxuB,MACDymI,EAAS10I,UAAW,eAAY,IACnCy8B,IACIxuB,MACDymI,EAAS10I,UAAW,aAAU,IACjCy8B,IACIxuB,MACDymI,EAAS10I,UAAW,mBAAgB,IACvCy8B,IACIxuB,MACDymI,EAAS10I,UAAW,mBAAgB,IACvCy8B,IACIxuB,MACDymI,EAAS10I,UAAW,gBAAa,IACpCy8B,IACIxuB,MACDymI,EAAS10I,UAAW,cAAW,IAClCy8B,IACIxuB,MACDymI,EAAS10I,UAAW,eAAY,IACnC00I,EAAWj4G,IACPluB,IACDmmI,IAELtyF,IxCnsEEnmB,GAAwC,WACxC,GAAIC,GAAgBn5B,OAAOo5B,iBACpBC,uBAA2Bn5B,QAAS,SAAUo5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAExwB,eAAeywB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOh4B,KAAKnC,YAAcg6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAEr8B,UAAkB,OAANs8B,EAAav5B,OAAOgN,OAAOusB,IAAME,EAAGx8B,UAAYs8B,EAAEt8B,UAAW,GAAIw8B,QAGnFC,GAA0C,SAAUC,EAAYrvB,EAAQxL,EAAK86B,GAC7E,GAA2HN,GAAvHO,EAAIn5B,UAAU1G,OAAQ8/B,EAAID,EAAI,EAAIvvB,EAAkB,OAATsvB,EAAgBA,EAAO55B,OAAO+5B,yBAAyBzvB,EAAQxL,GAAO86B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYrvB,EAAQxL,EAAK86B,OACpH,KAAK,GAAI9/B,GAAI6/B,EAAW3/B,OAAS,EAAGF,GAAK,EAAGA,KAASw/B,EAAIK,EAAW7/B,MAAIggC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAEhvB,EAAQxL,EAAKg7B,GAAKR,EAAEhvB,EAAQxL,KAASg7B,EAChJ,OAAOD,GAAI,GAAKC,GAAK95B,OAAO4K,eAAeN,EAAQxL,EAAKg7B,GAAIA,GAiB5DunH,GAAsB,SAAUlnH,GAEhC,QAASknH,KACL,MAAkB,QAAXlnH,GAAmBA,EAAOh9B,MAAMsE,KAAMf,YAAce,KAiB/D,MAnBAy3B,IAAUmoH,EAAMlnH,GAIhBT,IACIrvB,GAAS,KACVg3I,EAAKpkJ,UAAW,cAAW,IAC9By8B,IACIrvB,GAAS,KACVg3I,EAAKpkJ,UAAW,SAAM,IACzBy8B,IACIrvB,IAAS,IACVg3I,EAAKpkJ,UAAW,gBAAa,IAChCy8B,IACIrvB,GAAS,KACVg3I,EAAKpkJ,UAAW,WAAQ,IAC3By8B,IACIrvB,GAAS,KACVg3I,EAAKpkJ,UAAW,UAAO,IACnBokJ,GACTt9G,IyCpDE7K,GAAwC,WACxC,GAAIC,GAAgBn5B,OAAOo5B,iBACpBC,uBAA2Bn5B,QAAS,SAAUo5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAExwB,eAAeywB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOh4B,KAAKnC,YAAcg6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAEr8B,UAAkB,OAANs8B,EAAav5B,OAAOgN,OAAOusB,IAAME,EAAGx8B,UAAYs8B,EAAEt8B,UAAW,GAAIw8B,QAGnFC,GAA0C,SAAUC,EAAYrvB,EAAQxL,EAAK86B,GAC7E,GAA2HN,GAAvHO,EAAIn5B,UAAU1G,OAAQ8/B,EAAID,EAAI,EAAIvvB,EAAkB,OAATsvB,EAAgBA,EAAO55B,OAAO+5B,yBAAyBzvB,EAAQxL,GAAO86B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYrvB,EAAQxL,EAAK86B,OACpH,KAAK,GAAI9/B,GAAI6/B,EAAW3/B,OAAS,EAAGF,GAAK,EAAGA,KAASw/B,EAAIK,EAAW7/B,MAAIggC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAEhvB,EAAQxL,EAAKg7B,GAAKR,EAAEhvB,EAAQxL,KAASg7B,EAChJ,OAAOD,GAAI,GAAKC,GAAK95B,OAAO4K,eAAeN,EAAQxL,EAAKg7B,GAAIA,GAS5DqvE,IACAm4C,SAAU,aACVC,MAAO,YACPr2B,KAAM,cACNs2B,KAAM,SACNC,MAAO,mBACPxiD,IAAK,QACLyiD,UAAW,cACXC,SAAU,cAeVC,GAAgC,SAAUznH,GAO1C,QAASynH,GAAe9rI,EAASxa,GAC7B,MAAO6+B,GAAO93B,KAAKZ,KAAMqU,EAASxa,IAAYmG,KA4dlD,MAneAy3B,IAAU0oH,EAAgBznH,GAS1BynH,EAAe3kJ,UAAUwY,UAAY,aAOrCmsI,EAAe3kJ,UAAUwjD,eAAiB,WACtC,MAAOh/C,MAAKy/C,kBAMhB0gG,EAAe3kJ,UAAU0lG,OAAS,WAC9BlhG,KAAKogJ,UAAYpgJ,KAAKqgJ,YAAcrgJ,KAAKsgJ,cAO7CH,EAAe3kJ,UAAU+iD,OAAS,WAC9Bv+C,KAAKmhD,aACAnhD,KAAK+9F,UACN/9F,KAAKkmB,cAGbi6H,EAAe3kJ,UAAU+kJ,YAAc,WACnC,GAAI/+I,GAAMxB,KAAKyB,cAAc,OACzBiC,UAAWgkG,GAAWs4C,MACtBr8I,GAAI3D,KAAKnG,QAAQ8J,GAAK,UAE1B5I,UAAS+R,KAAK/K,YAAYP,GAC1BxB,KAAKwgJ,SAAW,GAAIniC,IAAM78G,GACtBw9G,SAAUh/G,KAAKnG,QACf+mH,WAAa/oG,EAAG,MAAOC,EAAG,QAC1BlC,UAAYiC,EAAG,OAAQC,EAAG,UAC1ByoG,WAAY,WACZ7lH,QAASsF,KAAK6I,OAAS7I,KAAKygJ,mBAAqB,GACjDlxI,UAAWvP,KAAKuP,YAEyB,UAAzCvP,KAAKwgJ,SAAS3mJ,QAAQ+K,MAAMgR,UAC5B5V,KAAKwgJ,SAASliC,gBAAgBt+G,KAAKnG,SAEvCmG,KAAKwgJ,SAASvhC,OACdl7G,EAAW/D,KAAKnG,SAAUmJ,KACtBA,EAAS,KAAI,OACbA,EAAG,iBAAmBhD,KAAKrI,MAAMY,QAAUyH,KAAK6I,OAAS,OAAS,QAClE7F,EAAG,iBAAmB,QACtBA,EAAG,aAAehD,KAAK0gJ,kBAAkB/8I,GACzCX,EAAS,KAAI,SACbA,IACAhD,KAAKsU,UACLtQ,GAAUxC,GAAMxB,KAAKsU,SAASpX,MAAM,KAExC,IAAI8F,IAERm9I,EAAe3kJ,UAAUilJ,iBAAmB,WACxC,MAAgC,gBAAjBzgJ,aAA4B2F,EAAO3F,KAAK6I,QAAU7I,KAAK6I,QAE1Es3I,EAAe3kJ,UAAUmlJ,YAAc,SAAUhpJ,GAS7C,IAAK,GAPDwmG,GACAtlG,EACAsoG,EACA9yF,EAJA80F,EAAWnjG,KAAK4gJ,QAAQjpJ,EAAO,WAK/BypG,EAAKphG,KAAKyB,cAAc,MACxBqC,OAASutG,SAAY,OAEhBh5G,EAAI,EAAGA,EAAIV,EAAMY,OAAQF,IAC9BQ,EAAOlB,EAAMU,GACb8oG,EAAKnhG,KAAKyB,cAAc,MACpBjH,UAAW3B,EAAK+2B,IAAM,GAAK/2B,EAAKY,KAChCiK,UAAW7K,EAAKgoJ,UAAYn5C,GAAWq4C,KAAO,IAAMr4C,GAAWu4C,UAAYv4C,GAAWq4C,KACtFj8I,OAASsP,KAAQ,WAAYi+F,SAAY,MACzC1tG,GAAI9K,EAAK8K,GAAK9K,EAAK8K,GAAKnE,EAAY,KAAOQ,KAAKkH,gBAAkB,WAElErO,EAAKqlG,SACLC,EAAOn+F,KAAKyB,cAAc,QAAUiC,UAAWgkG,GAAW+hB,KAAO,IAAM5wH,EAAKqlG,UAC5EiD,EAAG/7F,aAAa+4F,EAAMgD,EAAG7mG,WAAW,KAGhC6oG,IAAatqG,EAAKgoJ,WAClB1/C,EAAG3oG,UAAU+L,IAAI,gBAGrB1L,EAAK+2B,KACLuxE,EAAGp/F,YAAY/B,KAAK8gJ,aAAajoJ,IAErCwV,GAAcxV,KAAMA,EAAMgB,QAASsnG,GACnCnhG,KAAKooB,QAAQ,mBAAoB/Z,GACjC+yF,EAAGr/F,YAAYo/F,EAEnB,OAAOC,IAEX++C,EAAe3kJ,UAAUolJ,QAAU,SAAUjpJ,EAAOs7D,GAChD,IAAK,GAAI56D,GAAI,EAAG4J,EAAMtK,EAAMY,OAAQF,EAAI4J,EAAK5J,IACzC,GAAIV,EAAMU,GAAG46D,GACT,OAAO,CAGf,QAAO,GAEXktF,EAAe3kJ,UAAUslJ,aAAe,SAAUjoJ,GAC9C,MAAOmH,MAAKyB,cAAc,KAAOiC,UAAW,yBAA0BlJ,UAAW3B,EAAKY,KAAMqK,OAAS+7B,KAAQhnC,EAAK+2B,QAEtHuwH,EAAe3kJ,UAAU2lD,WAAa,WAClCnhD,KAAK2uH,OAAS,GAAI/wB,KACdM,QAASl+F,KAAKk+F,QAAS5pF,SAAUtU,KAAKsU,SAAU5Z,QAASsF,KAAKtF,QAC9DqjG,SAAU/9F,KAAK+9F,SAAUxuF,UAAWvP,KAAKuP,UAAW4uC,kBAAmBn+C,KAAKm+C,oBAEhFn+C,KAAK2uH,OAAOzwE,SAASl+C,KAAKnG,SACrBmG,KAAKnG,QAAQ8J,KACd3D,KAAKnG,QAAQ8J,GAAKnE,EAAY,KAAOQ,KAAKkH,kBAE9ClH,KAAK+gJ,qBACL/gJ,KAAKghJ,kBACLhhJ,KAAKugJ,cACLvgJ,KAAKihJ,eAAejhJ,KAAKnG,WAE7BsmJ,EAAe3kJ,UAAUulJ,mBAAqB,WAC1C,GAAIG,GAAWlhJ,KAAKnG,QAAQiJ,cAAc,eACtCo+I,IAAkC,QAAtBlhJ,KAAKo+F,eACjBp6F,GAAUhE,KAAKnG,SAAU,kBACzB2K,GAAa08I,GAAW,eACxBl9I,GAAUk9I,GAAW,gBAG7Bf,EAAe3kJ,UAAUwlJ,gBAAkB,WACvChhJ,KAAKnG,QAAQkI,YAAY/B,KAAKyB,cAAc,QACxCiC,UAAW,8BAAqC1D,KAAKsU,SAAS9V,QAAQkpG,GAAWw4C,WAAa,EACxF,SAAW,SAAW,eAGpCC,EAAe3kJ,UAAUylJ,cAAgB,SAAUp+I,GAC/C7C,KAAKmhJ,WAAat+I,GAOtBs9I,EAAe3kJ,UAAU0L,cAAgB,WACrC,MAAO,gBAEXi5I,EAAe3kJ,UAAU4kJ,QAAU,WAC/B,MAAOpgJ,MAAK0gJ,kBAAkBloJ,UAAUC,SAAS,kBAMrD0nJ,EAAe3kJ,UAAUqY,QAAU,WAC/B,GAAI9T,GAAQC,IACRA,MAAKnG,QAAQiJ,cAAc,iBAC3ByC,EAAOvF,KAAKnG,QAAQiJ,cAAc,iBAEtC41B,EAAOl9B,UAAUqY,QAAQjT,KAAKZ,MAC9BA,KAAK2uH,OAAO96G,WACX,OAAQ,gBAAiB,gBAAiB,YAAa,QAAQzU,QAAQ,SAAU/B,GAC9E0C,EAAMlG,QAAQyS,gBAAgBjP,KAElCmH,GAAaxE,KAAKnG,UAAW,UAC7B2K,EAAYxE,KAAKmhJ,YAAa,aAC9BnhJ,KAAKwgJ,SAAS3sI,SACd,IAAIutI,GAAWrmJ,SAASsgC,eAAer7B,KAAK0gJ,kBAAkB/8I,GAC1Dy9I,KACA58I,GAAa48I,IAAY,eAAgB,kBACzC77I,EAAO67I,IAENphJ,KAAK+9F,UACN/9F,KAAKu+F,gBAGb4hD,EAAe3kJ,UAAUklJ,gBAAkB,WACvC,MAAO1gJ,MAAKwgJ,SAAS3mJ,SAEzBsmJ,EAAe3kJ,UAAU6lJ,aAAe,WACpC,MAAOrhJ,MAAK0gJ,kBAAkB7kI,SAAS,IAE3CskI,EAAe3kJ,UAAU0qB,WAAa,WAClC,GAAIo7H,GAAethJ,KAAK0gJ,iBACxB1gJ,MAAKuhJ,yBAA2BvhJ,KAAKwhJ,iBAAiB/lJ,KAAKuE,MAC3DyF,GAAalB,IAAIxJ,SAAU,uBAAwBiF,KAAKuhJ,yBAA0BvhJ,MAClFyF,GAAalB,IAAIvE,KAAKnG,QAAS,QAASmG,KAAKg/F,aAAch/F,MAC3DyF,GAAalB,IAAI+8I,EAAc,QAASthJ,KAAKg/F,aAAch/F,MAC3DyF,GAAalB,IAAIvE,KAAKnG,QAAS,UAAWmG,KAAKyhJ,gBAAiBzhJ,MAChEyF,GAAalB,IAAI+8I,EAAc,UAAWthJ,KAAKyhJ,gBAAiBzhJ,MAChEA,KAAKsxG,SAAW5lG,GAAa41I,GAAgB17I,SAAU,IAAM8hG,GAAWq4C,QAE5EI,EAAe3kJ,UAAUimJ,gBAAkB,SAAUrgJ,GACjD,GAAIA,EAAEyH,SAAW7I,KAAKnG,SAA0B,IAAduH,EAAE1J,UAAmB0J,EAAEmpD,QAAwB,KAAdnpD,EAAE1J,UAAiC,KAAd0J,EAAE1J,QAG1F,OAAQ0J,EAAE1J,SACN,IAAK,IACL,IAAK,KACG0J,EAAEmpD,QAAyB,KAAdnpD,EAAE1J,SAAgC,KAAd0J,EAAE1J,QAInCsI,KAAK0hJ,iBAAiBtgJ,GAHtBpB,KAAK2hJ,gBAAgBvgJ,EAKzB,MACJ,KAAK,GACL,IAAK,IACL,IAAK,IACL,IAAK,IACDpB,KAAK2hJ,gBAAgBvgJ,KAIjC++I,EAAe3kJ,UAAUkmJ,iBAAmB,SAAUtgJ,GAClD,IAAIpB,KAAK6I,QAAyB,KAAdzH,EAAE1J,SAAgC,KAAd0J,EAAE1J,QAA1C,CAGA0J,EAAE+lB,gBACF,IAAIi6E,GAAKphG,KAAKqhJ,eACVO,EAA2B,KAAdxgJ,EAAE1J,QAAiB,EAAI0pG,EAAGygD,kBAAoB,EAC3DC,EAAQF,EACRzgD,EAAK,IACTnhG,MAAK+hJ,uBACL,KAAK,GAAI1pJ,GAAI,EAAG4J,EAAMm/F,EAAGvlF,SAAStjB,OAAQF,EAAI4J,EAAK5J,IAC3C+oG,EAAGvlF,SAASxjB,GAAGG,UAAUC,SAASivG,GAAWo4C,SAE7CgC,EAAQzpJ,GADR8oG,EAAKC,EAAGvlF,SAASxjB,IAEdG,UAAUkM,OAAOgjG,GAAWo4C,OACjB,KAAd1+I,EAAE1J,QAAiBoqJ,IAAUA,IACzBA,KAAyB,KAAd1gJ,EAAE1J,QAAiB0pG,EAAGygD,mBAAqB,KACtDC,EAAQF,GAIpBzgD,GAAKC,EAAGvlF,SAASimI,IAEF,KADfA,EAAQ9hJ,KAAK+rG,UAAU5K,EAAI2gD,EAAO1gJ,EAAE1J,YAEhCsM,GAAUo9F,EAAGvlF,SAASimI,IAASp6C,GAAWo4C,OAC1C1+C,EAAGvlF,SAASimI,GAAOz/I,WAG3B89I,EAAe3kJ,UAAUumJ,sBAAwB,WAC7C,GAAIC,GAAahiJ,KAAKqhJ,eAAev+I,cAAc,cAC/Ck/I,IACAA,EAAWxpJ,UAAUkM,OAAO,eAGpCy7I,EAAe3kJ,UAAUuwG,UAAY,SAAU5K,EAAIjpG,EAAOR,EAASkoB,GAW/D,OAVc,KAAVA,IAAoBA,EAAQ,IAC5BuhF,EAAG3oG,UAAUC,SAASivG,GAAWu4C,YAAc9+C,EAAG3oG,UAAUC,SAASivG,GAAWm4C,aAC5E3nJ,KAAuB,KAAZR,EAAiBsI,KAAKrI,MAAMY,OAAS,EAAI,GACpDL,EAAoB,KAAZR,EAAiB,EAAIsI,KAAKrI,MAAMY,OAAS,EAGrC,KAAZb,EAAiBQ,IAAUA,MAGnCipG,EAAKnhG,KAAKqhJ,eAAexlI,SAAS3jB,IAC3BM,UAAUC,SAASivG,GAAWu4C,YAAc9+C,EAAG3oG,UAAUC,SAASivG,GAAWm4C,UAAW,CAE3F,KADAjgI,IACc5f,KAAKrI,MAAMY,OACrB,MAAOL,IAAS,CAEpBA,GAAQ8H,KAAK+rG,UAAU5K,EAAIjpG,EAAOR,EAASkoB,GAE/C,MAAO1nB,IAEXioJ,EAAe3kJ,UAAUmmJ,gBAAkB,SAAUvgJ,KAC7CpB,KAAK6I,QAAyB,KAAdzH,EAAE1J,SAAgC,IAAd0J,EAAE1J,WAGxB,IAAd0J,EAAE1J,SACF0J,EAAE+lB,iBAEY,KAAd/lB,EAAE1J,SAAgC,KAAd0J,EAAE1J,SAAgC,IAAd0J,EAAE1J,QACrCsI,KAAKogJ,WACNpgJ,KAAKsgJ,WAAWl/I,EAAGpB,KAAKnG,SAI5BmG,KAAKg/F,aAAa59F,KAG1B++I,EAAe3kJ,UAAUymJ,MAAQ,SAAUp/I,GACvC,MAAwB,OAAjBA,EAAKS,QAAmBT,EAAOkD,EAAQlD,EAAM,OAExDs9I,EAAe3kJ,UAAUgmJ,iBAAmB,SAAUpgJ,GAClD,GAAI4rH,GAAO5rH,EAAEyH,MACR7I,MAAKogJ,WAAer6I,EAAQinH,EAAM,IAAMhtH,KAAK0gJ,kBAAkB/8I,KAAOoC,EAAQinH,EAAM,IAAMhtH,KAAKnG,QAAQ8J,KACxG3D,KAAKsgJ,WAAWl/I,IAGxB++I,EAAe3kJ,UAAUwjG,aAAe,SAAU59F,GAC9C,GAAI4rH,GAAO5rH,EAAEyH,OACTu3I,EAAUpgJ,KAAKogJ,SACnB,IAAIr6I,EAAQinH,EAAM,IAAMhtH,KAAKnG,QAAQ8J,IAC7By8I,EACApgJ,KAAKqgJ,UAAUj/I,GAGfpB,KAAKsgJ,WAAWl/I,EAAGpB,KAAKmhJ,WAAW,QAIvC,IAAIp7I,EAAQinH,EAAM,IAAMhtH,KAAK0gJ,kBAAkB/8I,IAAK,CAChD,GAAI0K,OAAY,GACZyzI,MAAQ,GACRjpJ,MAAO,GACPsoG,EAAKnhG,KAAKiiJ,MAAMj1B,EAChB7rB,KACA2gD,EAAQrjJ,MAAMjD,UAAUgD,QAAQoC,KAAKZ,KAAKqhJ,eAAexlI,SAAUslF,IACnEtoG,EAAOmH,KAAKrI,MAAMmqJ,MAEdzzI,GAAcxU,QAASsnG,EAAItoG,KAAMA,GACjCmH,KAAKooB,QAAQ,SAAU/Z,IAE3BrO,KAAKsgJ,WAAWl/I,EAAGpB,KAAKmhJ,WAAW,OAKnDhB,EAAe3kJ,UAAU6kJ,UAAY,SAAUj/I,OACjC,KAANA,IAAgBA,EAAI,MACnBpB,KAAK6I,QACN7I,KAAK0gJ,kBAAkB3+I,YAAY/B,KAAK2gJ,YAAY3gJ,KAAKrI,OAE7D,IAAIypG,GAAKphG,KAAKqhJ,eACVa,GAAmBroJ,QAASunG,EAAIzpG,MAAOqI,KAAKrI,MAAO4E,MAAO6E,EAAG0uB,QAAQ,EAEzE,IADA9vB,KAAKooB,QAAQ,aAAc85H,IACtBA,EAAepyH,OAAQ,CACxB9vB,KAAKwgJ,SAAS1/B,KAAK,KAAM9gH,KAAKnG,SAC9BmK,GAAUhE,KAAKnG,SAAU,YACzBmG,KAAKnG,QAAQgK,aAAa,gBAAiB,QAC3Cu9F,EAAG/+F,OACH,IAAI8/I,IAAatoJ,QAASunG,EAAIzpG,MAAOqI,KAAKrI,MAC1CqI,MAAKooB,QAAQ,OAAQ+5H,KAG7BhC,EAAe3kJ,UAAU8kJ,WAAa,SAAUl/I,EAAGghJ,OACrC,KAANhhJ,IAAgBA,EAAI,KACxB,IAAIggG,GAAKphG,KAAKqhJ,eACVgB,GAAoBxoJ,QAASunG,EAAIzpG,MAAOqI,KAAKrI,MAAO4E,MAAO6E,EAAG0uB,QAAQ,EAE1E,IADA9vB,KAAKooB,QAAQ,cAAei6H,IACvBA,EAAgBvyH,OAAQ,CACzB9vB,KAAK+hJ,wBACL/hJ,KAAKwgJ,SAASvhC,OACdz6G,EAAYxE,KAAKmhJ,WAAY,YAC7BnhJ,KAAKnG,QAAQgK,aAAa,gBAAiB,SACvCu+I,GACAA,EAAS//I,OAEb,IAAI4hH,IAAcpqH,QAASunG,EAAIzpG,MAAOqI,KAAKrI,MAC3CqI,MAAKooB,QAAQ,QAAS67F,IACjBjkH,KAAK6I,QAAUu4F,GAChB77F,EAAO67F,KAInB++C,EAAe3kJ,UAAU+iG,aAAe,WACpC94F,GAAaf,OAAO3J,SAAU,uBAAwBiF,KAAKuhJ,0BAC3D97I,GAAaf,OAAO1E,KAAKnG,QAAS,QAASmG,KAAKg/F,cAChDv5F,GAAaf,OAAO1E,KAAK0gJ,kBAAmB,QAAS1gJ,KAAKg/F,cAC1Dv5F,GAAaf,OAAO1E,KAAKnG,QAAS,UAAWmG,KAAKyhJ,iBAClDh8I,GAAaf,OAAO1E,KAAK0gJ,kBAAmB,UAAW1gJ,KAAKyhJ,iBAC5DzhJ,KAAKsxG,YAST6uC,EAAe3kJ,UAAU05B,kBAAoB,SAAUwF,EAASC,GAC5D,GAAI2nH,IAAY,UAAW,WAAY,UAAW,WAAY,YACjC,UAAzB5nH,EAAQ0jE,cACRkkD,EAAStpJ,KAAK,gBAElBgH,KAAK2uH,OAAOhnH,cAAcomB,GAAS2M,EAAS4nH,GAE5C,KAAK,GADDhB,GAAethJ,KAAK0gJ,kBACfriJ,EAAK,EAAG2E,EAAKzE,OAAOjB,KAAKo9B,GAAUr8B,EAAK2E,EAAGzK,OAAQ8F,IAExD,OADW2E,EAAG3E,IAEV,IAAK,UACI2B,KAAKnG,QAAQiJ,cAAc,iBAC5B9C,KAAKghJ,iBAET,MACJ,KAAK,WACGtmH,EAAQqjE,UACR/9F,KAAKu+F,eACAv+F,KAAKogJ,WACNpgJ,KAAKsgJ,cAITtgJ,KAAKkmB,YAET,MACJ,KAAK,WACGwU,EAAQpmB,SAAS9V,QAAQkpG,GAAWw4C,WAAa,GAEjD1nJ,EADgBwH,KAAKnG,QAAQiJ,cAAc,iBACrB,kBAAmB,iBAEzC63B,EAAQrmB,UACR9P,GAAa88I,GAAe3mH,EAAQrmB,SAASpX,MAAM,MAEnDw9B,EAAQpmB,UACRtQ,GAAUs9I,GAAe5mH,EAAQpmB,SAASpX,MAAM,KAEpD,MACJ,KAAK,eACD8C,KAAK+gJ,oBACL,MACJ,KAAK,YACDO,EAAa9oJ,UAAU0oG,OAAOwG,GAAWlK,IACzC,MACJ,KAAK,SACDx9F,KAAK6I,OAAS6xB,EAAQ7xB,OACtBtD,EAAOvF,KAAKqhJ,gBACZC,EAAav/I,YAAY/B,KAAKygJ,oBAC9BzgJ,KAAKwgJ,SAAS9lJ,QAAUsF,KAAKygJ,kBAC7B,MACJ,KAAK,QACDzgJ,KAAKwgJ,SAASniG,UACVijG,EAAa9oJ,UAAUC,SAAS,iBAChCD,EAAU8oJ,GAAe,kBAAmB,mBAMhErpH,IACIrvB,GAAS,KACVu3I,EAAe3kJ,UAAW,cAAW,IACxCy8B,IACIrvB,GAAS,KACVu3I,EAAe3kJ,UAAW,eAAY,IACzCy8B,IACIrvB,IAAS,IACVu3I,EAAe3kJ,UAAW,eAAY,IACzCy8B,IACIrvB,GAAS,KACVu3I,EAAe3kJ,UAAW,cAAW,IACxCy8B,IACIrvB,GAAS,SACVu3I,EAAe3kJ,UAAW,mBAAgB,IAC7Cy8B,IACI1uB,MAAeq2I,KAChBO,EAAe3kJ,UAAW,YAAS,IACtCy8B,IACIrvB,GAAS,KACVu3I,EAAe3kJ,UAAW,aAAU,IACvCy8B,IACIxuB,MACD02I,EAAe3kJ,UAAW,uBAAoB,IACjDy8B,IACIxuB,MACD02I,EAAe3kJ,UAAW,iBAAc,IAC3Cy8B,IACIxuB,MACD02I,EAAe3kJ,UAAW,kBAAe,IAC5Cy8B,IACIxuB,MACD02I,EAAe3kJ,UAAW,YAAS,IACtCy8B,IACIxuB,MACD02I,EAAe3kJ,UAAW,WAAQ,IACrCy8B,IACIxuB,MACD02I,EAAe3kJ,UAAW,aAAU,IACvC2kJ,EAAiBloH,IACbluB,IACDo2I,IAELviG,ICnhBEnmB,GAAwC,WACxC,GAAIC,GAAgBn5B,OAAOo5B,iBACpBC,uBAA2Bn5B,QAAS,SAAUo5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAExwB,eAAeywB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOh4B,KAAKnC,YAAcg6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAEr8B,UAAkB,OAANs8B,EAAav5B,OAAOgN,OAAOusB,IAAME,EAAGx8B,UAAYs8B,EAAEt8B,UAAW,GAAIw8B,QAGnFC,GAA0C,SAAUC,EAAYrvB,EAAQxL,EAAK86B,GAC7E,GAA2HN,GAAvHO,EAAIn5B,UAAU1G,OAAQ8/B,EAAID,EAAI,EAAIvvB,EAAkB,OAATsvB,EAAgBA,EAAO55B,OAAO+5B,yBAAyBzvB,EAAQxL,GAAO86B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYrvB,EAAQxL,EAAK86B,OACpH,KAAK,GAAI9/B,GAAI6/B,EAAW3/B,OAAS,EAAGF,GAAK,EAAGA,KAASw/B,EAAIK,EAAW7/B,MAAIggC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAEhvB,EAAQxL,EAAKg7B,GAAKR,EAAEhvB,EAAQxL,KAASg7B,EAChJ,OAAOD,GAAI,GAAKC,GAAK95B,OAAO4K,eAAeN,EAAQxL,EAAKg7B,GAAIA,GAU5DkqH,GAAU,kBAeVC,GAA6B,SAAU9pH,GAOvC,QAAS8pH,GAAYnuI,EAASxa,GAC1B,MAAO6+B,GAAO93B,KAAKZ,KAAMqU,EAASxa,IAAYmG,KA4PlD,MAnQAy3B,IAAU+qH,EAAa9pH,GAavB8pH,EAAYhnJ,UAAUwY,UAAY,WAC9B,GAAI5P,GAAMpE,KAAKnG,OACf,IAAIuK,EAAId,UAAYi/I,GAAS,CAIzB,IAAK,GAHDlvI,GAAaxW,EAAS,gBAAiBuH,GACvCugH,EAAM3kH,KAAKyB,cAAc,UAAYqC,OAAS/J,KAAQ,YACtDwZ,EAAUvT,KAAKyB,cAAc8gJ,IAAW7+I,UAAW,KAAO1D,KAAKkH,gBAAkB,aAC5EwlB,EAAM,EAAGzqB,EAAMmC,EAAIL,WAAWxL,OAAQm0B,EAAMzqB,EAAKyqB,IACtDi4F,EAAI9gH,aAAaO,EAAIL,WAAW2oB,GAAKjZ,SAAUrP,EAAIL,WAAW2oB,GAAKhZ,UAEvEtP,GAAItJ,WAAWsK,aAAamO,EAASnP,GACrCmB,EAAOnB,GACPA,EAAMugH,EACNpxG,EAAQxR,YAAYqC,GACpBhH,EAAS,gBAAiBiW,EAAYjP,GACtCpE,KAAKuT,QAAUA,EACfvT,KAAKnG,QAAUuK,EAEdpE,KAAKnG,QAAQ8J,KACd3D,KAAKnG,QAAQ8J,GAAKnE,EAAY,KAAOQ,KAAKkH,mBAGlDs7I,EAAYhnJ,UAAU+iD,OAAS,WAC3Bv+C,KAAKo/F,cACLp/F,KAAKyiJ,sBACLziJ,KAAK0iJ,wBACL1iJ,KAAKihJ,eAAejhJ,KAAKnG,QAASmG,KAAK2iJ,gBAAgB9oJ,UACvDmG,KAAK4iJ,UACL5iJ,KAAKkmB,cAETs8H,EAAYhnJ,UAAU4jG,YAAc,WAC3Bp/F,KAAKuT,UACNvT,KAAKuT,QAAUvT,KAAKyB,cAAc,OAASiC,UAAW,KAAO1D,KAAKkH,gBAAkB,aACpFlH,KAAKnG,QAAQiB,WAAWsK,aAAapF,KAAKuT,QAASvT,KAAKnG,UAE5DmG,KAAKnG,QAAQrB,UAAUkM,OAAO,KAAO1E,KAAKkH,iBACtClH,KAAKuP,WACLvP,KAAKuT,QAAQ/a,UAAU+L,IAlEzB,SAoEEvE,KAAKsU,UACLtQ,GAAUhE,KAAKuT,SAAUvT,KAAKsU,SAASpX,MAAM,OAGrDslJ,EAAYhnJ,UAAUinJ,oBAAsB,WACxC,GAAIH,IACAhuI,SAAUtU,KAAKsU,SACf/E,UAAWvP,KAAKuP,UAChB2uF,QAASl+F,KAAKk+F,QACdxjG,QAASsF,KAAKtF,QACdqjG,SAAU/9F,KAAK+9F,SAEnB/9F,MAAK6iJ,cAAgB,GAAIjlD,IAAO0kD,EAAUtiJ,KAAKnG,SAC/CmG,KAAKnG,QAAQrB,UAAU+L,IAAI,KAAOvE,KAAKkH,iBACvClH,KAAKnG,QAAQE,KAAO,SACpBiG,KAAKuT,QAAQxR,YAAY/B,KAAKnG,SAC9BmG,KAAK+gJ,sBAETyB,EAAYhnJ,UAAUknJ,sBAAwB,WAC1C,GAAI3iJ,GAAQC,KACR8iJ,EAAU9iJ,KAAKyB,cAAc,UAC7BiC,UAAW,aACXI,OAASutG,SAAY,MACrB1tG,GAAI3D,KAAKnG,QAAQ8J,GAAK,gBAE1B3D,MAAKuT,QAAQxR,YAAY+gJ,EACzB,IAAIC,IACAzuI,SAAUtU,KAAKsU,SACfypF,SAAU/9F,KAAK+9F,SACfxuF,UAAWvP,KAAKuP,UAChB5X,MAAOqI,KAAKrI,MACZkR,OAAQ7I,KAAK6I,OACbm6I,iBAAkB,SAAU/iJ,GACxBF,EAAMqoB,QAAQ,mBAAoBnoB,IAEtC0hI,WAAY,SAAU1hI,GAClBF,EAAMqoB,QAAQ,aAAcnoB,IAEhCgjJ,YAAa,SAAUhjJ,GACnBF,EAAMqoB,QAAQ,cAAenoB,IAEjC6B,KAAM,SAAU7B,GACZF,EAAMqoB,QAAQ,OAAQnoB,IAE1BmC,MAAO,SAAUnC,GACbF,EAAMqoB,QAAQ,QAASnoB,IAE3B0F,OAAQ,SAAU1F,GACdF,EAAMqoB,QAAQ,SAAUnoB,IAGhCD,MAAK2iJ,gBAAkB,GAAIxC,IAAe4C,EAAkBD,GAC5D9iJ,KAAK2iJ,gBAAgBnC,SAASxhC,SAAWh/G,KAAKuT,QAC9CvT,KAAKwgJ,SAAWxgJ,KAAK2iJ,gBAAgBnC,SACrCxgJ,KAAK2iJ,gBAAgBxB,YAAcnhJ,KAAKnG,QAASmG,KAAK2iJ,gBAAgB9oJ,SACtE4L,GAAaf,OAAO1E,KAAK0gJ,kBAAmB,UAAW1gJ,KAAK2iJ,gBAAgBlB,iBAC5EzhJ,KAAK2iJ,gBAAgB9oJ,QAAQiJ,cAAc,eAAetK,UAAUkM,OAAO,iBAE/E89I,EAAYhnJ,UAAUonJ,QAAU,WAC5B7+I,EAAW/D,KAAKnG,SACZuZ,KAAQ,UAAW8vI,gBAAiB,QAASC,gBAAiB,OAC9DzwB,aAAc1yH,KAAKnG,QAAQH,YAAc,eAAgB0pJ,YAAapjJ,KAAK2iJ,gBAAgBnC,SAAS3mJ,QAAQ8J,MAQpH6+I,EAAYhnJ,UAAU0L,cAAgB,WAClC,MAAO,aAMXs7I,EAAYhnJ,UAAU0lG,OAAS,WAC3BlhG,KAAK2iJ,gBAAgBzhD,UAEzBshD,EAAYhnJ,UAAUqY,QAAU,WAC5B,GAAI9T,GAAQC,IACZA,MAAK6iJ,cAAchvI,UACnB7T,KAAK2iJ,gBAAgB9uI,SACrB,IAAIha,GAAUkB,SAASsgC,eAAer7B,KAAKnG,QAAQ8J,GAC/C9J,IAAWA,EAAQkc,gBAAkB/V,KAAKuT,UACtCvT,KAAKuT,QAAQjQ,UAAYi/I,IACzBviJ,KAAKuT,QAAQ/Y,UAAY,GACzBgK,GAAaxE,KAAKuT,UAAW,QAAS,KAAOvT,KAAKkH,gBAAkB,aACpE1C,GAAaxE,KAAKuT,SAAUvT,KAAKsU,SAASpX,MAAM,QAGhDsH,GAAaxE,KAAKnG,UAAW,KAAOmG,KAAKkH,gBA/J/C,WAgKO,OAAQ,aAAc,gBAAiB,gBAAiB,YAAa,QAAQ9H,QAAQ,SAAU/B,GAC5F0C,EAAMlG,QAAQyS,gBAAgBjP,KAElC2C,KAAKuT,QAAQzY,WAAWsK,aAAapF,KAAKnG,QAASmG,KAAKuT,SACxD7O,EAAO1E,KAAKuT,UAEhBvT,KAAKu+F,iBAGbikD,EAAYhnJ,UAAU0qB,WAAa,WAC/BzgB,GAAalB,IAAIvE,KAAKnG,QAAS,QAASmG,KAAKqjJ,uBAAwBrjJ,MACrEyF,GAAalB,IAAIvE,KAAK0gJ,kBAAmB,UAAW1gJ,KAAKyhJ,gBAAiBzhJ,MAC1E,GAAIoqD,IAAepqD,KAAKnG,SACpBsxD,UAAWnrD,KAAKsjJ,mBAAmB7nJ,KAAKuE,MACxC4qD,YACI24F,aAAc,oBAI1Bf,EAAYhnJ,UAAU+iG,aAAe,WACjC94F,GAAaf,OAAO1E,KAAKnG,QAAS,QAASmG,KAAKqjJ,wBAChD1gJ,EAAY3C,KAAKnG,QAASuwD,IAAgBv2C,WAE9C2uI,EAAYhnJ,UAAU6nJ,uBAAyB,WAC3CrjJ,KAAKooB,QAAQ,SAAWvuB,QAASmG,KAAKnG,WAE1C2oJ,EAAYhnJ,UAAU8nJ,mBAAqB,SAAUliJ,GACjD,OAAQA,EAAE8pD,QACN,IAAK,eACDlrD,KAAKg/F,aAAa59F,KAU9BohJ,EAAYhnJ,UAAU05B,kBAAoB,SAAUwF,EAASC,GACzD,GAAI3M,IAAS,UAAW,UAAW,WAAY,WAAY,YAC9B,UAAzB0M,EAAQ0jE,cACRpwE,EAAMh1B,KAAK,gBAEfgH,KAAK6iJ,cAAcl7I,cAAcomB,GAAS2M,EAAS1M,IACnDA,GAAS,QAAS,aAAc,mBAAoB,SAAU,OAC1D,QAAS,WAAY,WAAY,aACrChuB,KAAK2iJ,gBAAgBh7I,cAAcomB,GAAS2M,EAAS1M,GACrD,KAAK,GAAI3vB,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAKo9B,GAAUr8B,EAAK2E,EAAGzK,OAAQ8F,IAExD,OADW2E,EAAG3E,IAEV,IAAK,WACGs8B,EAAQrmB,UACR9P,GAAaxE,KAAKuT,SAAUonB,EAAQrmB,SAASpX,MAAM,MAEvD8G,GAAUhE,KAAKuT,SAAUmnB,EAAQpmB,SAASpX,MAAM,KAChD,MACJ,KAAK,eACD8C,KAAK+gJ,oBACL,MACJ,KAAK,YACGrmH,EAAQnrB,UACRvL,GAAUhE,KAAKuT,SA9N7B,SAiOc/O,GAAaxE,KAAKuT,SAjOhC,WAuON0kB,IACIrvB,GAAS,KACV45I,EAAYhnJ,UAAW,cAAW,IACrCy8B,IACIrvB,GAAS,KACV45I,EAAYhnJ,UAAW,eAAY,IACtCy8B,IACIrvB,IAAS,IACV45I,EAAYhnJ,UAAW,eAAY,IACtCy8B,IACIrvB,GAAS,KACV45I,EAAYhnJ,UAAW,cAAW,IACrCy8B,IACIrvB,GAAS,SACV45I,EAAYhnJ,UAAW,mBAAgB,IAC1Cy8B,IACI1uB,MAAeq2I,KAChB4C,EAAYhnJ,UAAW,YAAS,IACnCy8B,IACIrvB,GAAS,KACV45I,EAAYhnJ,UAAW,aAAU,IACpCy8B,IACIxuB,MACD+4I,EAAYhnJ,UAAW,uBAAoB,IAC9Cy8B,IACIxuB,MACD+4I,EAAYhnJ,UAAW,iBAAc,IACxCy8B,IACIxuB,MACD+4I,EAAYhnJ,UAAW,kBAAe,IACzCy8B,IACIxuB,MACD+4I,EAAYhnJ,UAAW,YAAS,IACnCy8B,IACIxuB,MACD+4I,EAAYhnJ,UAAW,YAAS,IACnCy8B,IACIxuB,MACD+4I,EAAYhnJ,UAAW,WAAQ,IAClCy8B,IACIxuB,MACD+4I,EAAYhnJ,UAAW,aAAU,IACpCgnJ,EAAcvqH,IACVluB,IACDy4I,IAELrC,IC5SE1oH,GAAwC,WACxC,GAAIC,GAAgBn5B,OAAOo5B,iBACpBC,uBAA2Bn5B,QAAS,SAAUo5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAExwB,eAAeywB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOh4B,KAAKnC,YAAcg6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAEr8B,UAAkB,OAANs8B,EAAav5B,OAAOgN,OAAOusB,IAAME,EAAGx8B,UAAYs8B,EAAEt8B,UAAW,GAAIw8B,QAGnFC,GAA0C,SAAUC,EAAYrvB,EAAQxL,EAAK86B,GAC7E,GAA2HN,GAAvHO,EAAIn5B,UAAU1G,OAAQ8/B,EAAID,EAAI,EAAIvvB,EAAkB,OAATsvB,EAAgBA,EAAO55B,OAAO+5B,yBAAyBzvB,EAAQxL,GAAO86B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYrvB,EAAQxL,EAAK86B,OACpH,KAAK,GAAI9/B,GAAI6/B,EAAW3/B,OAAS,EAAGF,GAAK,EAAGA,KAASw/B,EAAIK,EAAW7/B,MAAIggC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAEhvB,EAAQxL,EAAKg7B,GAAKR,EAAEhvB,EAAQxL,KAASg7B,EAChJ,OAAOD,GAAI,GAAKC,GAAK95B,OAAO4K,eAAeN,EAAQxL,EAAKg7B,GAAIA,GAgB5DmrH,GAAa,oBAEbC,GAAe,qBAEfC,GAAM,QACNC,GAAU,cAEVC,GAAe,mBACfC,GAAa,oBACbC,GAAU,iBAIVC,GAAU,sBAGVC,GAAS,aAETC,GAAO,SACPC,GAAQ,WACRC,IACAC,SAAU,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UACzG,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UACnG,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UACnG,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UACnG,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UACnG,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UACnG,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UACnG,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UACnG,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UACnG,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,YAcvGC,GAA6B,SAAU3rH,GAEvC,QAAS2rH,GAAYhwI,EAASxa,GAC1B,MAAO6+B,GAAO93B,KAAKZ,KAAMqU,EAASxa,IAAYmG,KAokDlD,MAtkDAy3B,IAAU4sH,EAAa3rH,GAIvB2rH,EAAY7oJ,UAAUwY,UAAY,WAC9B,GAAI6tG,IAAeyiC,MAAO,QAASC,OAAQ,SAAUC,aAAc,cACnExkJ,MAAKs6G,KAAO,GAAI5uD,IAAK,cAAem2D,EAAY7hH,KAAKgP,SAMzDq1I,EAAY7oJ,UAAU+iD,OAAS,WAC3Bv+C,KAAKo/F,cACDp/F,KAAKykJ,OACLzkJ,KAAK0kJ,eAGL1kJ,KAAK2kJ,kBAGbN,EAAY7oJ,UAAU4jG,YAAc,WAChC,GAAI7rF,GAAUvT,KAAKyB,cAAc,OAASiC,UAAW,KAAO1D,KAAKkH,gBAAkB,YACnFlH,MAAKnG,QAAQiB,WAAWsK,aAAamO,EAASvT,KAAKnG,SACnD0Z,EAAQxR,YAAY/B,KAAKnG,SACzBkK,EAAW/D,KAAKnG,SAAWw3G,SAAY,KAAMxsF,WAAc,UAC3D7kB,KAAKqc,UAAYrc,KAAKyB,cAAc,OAASiC,UAzErC,gBA0ER1D,KAAK8+F,aAAa/8F,YAAY/B,KAAKqc,UACnC,IAAIrf,GAAQgD,KAAKhD,MAAQgD,KAAKhD,MAAQ,SACtCgD,MAAKnG,QAAQmD,MAAQA,EAAM2E,MAAM,EAAG,GAClB,WAAd3B,KAAK0vB,OACL1yB,EAAQgD,KAAKq1H,WAAWr4H,IAE5BgD,KAAK2H,eAAgB3K,MAASA,IAAS,GACnCgD,KAAKuP,WACLgE,EAAQ/a,UAAU+L,IAjEpB,SAmEEvE,KAAKsU,UACLtQ,GAAUuP,GAAUvT,KAAKsU,SAASpX,MAAM,MAE5C8C,KAAK4kJ,WAAal5I,GAAa1L,KAAKqc,WAAazW,SAAU,IAAMq+I,KACjEjkJ,KAAK6kJ,cAAgBn5I,GAAa1L,KAAKqc,WAAazW,SAAU,YAElEy+I,EAAY7oJ,UAAUsjG,WAAa,WAC/B,MAAO9+F,MAAKnG,QAAQkc,eAExBsuI,EAAY7oJ,UAAUkpJ,aAAe,WACf,YAAd1kJ,KAAK0vB,MACL1vB,KAAK8kJ,gBACA9kJ,KAAKykJ,QACNzkJ,KAAK+kJ,sBAIT/kJ,KAAKglJ,eACAhlJ,KAAKykJ,QACNzkJ,KAAKilJ,iBAAiB5iJ,QAG9B,IAAIkR,GAAUvT,KAAK8+F,cACd9+F,KAAKklJ,aAAe3xI,EAAQ/a,UAAUC,SAAS,iBAAoB8a,EAAQ/a,UAAUC,SAAS,kBAC/FuH,KAAKwtH,cAETxtH,KAAKmlJ,gBACAnlJ,KAAK+9F,UACN/9F,KAAKkmB,aAELlmB,KAAKykJ,QAAUzkJ,KAAK+9F,UACpB/9F,KAAKolJ,gBAAe,GAEpBh5I,GAAQkc,UACRtoB,KAAKqlJ,mBAGbhB,EAAY7oJ,UAAUmpJ,eAAiB,WACnC,GAAI5kJ,GAAQC,KACRslJ,EAActlJ,KAAKyB,cAAc,UAAYiC,UAAW,uBAC5D1D,MAAK8+F,aAAa/8F,YAAYujJ,GAC9BtlJ,KAAKulJ,SAAW,GAAI/C,KAChBtkD,QAAS,mBACTr1F,OAAQ7I,KAAKqc,UACb0hF,SAAU/9F,KAAK+9F,SACfxuF,UAAWvP,KAAKuP,UAChBoyH,WAAY3hI,KAAKwlJ,aAAa/pJ,KAAKuE,MACnC8B,KAAM9B,KAAKylJ,OAAOhqJ,KAAKuE,MACvBijJ,YAAajjJ,KAAK0lJ,WAAWjqJ,KAAKuE,MAClC4iH,MAAO,SAAU3iH,GACbF,EAAMqoB,QAAQ,UACV49G,cAAgB2f,IAAK5lJ,EAAM/C,MAAM2E,MAAM,EAAG,GAAIikJ,KAAM7lJ,EAAM8lJ,mBAAmB9lJ,EAAM+lJ,SAAS/lJ,EAAM/C,SAClGk3H,eAAiByxB,IAAK,KAAMC,KAAM,UAG3CN,EACH,IAAIS,GAAU/lJ,KAAKyB,cAAc,QAAUiC,UAzHhC,mBA0HXiC,GAAO,oBAAqB2/I,GAAavjJ,YAAYgkJ,GACrDA,EAAQnhJ,MAAMohJ,gBAAkBhmJ,KAAK6lJ,mBAAmB7lJ,KAAK8lJ,SAAS9lJ,KAAKhD,OAC3E,IAAIokJ,GAAWphJ,KAAKimJ,aAKpB,IAJAjiJ,GAAUo9I,GAAW,uBACjBphJ,KAAKsU,UACLtQ,GAAUo9I,GAAWphJ,KAAKsU,SAASpX,MAAM,MAEzCkP,GAAQkc,SAAU,CAClB,GAAI49H,GAAYlmJ,KAAKmmJ,cACrBD,GAAUlnC,SAAWjkH,SAAS+R,KAC9Bo5I,EAAUtwI,UAAaiC,EAAG,SAAUC,EAAG,UACvCouI,EAAU3lC,WAAa,YACvB2lC,EAAUtlC,WAAc/oG,EAAG,MAAOC,EAAG,OACrCouI,EAAUl5I,QAAU,IAG5Bq3I,EAAY7oJ,UAAUiqJ,OAAS,SAAUxlJ,GACrCD,KAAKooB,QAAQ,QAAUvuB,QAASmG,KAAKqc,aAEzCgoI,EAAY7oJ,UAAU2qJ,aAAe,WACjC,MAAOxjJ,GAAY3C,KAAKimJ,cAAe5nC,KAE3CgmC,EAAY7oJ,UAAUgqJ,aAAe,SAAUvlJ,GAC3C,GAAIiiJ,IAAmBroJ,QAASmG,KAAKqc,UAAW9f,MAAO0D,EAAK1D,MAAOuzB,QAAQ,EAG3E,IAFA9vB,KAAKooB,QAAQ,aAAc85H,GAC3BjiJ,EAAK6vB,OAASoyH,EAAepyH,QACxBoyH,EAAepyH,OAAQ,CACxB,GAAIsxH,GAAWphJ,KAAKimJ,aACpB7E,GAASx8I,MAAMyhD,QAAU,QACzBrmD,KAAK0kJ,eACLtD,EAASx8I,MAAMyhD,QAAU,GACrBj6C,GAAQkc,WACRtoB,KAAKomJ,MAAQpmJ,KAAKyB,cAAc,OAChCzB,KAAKomJ,MAAM1iJ,UAAY,KAAO1D,KAAKkH,gBAAkB,WACrDlH,KAAKomJ,MAAMxhJ,MAAMyhD,QAAU,OAC3BtrD,SAAS+R,KAAK1H,aAAapF,KAAKomJ,MAAOhF,GACvCrmJ,SAAS+R,KAAKpJ,WAAa,0BAC3B1D,KAAKomJ,MAAMxhJ,MAAMyhD,QAAU,WAIvCg+F,EAAY7oJ,UAAUkqJ,WAAa,SAAUzlJ,GACzC,GAAIoiJ,IAAoBxoJ,QAASmG,KAAKqc,UAAW9f,MAAO0D,EAAK1D,MAAOuzB,QAAQ,EAC5E9vB,MAAKooB,QAAQ,cAAei6H,GAC5BpiJ,EAAK6vB,OAASuyH,EAAgBvyH,OACzBuyH,EAAgBvyH,SACb7vB,EAAK1D,OAAS6P,GAAQkc,UAAYroB,EAAK1D,MAAMsM,SAAW7I,KAAKomJ,MAC7DnmJ,EAAK6vB,QAAS,GAGd9vB,KAAKu+F,eACLv+F,KAAKqmJ,mBACLrmJ,KAAKqc,UAAUzX,MAAM6S,MAAQ,GAC7B9R,EAAO,mBAAoB3F,KAAKulJ,SAAS1rJ,SAAS+K,MAAMohJ,gBAClDhmJ,KAAK6lJ,mBAAmB7lJ,KAAK8lJ,SAAS9lJ,KAAKhD,QACjDgD,KAAKqc,UAAU7hB,UAAY,GAC3BgK,GAAaxE,KAAKqc,YAvLd,iBADC,oBAyLDjQ,GAAQkc,UAAYtoB,KAAKomJ,QACzB5hJ,GAAazJ,SAAS+R,MAAO,0BAC7B9M,KAAKomJ,MAAMxhJ,MAAMyhD,QAAU,OAC3BrmD,KAAKomJ,MAAMlkJ,UAAY,GACvBlC,KAAKomJ,MAAQ,SAK7B/B,EAAY7oJ,UAAUspJ,cAAgB,WAElC,GADAtsJ,EAAUwH,KAAKqc,WAnMF,oBACD,mBAmMRrc,KAAKsmJ,aAAc,CACnB,GAAIC,GAAevmJ,KAAKyB,cAAc,OAASiC,UAAW,oBAC1D1D,MAAKwmJ,cAAcD,EACnB,IAAIjpJ,GAAOiB,OAAOjB,KAAK0C,KAAKsmJ,aAC5B,IAAoB,IAAhBhpJ,EAAK/E,OACLyH,KAAKymJ,cAAczmJ,KAAKsmJ,aAAahpJ,EAAK,IAAKA,EAAK,GAAIipJ,OAGxD,KAAK,GAAIluJ,GAAI,EAAG4J,EAAM3E,EAAK/E,OAAQF,EAAI4J,EAAK5J,IACxC2H,KAAKymJ,cAAczmJ,KAAKsmJ,aAAahpJ,EAAKjF,IAAKiF,EAAKjF,GAAIkuJ,EAG5DzgJ,GAAU,SAAUygJ,GAAchuJ,OAAS,IAC3CyL,GAAUuiJ,GAAe,uBAI7BvmJ,MAAKymJ,cAActC,GAAQC,QAAS,UAEtB,aAAdpkJ,KAAK0vB,OAAuB1vB,KAAK0mJ,cAAgB1mJ,KAAK2mJ,SACtD3mJ,KAAK4mJ,YAET,IAAInvI,GAAQkiB,SAAS1rB,iBAAiBjO,KAAKqc,WAAWwqI,kBAAmB,GACzE7mJ,MAAKqc,UAAUzX,MAAM6S,MAAQ/U,EAAW1C,KAAKqc,UAAUR,SAAS,GAAG/W,YAAc2S,EAAQA,GACzFzX,KAAK8mJ,IAAM9mJ,KAAK8lJ,SAAS9lJ,KAAKq1H,WAAWr1H,KAAKhD,QAC9CgD,KAAK+mJ,IAAM/mJ,KAAKgnJ,SAAStrJ,MAAMsE,KAAMA,KAAK8mJ,MAE9CzC,EAAY7oJ,UAAUupJ,kBAAoB,WACjCp/I,EAAO,IAAMq+I,GAAQhkJ,KAAKqc,UAAUR,SAAS,KAC9C/V,EAAU,aAAgB9F,KAAKqc,WAAW,GAAGha,SAGrDgiJ,EAAY7oJ,UAAUirJ,cAAgB,SAAU1mH,EAAQ1iC,EAAK4pJ,GACzD,GAAIC,GAAUlnJ,KAAKyB,cAAc,OAASiC,UAtOnC,YAsOwDI,OAASutG,SAAY,MAChF41C,GACAA,EAAOllJ,YAAYmlJ,GAGnBlnJ,KAAKwmJ,cAAcU,EAIvB,KAAK,GAFDC,GACAC,EACK/uJ,EAAI,EAAG4J,EAAM89B,EAAOxnC,OAAQF,EAAI4J,EAAK5J,IAChC,IAANA,GAAWA,EAAI2H,KAAK2wG,SAAY,IAChCw2C,EAAMnnJ,KAAKyB,cAAc,OACrBiC,UAAW,QAASI,OAASsP,KAAQ,SAEzC8zI,EAAQnlJ,YAAYolJ,IAExBC,EAAOpnJ,KAAKyB,cAAc,QACtBiC,UAAWugJ,GAAMngJ,OAASsP,KAAQ,WAAYs/G,aAAc3yF,EAAO1nC,GAAIgvJ,gBAAiB,WAE5FrnJ,KAAKooB,QAAQ,oBAAsBvuB,QAASutJ,EAAME,WAAYjqJ,EAAKL,MAAO+iC,EAAO1nC,KACjF8uJ,EAAIplJ,YAAYqlJ,GACZpnJ,KAAKhD,MAAM2E,MAAM,EAAGo+B,EAAO1nC,GAAGE,QAAQJ,gBAAkB4nC,EAAO1nC,GAAGF,gBAClE6H,KAAKunJ,iBAAiBH,GACtBF,EAAQ7kJ,SAEZ+kJ,EAAKxiJ,MAAMohJ,gBAAkBjmH,EAAO1nC,IAG5CgsJ,EAAY7oJ,UAAUorJ,WAAa,WAC/B,GAAIY,GAAa1hJ,EAAU,UAAU,GAAG+V,SAAS,EACjD2rI,GAAWhvJ,UAAU+L,IAAIu/I,IACpB9jJ,KAAKhD,QACNwqJ,EAAWhvJ,UAAU+L,IAAIy/I,IACzBj+I,EAAQyhJ,EAAY,cAAgBnlJ,UAEvC,gBAAiB,cAAcjD,QAAQ,SAAUokG,GAAQgkD,EAAWl7I,gBAAgBk3F,KACrFgkD,EAAW5iJ,MAAMohJ,gBAAkB,IAEvC3B,EAAY7oJ,UAAUgrJ,cAAgB,SAAUpiJ,EAAKqjJ,OAC/B,KAAdA,IAAwBA,EAAY,EACxC,IAAIR,GAASjnJ,KAAKqc,UAAUR,SAAS4rI,EACrCR,GAASjnJ,KAAKqc,UAAUjX,aAAahB,EAAK6iJ,GAAUjnJ,KAAKqc,UAAUta,YAAYqC,IAEnFigJ,EAAY7oJ,UAAU+rJ,iBAAmB,SAAUnjJ,GAC/CA,EAAI5L,UAAU+L,IAAIy/I,IAClB5/I,EAAIP,aAAa,gBAAiB,SAEtCwgJ,EAAY7oJ,UAAUwpJ,aAAe,WACjCxsJ,EAAUwH,KAAKqc,WApRH,mBADC,mBAsRb,IAAIqrI,GAAe1nJ,KAAKyB,cAAc,OAASiC,UA3RpC,mBA4RX1D,MAAKwmJ,cAAckB,GACnBA,EAAa3lJ,YAAY/B,KAAKyB,cAAc,OAASiC,UAAWigJ,KAChE,IAAIgE,GAAc3nJ,KAAKyB,cAAc,QAAUiC,UAjSzC,YAiS6DI,OAASutG,SAAY,MACxFq2C,GAAa3lJ,YAAY4lJ,GACzB3nJ,KAAK8mJ,IAAM9mJ,KAAK8lJ,SAAS9lJ,KAAKhD,OAC9BgD,KAAK+mJ,IAAM/mJ,KAAKgnJ,SAAStrJ,MAAMsE,KAAMA,KAAK8mJ,KAC1C9mJ,KAAK4nJ,oBACL5nJ,KAAK6nJ,qBACL7nJ,KAAK8nJ,eACL9nJ,KAAK+nJ,qBAET1D,EAAY7oJ,UAAUosJ,kBAAoB,SAAU1zG,OACtC,KAANA,IAAgBA,EAAIl0C,KAAK+mJ,IAAI,IACjC/mJ,KAAKgoJ,kBAAkBpjJ,MAAMohJ,gBAAkBhmJ,KAAK6lJ,mBAAmB7lJ,KAAKioJ,SAAS/zG,EAAG,IAAK,IAAK,KAEtGmwG,EAAY7oJ,UAAUwsJ,gBAAkB,WACpC,MAAOriJ,GAAO,mBAAoB3F,KAAKqc,YAE3CgoI,EAAY7oJ,UAAUqsJ,mBAAqB,WACvC,GAAIF,GAAc3nJ,KAAKilJ,iBACnBiD,EAAUviJ,EAAO,IAAMg+I,GAAS3jJ,KAAKqc,UACrCrc,MAAKuP,UACLo4I,EAAY/iJ,MAAM2I,KAAO7K,EAAWwlJ,EAAQpjJ,YAAcsI,KAAKE,IAAI,IAAMtN,KAAK+mJ,IAAI,IAAM,KAGxFY,EAAY/iJ,MAAM2I,KAAO7K,EAAWwlJ,EAAQpjJ,YAAc9E,KAAK+mJ,IAAI,GAAK,KAE5EY,EAAY/iJ,MAAM6I,IAAM/K,EAAWwlJ,EAAQrkG,cAAgB,IAAM7jD,KAAK+mJ,IAAI,IAAM,MAEpF1C,EAAY7oJ,UAAUssJ,aAAe,WACjC,GAAIK,GAAuBnoJ,KAAKyB,cAAc,OAASiC,UAAW,oBAClE1D,MAAKwmJ,cAAc2B,EAAsB,GACzCnoJ,KAAKooJ,cAAcD,EACnB,IAAIE,GAAgBroJ,KAAKyB,cAAc,OAASiC,UAAW,wBAC3DykJ,GAAqB/iJ,aAAaijJ,EAAeF,EAAqBtsI,SAAS,GAC/E,IAAIysI,GAAStoJ,KAAKyB,cAAc,OAASiC,UAAW,gBACpD2kJ,GAActmJ,YAAYumJ,GAC1BtoJ,KAAKuoJ,UAAY,GAAI/sB,KACjBx+H,MAAOgD,KAAK+mJ,IAAI,GAChBhlI,IAAK,EACL1U,IAAK,IACLkC,UAAWvP,KAAKuP,UAChBqX,SAAU5mB,KAAK+9F,SACf37E,OAAQpiB,KAAKwoJ,UAAU/sJ,KAAKuE,OAC7BsoJ,GACHA,EAAStoJ,KAAKyB,cAAc,OAASiC,UAAW,qBAChD2kJ,EAActmJ,YAAYumJ,GAC1BtoJ,KAAKyoJ,cAAgB,GAAIjtB,KACrBx+H,MAAqB,IAAdgD,KAAK8mJ,IAAI,GAChB/kI,IAAK,EACL1U,IAAK,IACLkC,UAAWvP,KAAKuP,UAChBqX,SAAU5mB,KAAK+9F,SACf37E,OAAQpiB,KAAK0oJ,cAAcjtJ,KAAKuE,OACjCsoJ,EACH,IAAIK,GAAiB3oJ,KAAKyB,cAAc,OAASiC,UAAW,yBAC5D4kJ,GAAOvmJ,YAAY4mJ,GACnB3oJ,KAAK4oJ,yBAETvE,EAAY7oJ,UAAUotJ,sBAAwB,WAC1C,GAAIzzF,GAAYn1D,KAAKuP,UAAY,UAAY,UAC7C5J,GAAO,kBAAmB3F,KAAKyoJ,cAAc5uJ,SAAS+K,MAAMikJ,WACxD,mBAAqB1zF,EAAY,UAAYn1D,KAAK8mJ,IAAInlJ,MAAM,EAAG,GAAK,YAChE3B,KAAK6lJ,mBAAmB7lJ,KAAK8mJ,IAAInlJ,MAAM,EAAG,IAAM,UAE5D0iJ,EAAY7oJ,UAAUgtJ,UAAY,SAAUvoJ,GACxCD,KAAK+mJ,IAAI,GAAK9mJ,EAAKjD,MACnBgD,KAAK4nJ,oBACL5nJ,KAAK8oJ,wBAETzE,EAAY7oJ,UAAUktJ,cAAgB,SAAUzoJ,GAC5C,GAAIjD,GAAQiD,EAAKjD,MACb+rJ,EAAS/oJ,KAAKgpJ,SAAShpJ,KAAK8mJ,IAChC9mJ,MAAK+mJ,IAAI,GAAK/pJ,EAAQ,IACtBgD,KAAK8mJ,IAAI,GAAK9pJ,EAAQ,GACtB,IAAIisJ,GAASjpJ,KAAKgpJ,SAAShpJ,KAAK8mJ,IAC3B9mJ,MAAK8+F,aAAatmG,UAAUC,SAAS,kBACtCkK,EAAYgD,EAAO,mBAAoB3F,KAAKqc,WAAYq0G,IAAgB1zH,MAAQA,EAEpF,IAAI8pJ,GAAM9mJ,KAAK6lJ,mBAAmB7lJ,KAAK8mJ,IACvC9mJ,MAAKkpJ,cAAcpC,GACnB9mJ,KAAKmpJ,aAAaF,EAAQF,EAAQjC,IAEtCzC,EAAY7oJ,UAAU4sJ,cAAgB,SAAU/3B,GAC5C,GAAI+4B,GAAmBppJ,KAAKyB,cAAc,OAASiC,UAAWqgJ,IAC9D1zB,GAAUtuH,YAAYqnJ,EACtB,IAAIrD,GAAU/lJ,KAAKyB,cAAc,QAAUiC,UAAW,uBACtD0lJ,GAAiBrnJ,YAAYgkJ,EAC7B,IAAIsD,GAAarpJ,KAAK6lJ,mBAAmB7lJ,KAAK8mJ,IAC9Cf,GAAQnhJ,MAAMohJ,gBAAkBqD,EAChCtD,EAAU/lJ,KAAKyB,cAAc,QAAUiC,UAAW,yBAClD0lJ,EAAiBrnJ,YAAYgkJ,GAC7BA,EAAQnhJ,MAAMohJ,gBAAkBqD,GAEpChF,EAAY7oJ,UAAU0pJ,SAAW,WAC7B,OAAQllJ,KAAKqc,UAAU7jB,UAAUC,SAtXpB,oBAwXjB4rJ,EAAY7oJ,UAAUyqJ,YAAc,WAChC,MAAOjmJ,MAAKqc,UAAUtG,eAE1BsuI,EAAY7oJ,UAAU8tJ,uBAAyB,SAAUtsJ,EAAOyX,EAAOpH,GACnE,GAAItN,GAAQC,IACZ,QACIhD,MAAOA,EACP0rB,YAAajU,EACbsN,IAAK,EACL1U,IAAKA,EACLm6B,OAAQ,SACRsqF,gBAAgB,EAChBnpG,eAAgB,SAChBpZ,UAAWvP,KAAKuP,UAChBqX,SAAU5mB,KAAK+9F,SACf0wB,UAAUzuH,KAAKklJ,WACf9iI,OAAQ,SAAUniB,GACVA,EAAK1D,OACLwD,EAAM2zH,aAAazzH,EAAK1D,UAKxC8nJ,EAAY7oJ,UAAUgyH,YAAc,SAAU1sH,OAC5B,KAAVA,IAAoBA,EAAQ,EAChC,IAAIyoJ,GAAYvpJ,KAAKyB,cAAc,OAASiC,UAAWkgJ,IACvD5jJ,MAAKwmJ,cAAc+C,EAAWzoJ,EAC9B,IAAIub,GAAYrc,KAAKyB,cAAc,OAASiC,UAAW,qBACvD6lJ,GAAUxnJ,YAAYsa,GACtBktI,EAAUxnJ,YAAY/B,KAAKyB,cAAc,UAAYiC,UAAW,mCAAqC+/I,GAAe,IAAMS,KAC1H,IAAIsF,GAAWxpJ,KAAKyB,cAAc,SAC9BiC,UAAWggJ,GACX5/I,OAAS2lJ,UAAa,IAAK5kI,WAAc,UAExC7kB,MAAKklJ,YACN53H,GAAMkhG,aAAY,EAAMg7B,GAE5BntI,EAAUta,YAAYynJ,GACtBl8H,GAAMkgG,aACF3zH,QAAS2vJ,EACT7gI,eAAgB,SAChBplB,YACImlB,YAAa,MACbnZ,UAAWvP,KAAKuP,UAChBqX,SAAU5mB,KAAK+9F,WAEpB/9F,KAAKyB,eACR6rB,GAAMlwB,SAAS4C,KAAKhD,MAAM2E,MAAM,EAAG,GAAI6nJ,EAIvC,KAAK,GADDE,IAAW,KAAM,KAAM,MAClBrxJ,EAAI,EAAGA,EAAI,EAAGA,IACJ,GAAIq4H,IAAe1wH,KAAKspJ,uBAAuBtpJ,KAAK8mJ,IAAIzuJ,GAH/D,MAGyEA,GAAI,KAAMgkB,EAAUta,YAAY/B,KAAKyB,cAAc,SAAWiC,UAAW,KAAOgmJ,EAAQrxJ,GAAK,YAEnK,IAAIq4H,IAAe1wH,KAAKspJ,uBAAqC,IAAdtpJ,KAAK8mJ,IAAI,GAAU,IAAK,KAAMzqI,EAAUta,YAAY/B,KAAKyB,cAAc,SAAWiC,UAAW,uBAE/J2gJ,EAAY7oJ,UAAU2pJ,cAAgB,WAClC,GAAInlJ,KAAK0mJ,cAAgB1mJ,KAAKw9H,YAAa,CACvCx9H,KAAKs6G,KAAKzuD,UAAU7rD,KAAKgP,OACzB,IAAI26I,GAAa3pJ,KAAKyB,cAAc,OAASiC,UAAW8/I,IAExD,IADAxjJ,KAAKqc,UAAUta,YAAY4nJ,GACvB3pJ,KAAKw9H,YAAa,CAClB,GAAIosB,GAAoB5pJ,KAAKyB,cAAc,OAASiC,UAlctD,cAmcEimJ,GAAW5nJ,YAAY6nJ,EACvB,IAAIluJ,GAAQsE,KAAKs6G,KAAKnuD,YAAY,QAClCy9F,GAAkB7nJ,YAAY/B,KAAKyB,cAAc,UAC7CjH,UAAWkB,EACXgI,UAAW,yCACXI,OAASwpD,MAAS5xD,KAEtB,IAAIo0B,GAAS9vB,KAAKs6G,KAAKnuD,YAAY,SACnCy9F,GAAkB7nJ,YAAY/B,KAAKyB,cAAc,UAC7CjH,UAAWs1B,EACXpsB,UAAW,gCACXI,OAASwpD,MAASx9B,MAGtB9vB,KAAK0mJ,cACL1mJ,KAAK6pJ,wBAIjBxF,EAAY7oJ,UAAUquJ,oBAAsB,WACxC,GAAInD,GAAe1mJ,KAAKyB,cAAc,UAClCiC,UAAW,mCAAqCmgJ,GAAY//I,OAASwpD,MAAOttD,KAAKs6G,KAAKnuD,YAAY,kBAEtGxmD,GAAO,IAAM69I,GAAYxjJ,KAAKqc,WAAWjX,aAAashJ,EAAc/gJ,EAAO,cAAe3F,KAAKqc,aAEnGgoI,EAAY7oJ,UAAUusJ,kBAAoB,WACtC,GAAIhoJ,GAAQC,KACRqjG,EAAU,GAAIqjB,KACd4F,QAAS,SACThE,gBAAgB,EAChBh0G,SAAU,yBACVqtH,WAAY,SAAU1hI,GAClBF,EAAMsnH,WAAapnH,EAAKpG,SAE5B2/B,WAAa13B,MAAQupG,OAAQ,QAAUjpG,OAASipG,OAAQ,UAE5DhI,GAAQnlD,SAASl+C,KAAKqc,WACtBgnF,EAAQvhG,KAAK9B,KAAKqc,WAClBrc,KAAKqnH,WAAWziH,MAAMw3G,OAAS3gG,GAAiBzb,KAAKqnH,YAAY1mH,WACjEgF,EAAO,iBAAkB3F,KAAKqnH,YAAYtlH,YAAY/B,KAAKyB,cAAc,OAASiC,UAAW,wBAEjG2gJ,EAAY7oJ,UAAUsuJ,eAAiB,WACnC,MAAOnnJ,GAAY3C,KAAKqc,UAAWqqG,KAEvC29B,EAAY7oJ,UAAUuuJ,iBAAmB,SAAU/sJ,GAC/CgD,KAAK8pJ,iBAAiB98I,QAAUhQ,GAEpCqnJ,EAAY7oJ,UAAU4pJ,eAAiB,SAAU96C,GAC7CA,EAAStqG,KAAK8+F,aAAatmG,UAAU+L,IAjf9B,cAif8CvE,KAAK8+F,aAAatmG,UAAUkM,OAjf1E,cAkfH1E,KAAKw9H,gBACD77H,MAAMf,KAAKkF,EAAU,SAAU9F,KAAKqc,YAAajd,QAAQ,SAAUgF,GACnEkmG,EAASvmG,EAAWK,GAAO25F,SAAY,KAAQ35F,EAAIkI,gBAAgB,eAI/E+3I,EAAY7oJ,UAAUqqJ,mBAAqB,SAAUiB,GACjD,MAAOA,GAAIvuJ,OAAwB,IAAfuuJ,EAAIvuJ,OAAe,QAAUuuJ,EAAItmJ,OAAS,IAAM,OAASsmJ,EAAItmJ,OAAS,IAAM,IAEpG6jJ,EAAY7oJ,UAAUwuJ,mBAAqB,SAAUjD,GACjD,MAAsB,KAAfA,EAAIxuJ,OAAe,QAAUwuJ,EAAIvmJ,OAAS,IAAM,OAASumJ,EAAIvmJ,OAAS,KAEjF6jJ,EAAY7oJ,UAAUyuJ,UAAY,WAC9BjqJ,KAAK+mJ,IAAI,GAAK/mJ,KAAK+mJ,IAAI,GAAK,IAAM,IAAM/mJ,KAAK+mJ,IAAI,GACjD/mJ,KAAK+mJ,IAAI,GAAK/mJ,KAAK+mJ,IAAI,GAAK,IAAM,IAAM/mJ,KAAK+mJ,IAAI,GACjD/mJ,KAAK6nJ,sBAETxD,EAAY7oJ,UAAUstJ,qBAAuB,SAAUoB,OACrC,KAAVA,IAAoBA,GAAQ,EAChC,IAAInB,GAAS/oJ,KAAKgpJ,SAAShpJ,KAAK8mJ,IAChC9mJ,MAAK8mJ,IAAM9mJ,KAAKioJ,SAASvsJ,MAAMsE,KAAMA,KAAK+mJ,IAC1C,IAAIkC,GAASjpJ,KAAKgpJ,SAAShpJ,KAAK8mJ,KAC5BlB,EAAO5lJ,KAAK6lJ,mBAAmB7lJ,KAAK8mJ,IACxC9mJ,MAAKkpJ,cAActD,GACnB5lJ,KAAKmqJ,YAAYlB,GACjBjpJ,KAAKmpJ,aAAaF,EAAQF,EAAQnD,EAAMsE,IAE5C7F,EAAY7oJ,UAAU2uJ,YAAc,SAAUntJ,GACrCgD,KAAK8+F,aAAatmG,UAAUC,SAAS,kBACtC60B,GAAMlwB,SAASJ,EAAMjE,OAAO,EAAG,GAAI4M,EAAO,IAAM+9I,GAAK1jJ,KAAKqc,YACtD1W,EAAO,IAAM89I,GAAczjJ,KAAKqc,WAAW7jB,UAAUC,SAASyrJ,IAC9DlkJ,KAAKi0H,YAAYj0H,KAAK8mJ,KAAK,GAG3B9mJ,KAAKi0H,YAAYj0H,KAAK+mJ,KAAK,KAIvC1C,EAAY7oJ,UAAU0tJ,cAAgB,SAAUlsJ,GAC5CgD,KAAK4oJ,wBACLjjJ,EAAO,qBAAsB3F,KAAKqnH,YAAYziH,MAAMohJ,gBAAkBhpJ,EACtE2I,EAAO,IAAMo+I,GAAU,cAAgB/jJ,KAAKqc,WAAWzX,MAAMohJ,gBAAkBhpJ,EAC/E2I,EAAO,IAAMo+I,GAAU,eAAiB/jJ,KAAKqc,WAAWzX,MAAMohJ,gBACxDhmJ,KAAK6lJ,mBAAmB7lJ,KAAK8lJ,SAAS9lJ,KAAKhD,SAErDqnJ,EAAY7oJ,UAAUypJ,eAAiB,WACnC,MAAOt/I,GAAO,aAAe3F,KAAKqc,YAEtCgoI,EAAY7oJ,UAAU4uJ,oBAAsB,cACnBzoJ,MAAMf,KAAKkF,EAAU,IAAMk+I,GAAQhkJ,KAAKqc,UAAUR,SAAS,KACpEzc,QAAQ,SAAUgF,GAC1BA,EAAI5L,UAAUkM,OAAOs/I,IACrB5/I,EAAIP,aAAa,gBAAiB,YAG1CwgJ,EAAY7oJ,UAAU6uJ,wBAA0B,SAAUrtJ,GACtD,MAAQA,GAAM2E,MAAM3E,EAAMwB,QAAQ,KAAO,EAAGxB,EAAMwB,QAAQ,MAAOtB,MAAM,KAAKyjC,IAAI,SAAU2pH,EAAGjyJ,GACzF,MAAc,KAANA,EAAWshC,SAAS2wH,EAAG,IAAMxqI,WAAWwqI,MAUxDjG,EAAY7oJ,UAAUqB,SAAW,SAAUG,EAAOjD,GAK9C,GAJKiD,IACDA,EAAQgD,KAAKhD,OAEjBjD,EAAQA,EAAeA,EAAK5B,cAAb,MACE,MAAb6E,EAAM,GAAY,CACdisJ,EAASjpJ,KAAKqqJ,wBAAwBrtJ,EAC1C,IAAa,QAATjD,GAA2B,SAATA,EAAiB,CAC/B4rJ,EAAM3lJ,KAAKgpJ,SAASC,EACxB,OAAgB,QAATlvJ,EAAiB4rJ,EAAIhkJ,MAAM,EAAG,GAAKgkJ,EAG1C,MAAa,QAAT5rJ,EACOiG,KAAKgqJ,mBAAmBhqJ,KAAKgnJ,SAAStrJ,MAAMsE,KAAMipJ,EAAOtnJ,MAAM,EAAG,KAG5D,SAAT5H,EACOiG,KAAKgqJ,mBAAmBhqJ,KAAKgnJ,SAAStrJ,MAAMsE,KAAMipJ,IAGlD,OAMnB,GAAiB,MAAbjsJ,EAAM,GAAY,CAClB,GAAIisJ,GAASjpJ,KAAKioJ,SAASvsJ,MAAMsE,KAAMA,KAAKqqJ,wBAAwBrtJ,GACpE,IAAa,SAATjD,EACA,MAAOiG,MAAK6lJ,mBAAmBoD,EAG/B,IAAa,QAATlvJ,GAA2B,SAATA,EAAiB,CACnC,GAAI4rJ,GAAM3lJ,KAAKgpJ,SAASC,EACxB,OAAgB,QAATlvJ,EAAiB4rJ,EAAIhkJ,MAAM,EAAG,GAAKgkJ,EAG1C,MAAa,QAAT5rJ,EACOiG,KAAK6lJ,mBAAmBoD,EAAOtnJ,MAAM,EAAG,IAGxC,OAMnB3E,EAAQgD,KAAKq1H,WAAWr4H,EACxB,IAAI8pJ,GAAM9mJ,KAAK8lJ,SAAS9oJ,EAIxB,OAHa,QAATjD,GAA2B,QAATA,IAClB+sJ,EAAMA,EAAInlJ,MAAM,EAAG,IAEV,SAAT5H,GAA4B,QAATA,EACZiG,KAAK6lJ,mBAAmBiB,GAGlB,SAAT/sJ,GAA4B,QAATA,EACZiG,KAAKgqJ,mBAAmBhqJ,KAAKgnJ,SAAStrJ,MAAMsE,KAAM8mJ,IAG5C,QAAT/sJ,EACOiD,EAAM2E,MAAM,EAAG,GAGT,MAAT5H,EACO+sJ,EAAI,GAAGnmJ,WAGP,QAanC0jJ,EAAY7oJ,UAAU0lG,OAAS,WAC3BlhG,KAAKulJ,SAASrkD,UAOlBmjD,EAAY7oJ,UAAU0L,cAAgB,WAClC,MAAO,eAMXm9I,EAAY7oJ,UAAUwjD,eAAiB,WACnC,MAAOh/C,MAAKy/C,cAAc,WAE9B4kG,EAAY7oJ,UAAU0qB,WAAa,WAC/B,GAAIlmB,KAAKklJ,WAAY,CACjB,GAAIyC,GAAc3nJ,KAAKilJ,gBACvBx/I,IAAalB,IAAIojJ,EAAa,UAAW3nJ,KAAKuqJ,cAAevqJ,MAC7DyF,GAAalB,IAAIvE,KAAKgoJ,kBAAmB,uBAAwBhoJ,KAAKwqJ,YAAaxqJ,OAC/EA,KAAK0mJ,cAAgB1mJ,KAAKw9H,cAC1Bx9H,KAAKyqJ,qBAEJzqJ,KAAK8+F,aAAatmG,UAAUC,SAAS,iBACtCuH,KAAK0qJ,uBAETjlJ,GAAalB,IAAIoB,EAAO,cAAgB3F,KAAKqc,WAAY,QAASrc,KAAK2qJ,eAAgB3qJ,UAGvFyF,IAAalB,IAAIvE,KAAKqc,UAAW,QAASrc,KAAK4qJ,oBAAqB5qJ,MACpEyF,GAAalB,IAAIvE,KAAKqc,UAAW,UAAWrc,KAAK6qJ,eAAgB7qJ,OAGzEqkJ,EAAY7oJ,UAAUivJ,mBAAqB,WACvChlJ,GAAalB,IAAIoB,EAAO,IAAM69I,GAAYxjJ,KAAKqc,WAAY,QAASrc,KAAKs+F,gBAAiBt+F,OAE9FqkJ,EAAY7oJ,UAAUsvJ,cAAgB,WAClCrlJ,GAAalB,IAAIoB,EAAO,IAAM+9I,GAAK1jJ,KAAKqc,WAAY,QAASrc,KAAK0zH,aAAc1zH,OAEpFqkJ,EAAY7oJ,UAAUkvJ,qBAAuB,WACzC1qJ,KAAK8qJ,gBACLrlJ,GAAalB,IAAIoB,EAAO,IAAM89I,GAAczjJ,KAAKqc,WAAY,QAASrc,KAAK+qJ,oBAAqB/qJ,OAEpGqkJ,EAAY7oJ,UAAU+uJ,cAAgB,SAAUnpJ,GAC5C,OAAQA,EAAE1J,SACN,IAAK,IACDsI,KAAKgrJ,oBAAoB,EAAGhrJ,KAAKuP,WAAa,EAAI,EAAGnO,EACrD,MACJ,KAAK,IACDpB,KAAKgrJ,oBAAoB,EAAGhrJ,KAAKuP,UAAY,GAAK,EAAGnO,EACrD,MACJ,KAAK,IACDpB,KAAKgrJ,oBAAoB,EAAG,EAAG5pJ,EAC/B,MACJ,KAAK,IACDpB,KAAKgrJ,oBAAoB,GAAI,EAAG5pJ,EAChC,MACJ,KAAK,IACDA,EAAE+lB,gBACF,IAAI8hI,GAASjpJ,KAAKgpJ,SAAShpJ,KAAK8mJ,IAChC9mJ,MAAKgvG,gBAAgBi6C,KAGjC5E,EAAY7oJ,UAAUwzG,gBAAkB,SAAUhyG,GAC9CgD,KAAKirJ,mBAAmBjuJ,GACnBgD,KAAKykJ,SACNzkJ,KAAKkhG,SACLlhG,KAAKulJ,SAAS1rJ,QAAQwI,UAG9BgiJ,EAAY7oJ,UAAUyvJ,mBAAqB,SAAUjuJ,GACjD,GAAI2oJ,GAAM3oJ,EAAM2E,MAAM,EAAG,EACzB3B,MAAKooB,QAAQ,UACT49G,cAAgB2f,IAAKA,EAAKC,KAAM5lJ,KAAK6lJ,mBAAmB7lJ,KAAK8mJ,MAC7D5yB,eAAiByxB,IAAK3lJ,KAAKhD,MAAM2E,MAAM,EAAG,GAAIikJ,KAAM5lJ,KAAK6lJ,mBAAmB7lJ,KAAK8lJ,SAAS9lJ,KAAKhD,WAEnGgD,KAAK2H,eAAgB3K,MAASA,IAAS,GACvCgD,KAAKnG,QAAQmD,MAAQ2oJ,GAAY,WAErCtB,EAAY7oJ,UAAUwvJ,oBAAsB,SAAUE,EAAMluJ,EAAOoE,GAC/DA,EAAE+lB,iBACFnnB,KAAK+mJ,IAAImE,IAASluJ,GAASoE,EAAEsoB,QAAU,EAAI,GACvC1pB,KAAK+mJ,IAAImE,GAAQ,IACjBlrJ,KAAK+mJ,IAAImE,GAAQ,GAErBlrJ,KAAKiqJ,YACLjqJ,KAAK8oJ,sBAAqB,IAE9BzE,EAAY7oJ,UAAUgvJ,YAAc,SAAUppJ,GAC1CA,EAAE+lB,iBAGa,cAAX/lB,EAAErH,MACFiG,KAAKumD,QAAUn5C,KAAKE,IAAIlM,EAAEyL,MAAQk3C,aAClC/jD,KAAKwmD,QAAUp5C,KAAKE,IAAIlM,EAAE6L,MAAQ62C,aAClC9jD,KAAK+pJ,iBAAiB,KAGtB/pJ,KAAKumD,QAAUn5C,KAAKE,IAAIlM,EAAEmgD,eAAe,GAAG10C,MAAQk3C,aACpD/jD,KAAKwmD,QAAUp5C,KAAKE,IAAIlM,EAAEmgD,eAAe,GAAGt0C,MAAQ62C,aACpD9jD,KAAK+pJ,kBAAkB,IAE3B/pJ,KAAKmrJ,OAAOnrJ,KAAKumD,QAASvmD,KAAKwmD,SAC/BxmD,KAAKilJ,iBAAiBrgJ,MAAM+2H,WAAa,gFACzC37H,KAAKiqJ,YACLjqJ,KAAK8oJ,uBACL9oJ,KAAKilJ,iBAAiB5iJ,QACtBoD,GAAalB,IAAIxJ,SAAU,sBAAuBiF,KAAKorJ,YAAaprJ,MACpEyF,GAAalB,IAAIxJ,SAAU,mBAAoBiF,KAAKqrJ,WAAYrrJ,OAEpEqkJ,EAAY7oJ,UAAU4vJ,YAAc,SAAUhqJ,GAC3B,cAAXA,EAAErH,MACFqH,EAAE+lB,gBAEN,IAAIrZ,GACAC,CACW,eAAX3M,EAAErH,MACF+T,EAAIV,KAAKE,IAAIlM,EAAEyL,MAAQk3C,aACvBh2C,EAAIX,KAAKE,IAAIlM,EAAE6L,MAAQ62C,eAGvBh2C,EAAIV,KAAKE,IAAIlM,EAAEmgD,eAAe,GAAG10C,MAAQk3C,aACzCh2C,EAAIX,KAAKE,IAAIlM,EAAEmgD,eAAe,GAAGt0C,MAAQ62C,cAE7C9jD,KAAKmrJ,OAAOr9I,EAAGC,EACf,IAAI45I,GAAc3nJ,KAAKilJ,gBACZtrH,UAASguH,EAAY/iJ,MAAM2I,KAAM,IAClCosB,SAASguH,EAAY/iJ,MAAM6I,IAAK,GAC1CzN,MAAKiqJ,YACLjqJ,KAAK8oJ,uBACL9oJ,KAAK8pJ,iBAAiBzrG,QAAQspG,GACzB3nJ,KAAKqnH,WAAWziH,MAAMuJ,YACnBf,KAAKE,IAAItN,KAAKumD,QAAUz4C,GAAK,GAAKV,KAAKE,IAAItN,KAAKwmD,QAAUz4C,GAAK,KAC/DpI,EAAO,IAAMg+I,GAAS3jJ,KAAKqc,WAAWzX,MAAMy8H,OAAS,UACrDsmB,EAAY/iJ,MAAM+2H,WAAa,OAC1B37H,KAAKykJ,SACNzkJ,KAAKqnH,WAAWziH,MAAMw3G,QAAUziF,SAAS35B,KAAKimJ,cAAcrhJ,MAAMw3G,OAAQ,IAAM,GAAGz7G,YAEvFX,KAAKqnH,WAAWziH,MAAMuJ,UAAY,gBAClCw5I,EAAYnvJ,UAAU+L,IAAI,oBAItC8/I,EAAY7oJ,UAAU2vJ,OAAS,SAAU5kG,EAASC,GAC9C,GAAIpiD,GAAMuB,EAAO,IAAMg+I,GAAS3jJ,KAAKqc,WACjCzG,EAAWxR,EAAIuI,uBAEf45C,GADAvmD,KAAKuP,UACKg3C,EAAU3wC,EAASpI,MAAQ,EAAIJ,KAAKE,IAAIi5C,EAAU3wC,EAASpI,OAG3D+4C,EAAU3wC,EAASrI,KAAOH,KAAKE,IAAIi5C,EAAU3wC,EAASrI,MAAQ,EAE5Ei5C,EAAUA,EAAU5wC,EAASnI,IAAML,KAAKE,IAAIk5C,EAAU5wC,EAASnI,KAAO,EACtEzN,KAAK+mJ,IAAI,GAAK35I,KAAKknG,MAC2E,GADrE/oD,OAAO,KAAOnnD,EAAIy/C,aACvCz2C,KAAKC,IAAI,EAAGD,KAAK2U,IAAI3d,EAAIy/C,aAAe2C,EAAUpiD,EAAI0R,aAAgB1R,EAAIy/C,eAAsB,GACpG7jD,KAAK+mJ,IAAI,GACL35I,KAAKknG,MAA6G,GAAvG/oD,OAAO,IAAOn+C,KAAKC,IAAI,EAAGD,KAAK2U,IAAI3d,EAAIU,YAAcyhD,EAAUniD,EAAIyR,aAAiBzR,EAAIU,cAAqB,IAEhIu/I,EAAY7oJ,UAAU6vJ,WAAa,SAAUjqJ,GAC1B,aAAXA,EAAErH,MACFqH,EAAE+lB,iBAEN1hB,GAAaf,OAAO3J,SAAU,sBAAuBiF,KAAKorJ,aAC1D3lJ,GAAaf,OAAO3J,SAAU,mBAAoBiF,KAAKqrJ,WACvD,IAAI1D,GAAc3nJ,KAAKilJ,gBACvBt/I,GAAO,IAAMg+I,GAAS3jJ,KAAKqc,WAAWzX,MAAMy8H,OAAS,GACjDrhI,KAAKqnH,WAAWziH,MAAMuJ,YACtBnO,KAAKqnH,WAAWziH,MAAMuJ,UAAY,GAClCw5I,EAAYnvJ,UAAUkM,OAAO,mBAE5B1E,KAAKykJ,QAAWzkJ,KAAKw9H,aACtBx9H,KAAKkhG,UAGbmjD,EAAY7oJ,UAAU8iG,gBAAkB,SAAUl9F,GAC9C,GAAIyH,GAASzH,EAAEyH,MACX9C,GAAQ8C,EAAQ,IAAMg7I,KACtBziJ,EAAE+0H,kBACFn2H,KAAKsrJ,oBAGDziJ,EAAOrQ,UAAUC,SAp0BrB,YAo0BwCoQ,EAAOrQ,UAAUC,SAn0BxD,cAo0BGuH,KAAKurJ,aAAa1iJ,IAI9Bw7I,EAAY7oJ,UAAU8vJ,gBAAkB,WACpCtrJ,KAAKooB,QAAQ,oBAAsBvuB,QAASmG,KAAKqc,UAAWqT,KAAM,YAClE1vB,KAAKu+F,eACLv+F,KAAKqmJ,mBACL9gJ,EAAOI,EAAO,oBAAqB3F,KAAKqc,YACnCrc,KAAK8+F,aAAatmG,UAAUC,SAAS,iBACtC8M,EAAOI,EAAO,IAAMi+I,GAAc5jJ,KAAKqc,YAE3C9W,EAAOvF,KAAKgoJ,mBACZhoJ,KAAK8kJ,gBACL9kJ,KAAK+kJ,oBACD/kJ,KAAK8+F,aAAatmG,UAAUC,SAAS,iBACrCuH,KAAKwtH,YAAY,GAErBxtH,KAAKqlJ,kBACLrlJ,KAAKkmB,cAETm+H,EAAY7oJ,UAAU6pJ,gBAAkB,WACpC,IAAKrlJ,KAAKykJ,OAAQ,CACd,GAAIrD,GAAWphJ,KAAKimJ,aACpB7E,GAASx8I,MAAM2I,KAAO,MACtB6zI,EAASx8I,MAAM6I,IAAM,MACrBzN,KAAKmmJ,eAAe7nC,gBAAgBt+G,KAAKulJ,SAAS1rJ,QAAQkc,iBAGlEsuI,EAAY7oJ,UAAUuvJ,oBAAsB,SAAU3pJ,GAClD,GAAIyH,GAASzH,EAAEyH,MACXA,GAAOrQ,UAAUC,SAASyrJ,KAC1BlkJ,KAAKi0H,YAAYj0H,KAAK+mJ,KAAK,EAAM,GAAI,IAAK,IAAK,MAC/Cl+I,EAAOrQ,UAAUkM,OAAOw/I,MAGxBlkJ,KAAKi0H,YAAYj0H,KAAK8mJ,KAAK,EAAM,GACjCj+I,EAAOrQ,UAAU+L,IAAI2/I,MAG7BG,EAAY7oJ,UAAUy4H,YAAc,SAAUj3H,EAAOwqC,EAAQ9a,EAAKrf,GAG9D,IAAK,GADDpK,GADAymJ,GAAW,aAAc,aAAc,cAElCrxJ,EAAI,EAAG4J,EAAMynJ,EAAQnxJ,OAAQF,EAAI4J,EAAK5J,KAC3C4K,EAAON,EAAYgD,EAAO,IAAM+jJ,EAAQrxJ,GAAI2H,KAAKqc,WAAYq0G,KACxD1zH,MAAQoQ,KAAKknG,MAAMt3G,EAAM3E,IAC1BmvC,IACAvkC,EAAKylB,YAAcghI,EAAQrxJ,GAAGU,OAAO2zB,EAAK,GAAGS,cAC7ClqB,EAAKoK,IAAMA,EAAMA,EAAIhV,GAAK,KAE9B4K,EAAK0xB,YAGb0vH,EAAY7oJ,UAAUmvJ,eAAiB,SAAUvpJ,GAC7C,GAAIyH,GAASzH,EAAEyH,OACXkgJ,EAAS/oJ,KAAKgpJ,SAAShpJ,KAAK8mJ,IAChC9mJ,MAAK8mJ,IAAM9mJ,KAAKqqJ,wBAAwBxhJ,EAAOjE,MAAMohJ,iBAChDhmJ,KAAK8mJ,IAAI,KACV9mJ,KAAK8mJ,IAAI,GAAK,EAElB,IAAImC,GAASjpJ,KAAKgpJ,SAAShpJ,KAAK8mJ,KAC5BC,EAAM/mJ,KAAKgnJ,SAAStrJ,MAAMsE,KAAMA,KAAK8mJ,IACrCC,GAAI,KAAO/mJ,KAAK+mJ,IAAI,KACpB/mJ,KAAKuoJ,UAAU5gJ,eAAgB3K,MAAS+pJ,EAAI,KAAM,GAClD/mJ,KAAKuoJ,UAAUlqG,WAEnBr+C,KAAK4nJ,kBAAkBb,EAAI,IACvBA,EAAI,KAAO/mJ,KAAK+mJ,IAAI,KACpB/mJ,KAAKyoJ,cAAc9gJ,eAAgB3K,MAAkB,IAAT+pJ,EAAI,KAAY,GAC5D/mJ,KAAKyoJ,cAAcpqG,WAEvBr+C,KAAK4oJ,wBACL5oJ,KAAK+mJ,IAAMA,EACX/mJ,KAAK6nJ,qBACL7nJ,KAAKmqJ,YAAYlB,GACjBtjJ,EAAO,IAAMo+I,GAAU,cAAgB/jJ,KAAKqc,WAAWzX,MAAMohJ,gBAAkBhmJ,KAAK6lJ,mBAAmB7lJ,KAAK8mJ,KAC5G9mJ,KAAKmpJ,aAAaF,EAAQF,EAAQ/oJ,KAAK6lJ,mBAAmB7lJ,KAAK8mJ,OAEnEzC,EAAY7oJ,UAAUovJ,oBAAsB,SAAUxpJ,GAClDA,EAAE+lB,gBACF,IAAIte,GAASzH,EAAEyH,MACf,IAAIA,EAAOrQ,UAAUC,SAASwrJ,IAAO,CAGjC,GAFAjkJ,KAAKoqJ,sBACLpqJ,KAAKunJ,iBAAiB1+I,GAClBA,EAAOrQ,UAAUC,SAASqrJ,IAC1B9jJ,KAAKwrJ,kBAEJ,CACD,GAAIvC,GAASpgJ,EAAOpC,aAAa,cAC7BsiJ,EAAS/oJ,KAAKgpJ,SAAShpJ,KAAK8mJ,IAChC9mJ,MAAK8mJ,IAAM9mJ,KAAK8lJ,SAAS9lJ,KAAKq1H,WAAW4zB,IACzCjpJ,KAAK+mJ,IAAM/mJ,KAAKgnJ,SAAStrJ,MAAMsE,KAAMA,KAAK8mJ,KACtC9mJ,KAAK8+F,aAAatmG,UAAUC,SAAS,iBACrCuH,KAAKmqJ,YAAYlB,GAErBjpJ,KAAKmpJ,aAAaF,EAAQF,EAAQ/oJ,KAAK6lJ,mBAAmB7lJ,KAAK8mJ,MAE9D9mJ,KAAKykJ,QAAWzkJ,KAAKw9H,aACtBx9H,KAAKkhG,aAILn7F,GAAQ8C,EAAQ,IAAMg7I,IACtB7jJ,KAAKyrJ,iBAGD5iJ,EAAOrQ,UAAUC,SA/6BzB,YA+6B4CoQ,EAAOrQ,UAAUC,SA96B5D,YA+6BOuH,KAAKurJ,aAAa1iJ,GAGd7I,KAAK8+F,aAAatmG,UAAUC,SAAS,iBAAmBsN,EAAQ8C,EAAQ,IAAM46I,KAC9EzjJ,KAAK+qJ,oBAAoB3pJ,IAM7CijJ,EAAY7oJ,UAAUgwJ,YAAc,SAAUtB,OAC5B,KAAVA,IAAoBA,GAAQ,EAChC,IAAInB,GAAS/oJ,KAAKgpJ,SAAShpJ,KAAK8mJ,IAChC9mJ,MAAK8mJ,OACL9mJ,KAAK+mJ,OACL/mJ,KAAKmpJ,aAAa,GAAIJ,EAAQ,GAAImB,IAEtC7F,EAAY7oJ,UAAUiwJ,eAAiB,WACnC,GAAIl4I,GAAUvT,KAAK8+F,YACnB9+F,MAAKooB,QAAQ,oBAAsBvuB,QAASmG,KAAKqc,UAAWqT,KAAM,WAClE1vB,KAAKu+F,kBACD58F,MAAMf,KAAKkF,EAAU,aAAgB9F,KAAKqc,YAAajd,QAAQ,SAAUgF,GACzEmB,EAAOnB,KAEPmP,EAAQ/a,UAAUC,SAAS,iBAC3B8M,EAAOI,EAAO,IAAMi+I,GAAc5jJ,KAAKqc,YAE3Crc,KAAKqc,UAAUzX,MAAM6S,MAAQ,EAC7B,IAAIi0I,GAAS/lJ,EAAO,oBAAqB3F,KAAKqc,UAC1Crc,MAAKsmJ,cACL5hJ,EAAOgnJ,GAEX1rJ,KAAKglJ,eACLhlJ,KAAKilJ,iBAAiB5iJ,QACjBkR,EAAQ/a,UAAUC,SAAS,iBAC5BuH,KAAKwtH,cAETxtH,KAAKqlJ,kBACLrlJ,KAAKkmB,cAETm+H,EAAY7oJ,UAAU+vJ,aAAe,SAAUnnJ,GAC3C,GAAIA,EAAI5L,UAAUC,SAz9Bd,WAy9B+B,CAC/B,GAAIwwJ,GAASjpJ,KAAKgpJ,SAAShpJ,KAAK8mJ,IAChC9mJ,MAAKirJ,mBAAmBhC,GAEvBjpJ,KAAKykJ,SACNzkJ,KAAKkhG,SACLlhG,KAAKulJ,SAAS1rJ,QAAQwI,UAG9BgiJ,EAAY7oJ,UAAUqvJ,eAAiB,SAAUzpJ,GAC7C,GAAIyH,GAASzH,EAAEyH,MACf,IAAKA,EAAOrQ,UAAUC,SAr9Bf,aAq9BP,CAGA,GAAIkzJ,GACAj/H,EACAk/H,KAAWjqJ,MAAMf,KAAKkF,EAAU,IAAMm+I,GAAMp7I,IAC5CgjJ,EAAmBD,EAAMx2H,OAAO,SAAUgyH,GAAQ,MAAOA,GAAK5uJ,UAAUC,SAAS,gBAAmBg5G,KACxG,SAASrwG,EAAEmpD,QAAUnpD,EAAE1J,SACnB,IAAK,IACD0J,EAAE+lB,iBACFwkI,EAAcE,EAAkBD,EAAM5rJ,KAAK8rJ,aAAaF,EAAOC,EAAiB7rJ,KAAKuP,WAAa,EAAI,IAChGq8I,EAAM5rJ,KAAKuP,UAAYq8I,EAAMrzJ,OAAS,EAAI,GAChDyH,KAAK+rJ,oBAAoBJ,EACzB,MACJ,KAAK,IACDvqJ,EAAE+lB,iBACFwkI,EAAcE,EAAkBD,EAAM5rJ,KAAK8rJ,aAAaF,EAAOC,EAAiB7rJ,KAAKuP,UAAY,GAAK,IAChGq8I,EAAM5rJ,KAAKuP,UAAY,EAAIq8I,EAAMrzJ,OAAS,GAChDyH,KAAK+rJ,oBAAoBJ,EACzB,MACJ,KAAK,IACDvqJ,EAAE+lB,iBAEFwkI,EAAcC,EADdl/H,EAAMm/H,EAAkB7rJ,KAAK8rJ,aAAaF,EAAOC,GAAkB7rJ,KAAK2wG,SAAW,GACxDi7C,EAAMl/H,GAAOk/H,EAAMl/H,EAAM1sB,KAAK2wG,SACzD3wG,KAAK+rJ,oBAAoBJ,EACzB,MACJ,KAAK,IACDvqJ,EAAE+lB,iBAEEykI,EADJl/H,EAAMm/H,EAAkB7rJ,KAAK8rJ,aAAaF,EAAOC,EAAiB7rJ,KAAK2wG,SAAWi7C,EAAMrzJ,OAAS,GAE7FozJ,EAAcC,EAAMl/H,IAGpBA,GAAOk/H,EAAMrzJ,OAEbozJ,EAAcC,EADdl/H,GAAOk/H,EAAMA,EAAMrzJ,OAAS,GAAGwd,cAAc8rI,oBAGjD7hJ,KAAK+rJ,oBAAoBJ,EACzB,MACJ,KAAK,IAED,GADAvqJ,EAAE+lB,iBACE0kI,EAAiB,CACjB,GAAI5C,GAAS4C,EAAgBplJ,aAAa,aAC1CzG,MAAKgvG,gBAAgBi6C,GAAkB,QAIvD5E,EAAY7oJ,UAAUuwJ,oBAAsB,SAAUC,GAGlD,GAFAhsJ,KAAKoqJ,sBACLpqJ,KAAKunJ,iBAAiByE,GAClBA,EAAOxzJ,UAAUC,SAASqrJ,IAC1B9jJ,KAAKwrJ,aAAY,OAEhB,CACD,GAAIvC,GAAS+C,EAAOvlJ,aAAa,cAC7BsiJ,EAAS/oJ,KAAKgpJ,SAAShpJ,KAAK8mJ,IAChC9mJ,MAAK8mJ,IAAM9mJ,KAAK8lJ,SAASmD,GACzBjpJ,KAAK+mJ,IAAM/mJ,KAAKgnJ,SAAStrJ,MAAMsE,KAAMA,KAAK8mJ,KACtC9mJ,KAAK8+F,aAAatmG,UAAUC,SAAS,iBACrCuH,KAAKmqJ,YAAYlB,GAErBjpJ,KAAKmpJ,aAAaF,EAAQF,EAAQ/oJ,KAAK6lJ,mBAAmB7lJ,KAAK8mJ,MAAM,KAG7EzC,EAAY7oJ,UAAUswJ,aAAe,SAAUn0J,EAAOkC,EAASm/F,GAE3D,GAAIsxD,IADJ3yJ,EAAQ8G,MAAMjD,UAAUmG,MAAMf,KAAKjJ,IACrBY,OACV0zJ,EAAajsJ,KAAK2wG,QAAUh5G,EAAM2yJ,EAAI,GAAGv0I,cAAc8rI,kBACvDn1H,EAAM/0B,EAAM6G,QAAQ3E,EAGxB,OAFA6yB,IAAOssE,EACPtsE,EAAM,EAAIA,GAAO49H,EAAI2B,EAAav/H,GAAO49H,EAAI2B,EACtCv/H,GAEX23H,EAAY7oJ,UAAUk4H,aAAe,SAAUtyH,GAC3C,GAAIyH,GAASzH,EAAEyH,MACf,IAAKA,EAAO7L,MAAMzE,OAAlB,CAGA,GAAIwuJ,GACAgC,CAEJ,QADYpjJ,EAAO,gBAAiBkD,EAAOkN,eAAerc,aAEtD,IAAK,MACD,GAAIsD,GAAQ,EAIZ,KAHyB,MAApB6L,EAAO7L,MAAM,IAAsC,IAAxB6L,EAAO7L,MAAMzE,QAAsC,MAApBsQ,EAAO7L,MAAM,IAAsC,IAAxB6L,EAAO7L,MAAMzE,UACnGyE,EAAQgD,KAAKq1H,WAAWxsH,EAAO7L,QAEd,IAAjBA,EAAMzE,OAMN,MALAwwJ,GAAS/oJ,KAAKgpJ,SAAShpJ,KAAK8mJ,KAC5B9mJ,KAAK8mJ,IAAM9mJ,KAAK8lJ,SAAS9oJ,EAAQA,EAAMjE,QAAQ,IAC/CiH,KAAKksJ,iBAAiBlsJ,KAAKgnJ,SAAStrJ,MAAMsE,KAAMA,KAAK8mJ,KAAMiC,EAAQlgJ,EAAO7L,MAK9E,MACJ,KAAK,IACGgD,KAAK8mJ,IAAI,KAAOv7F,OAAO1iD,EAAO7L,SAC9B+rJ,EAAS/oJ,KAAKgpJ,SAAShpJ,KAAK8mJ,KAC5B9mJ,KAAK8mJ,IAAI,GAAKv7F,OAAO1iD,EAAO7L,OAC5B+pJ,EAAM/mJ,KAAKgnJ,SAAStrJ,MAAMsE,KAAMA,KAAK8mJ,KACrC9mJ,KAAKksJ,iBAAiBnF,EAAKgC,GAE/B,MACJ,KAAK,IACG/oJ,KAAK8mJ,IAAI,KAAOv7F,OAAO1iD,EAAO7L,SAC9B+rJ,EAAS/oJ,KAAKgpJ,SAAShpJ,KAAK8mJ,KAC5B9mJ,KAAK8mJ,IAAI,GAAKv7F,OAAO1iD,EAAO7L,OAC5B+pJ,EAAM/mJ,KAAKgnJ,SAAStrJ,MAAMsE,KAAMA,KAAK8mJ,KACrC9mJ,KAAKksJ,iBAAiBnF,EAAKgC,GAE/B,MACJ,KAAK,IACG/oJ,KAAK8mJ,IAAI,KAAOv7F,OAAO1iD,EAAO7L,SAC9B+rJ,EAAS/oJ,KAAKgpJ,SAAShpJ,KAAK8mJ,KAC5B9mJ,KAAK8mJ,IAAI,GAAKv7F,OAAO1iD,EAAO7L,OAC5B+pJ,EAAM/mJ,KAAKgnJ,SAAStrJ,MAAMsE,KAAMA,KAAK8mJ,KACrC9mJ,KAAKksJ,iBAAiBnF,EAAKgC,GAE/B,MACJ,KAAK,IACD/oJ,KAAKuoJ,UAAUvrJ,MAAQuuD,OAAO1iD,EAAO7L,MACrC,MACJ,KAAK,IACGgD,KAAK+mJ,IAAI,KAAOx7F,OAAO1iD,EAAO7L,SAC9BgD,KAAK+mJ,IAAI,GAAKx7F,OAAO1iD,EAAO7L,OAC5BgD,KAAKiqJ,YACLjqJ,KAAK8oJ,uBAET,MACJ,KAAK,IACG9oJ,KAAK+mJ,IAAI,KAAOx7F,OAAO1iD,EAAO7L,SAC9BgD,KAAK+mJ,IAAI,GAAKx7F,OAAO1iD,EAAO7L,OAC5BgD,KAAKiqJ,YACLjqJ,KAAK8oJ,uBAET,MACJ,KAAK,IACD9oJ,KAAKyoJ,cAAczrJ,MAAQuuD,OAAO1iD,EAAO7L,UAIrDqnJ,EAAY7oJ,UAAU0wJ,iBAAmB,SAAUnF,EAAKgC,EAAQ/rJ,GACxD+pJ,EAAI,KAAO/mJ,KAAK+mJ,IAAI,KACpB/mJ,KAAKuoJ,UAAU5gJ,eAAgB3K,MAAS+pJ,EAAI,KAAM,GAClD/mJ,KAAKuoJ,UAAUlqG,UACfr+C,KAAK4nJ,kBAAkBb,EAAI,KAE/B/mJ,KAAK+mJ,IAAMA,CACX,IAAIkC,GAASjpJ,KAAKgpJ,SAAShpJ,KAAK8mJ,IAChC9mJ,MAAK6nJ,qBACL7nJ,KAAKmqJ,YAAYntJ,GAAgBisJ,EACjC,IAAIrD,GAAO5lJ,KAAK6lJ,mBAAmB7lJ,KAAK8mJ,IACxC9mJ,MAAKkpJ,cAActD,GACnB5lJ,KAAKmpJ,aAAaF,EAAQF,EAAQnD,IAEtCvB,EAAY7oJ,UAAU2tJ,aAAe,SAAUF,EAAQF,EAAQnD,EAAMsE,OACnD,KAAVA,IAAoBA,GAAQ,EAChC,IAAIvE,GAAMsD,EAAOtnJ,MAAM,EAAG,GACtB0M,GACA23H,cAAgB2f,IAAKA,EAAKC,KAAMA,GAChC1xB,eAAiByxB,IAAKoD,EAAOpnJ,MAAM,EAAG,GAAIikJ,KAAM5lJ,KAAK6lJ,mBAAmB7lJ,KAAK8lJ,SAASiD,KAErF/oJ,MAAKw9H,aAAgB0sB,EAOtBlqJ,KAAKooB,QAAQ,SAAU/Z,IANvBA,EAAU6lH,eAAkByxB,IAAK3lJ,KAAKhD,MAAM2E,MAAM,EAAG,GAAIikJ,KAAM5lJ,KAAK6lJ,mBAAmB7lJ,KAAK8lJ,SAAS9lJ,KAAKhD,SAC1GgD,KAAKooB,QAAQ,SAAU/Z,GACvBrO,KAAK2H,eAAgB3K,MAASisJ,IAAU,GACxCjpJ,KAAKnG,QAAQmD,MAAQ2oJ,GAAY,YAYzCtB,EAAY7oJ,UAAUqY,QAAU,WAC5B,GAAI9T,GAAQC,KACRuT,EAAUvT,KAAK8+F,YACnBpmE,GAAOl9B,UAAUqY,QAAQjT,KAAKZ,OAC7B,WAAY,cAAcZ,QAAQ,SAAUokG,GAAQzjG,EAAMlG,QAAQyS,gBAAgBk3F,KAC/ExjG,KAAKykJ,QACLzkJ,KAAKu+F,eACLv+F,KAAKqmJ,qBAGDrmJ,KAAKmsJ,gBACLnsJ,KAAKu+F,eACLv+F,KAAKqmJ,oBAETrmJ,KAAKulJ,SAAS1xI,UACd7T,KAAKulJ,SAAW,MAEpBvlJ,KAAK4kJ,aACL5kJ,KAAK4kJ,WAAa,KAClB5kJ,KAAK6kJ,gBACL7kJ,KAAK6kJ,cAAgB,KACrBt/I,EAAOvF,KAAKnG,QAAQqmG,oBACpB3sF,EAAQwC,cAAc3Q,aAAapF,KAAKnG,QAAS0Z,GACjDhO,EAAOgO,GACPvT,KAAKqc,UAAY,MAErBgoI,EAAY7oJ,UAAU6qJ,iBAAmB,WACrC,GAAIrmJ,KAAKklJ,WAAY,CACjBllJ,KAAKuoJ,UAAU10I,UACf7T,KAAKyoJ,cAAc50I,UACnB7T,KAAKuoJ,UAAY,KACjBvoJ,KAAKyoJ,cAAgB,IACrB,IAAI2D,GAAcpsJ,KAAK8pJ,gBACvBsC,GAAYhqJ,QACZgqJ,EAAYv4I,UACZ7T,KAAKqnH,WAAa,OAG1Bg9B,EAAY7oJ,UAAU2wJ,YAAc,WAChC,MAAOnsJ,MAAKimJ,cAAcztJ,UAAUC,SAAS,iBAEjD4rJ,EAAY7oJ,UAAU+iG,aAAe,WACjC,GAAIv+F,KAAKklJ,WAAY,CACjB,GAAIyC,GAAc3nJ,KAAKilJ,gBACvBx/I,IAAaf,OAAOijJ,EAAa,UAAW3nJ,KAAKuqJ,eACjD9kJ,GAAaf,OAAO1E,KAAKgoJ,kBAAmB,uBAAwBhoJ,KAAKwqJ,cACrExqJ,KAAK0mJ,cAAgB1mJ,KAAKw9H,cAC1B/3H,GAAaf,OAAOiB,EAAO,IAAM69I,GAAYxjJ,KAAKqc,WAAY,QAASrc,KAAKs+F,iBAE3Et+F,KAAK8+F,aAAatmG,UAAUC,SAAS,kBACtCgN,GAAaf,OAAOiB,EAAO,IAAM89I,GAAczjJ,KAAKqc,WAAY,QAASrc,KAAK+qJ,qBAC9EtlJ,GAAaf,OAAOiB,EAAO,IAAM+9I,GAAK1jJ,KAAKqc,WAAY,QAASrc,KAAK0zH,eAEzEjuH,GAAaf,OAAOiB,EAAO,cAAgB3F,KAAKqc,WAAY,QAASrc,KAAK2qJ,oBAG1EllJ,IAAaf,OAAO1E,KAAKqc,UAAW,QAASrc,KAAK4qJ,qBAClDnlJ,GAAaf,OAAO1E,KAAKqc,UAAW,UAAWrc,KAAK6qJ,iBAG5DxG,EAAY7oJ,UAAU65H,WAAa,SAAUr4H,GACzC,IAAKA,EACD,MAAO,EAEM,OAAbA,EAAM,KACNA,EAAQ,IAAMA,EAElB,IAAIiF,GAAMjF,EAAMzE,MAKhB,IAJY,IAAR0J,IACAjF,GAAS,IACTiF,EAAM,GAEE,IAARA,EAAW,CAEX,IAAK,GADDmJ,GAAY,GACP/S,EAAI,EAAGg0J,EAAQrvJ,EAAMzE,OAAQF,EAAIg0J,EAAOh0J,IAC7C+S,GAAcpO,EAAM2jB,OAAOtoB,GAAK2E,EAAM2jB,OAAOtoB,EAEjD2E,GAAQ,IAAMoO,EACdnJ,EAAM,EAKV,MAHY,KAARA,IACAjF,GAAS,MAENA,GAEXqnJ,EAAY7oJ,UAAUsqJ,SAAW,SAAUH,GACvC,IAAKA,EACD,QAGe,MADnBA,EAAMA,EAAIl0I,QACFlZ,SACJotJ,EAAM3lJ,KAAKq1H,WAAWswB,GAE1B,IAAIp3I,GAAUg9C,QAAQ5xB,SAASgsH,EAAIhkJ,OAAO,GAAI,IAAM,KAAKoe,QAAQ,GACjE4lI,GAAMA,EAAIhkJ,MAAM,EAAG,EACnB,IAAI2qJ,GAAS3yH,SAASgsH,EAAK,IACvBzxG,IAKJ,OAJAA,GAAEl7C,KAAMszJ,GAAU,GAAM,KACxBp4G,EAAEl7C,KAAMszJ,GAAU,EAAK,KACvBp4G,EAAEl7C,KAAc,IAATszJ,GACPp4G,EAAEl7C,KAAKuV,GACA2lC,GAEXmwG,EAAY7oJ,UAAUwrJ,SAAW,SAAU3uH,EAAGk0H,EAAGz0H,EAAGvpB,GAChD,GAAIvO,KAAK8mJ,MAAQ9mJ,KAAK8mJ,IAAIvuJ,OACtB,QAEJ8/B,IAAK,IACLk0H,GAAK,IACLz0H,GAAK,GACL,IAEIoc,GACA1K,EAHAn8B,EAAMD,KAAKC,IAAIgrB,EAAGk0H,EAAGz0H,GACrB/V,EAAM3U,KAAK2U,IAAIsW,EAAGk0H,EAAGz0H,GAGrB00H,EAAIn/I,EACJwqB,EAAIxqB,EAAM0U,CAEd,IADAynB,EAAY,IAARn8B,EAAY,EAAIwqB,EAAIxqB,EACpBA,IAAQ0U,EACRmyB,EAAI,MAEH,CACD,OAAQ7mC,GACJ,IAAKgrB,GACD6b,GAAKq4G,EAAIz0H,GAAKD,GAAK00H,EAAIz0H,EAAI,EAAI,EAC/B,MACJ,KAAKy0H,GACDr4G,GAAKpc,EAAIO,GAAKR,EAAI,CAClB,MACJ,KAAKC,GACDoc,GAAK7b,EAAIk0H,GAAK10H,EAAI,EAG1Bqc,GAAK,EAET,GAAI6yG,IAAO35I,KAAKknG,MAAU,IAAJpgE,GAAU9mC,KAAKknG,MAAU,IAAJ9qE,GAAY,GAAIp8B,KAAKknG,MAAU,IAAJk4C,GAAY,GAIlF,OAHK/uJ,GAAkB8Q,IACnBw4I,EAAI/tJ,KAAKuV,GAENw4I,GAEX1C,EAAY7oJ,UAAUysJ,SAAW,SAAU/zG,EAAG1K,EAAGgjH,EAAGj+I,GAChD,GAAI8pB,GACAk0H,EACAz0H,EACAz/B,EACAmvI,EACAzvG,EACAi+B,EACAgwD,CAGJ,IAFAx8E,GAAK,IACLgjH,GAAK,IACK,IAANhjH,EAEA,MADAnR,GAAIk0H,EAAIz0H,EAAI00H,GACJp/I,KAAKknG,MAAU,IAAJj8E,GAAUjrB,KAAKknG,MAAU,IAAJi4C,GAAUn/I,KAAKknG,MAAU,IAAJx8E,GAAUvpB,EAQ3E,QANA2lC,GAAK,GACL77C,EAAI+U,KAAKwT,MAAMszB,GACfszF,EAAItzF,EAAI77C,EACR0/B,EAAIy0H,GAAK,EAAIhjH,GACbwsB,EAAIw2F,GAAK,EAAIhjH,EAAIg+F,GACjBxhB,EAAIwmC,GAAK,EAAIhjH,GAAK,EAAIg+F,IACdnvI,GACJ,IAAK,GACDggC,EAAIm0H,EACJD,EAAIvmC,EACJluF,EAAIC,CACJ,MACJ,KAAK,GACDM,EAAI29B,EACJu2F,EAAIC,EACJ10H,EAAIC,CACJ,MACJ,KAAK,GACDM,EAAIN,EACJw0H,EAAIC,EACJ10H,EAAIkuF,CACJ,MACJ,KAAK,GACD3tF,EAAIN,EACJw0H,EAAIv2F,EACJl+B,EAAI00H,CACJ,MACJ,KAAK,GACDn0H,EAAI2tF,EACJumC,EAAIx0H,EACJD,EAAI00H,CACJ,MACJ,SACIn0H,EAAIm0H,EACJD,EAAIx0H,EACJD,EAAIk+B,EAEZ,GAAI8wF,IAAO15I,KAAKknG,MAAU,IAAJj8E,GAAUjrB,KAAKknG,MAAU,IAAJi4C,GAAUn/I,KAAKknG,MAAU,IAAJx8E,GAIhE,OAHKr6B,GAAkB8Q,IACnBu4I,EAAI9tJ,KAAKuV,GAENu4I,GAEXzC,EAAY7oJ,UAAUwtJ,SAAW,SAAUlC,GACvC,MAAOA,GAAIvuJ,OAAU,IAAMyH,KAAK2lJ,IAAImB,EAAI,IAAM9mJ,KAAK2lJ,IAAImB,EAAI,IAAM9mJ,KAAK2lJ,IAAImB,EAAI,KACxErpJ,EAAkBqpJ,EAAI,IAA6F,GAA3E,IAAXA,EAAI,IAAY15I,KAAKknG,MAAe,IAATwyC,EAAI,IAAY,OAASnmJ,SAAS,IAAI5H,QAAQ,GAAK,MAAe,IAEpIsrJ,EAAY7oJ,UAAUmqJ,IAAM,SAAU73I,GAClC,OAAQ,IAAMA,EAAEnN,SAAS,KAAKgB,OAAO,IAEzC0iJ,EAAY7oJ,UAAUixJ,uBAAyB,SAAUvhJ,GACrD,GAAIwhJ,GAAoB/mJ,EAAO,IAAM69I,GAAYxjJ,KAAKqc,UAClDnR,GACIwhJ,EACA1sJ,KAAK6pJ,uBAGL7pJ,KAAKmlJ,gBACDnlJ,KAAKklJ,aAAellJ,KAAK+9F,UACzB/9F,KAAKyqJ,sBAKTiC,IACI1sJ,KAAKw9H,YACLj4H,EAAOI,EAAO,IAAMk+I,GAAY6I,IAGhChoJ,EAAOgoJ,KAKvBrI,EAAY7oJ,UAAUmxJ,mBAAqB,SAAUzhJ,GACjD,GAAI0hJ,GAAiBjnJ,EAAO,IAAM69I,GAAYxjJ,KAAKqc,UAC/CnR,IACI0hJ,GACAloJ,EAAOkoJ,GAEX5sJ,KAAKmlJ,gBACDnlJ,KAAKklJ,aAAellJ,KAAK+9F,UACzB/9F,KAAKyqJ,sBAILzqJ,KAAK0mJ,aACLnhJ,EAAOI,EAAO,cAAeinJ,IAG7BloJ,EAAOkoJ,IAInBvI,EAAY7oJ,UAAUqxJ,gBAAkB,SAAUnyH,GAC1C16B,KAAKklJ,YACLllJ,KAAK8mJ,IAAM9mJ,KAAK8lJ,SAASprH,GACzB16B,KAAK+mJ,IAAM/mJ,KAAKgnJ,SAAStrJ,MAAMsE,KAAMA,KAAK8mJ,KAC1C9mJ,KAAK6nJ,qBACLtiJ,EAAOQ,EAAQ/F,KAAKuoJ,UAAU1uJ,QAAS,sBACvCmG,KAAK8nJ,eACL9nJ,KAAK4nJ,oBACL5nJ,KAAK4oJ,wBACL5oJ,KAAKmqJ,YAAYzvH,KAGjB16B,KAAKoqJ,sBACLpqJ,KAAKunJ,iBAAiB5hJ,EAAO,oBAAsB+0B,EAAU,KAAM16B,KAAKqc,aAE5Erc,KAAKnG,QAAQmD,MAAQ09B,EAAQ/4B,MAAM,EAAG,IAE1C0iJ,EAAY7oJ,UAAUsxJ,iBAAmB,SAAU5hJ,GAC/CxG,EAAOiB,EAAO,IAAMi+I,GAAc5jJ,KAAKqc,YACvCrc,KAAKwtH,eAET62B,EAAY7oJ,UAAUuxJ,mBAAqB,SAAUryH,GAC7C16B,KAAKklJ,aACLllJ,KAAKuoJ,UAAU3hI,SAAW8T,EAC1B16B,KAAKyoJ,cAAc7hI,SAAW8T,EAC9B16B,KAAK8sJ,iBAAiBpyH,IAEtBA,GACA16B,KAAKolJ,gBAAe,GACpBplJ,KAAKu+F,iBAGLv+F,KAAKolJ,gBAAe,GACpBplJ,KAAKkmB,eAGbm+H,EAAY7oJ,UAAUwxJ,oBAAsB,SAAUtyH,EAASC,GAC3D,GAAIpnB,GAAUvT,KAAK8+F,aACfmuD,EAAejtJ,KAAKimJ,aACpBtrH,IACAn2B,GAAa+O,EAAS05I,GAAetyH,EAAQz9B,MAAM,MAEnDw9B,GACA12B,GAAUuP,EAAS05I,GAAevyH,EAAQx9B,MAAM,OAGxDmnJ,EAAY7oJ,UAAU0xJ,eAAiB,SAAUxyH,GACzCA,EACA12B,GAAUhE,KAAK8+F,cAAe,SAG9Bt6F,GAAaxE,KAAK8+F,cAAe,UAGzCulD,EAAY7oJ,UAAU2xJ,mBAAqB,WACvC5nJ,EAAOvF,KAAKqc,UAAUR,SAAS,IAC/B7b,KAAKqc,UAAUzX,MAAM6S,MAAQ,GAC7BzX,KAAK8kJ,iBASTT,EAAY7oJ,UAAU05B,kBAAoB,SAAUwF,EAASC,GACzD,GAAI56B,GAAQC,KACRuT,EAAUvT,KAAK8+F,YACnB,KAAK9+F,KAAKykJ,QAAUhnJ,EAAkBi9B,EAAQ+pH,QAAS,CACnD,GAAI2I,IAAkB,WAAY,YAElC,IADAptJ,KAAKulJ,SAAS59I,cAAcomB,GAAS2M,EAAS0yH,KACzCptJ,KAAKmsJ,cAMN,MALIzxH,GAAQ19B,QACR2I,EAAO,mBAAoB3F,KAAKulJ,SAAS1rJ,SAAS+K,MAAMohJ,gBAAkBtrH,EAAQ19B,OAEtFgD,KAAKgtJ,oBAAoBtyH,EAAQpmB,SAAUqmB,EAAQrmB,cACnDtU,MAAKktJ,eAAexyH,EAAQnrB,WAIpC,IAAK,GAAIlR,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAKo9B,GAAUr8B,EAAK2E,EAAGzK,OAAQ8F,IAExD,OADW2E,EAAG3E,IAEV,IAAK,SACGq8B,EAAQ+pH,QACRzkJ,KAAK8+F,aAAa/8F,YAAY/B,KAAKqc,WACnCrc,KAAKulJ,SAAS1xI,UACdtO,EAAOvF,KAAKnG,QAAQqmG,oBACflgG,KAAKqc,UAAUR,SAAStjB,QACzByH,KAAK0kJ,iBAIT1kJ,KAAKqmJ,mBACLrmJ,KAAKu+F,eACLv+F,KAAKqc,UAAU7hB,UAAY,GAC3BwF,KAAK2kJ,iBAET,MACJ,KAAK,WACG3kJ,KAAKklJ,YACD3xI,EAAQ/a,UAAUC,SAAS,kBAC3BuH,KAAKwtH,cACLxtH,KAAK0qJ,wBAEThwH,EAAQpmB,SAASpX,MAAM,KAAKkC,QAAQ,SAAUiuJ,GAC9B,iBAARA,GACA3oJ,EAAOiB,EAAO,IAAMi+I,GAAc7jJ,EAAMsc,gBAK5C9I,EAAQ/a,UAAUC,SAAS,iBAC3BiM,EAAOiB,EAAO,IAAMi+I,GAAc5jJ,KAAKqc,YAE3Cqe,EAAQpmB,SAASpX,MAAM,KAAKkC,QAAQ,SAAUiuJ,GAC9B,iBAARA,IACAttJ,EAAMytH,YAAY,GAClBztH,EAAM+qJ,oBAIlB9qJ,KAAKgtJ,oBAAoBtyH,EAAQpmB,SAAUqmB,EAAQrmB,SACnD,MACJ,KAAK,YACGtU,KAAKklJ,aACLllJ,KAAKuoJ,UAAUh5I,UAAYmrB,EAAQnrB,UACnCvP,KAAKyoJ,cAAcl5I,UAAYmrB,EAAQnrB,UACvCvP,KAAK8sJ,iBAAiBpyH,EAAQnrB,YAElCvP,KAAKktJ,eAAexyH,EAAQnrB,UAC5B,MACJ,KAAK,WACDvP,KAAK+sJ,mBAAmBryH,EAAQqjE,SAChC,MACJ,KAAK,QACD/9F,KAAK6sJ,gBAAgBnyH,EAAQ19B,MAC7B,MACJ,KAAK,cACDgD,KAAK2sJ,mBAAmBjyH,EAAQ8iG,YAChC,MACJ,KAAK,OACoB,WAAjB9iG,EAAQhL,KACR1vB,KAAKyrJ,iBAGLzrJ,KAAKsrJ,iBAET,MACJ,KAAK,eACDtrJ,KAAKysJ,uBAAuB/xH,EAAQgsH,aACpC,MACJ,KAAK,UACL,IAAK,eACI1mJ,KAAKklJ,YACNllJ,KAAKmtJ,oBAET,MACJ,KAAK,UACGzyH,EAAQisH,QACU,YAAd3mJ,KAAK0vB,MAAuB1vB,KAAK0mJ,cACjC1mJ,KAAK4mJ,aAIT5mJ,KAAKmtJ,uBAMzBl1H,IACIrvB,GAAS,YACVy7I,EAAY7oJ,UAAW,YAAS,IACnCy8B,IACIrvB,GAAS,KACVy7I,EAAY7oJ,UAAW,eAAY,IACtCy8B,IACIrvB,IAAS,IACVy7I,EAAY7oJ,UAAW,eAAY,IACtCy8B,IACIrvB,IAAS,IACVy7I,EAAY7oJ,UAAW,gBAAa,IACvCy8B,IACIrvB,GAAS,WACVy7I,EAAY7oJ,UAAW,WAAQ,IAClCy8B,IACIrvB,IAAS,IACVy7I,EAAY7oJ,UAAW,mBAAgB,IAC1Cy8B,IACIrvB,GAAS,OACVy7I,EAAY7oJ,UAAW,mBAAgB,IAC1Cy8B,IACIrvB,IAAS,IACVy7I,EAAY7oJ,UAAW,kBAAe,IACzCy8B,IACIrvB,GAAS,KACVy7I,EAAY7oJ,UAAW,cAAW,IACrCy8B,IACIrvB,IAAS,IACVy7I,EAAY7oJ,UAAW,aAAU,IACpCy8B,IACIrvB,IAAS,IACVy7I,EAAY7oJ,UAAW,cAAW,IACrCy8B,IACIrvB,IAAS,IACVy7I,EAAY7oJ,UAAW,wBAAqB,IAC/Cy8B,IACIxuB,MACD46I,EAAY7oJ,UAAW,aAAU,IACpCy8B,IACIxuB,MACD46I,EAAY7oJ,UAAW,aAAU,IACpCy8B,IACIxuB,MACD46I,EAAY7oJ,UAAW,uBAAoB,IAC9Cy8B,IACIxuB,MACD46I,EAAY7oJ,UAAW,iBAAc,IACxCy8B,IACIxuB,MACD46I,EAAY7oJ,UAAW,WAAQ,IAClCy8B,IACIxuB,MACD46I,EAAY7oJ,UAAW,kBAAe,IACzCy8B,IACIxuB,MACD46I,EAAY7oJ,UAAW,uBAAoB,IAC9C6oJ,EAAcpsH,IACVluB,IACDs6I,IAELzmG,wjBClpDEnmB,GAAwC,WACxC,GAAIC,GAAgBn5B,OAAOo5B,iBACpBC,uBAA2Bn5B,QAAS,SAAUo5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAExwB,eAAeywB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOh4B,KAAKnC,YAAcg6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAEr8B,UAAkB,OAANs8B,EAAav5B,OAAOgN,OAAOusB,IAAME,EAAGx8B,UAAYs8B,EAAEt8B,UAAW,GAAIw8B,QAGnFC,GAA0C,SAAUC,EAAYrvB,EAAQxL,EAAK86B,GAC7E,GAA2HN,GAAvHO,EAAIn5B,UAAU1G,OAAQ8/B,EAAID,EAAI,EAAIvvB,EAAkB,OAATsvB,EAAgBA,EAAO55B,OAAO+5B,yBAAyBzvB,EAAQxL,GAAO86B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYrvB,EAAQxL,EAAK86B,OACpH,KAAK,GAAI9/B,GAAI6/B,EAAW3/B,OAAS,EAAGF,GAAK,EAAGA,KAASw/B,EAAIK,EAAW7/B,MAAIggC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAEhvB,EAAQxL,EAAKg7B,GAAKR,EAAEhvB,EAAQxL,KAASg7B,EAChJ,OAAOD,GAAI,GAAKC,GAAK95B,OAAO4K,eAAeN,EAAQxL,EAAKg7B,GAAIA,GAcrDi1H,IACP3lD,KAAM,iBACNC,MAAO6Q,GAAoB7Q,MAC3BnO,SAAUgf,GAAoBhf,SAC9Bif,IAAKD,GAAoBC,IACzBvX,GAAIsX,GAAoBtX,GACxBmH,QAASmQ,GAAoB1a,SAC7Bl3D,KAAM4xE,GAAoB9Q,KAC1BtlG,MAAOo2G,GAAoBp2G,MAC3BiR,MAAO,gBACPi6I,WAAY,gBACZlsD,KAAM,gCACNmsD,cAAe,cACfxwJ,MAAO,gBACPywJ,OAAQ,eACRllD,SAAU,yCACVmlD,mBAAoB,0CACpBC,YAAa,iBACbC,aAAc,kBACdC,aAAc,sBACdC,OAAQ,eACR97H,OAAQ,eACRwsH,UAAW,eACXuP,cAAe,oBACfC,gBAAiB,oBACjBC,YAAa,qBACbC,cAAe,gBAEfzgC,IACApxG,UAAW,KACXqmG,YAaAyrC,GAA8B,SAAUz1H,GAKxC,QAASy1H,GAAa95I,EAASxa,GAC3B,GAAIkG,GAAQ24B,EAAO93B,KAAKZ,KAAMqU,EAASxa,IAAYmG,IAEnD,OADAD,GAAMm0H,cAAgB,KACfn0H,EA+hEX,MAtiEA03B,IAAU02H,EAAcz1H,GAcxBy1H,EAAa3yJ,UAAUwY,UAAY,WAC/BhU,KAAKnG,QAAQ+K,MAAM2J,QAAU,IAC7BvO,KAAKouJ,iBACL11H,EAAOl9B,UAAUwY,UAAUpT,KAAKZ,MAChCA,KAAK21G,YAAc31G,KAAK9H,MACxB8H,KAAKlI,YAAc,IAEvBq2J,EAAa3yJ,UAAU4yJ,eAAiB,WACpCpuJ,KAAKmsJ,aAAc,EACnBnsJ,KAAKquJ,iBAAkB,EACvBruJ,KAAK6vG,cAAe,EACpB7vG,KAAKsuJ,eAAgB,EACrBtuJ,KAAKuuJ,iBAAkB,EACvBvuJ,KAAK6uH,SAAU,EACf7uH,KAAKwuJ,kBAAmB,EACxBxuJ,KAAKyuJ,iBAAkB,EACvBzuJ,KAAK0uJ,SAAU,EACf1uJ,KAAK2uJ,YAAa,EAClB3uJ,KAAK4uJ,cAAe,EACpB5uJ,KAAK6uJ,iBAAkB,EACvB7uJ,KAAK8uJ,YAAa,EAClB9uJ,KAAK+uJ,YAAc,GACnB/uJ,KAAKgvJ,aAAc,EACnBhvJ,KAAKivJ,eAAgB,EACrBjvJ,KAAKkvJ,UAAW,EAChBlvJ,KAAKmvJ,oBAAuBC,WAAW,GACvCpvJ,KAAKqvJ,oBACLrvJ,KAAKsvJ,gBAAiB,EACtBtvJ,KAAKuvJ,iBAAkB,EACvBvvJ,KAAKwvJ,cAAe,EACpBxvJ,KAAKyvJ,gBAAiB,EACtBzvJ,KAAK0vJ,eAAgB,EACrB1vJ,KAAK2vJ,cACD9nG,IAAK,MACLC,MAAO,KACPK,OAAQ,KACRxoC,IAAK,KACL2oC,KAAM,KACNsnG,KAAM,KACNC,GAAI,KACJC,OAAQ,KACRC,SAAU,KACVjuJ,KAAM,SACNM,MAAO,YACP68G,KAAM,SACN/2D,MAAO,OAGfimG,EAAa3yJ,UAAU4hH,UAAY,WAC3Bp9G,KAAK8jH,UACL9jH,KAAK8jH,SAASn8G,eAAgBy0G,OAAUp8G,KAAKo8G,UAGrD+xC,EAAa3yJ,UAAUw1G,WAAa,SAAUqM,GAC1C3kF,EAAOl9B,UAAU+iD,OAAO39C,KAAKZ,KAAMq9G,GACnCr9G,KAAKgwJ,kBAET7B,EAAa3yJ,UAAUy0J,iBAAmB,WACtC,GAA6B,iBAAzBjwJ,KAAKkH,iBAA8D,SAAxBlH,KAAK2oB,eAA2B,CAC3E,GAAIunI,GAAelwJ,KAAKqyH,aAAah2G,UAAUvZ,cAAc,gBAC7B,MAA5B9C,KAAKouB,aAAapxB,OAAgBgD,KAAK6vG,aACvCr3G,EAAU03J,GAAe,gBAAiB,mBAG1C13J,EAAU03J,GAAe,mBAAoB,kBAIzD/B,EAAa3yJ,UAAU0rB,aAAe,SAAU9lB,GAC5CA,EAAE+lB,iBACFnnB,KAAKonB,MAAMhmB,GACXpB,KAAKmwJ,cAAc/uJ,IAEvB+sJ,EAAa3yJ,UAAU40J,kBAAoB,WAKvC,GAJApwJ,KAAKstG,cACLttG,KAAKqwJ,kBACLrwJ,KAAKotG,cACLptG,KAAKk2C,KAAKhpC,UAAY,EACO,iBAAzBlN,KAAKkH,gBAAoC,CACzC,GAAIi6F,GAAKnhG,KAAKqlG,UAAUviG,cAAc,IAAMwqJ,GAAoBnsD,GAC5DA,IACAA,EAAG3oG,UAAU+L,IAAI+oJ,GAAoBjrJ,SAIjD8rJ,EAAa3yJ,UAAU4rB,MAAQ,SAAUhmB,EAAGmF,GACvB,eAAbA,GACAvG,KAAKswJ,gBAET,IAAIr7I,GAAWjV,KAAKgtG,aAChBhtG,MAAKk0H,gBAAkBj/G,EAASjY,OAGpCgD,KAAKmwJ,cAAc/uJ,IAEvB+sJ,EAAa3yJ,UAAU80J,eAAiB,WAChCtwJ,KAAKk2C,QACDl2C,KAAKuwJ,gBAA2C,iBAAzBvwJ,KAAKkH,iBACxBzJ,EAAkBuC,KAAKmvJ,mBAAmB9pD,YAAe5nG,EAAkBuC,KAAKmvJ,mBAAmBj5G,OACvGl2C,KAAKs7G,iBAAiBt7G,KAAKmvJ,mBAAmB9pD,UAAUrjG,WAAU,GAAOhC,KAAKmvJ,mBAAmBj5G,MAErGl2C,KAAKowJ,qBAETpwJ,KAAKkuJ,cAAc1zJ,UAAY,GAC/BwF,KAAKouB,aAAapxB,MAAQ,GAC1BgD,KAAKhD,MAAQ,KACbgD,KAAK3G,SAAW,KAChB2G,KAAKvG,KAAO,KACZuG,KAAK9H,MAAQ,KACb8H,KAAK21G,YAAc,KACnB31G,KAAKnH,KAAO,KACZmH,KAAKlI,YAAc,GACfkI,KAAKwwJ,mBACLjrJ,EAAOvF,KAAKwwJ,kBACZxwJ,KAAKouB,aAAaxpB,MAAMyhD,QAAU,QAClCrmD,KAAKwwJ,iBAAmB,MAE5BxwJ,KAAKywJ,aAAa,KAAM,MACxBzwJ,KAAKsvJ,gBAAiB,EACtBtvJ,KAAK0uH,mBAETy/B,EAAa3yJ,UAAUk1J,kBAAoB,WACvC,GAAInyJ,OAAOjB,KAAK0C,KAAKsjG,gBAAgB/qG,OACjC,IAAK,GAAI8F,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAK0C,KAAKsjG,gBAAiBjlG,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAC1E,GAAIsyJ,GAAW3tJ,EAAG3E,EAClB,IAAiB,UAAbsyJ,EACA3wJ,KAAKqyH,aAAah2G,UAAU7jB,UAAU+L,IAAIvE,KAAKsjG,eAAeqtD,QAE7D,IAAiB,aAAbA,GAA6D,aAAlC3wJ,KAAKsjG,eAAeqtD,GACpD3wJ,KAAK4mB,SAAU,EACf5mB,KAAKopG,gBAEJ,IAAiB,aAAbunD,GAA6D,aAAlC3wJ,KAAKsjG,eAAeqtD,GACpD3wJ,KAAKyuH,UAAW,EAChBzuH,KAAK20B,eAEJ,IAAiB,UAAbg8H,EACL3wJ,KAAKqyH,aAAah2G,UAAUxY,aAAa,QAAS7D,KAAKsjG,eAAeqtD,QAErE,CACD,GAAIC,IAAe,QAAS,KAAM,gBACd,OAAQ,YACXpyJ,QAAQmyJ,IAAa,EAClC3wJ,KAAKkuJ,cAAcrqJ,aAAa8sJ,EAAU3wJ,KAAKsjG,eAAeqtD,IAEzDC,EAAYpyJ,QAAQmyJ,IAAa,EACzB,gBAAbA,EAA6BrjI,GAAMihG,eAAevuH,KAAKsjG,eAAeqtD,GAAW3wJ,KAAKouB,cAClFpuB,KAAKnG,QAAQgK,aAAa8sJ,EAAU3wJ,KAAKsjG,eAAeqtD,IAG5D3wJ,KAAKqyH,aAAah2G,UAAUxY,aAAa8sJ,EAAU3wJ,KAAKsjG,eAAeqtD,OAM3FxC,EAAa3yJ,UAAUq1J,kBAAoB,WACvC,OACIrhC,gBAAiB,QACjB4zB,YAAapjJ,KAAKnG,QAAQ8J,GAAK,WAC/ByP,KAAQ,UACR+vI,gBAAiB,OACjBD,gBAAiB,QACjB3O,wBAAyB,OACzB9lH,kBAAmBzuB,KAAKkuJ,cAAcvqJ,KAG9CwqJ,EAAa3yJ,UAAUg/G,aAAe,WAClCltF,GAAMktF,aAAax6G,KAAKuP,WAAYvP,KAAKouB,aAAarY,gBAClD/V,KAAK8jH,WACL9jH,KAAK8jH,SAASv0G,UAAYvP,KAAKuP,UAC/BvP,KAAK8jH,SAASnvF,aAGtBw5H,EAAa3yJ,UAAU4tG,UAAY,WAC/B97E,GAAMytF,WAAW/6G,KAAK4mB,QAAS5mB,KAAKouB,cAChCpuB,KAAK4mB,SACLpiB,GAAaxE,KAAKqyH,aAAah2G,WAAYixI,GAAoBhlD,SAC/DtoG,KAAKouB,aAAavqB,aAAa,gBAAiB,SAChD7D,KAAKw4G,gBAAgB30G,aAAa,WAAY7D,KAAK4lH,YAGnD5lH,KAAK8wJ,YACL9sJ,GAAUhE,KAAKqyH,aAAah2G,WAAYixI,GAAoBhlD,SAC5DtoG,KAAKouB,aAAavqB,aAAa,gBAAiB,QAChD7D,KAAKw4G,gBAAgBoN,UAAY,IAMzCuoC,EAAa3yJ,UAAUwjD,eAAiB,WACpC,MAAOh/C,MAAKy/C,cAAc,WAG9B0uG,EAAa3yJ,UAAUu1J,gBAAkB,SAAUl3J,GAClB,iBAAzBmG,KAAKkH,kBACLrN,EAAQ+rH,UAAY,IAG5BuoC,EAAa3yJ,UAAUg9G,cAAgB,WACnC,MAAOx4G,MAAKqyH,aAAah2G,WAE7B8xI,EAAa3yJ,UAAUw1J,eAAiB,WACpC,MAAO,oBAEX7C,EAAa3yJ,UAAUy1J,iBAAmB,SAAUx3J,GAChD,MAAOuG,MAAKkxJ,kBAAkBlxJ,KAAKm5G,eAAe1/G,KAEtD00J,EAAa3yJ,UAAU01J,kBAAoB,SAAUl0J,GAGjD,IAAK,GAFDnE,GAEKwF,EAAK,EAAG8yJ,EADDnxJ,KAAK+8G,WACqB1+G,EAAK8yJ,EAAY54J,OAAQ8F,IAAM,CACrE,GAAIi4G,GAAS66C,EAAY9yJ,EACzB,IAAI2B,KAAKg6G,kBAAkB1D,EAAO7vG,aAAa,iBAAmBzJ,EAAO,CACrEnE,EAAOy9G,CACP,QAGR,MAAOz9G,IAGXs1J,EAAa3yJ,UAAU41J,UAAY,WAC/BpxJ,KAAKgxG,aACDhxG,KAAKyyF,qBAAsB93B,IAC3B36D,KAAKwuJ,kBAAmB,EAGxBxuJ,KAAKqxJ,gBAGblD,EAAa3yJ,UAAU61J,aAAe,WAClC,GAAK5zJ,EAAkBuC,KAAKhD,OAGvB,GAAIgD,KAAKvG,MAAQgE,EAAkBuC,KAAKhD,OAAQ,CACjD,GAAInD,GAAUmG,KAAKixJ,iBAAiBjxJ,KAAKvG,KACzC,IAAIgE,EAAkB5D,GAElB,WADAmG,MAAK2H,eAAgBlO,KAAM,MAI3BuG,MAAKywJ,aAAa52J,EAAS,UAI/BmG,MAAKywJ,aAAazwJ,KAAKikG,cAAcjkG,KAAK21G,aAAc,UAbxD31G,MAAKywJ,aAAazwJ,KAAKkxJ,kBAAkBlxJ,KAAKhD,OAAQ,KAe1DgD,MAAKsxJ,iBACLhkI,GAAMlwB,SAAS4C,KAAKvG,KAAMuG,KAAKouB,aAAcpuB,KAAK2oB,eAAgB3oB,KAAK+mB,kBAE3EonI,EAAa3yJ,UAAU+1J,OAAS,SAAUnwJ,GACtC,GAAKpB,KAAK4mB,QAAV,CAGA,GAAI/d,GAASzH,EAAE4nI,cACX3nF,EAAgBjgD,EAAEyH,OAClBomJ,EAAgBjvJ,KAAKivJ,aAGzB,IAFAjvJ,KAAKivJ,eAAgB,EAEjBA,IAAkBjvJ,KAAKquJ,iBAAmBruJ,KAAKmsJ,eAAiB1uJ,EAAkB4jD,KACjFrhD,KAAKwxJ,kBAAoB/zJ,EAAkBoL,IAO5C,YAN6B,iBAAzB7I,KAAKkH,iBAAsClH,KAAKuwJ,gBAAkBvwJ,KAAKmsJ,YACvEnsJ,KAAK2tJ,YAAYtrJ,QAGjBrC,KAAKw4G,gBAAgBn2G,QAI7B,IAAIrC,KAAKquJ,kBAAqB5wJ,EAAkBuC,KAAK8jH,WAC9C/oH,SAAS+R,KAAKrU,SAASuH,KAAK8jH,SAASjqH,UACxCmG,KAAK8jH,SAASjqH,QAAQrB,UAAUC,SAAS60J,GAAoBO,cAI7D,YAHK7tJ,KAAKuuJ,kBACNvuJ,KAAKquJ,iBAAkB,KAIA,iBAAzBruJ,KAAKkH,kBAAuClH,KAAKsuJ,eAAiBzlJ,IAAW7I,KAAKouB,eAChFrzB,SAASu0G,gBAAkBzmG,GAAW9N,SAASu0G,gBAAkBzmG,GACjEw4C,EAAc7oD,UAAUC,SAAS60J,GAAoBC,cACxD9vJ,EAAkBoL,IAAoC,iBAAzB7I,KAAKkH,iBAAsClH,KAAKuwJ,gBAC1ElvG,IAAkBrhD,KAAKqyH,aAAah2G,WAAuC,iBAAzBrc,KAAKkH,kBAC1DlH,KAAKqyH,aAAah2G,UAAU5jB,SAASoQ,IAAW7I,KAAKkvJ,YACtDlvJ,KAAKquJ,kBAAkBruJ,KAAKmsJ,YAC5BnsJ,KAAKyxJ,iBACLzxJ,KAAKkvJ,UAAW,IAEhBlvJ,KAAKm7G,aAAgBn7G,KAAKmsJ,aAAgBnsJ,KAAKivJ,gBAC/CjvJ,KAAKo7G,UAAW,EAChBp7G,KAAKuuJ,iBAAkB,KAG/BJ,EAAa3yJ,UAAUi2J,eAAiB,WACpCzxJ,KAAK6vG,cAAe,EACpB7vG,KAAKwzH,WACLxzH,KAAK0xJ,cAETvD,EAAa3yJ,UAAUk2J,WAAa,WAC3B1xJ,KAAK4mB,UAGN5mB,KAAK2uJ,aACL3uJ,KAAKsvJ,gBAAiB,EACtBtvJ,KAAKmwJ,cAAc,OAEvBnwJ,KAAKiwJ,mBACLjwJ,KAAK+U,cAAc/U,KAAKkuJ,cAAe,UACV,iBAAzBluJ,KAAKkH,iBAA+D,UAAzBlH,KAAKnG,QAAQyJ,SACxDtD,KAAK+U,cAAc/U,KAAKouB,aAAc,QAEtCpuB,KAAKqyH,aAAaprG,aAClBjjB,GAAUhE,KAAKqyH,aAAaprG,aAAcqmI,GAAoBS,eAElE/tJ,KAAKooB,QAAQ,UAEjB+lI,EAAa3yJ,UAAUm2J,QAAU,WACxB3xJ,KAAK6vG,eACN7vG,KAAK6vG,cAAe,EACpB7vG,KAAKooB,QAAQ,UAEjBpoB,KAAK0uH,mBAETy/B,EAAa3yJ,UAAUo2J,kBAAoB,WACvC5xJ,KAAKhD,MAAQ,MAEjBmxJ,EAAa3yJ,UAAUq2J,UAAY,WAC/BpsJ,GAAalB,IAAIvE,KAAKqyH,aAAah2G,UAAW,YAAarc,KAAK8xJ,cAAe9xJ,MAC/EyF,GAAalB,IAAIvE,KAAKqyH,aAAah2G,UAAW,QAASrc,KAAKuzH,QAASvzH,MACrEyF,GAAalB,IAAIvE,KAAKqyH,aAAah2G,UAAW,WAAYrc,KAAKyzF,SAAUzzF,KACzE,IAAIsuI,GAAcvoI,EAAQ/F,KAAKouB,aAAc,OACzCkgH,IACA7oI,GAAalB,IAAI+pI,EAAa,QAAStuI,KAAK4xJ,kBAAmB5xJ,MAEnEA,KAAK+xJ,mBAET5D,EAAa3yJ,UAAUu2J,gBAAkB,WACrCtsJ,GAAalB,IAAIvE,KAAKw4G,gBAAiB,OAAQx4G,KAAKuxJ,OAAQvxJ,MACvDoM,GAAQkc,WACTtoB,KAAK61I,eAAiB,GAAIzrF,IAAepqD,KAAKw4G,iBAC1CrtD,UAAWnrD,KAAKkvG,iBAAiBzzG,KAAKuE,MAAO4qD,WAAY5qD,KAAK2vJ,aAAcr9H,UAAW,aAG/FtyB,KAAK6mB,kBAETsnI,EAAa3yJ,UAAUqrB,eAAiB,WAChC7mB,KAAK+mB,iBACLthB,GAAalB,IAAIvE,KAAKqyH,aAAaprG,YAAa,YAAajnB,KAAKknB,aAAclnB,OAGxFmuJ,EAAa3yJ,UAAUw2J,kBAAoB,WACvCvsJ,GAAaf,OAAO1E,KAAKw4G,gBAAiB,OAAQx4G,KAAKuxJ,QAClDnlJ,GAAQkc,UACTtoB,KAAK61I,eAAehiI,UAEpB7T,KAAK+mB,iBACLthB,GAAaf,OAAO1E,KAAKqyH,aAAaprG,YAAa,YAAajnB,KAAKknB,eAG7EinI,EAAa3yJ,UAAUkzH,gBAAkB,WACjC1uH,KAAK+mB,kBAC2B,KAA5B/mB,KAAKouB,aAAapxB,MAClBwH,GAAaxE,KAAKqyH,aAAaprG,aAAcqmI,GAAoBS,eAGjE/pJ,GAAUhE,KAAKqyH,aAAaprG,aAAcqmI,GAAoBS,iBAO1EI,EAAa3yJ,UAAUw0J,eAAiB,WACpCvqJ,GAAalB,IAAIvE,KAAKk2C,KAAM,QAASl2C,KAAKiyJ,aAAcjyJ,MACxDyF,GAAalB,IAAIvE,KAAKk2C,KAAM,YAAal2C,KAAKkyJ,YAAalyJ,MAC3DyF,GAAalB,IAAIvE,KAAKk2C,KAAM,WAAYl2C,KAAKmyJ,aAAcnyJ,OAG/DmuJ,EAAa3yJ,UAAUi4F,SAAW,SAAUryF,GACrB,KAAfA,EAAEgxJ,UAAkC,KAAfhxJ,EAAEgxJ,eACLh5J,KAAd4G,KAAKk2C,MACLl2C,KAAKgxG,aAEThxG,KAAKqyJ,eAAiBjxJ,EACjBpB,KAAKm7G,aAAgB19G,EAAkBuC,KAAKk2C,KAAKpzC,cAAc,QAChE9C,KAAKvI,kBAAkB2J,KAInC+sJ,EAAa3yJ,UAAUy2J,aAAe,SAAU7wJ,GAC5C,GAAIyH,GAASzH,EAAEyH,OAEXs4F,GADYt4F,EAAOrQ,UACduN,EAAQ8C,EAAQ,IAAM4vG,GAAoBtX,IACnD,IAAKnhG,KAAK+rG,UAAU5K,GAIpB,GADAnhG,KAAKywJ,aAAatvD,EAAI//F,GAClBgL,GAAQkc,UAAYtoB,KAAKwxJ,iBACzBlyG,QAAQ6tD,WAEP,CAEDntG,KAAKsgJ,WADO,OAIpB6N,EAAa3yJ,UAAU02J,YAAc,SAAU9wJ,GAC3C,GAAIo7G,GAAYz2G,EAAQ3E,EAAEyH,OAAQ,IAAM4vG,GAAoBtX,GAC5DnhG,MAAKsyJ,SAAS91C,IAGlB2xC,EAAa3yJ,UAAU82J,SAAW,SAAUnxD,GACpCnhG,KAAK4mB,SAAW5mB,KAAK+rG,UAAU5K,KAAQA,EAAG3oG,UAAUC,SAASggH,GAAoB7Q,SACjF5nG,KAAKstG,cACLtpG,GAAUm9F,GAAKsX,GAAoB7Q,SAI3CumD,EAAa3yJ,UAAU22J,aAAe,SAAU/wJ,GAC5CpB,KAAKstG,eAGT6gD,EAAa3yJ,UAAU8xG,YAAc,WACjC,GAAIilD,GAAcvyJ,KAAKk2C,KAAKt7C,iBAAiB,IAAM69G,GAAoB7Q,MACnE2qD,IAAeA,EAAYh6J,QAC3BiM,EAAY+tJ,EAAa95C,GAAoB7Q,QAIrDumD,EAAa3yJ,UAAUuwG,UAAY,SAAU5K,GACzC,MAAQA,IAAMA,EAAGmhB,aAAa,SAAuC,WAA5BnhB,EAAG16F,aAAa,SAG7D0nJ,EAAa3yJ,UAAU/D,kBAAoB,SAAU2J,GACjD,GAAIpB,KAAKikG,cAAc1rG,OAAS,EAAG,CAC/B,GAAI4oG,GAAK1pG,EAAkB2J,EAAEgxJ,SAAUpyJ,KAAKikG,cAAejkG,KAAK21G,aAAa,EACxEl4G,GAAkB0jG,KACnBnhG,KAAKywJ,aAAatvD,EAAI//F,GACtBpB,KAAKwyJ,uBASjBrE,EAAa3yJ,UAAU2oB,YAAc,WAC5B1mB,EAAkBuC,KAAKyyJ,kBACxBtuI,GAAYnkB,KAAKyyJ,gBACjBjuJ,GAAaxE,KAAKyyJ,gBAAiBnF,GAAoBW,aACvDjuJ,KAAKyyJ,eAAej4J,UAAY,GAChCwF,KAAKyyJ,eAAiB,OAO9BtE,EAAa3yJ,UAAUooB,YAAc,WAC7BnmB,EAAkBuC,KAAKyyJ,kBACvBzyJ,KAAKyyJ,eAAiBrmJ,GAAQkc,WAAa7qB,EAAkBuC,KAAK0yJ,iBAAmB1yJ,KAAK0yJ,eAAehwC,QAAQ,KAC5GjlH,EAAkBuC,KAAK0yJ,iBAAmB1yJ,KAAK0yJ,eAAehwC,QAAQ,IAAM1iH,KAAKqyH,aAAa3P,QAAQ,GAC3G1+G,GAAUhE,KAAKyyJ,gBAAiBnF,GAAoBW,aACpD/xI,IACIrT,OAAQ7I,KAAKyyJ,eACbh7I,MAAOrL,GAAQkc,SAAW,OAAS,QACpCtoB,KAAKyB,eACRmiB,GAAY5jB,KAAKyyJ,kBAGzBtE,EAAa3yJ,UAAU0zG,iBAAmB,SAAU9tG,GAChD,GAAIuxJ,GAA6B,WAAbvxJ,EAAE8pD,QAAoC,aAAb9pD,EAAE8pD,OAC3C0nG,EAA0C,iBAAzB5yJ,KAAKkH,kBAAoD,SAAb9F,EAAE8pD,QAAkC,QAAb9pD,EAAE8pD,OAC1FlrD,MAAKgvJ,YAA2B,WAAb5tJ,EAAE8pD,OACrBlrD,KAAKkvJ,UAAYlvJ,KAAKmsJ,aAA4B,QAAb/qJ,EAAE8pD,MACvC,IAAI2nG,GAA6B,SAAbzxJ,EAAE8pD,QAAkC,OAAb9pD,EAAE8pD,QAAgC,WAAb9pD,EAAE8pD,QAAoC,aAAb9pD,EAAE8pD,QACvE,SAAb9pD,EAAE8pD,QAAkC,QAAb9pD,EAAE8pD,MAChC,OAAKlrD,KAAK8yJ,iBAAmBH,GAAiBC,IAAoB5yJ,KAAKmsJ,eAGlEnsJ,KAAKyuH,SAAU,CAChB,GAAIskC,GAA2B,QAAb3xJ,EAAE8pD,QAAiC,UAAb9pD,EAAE8pD,MAK1C,QAJkB9xD,KAAd4G,KAAKk2C,MAAuBl2C,KAAKm7G,aAAgB43C,GAA4B,WAAb3xJ,EAAE8pD,SAClElrD,KAAKqyJ,eAAiBjxJ,EACtBpB,KAAKgxG,cAELvzG,EAAkBuC,KAAKk2C,QAAWz4C,EAAkBuC,KAAKikG,gBACzD4uD,GAA8C,IAA9B7yJ,KAAKikG,cAAc1rG,QAAiByH,KAAKm7G,YACzD,MAOJ,SALI43C,GAAe/yJ,KAAKmsJ,aAA4B,WAAb/qJ,EAAE8pD,SACrC9pD,EAAE+lB,iBAENnnB,KAAK2uJ,WAA0B,WAAbvtJ,EAAE8pD,QAA8BlrD,KAAK2uJ,WACvD3uJ,KAAK0uJ,SAAWmE,GAA6B,WAAbzxJ,EAAE8pD,QAA+BlrD,KAAK0uJ,QAC9DttJ,EAAE8pD,QACN,IAAK,OACL,IAAK,KACD,GAAIk3F,GAAWpiJ,KAAKk2C,KAAKpzC,cAAc,IAAMwqJ,GAAoBjrJ,MACjE,IAAIrC,KAAKgzJ,kBAAkB5Q,GACvBpiJ,KAAKywJ,aAAarO,EAAUhhJ,OAE3B,CACD,GAAI6xJ,OAAW,GACX/6J,EAAqB,SAAbkJ,EAAE8pD,OAAoBlrD,KAAK21G,YAAc,EAAI31G,KAAK21G,YAAc,EACxEruF,EAAa,CACY,kBAAzBtnB,KAAKkH,kBACLogB,EAA0B,SAAblmB,EAAE8pD,QAAqBztD,EAAkBuC,KAAK21G,aAAe,EAAI31G,KAAKikG,cAAc1rG,OAAS,EAC1GL,EAAQA,EAAQ,EAAI8H,KAAKikG,cAAc1rG,OAAS,EAAIL,IAAU8H,KAAKikG,cAAc1rG,OAAS,EAAIL,GAElG+6J,EAAWx1J,EAAkBuC,KAAK21G,aAAe31G,KAAKikG,cAAc38E,GAActnB,KAAKikG,cAAc/rG,GACrG8H,KAAKywJ,aAAawC,EAAU7xJ,GAEhCA,EAAE+lB,gBACF,MACJ,KAAK,SACDnnB,KAAKkzJ,gBAAgBlzJ,KAAK21G,YAAc31G,KAAKmzJ,eAAgB/xJ,GAC7DA,EAAE+lB,gBACF,MACJ,KAAK,WACDnnB,KAAKozJ,kBAAkBpzJ,KAAK21G,YAAc31G,KAAKmzJ,eAAgB/xJ,GAC/DA,EAAE+lB,gBACF,MACJ,KAAK,OACD,GAA6B,iBAAzBnnB,KAAKkH,gBAAoC,CAEzC,GADA9F,EAAE+lB,iBACuB,IAArBnnB,KAAK21G,YACL,MAEJ31G,MAAKywJ,aAAazwJ,KAAKikG,cAAc,GAAI7iG,GAE7C,KACJ,KAAK,MACD,GAA6B,iBAAzBpB,KAAKkH,gBAAoC,CACzC9F,EAAE+lB,gBACF,IAAI4oF,GAAS/vG,KAAK+8G,WAAWxkH,OAAS,CACtC,IAAIyH,KAAK21G,cAAgB5F,EACrB,MAEJ/vG,MAAKywJ,aAAazwJ,KAAKikG,cAAc8L,GAAS3uG,GAElD,KACJ,KAAK,QAC4B,iBAAzBpB,KAAKkH,kBACAlH,KAAKuuJ,iBACNvuJ,KAAKqzJ,YAGb,MACJ,KAAK,OACDrzJ,KAAKqzJ,WACL,MACJ,KAAK,OACDrzJ,KAAKwvJ,aAAexvJ,KAAKmsJ,YACzBnsJ,KAAK8wJ,YACL9wJ,KAAKszJ,cAAclyJ,EACnB,MACJ,KAAK,QACDpB,KAAKuzJ,kBAAkBnyJ,EACvB,MACJ,KAAK,SACL,IAAK,MACL,IAAK,QACGpB,KAAKmsJ,cACLnsJ,KAAK8wJ,YACL9wJ,KAAKszJ,cAAclyJ,OAMvC+sJ,EAAa3yJ,UAAU+3J,kBAAoB,SAAUnyJ,GACjD,GAAIpB,KAAKmsJ,YAAa,CAClB,GAAIhrD,GAAKnhG,KAAKk2C,KAAKpzC,cAAc,IAAMwqJ,GAAoBjrJ,MACvD8+F,KACAnhG,KAAKywJ,aAAatvD,EAAI//F,GACtBpB,KAAK0uJ,SAAU,GAEf1uJ,KAAK2uJ,aACL3uJ,KAAKsvJ,gBAAiB,EACtBtvJ,KAAKmwJ,cAAc/uJ,IAEvBpB,KAAK8wJ,YACL9wJ,KAAKszJ,cAAclyJ,OAGnBpB,MAAKqzJ,aAGblF,EAAa3yJ,UAAUw3J,kBAAoB,SAAUn5J,GACjD,OAAQ4D,EAAkB5D,IAE9Bs0J,EAAa3yJ,UAAU23J,aAAe,WAClC,GAAI72C,GAAWt8G,KAAKk2C,KAAK19C,UAAUC,SAASggH,GAAoBE,QAAU,KACtE1qG,iBAAiBjO,KAAK+8G,WAAW,GAAI,MAAM7uG,iBAAiB,SAChE,OAAOd,MAAKknG,MAAMt0G,KAAKk2C,KAAKvpC,wBAAwB6K,OAASmiB,SAAS2iF,EAAU,MAEpF6xC,EAAa3yJ,UAAU03J,gBAAkB,SAAU1vB,EAAOjnI,GACtD,GAAIi3J,GAAehwB,GAAS,EAAIxjI,KAAKikG,cAAcu/B,EAAQ,GAAKxjI,KAAKikG,cAAc,EACnFjkG,MAAKywJ,aAAa+C,EAAcj3J,IAGpC4xJ,EAAa3yJ,UAAU43J,kBAAoB,SAAU5vB,EAAOjnI,GACxD,GAAI25C,GAAOl2C,KAAK+8G,WACZy2C,EAAehwB,GAASttF,EAAK39C,OAASyH,KAAKikG,cAAcu/B,EAAQ,GAAKxjI,KAAKikG,cAAc/tD,EAAK39C,OAAS,EAC3GyH,MAAKywJ,aAAa+C,EAAcj3J,IAGpC4xJ,EAAa3yJ,UAAUi4J,YAAc,WACjChuJ,GAAaf,OAAO1E,KAAKqyH,aAAah2G,UAAW,YAAarc,KAAK8xJ,eACnErsJ,GAAaf,OAAO1E,KAAKqyH,aAAah2G,UAAW,WAAYrc,KAAKyzF,UAClEhuF,GAAaf,OAAO1E,KAAKqyH,aAAah2G,UAAW,QAASrc,KAAKuzH,QAC/D,IAAI+a,GAAcvoI,EAAQ/F,KAAKouB,aAAc,OACzCkgH,IACA7oI,GAAaf,OAAO4pI,EAAa,QAAStuI,KAAK4xJ,mBAEnD5xJ,KAAKgyJ,qBAKT7D,EAAa3yJ,UAAUk4J,iBAAmB,WACtCjuJ,GAAaf,OAAO1E,KAAKk2C,KAAM,QAASl2C,KAAKiyJ,cAC7CxsJ,GAAaf,OAAO1E,KAAKk2C,KAAM,YAAal2C,KAAKkyJ,aACjDzsJ,GAAaf,OAAO1E,KAAKk2C,KAAM,WAAYl2C,KAAKmyJ,eAGpDhE,EAAa3yJ,UAAUm4J,gBAAkB,SAAUvyJ,GAC/C,GAAIyH,GAASzH,EAAEyH,MACf,KAAOpL,EAAkBuC,KAAK8jH,WAAa/9G,EAAQ8C,EAAQ,IAAM7I,KAAK8jH,SAASjqH,QAAQ8J,KAClF3D,KAAKqyH,aAAah2G,UAAU5jB,SAAS2I,EAAEyH,QAYnCA,IAAW7I,KAAKouB,cAAkBpuB,KAAKuwJ,gBAAkB1nJ,IAAW7I,KAAK2tJ,aAChD,aAAzB3tJ,KAAKkH,kBACLlH,KAAKuwJ,gBAAkBnkJ,GAAQkc,UAAYzf,IAAW7I,KAAKqyH,aAAa3P,QAAQ,KACrF1iH,KAAKivJ,eAAiB7iJ,GAAQ20C,MAA8B,SAAtB30C,GAAQmc,KAAKqK,QAAqB73B,SAASu0G,gBAAkBtvG,KAAKw4G,iBACpGz9G,SAASu0G,gBAAkBtvG,KAAK2tJ,aACpCvsJ,EAAE+lB,sBAhBF,IAAInnB,KAAKqyH,aAAah2G,UAAU7jB,UAAUC,SAAS60J,GAAoBC,aAAevtJ,KAAKmsJ,YAAa,CACpGnsJ,KAAKquJ,iBAAkB,CACvB,IAAIjzC,GAAWp7G,KAAKm7G,WACpBn7G,MAAK6vG,cAAe,EACpB7vG,KAAK8wJ,YACA11C,IACDp7G,KAAK0xJ,aACL1xJ,KAAKqyH,aAAah2G,UAAU7jB,UAAUkM,OAAO4oJ,GAAoBC,eAYjFY,EAAa3yJ,UAAUo4J,kBAAoB,WACnC5zJ,KAAKquJ,kBACLruJ,KAAK8wJ,YACL9wJ,KAAK0xJ,aACL1xJ,KAAKqyH,aAAah2G,UAAU7jB,UAAUkM,OAAO4oJ,GAAoBC,cAGzEY,EAAa3yJ,UAAU83J,cAAgB,SAAUlyJ,IACxCpB,KAAK6uH,SAAW7uH,KAAKwxJ,kBACtBxxJ,KAAKuzH,WAGb46B,EAAa3yJ,UAAUs2J,cAAgB,SAAU1wJ,GAC7C,GAAgB,IAAZA,EAAEupD,OAA4B,IAAbvpD,EAAEutH,SAGnB3uH,KAAKw4G,gBAAgBhgH,UAAUC,SAAS60J,GAAoBhlD,UAAYtoG,KAAKqyH,aAAaprG,cAAgB7lB,EAAEyH,OAAhH,CAGA,GAAIA,GAASzH,EAAEyH,MAIf,IAHIA,IAAW7I,KAAKouB,cAAkBpuB,KAAKuwJ,gBAAkB1nJ,IAAW7I,KAAK2tJ,aAAyC,aAAzB3tJ,KAAKkH,iBAC9F9F,EAAE+lB,iBAEDnnB,KAAKyuH,SAoBNzuH,KAAKuzH,cApBW,CACZvzH,KAAKmsJ,aACLnsJ,KAAK8wJ,YACD9wJ,KAAKwxJ,kBACLxxJ,KAAKszJ,cAAclyJ,KAIvBpB,KAAKuzH,UACLvzH,KAAKiwJ,mBACLjwJ,KAAKlI,YAAiD,KAAnCkI,KAAKouB,aAAapxB,MAAMyU,OAAgB,KAAOzR,KAAKouB,aAAapxB,MACpFgD,KAAKuvJ,iBAAkB,EACvBvvJ,KAAKqzJ,YAET,IAAIQ,GAAU7zJ,IACTA,MAAK0vJ,eACNz3J,WAAW,WAAc47J,EAAQC,iBAAoB,QAOjE3F,EAAa3yJ,UAAUs4J,cAAgB,WACnC,GAAI9zJ,KAAKk2C,KAAM,CACX,GAAImvD,GAAYrlG,KAAKk2C,KAAKpzC,cAAc,KACpCuiG,KACAA,EAAYA,EAAUrjG,UAAYqjG,EAAUrjG,WAAU,GAAQqjG,EAC9DrlG,KAAKmvJ,mBAAmB9pD,UAAYA,EACpCrlG,KAAK0vJ,eAAgB,KAIjCvB,EAAa3yJ,UAAUu4J,mBAAqB,SAAU5yD,EAAI//F,EAAG4yJ,GACzDh0J,KAAKqwJ,kBACLlvD,EAAG3oG,UAAU+L,IAAIk0G,GAAoBhf,UACrCz5F,KAAKstG,aACL,IAAItwG,GAAQgD,KAAKg6G,kBAAkB7Y,EAAG16F,aAAa,cAGnD,IAFAzG,KAAKnH,KAAOsoG,EACZnhG,KAAK3G,SAAW2G,KAAK+9G,eAAe/gH,IAC/BgD,KAAK6uH,UAAYmlC,EAAe,CACjC,GAAIr8J,GAAQqI,KAAKi0J,eACjBj0J,MAAK2uJ,YAAa,CAClB,IAAItgJ,IACAjN,EAAGA,EACHvI,KAAMmH,KAAKnH,KACXQ,SAAU1B,EACVk4G,eAAczuG,EACd0uB,QAAQ,EAGZ,IADA9vB,KAAKooB,QAAQ,SAAU/Z,GACnBA,EAAUyhB,OACV,OAAO,EAGf,GAAIokI,GAAcl0J,KAAKk2C,KAAKpzC,cAAc,IAAM21G,GAAoBp2G,MAMpE,OALI6xJ,IACA1vJ,GAAa0vJ,GAAcz7C,GAAoBp2G,OAEnD8+F,EAAGt9F,aAAa,gBAAiB,QACjC7D,KAAK21G,YAAc31G,KAAK88G,gBAAgB9/G,IACjC,GAEXmxJ,EAAa3yJ,UAAU24J,WAAa,SAAUhzD,GACtCnhG,KAAK+rG,UAAU5K,KAAQA,EAAG3oG,UAAUC,SAASggH,GAAoBhf,YACjEz5F,KAAKqwJ,kBACLlvD,EAAG3oG,UAAU+L,IAAIk0G,GAAoBhf,UACrCz5F,KAAKstG,cACLnM,EAAGt9F,aAAa,gBAAiB,UAGzCsqJ,EAAa3yJ,UAAU4B,SAAW,SAAUgE,GACxC,GAAI6T,GAAWjV,KAAKgtG,aAOpB,OANuB,QAAnB/3F,EAASjY,MACTswB,GAAMlwB,SAAS,KAAM4C,KAAKouB,aAAcpuB,KAAK2oB,eAAgB3oB,KAAK+mB,iBAGlEuG,GAAMlwB,SAAS6X,EAASxb,KAAMuG,KAAKouB,aAAcpuB,KAAK2oB,eAAgB3oB,KAAK+mB,iBAE3E/mB,KAAKk0H,gBAAkBj/G,EAASjY,OAChCgD,KAAK2uJ,YAAa,GACX,IAGP3uJ,KAAK2uJ,YAAc3uJ,KAAK6uH,QACxB7uH,KAAKsvJ,gBAAiB,EACO,iBAAzBtvJ,KAAKkH,iBACLlH,KAAK0uH,mBAEF,IAGfy/B,EAAa3yJ,UAAUi1J,aAAe,SAAUtvD,EAAI//F,GAC5CpB,KAAK+rG,UAAU5K,KAAQA,EAAG3oG,UAAUC,SAASggH,GAAoBhf,YACjEz5F,KAAKo0J,iBAAqB32J,EAAkBuC,KAAK3G,UAA6B,KAAhB2G,KAAK3G,SAClD2G,KAAK+zJ,mBAAmB5yD,EAAI//F,GAAG,MAKhDpB,KAAKk2C,MACLl2C,KAAKstG,cAETttG,KAAKq0J,mBAAuB52J,EAAkBuC,KAAK8vG,YAAiC,KAAlB9vG,KAAK8vG,WACvE9vG,KAAK8vG,WAAa3O,EACdnhG,KAAK5C,SAASgE,KAGdpB,KAAKs0J,eAAmC,OAAlBt0J,KAAK3G,SAC3B2G,KAAKu0J,mBAEAv0J,KAAKouB,aAAaooF,kBAAoBx2G,KAAKwwJ,mBAChDjrJ,EAAOvF,KAAKwwJ,kBACZxwJ,KAAKouB,aAAaxpB,MAAMyhD,QAAU,SAElCrmD,KAAKmsJ,cACLpoJ,EAAW/D,KAAKw4G,iBAAmB+7B,wBAAyBv0I,KAAK8vG,WAAa9vG,KAAK8vG,WAAWnsG,GAAK,OAC/F3D,KAAKwxJ,kBACLztJ,EAAW/D,KAAK2tJ,aAAepZ,wBAAyBv0I,KAAK8vG,WAAa9vG,KAAK8vG,WAAWnsG,GAAK,UAGjG3D,KAAKmsJ,cAAgB1uJ,EAAkB0jG,IAASnhG,KAAKmsJ,cAAgB1uJ,EAAkB2D,KAC7E,YAAXA,EAAErH,MAAiC,YAAXqH,EAAErH,MAAmC,UAAbqH,EAAE8pD,WACnDlrD,KAAKsvJ,gBAAiB,EACtBtvJ,KAAKmwJ,cAAc/uJ,KAEnBpB,KAAKmsJ,aAAgB1uJ,EAAkBuC,KAAK8vG,aAAiC,OAAlB9vG,KAAK3G,UAAuB+H,GAAgB,UAAXA,EAAErH,MAC9FiG,KAAKwyJ,kBAAkBpxJ,MAG/B+sJ,EAAa3yJ,UAAU+4J,iBAAmB,WACtC,GAAIjvD,EACCtlG,MAAKwwJ,mBACNxwJ,KAAKwwJ,iBAAmBxwJ,KAAKyB,cAAc,QAAUiC,UAAW4pJ,GAAoBtwJ,QACpFgD,KAAKouB,aAAarY,cAAc3Q,aAAapF,KAAKwwJ,iBAAkBxwJ,KAAKouB,cACzEpuB,KAAKouB,aAAaxpB,MAAMyhD,QAAU,QAEtCrmD,KAAKwwJ,iBAAiBh2J,UAAY,EAElC,KAAK,GAAI6D,GAAK,EAAG2E,GADjBsiG,EAAiB/0F,GAAQvQ,KAAKs0J,gBACOt0J,KAAK3G,UAAWgF,EAAK2E,EAAGzK,OAAQ8F,IAAM,CACvE,GAAIxF,GAAOmK,EAAG3E,EACd2B,MAAKwwJ,iBAAiBzuJ,YAAYlJ,KAG1Cs1J,EAAa3yJ,UAAU60J,gBAAkB,WACrC,GAAInjD,GAAgBltG,KAAKk2C,KAAKt7C,iBAAiB,IAAM69G,GAAoBhf,SACrEyT,GAAc30G,SACdiM,EAAY0oG,EAAeuL,GAAoBhf,UAC/CyT,EAAc,GAAG5gG,gBAAgB,mBAIzC6hJ,EAAa3yJ,UAAUwxG,YAAc,WACjC,GAGIwnD,GACAC,EAJAv/I,EAASlV,KAAKkV,OACdD,EAAW,IAYf,OARKxX,GAHLwX,EAAWjV,KAAK3G,YAIZm7J,EAAY33J,EAASqY,EAAOlY,MAAOiY,GACnCw/I,EAAW53J,EAASqY,EAAOzb,KAAMwb,KAM5BjY,MAJKS,EAAkBwX,IAC3B9X,EAAYq3J,GAAyBv/I,EAAZu/I,EAGP/6J,KAFVgE,EAAkBwX,IAC1B9X,EAAYq3J,GAAwBv/I,EAAXw/I,IAMlCtG,EAAa3yJ,UAAU20J,cAAgB,SAAUuE,GAC7C,GAAIz/I,GAAWjV,KAAKgtG,cAChB90G,EAAQ8H,KAAKsvJ,eAAiB,KAAOtvJ,KAAK21G,WAC9C31G,MAAK2H,eAAgB3K,MAASiY,EAASjY,MAAO9E,MAASA,EAAOuB,KAAQwb,EAASxb,OAAQ,GACvFuG,KAAK20J,kBAAkBD,IAG3BvG,EAAa3yJ,UAAUy4J,cAAgB,WAmBnC,MAjB6B,gBAAlBj0J,MAAK3G,UACa,iBAAlB2G,MAAK3G,UACa,gBAAlB2G,MAAK3G,SACJkF,OAAOq2J,qBACX53J,OACIA,MAAOgD,KAAK3G,SACZ4P,YAAY,GAEhBxP,MACIuD,MAAOgD,KAAK3G,SACZ4P,YAAY,KAKZjJ,KAAK3G,UAIrB80J,EAAa3yJ,UAAUm5J,kBAAoB,SAAUD,GAKjD,GAJA10J,KAAK2uJ,YAAa,EAClB3uJ,KAAKk0H,cAAgBl0H,KAAKhD,MAC1BgD,KAAK21G,YAAc31G,KAAK9H,MACxB8H,KAAK+uJ,YAAetxJ,EAAkBuC,KAAKvG,MAAoB,GAAZuG,KAAKvG,MACnDuG,KAAK6uH,QAAS,CACf,GAAIl3H,GAAQqI,KAAKi0J,gBACbY,MAAW,EAIXA,GAHiC,gBAA1B70J,MAAKo0J,kBACqB,iBAA1Bp0J,MAAKo0J,kBACqB,gBAA1Bp0J,MAAKo0J,iBACD71J,OAAOq2J,qBACd53J,OACIA,MAAOgD,KAAKo0J,iBACZnrJ,YAAY,GAEhBxP,MACIuD,MAAOgD,KAAKo0J,iBACZnrJ,YAAY,KAKTjJ,KAAKo0J,iBAEpBp0J,KAAKsxJ,gBACL,IAAIjjJ,IACAjN,EAAGszJ,EACH77J,KAAMmH,KAAKnH,KACXQ,SAAU1B,EACV67J,aAAcxzJ,KAAKq0J,mBACnBD,iBAAkBS,EAClBhlD,eAAc6kD,EACd13J,MAAOgD,KAAKhD,MACZnD,QAASmG,KAAKnG,QAElBmG,MAAKooB,QAAQ,SAAU/Z,KAG/B8/I,EAAa3yJ,UAAU81J,eAAiB,WAC/B7zJ,EAAkBuC,KAAKhD,OAMxBgD,KAAKkuJ,cAAc1zJ,UAAY,IAL/BwF,KAAKkuJ,cAAc1zJ,UAAY,oBAAsBwF,KAAKvG,KAAO,YAC3CuG,KAAKkuJ,cAAcprJ,cAAc,UACvCe,aAAa,QAAS7D,KAAKhD,MAAM2D,cASzDwtJ,EAAa3yJ,UAAUs5J,WAAa,SAAU1zJ,GAE1C,GADApB,KAAK8uJ,WAA2B,KAAd1tJ,EAAE1J,SAAgC,KAAd0J,EAAE1J,SAAkBsI,KAAK8uJ,WAC3D9uJ,KAAK8uJ,WAEL,OADA9uJ,KAAK8uJ,YAAa,EACV1tJ,EAAE1J,SACN,IAAK,IACL,IAAK,IAC4B,iBAAzBsI,KAAKkH,iBAAuClH,KAAKmsJ,aAAgBnsJ,KAAKwvJ,cAAiBxvJ,KAAKm7G,YAK5Fn7G,KAAK6uJ,iBAAkB,GAJvB7uJ,KAAK6uJ,iBAAkB,EACvB7uJ,KAAK+0J,YAAY3zJ,IAKrBpB,KAAKwvJ,cAAe,EACpBpuJ,EAAE+lB,gBACF,MACJ,KAAK,IACL,IAAK,GACDnnB,KAAK+uJ,YAAc/uJ,KAAK2tJ,YAAY3wJ,OAC/BgD,KAAKmsJ,aAAoC,KAArBnsJ,KAAK+uJ,aAAsB/uJ,KAAKmsJ,aAAensJ,KAAKlI,YAAYS,OAAS,GAC9FyH,KAAK6uJ,iBAAkB,EACvB7uJ,KAAK+0J,YAAY3zJ,IAES,KAArBpB,KAAK+uJ,cACV/uJ,KAAKowJ,oBACLpwJ,KAAK21G,YAAc,KACU,iBAAzB31G,KAAKkH,iBACLlH,KAAK8wJ,aAGb1vJ,EAAE+lB,gBACF,MACJ,SACInnB,KAAK+uJ,YAAc/uJ,KAAK2tJ,YAAY3wJ,MACpCgD,KAAK6uJ,iBAAkB,EACvB7uJ,KAAK+0J,YAAY3zJ,KAKjC+sJ,EAAa3yJ,UAAUw5J,aAAe,SAAU5zJ,GAC5C,OAAQA,EAAE1J,SACN,IAAK,IACD,KACJ,KAAK,IACL,IAAK,IACDsI,KAAKlI,YAAckI,KAAK2tJ,YAAY3wJ,MACpCoE,EAAE+lB,gBACF,MACJ,KAAK,GACGnnB,KAAKmsJ,aACL/qJ,EAAE+lB,gBAEN,MACJ,SACInnB,KAAKqvJ,iBAAmBrvJ,KAAKi1J,qBAC7Bj1J,KAAKlI,YAAckI,KAAK2tJ,YAAY3wJ,QAIhDmxJ,EAAa3yJ,UAAU05J,oBAAsB,WACzC,GAAIl1J,KAAK6vG,aAAc,CACnB,GAAIslD,GAAYn1J,KAAKi1J,oBACrBj1J,MAAKouB,aAAazG,kBAAkBwtI,EAAUx1I,IAAKw1I,EAAUx1I,OAGrEwuI,EAAa3yJ,UAAUy5J,mBAAqB,WACxC,GAAI3hJ,GAAQtT,KAAKouB,YACjB,QAAS7wB,MAAO6P,KAAKE,IAAIgG,EAAMiU,gBAAiB5H,IAAKvS,KAAKE,IAAIgG,EAAMmU,gBAExE0mI,EAAa3yJ,UAAUu5J,YAAc,SAAU3zJ,GAC3C,GAAIrB,GAAQC,IAOZ,IANAA,KAAK0uJ,SAAU,EACf1uJ,KAAK21G,YAAc,KACf31G,KAAK2tJ,YAAY53I,cAAcjT,cAAc,IAAMwqJ,GAAoB9O,aACpDx+I,KAAK2tJ,YAAY53I,cAAcjT,cAAc,IAAMwqJ,GAAoB9O,WAC7E55I,MAAMC,WAAwC,KAA3B7E,KAAK2tJ,YAAY3wJ,MAAe,SAAW,WAE3EgD,KAAKo1J,cAAe,CACpB,GAAI9c,IACA+c,sBAAsB,EACtB57J,KAAMuG,KAAK2tJ,YAAY3wJ,MACvBs4J,WAAY,SAAU7iE,EAAY34F,EAAOob,GACjCojI,EAAYxoH,SAGhB/vB,EAAM0vJ,gBAAiB,EACvB1vJ,EAAMw1J,gBAAgB9iE,EAAY34F,EAAOob,KAE7CsgJ,cAAep0J,EACf0uB,QAAQ,EAGZ,IADA9vB,KAAKooB,QAAQ,YAAakwH,GACtBA,EAAYxoH,OACZ,MAEJ,KAAK9vB,KAAKyvJ,iBAAmBnX,EAAY+c,qBAAsB,CAC3D,GAAII,GAAcz1J,KAAKlG,MAAQkG,KAAKlG,MAAMuF,QAAU,GAAIgzD,IACpD7gC,EAAWxxB,KAAKu5G,WAAWv5G,KAAKyyF,YAAYyP,MAChD,KAAMliG,KAAKyyF,qBAAsB93B,KAA6B,WAAbnpC,IAAsC,WAAbA,EAGrE,CACD,GAAItc,GAASlV,KAAKkV,MAClBugJ,GAAYxhG,MAAOx2D,EAAkByX,EAAOzb,MAAsB,GAAdyb,EAAOzb,KAAW,aAAcuG,KAAK2tJ,YAAY3wJ,OAAO,EAAMgD,KAAKo0D,kBAJvHqhG,GAAYxhG,MAAM,GAAI,aAAcj0D,KAAK2tJ,YAAY3wJ,OAAO,EAAMgD,KAAKo0D,aAM3Ep0D,MAAKu1J,gBAAgBv1J,KAAKyyF,WAAYgjE,EAAaz1J,KAAKkV,WAIpEi5I,EAAa3yJ,UAAU+5J,gBAAkB,SAAU9iE,EAAY34F,EAAOob,GAC7DzX,EAAkBuC,KAAK2tJ,eACxB3tJ,KAAKuuJ,iBAAkB,EACe,KAAlCvuJ,KAAK2tJ,YAAY3wJ,MAAMyU,QACvBzR,KAAKmvJ,mBAAmBC,WAAY,EACpCpvJ,KAAK0uJ,SAAU,EACVjxJ,EAAkBuC,KAAKmvJ,mBAAmB9pD,YAAe5nG,EAAkBuC,KAAKmvJ,mBAAmBj5G,OACpGl2C,KAAKs7G,iBAAiBt7G,KAAKmvJ,mBAAmB9pD,UAAWrlG,KAAKmvJ,mBAAmBj5G,MAErFl2C,KAAK0uJ,SAAU,EACVjxJ,EAAkBuC,KAAK3G,WAAsC,iBAAzB2G,KAAKkH,kBAC1ClH,KAAK01J,iBACL11J,KAAKwyJ,qBAETxyJ,KAAKyuJ,iBAAkB,IAGvBzuJ,KAAKyuJ,iBAAkB,EACvBzuJ,KAAK46G,UAAUnoB,EAAYv9E,EAAQpb,MAI/Cq0J,EAAa3yJ,UAAUm6J,aAAe,SAAUrU,GAC5C,GAAIthJ,KAAKo1J,cAAe,CACpB,GAAIr/I,GAAgB/V,KAAKyB,cAAc,QACnCiC,UAAW4pJ,GAAoBM,cAEnC5tJ,MAAK2tJ,YAAc3tJ,KAAKyB,cAAc,SAClCqC,OAAS/J,KAAM,QACf2J,UAAW4pJ,GAAoBK,cAEnC3tJ,KAAKnG,QAAQiB,WAAWsK,aAAapF,KAAK2tJ,YAAa3tJ,KAAKnG,QAC5D,IAAI0uG,IAAW,CAsCf,OArCIn8F,IAAQkc,WACRigF,GAAW,GAEfvoG,KAAK0yJ,eAAiBplI,GAAMkgG,aACxB3zH,QAASmG,KAAK2tJ,YACdjrC,QAASna,GACJ+kD,GAAoB/kD,SAAU+kD,GAAoBI,qBAAuBJ,GAAoBI,oBAClGnqJ,YAAcmlB,YAAa1oB,KAAK41J,uBACjC51J,KAAKyB,eACR6D,GAAQtF,KAAK0yJ,eAAer2I,WAAYtG,GACxChR,GAASgR,GAAgBurI,GACzBv9I,EAAW/D,KAAK2tJ,aACZn+B,gBAAiB,QACjB4zB,YAAapjJ,KAAKnG,QAAQ8J,GAAK,WAC/ByP,KAAQ,UACRmhI,wBAAyBv0I,KAAK8vG,WAAa9vG,KAAK8vG,WAAWnsG,GAAK,KAChE+gB,aAAgB,MAChBC,YAAe,MACfC,eAAkB,MAClBC,WAAc,UAElB7kB,KAAK61J,iBAAmB71J,KAAK2tJ,YAAY53I,cAAcjT,cAAc,IAAMwqJ,GAAoB9O,YAC1FpyI,GAAQkc,UAAYtoB,KAAK61J,mBAC1BpwJ,GAAalB,IAAIvE,KAAK61J,iBAAkB,QAAS71J,KAAKo0I,UAAWp0I,MACjEA,KAAK61J,iBAAiBjxJ,MAAMC,WAAa,UAExCuH,GAAQkc,WACTtoB,KAAK81J,gBAAkB,GAAI1rG,IAAepqD,KAAK2tJ,aAC3CxiG,UAAWnrD,KAAKkvG,iBAAiBzzG,KAAKuE,MACtC4qD,WAAY5qD,KAAK2vJ,aACjBr9H,UAAW,aAGnB7sB,GAAalB,IAAIvE,KAAK2tJ,YAAa,QAAS3tJ,KAAK+1J,QAAS/1J,MAC1DyF,GAAalB,IAAIvE,KAAK2tJ,YAAa,QAAS3tJ,KAAK80J,WAAY90J,MAC7DyF,GAAalB,IAAIvE,KAAK2tJ,YAAa,UAAW3tJ,KAAKg1J,aAAch1J,MACjEyF,GAAalB,IAAIvE,KAAK2tJ,YAAa,OAAQ3tJ,KAAKuxJ,OAAQvxJ,MACjDA,KAAK0yJ,eAGZ,MAAOjlC,KAIf0gC,EAAa3yJ,UAAUu6J,QAAU,WAC7B/1J,KAAK8uJ,YAAa,GAEtBX,EAAa3yJ,UAAU+/G,gBAAkB,SAAUn6G,GAC/Cs3B,EAAOl9B,UAAU+/G,gBAAgB36G,KAAKZ,KAAMoB,GACxCpB,KAAKuuJ,iBACLvuJ,KAAKsnH,eAGb6mC,EAAa3yJ,UAAU8/G,iBAAmB,SAAUjW,EAAWnvD,EAAM90C,EAAGguJ,GACpE,GAAIpvJ,KAAKyuJ,gBAEL,YADAzuJ,KAAKyuJ,iBAAkB,EAG3B,IAAIzuJ,KAAKo7G,SAAU,CACf,GAAIO,GAAe37G,KAAK8vG,WAAa9vG,KAAK8vG,WAAW9tG,WAAU,GAAQ,IACvE02B,GAAOl9B,UAAU8/G,iBAAiB16G,KAAKZ,KAAMqlG,EAAWnvD,EAAM90C,GAC1DpB,KAAKm7G,cAAgB19G,EAAkBuC,KAAKqyJ,iBAAgD,YAA7BryJ,KAAKqyJ,eAAet4J,OACnFiG,KAAKm7G,aAAc,EACnBn7G,KAAKkvG,iBAAiBlvG,KAAKqyJ,gBAC3BryJ,KAAKqyJ,eAAiB,MAEtBryJ,KAAKm7G,cAAgB19G,EAAkBuC,KAAKqyJ,kBAC5CryJ,KAAKvI,kBAAkBuI,KAAKqyJ,gBAC5BryJ,KAAKqyJ,eAAiB,MAE1BryJ,KAAKk2C,KAAKhpC,UAAY,EACjBzP,EAAkB4nG,IACnBthG,EAAWshG,GAAa1hG,GAAM3D,KAAKnG,QAAQ8J,GAAK,WAAYyP,KAAQ,UAAW43G,cAAe,UAE9FhrH,KAAKwuJ,mBACLxuJ,KAAK6uH,SAAU,EACf7uH,KAAK21G,YAAc31G,KAAK9H,MACxB8H,KAAKqxJ,eACLrxJ,KAAKwuJ,kBAAmB,EACxBxuJ,KAAK6uH,SAAU,GAEU,iBAAzB7uH,KAAKkH,iBAAsClH,KAAKo1J,gBAAkBp1J,KAAK0uJ,UAClE1uJ,KAAKmvJ,mBAAmBC,YAAgBpvJ,KAAKyvJ,gBAC1CzvJ,KAAKsuJ,iBACJtuJ,KAAKyyF,qBAAsB93B,MACvBl9D,EAAkBuC,KAAKyyF,WAAWl6F,SAAsC,IAA3ByH,KAAKyyF,WAAWl6F,WACtEyH,KAAKmvJ,oBAAuB9pD,UAAWA,EAAUrjG,WAAU,GAAOk0C,KAAMA,EAAMk5G,WAAW,IAE7FpvJ,KAAKg2J,WAAW9/G,EAAMylE,GACjBl+G,EAAkBuC,KAAK3G,WACxB2G,KAAK01J,kBAGT11J,KAAKuuJ,iBACLvuJ,KAAKsnH,gBAIjB6mC,EAAa3yJ,UAAUw6J,WAAa,SAAU58C,EAAU68C,GACpD,GAAIl2J,GAAQC,IACZ,KAAKvC,EAAkBuC,KAAK3G,YAAcoE,EAAkBw4J,GAAa,CACrE,GAAIxsI,GAAUzpB,KAAKgtG,cAAchwG,KACnBo8G,GAASvmF,KAAK,SAAUp2B,GAClC,OAA0B,gBAATA,IAAqC,gBAATA,KAAsBA,IAASgtB,GACvE5sB,EAASkD,EAAMmV,OAAOlY,MAAOP,KAAUgtB,KAG5CzpB,KAAK6yG,QAAQ7yG,KAAK3G,YAI9B80J,EAAa3yJ,UAAUmiH,yBAA2B,SAAUxc,EAAItoG,GAC/B,iBAAzBmH,KAAKkH,iBAAsClH,KAAKmvJ,mBAAmB9pD,YACnErlG,KAAKmvJ,mBAAmB9pD,UAAUtjG,YAAYo/F,EAAGn/F,WAAU,IACvDhC,KAAKo1J,eACLp1J,KAAKmvJ,mBAAmBj5G,KAAKl9C,KAAKH,KAI9Cs1J,EAAa3yJ,UAAUk6J,eAAiB,WACpC,GAAI14J,GAAQgD,KAAKgtG,cAAchwG,KAC/BgD,MAAK21G,YAAc31G,KAAK88G,gBAAgB9/G,EACxC,IAAInD,GAAUmG,KAAKk2C,KAAKpzC,cAAc,gBAAkB9F,EAAQ,KAChEgD,MAAK8vG,WAAaj2G,EAClBmG,KAAKm0J,WAAWt6J,GAChBmG,KAAKotG,eAET+gD,EAAa3yJ,UAAUyhH,gBAAkB,WACrC,GAAItB,GAAe37G,KAAKk2C,KAAKpzC,cAAc,IAAM21G,GAAoBhf,SACjEkiB,IACA37G,KAAK2H,eAAgBzP,MAAS8H,KAAK88G,gBAAgBnB,EAAal1G,aAAa,iBAC7EzG,KAAK21G,YAAc31G,KAAK9H,QAGxB8H,KAAKotG,cACLptG,KAAKk2C,KAAKpzC,cAAc,IAAM21G,GAAoBtX,IAAI3oG,UAAU+L,IAAI+oJ,GAAoBjrJ,SAGhG8rJ,EAAa3yJ,UAAU4xG,YAAc,WACjC,GAAI8oD,GAAkBl2J,KAAKk2C,KAAKt7C,iBAAiB,IAAM0yJ,GAAoBjrJ,MACvE6zJ,IAAmBA,EAAgB39J,QACnCiM,EAAY0xJ,EAAiB5I,GAAoBjrJ,QAIzD8rJ,EAAa3yJ,UAAU8rH,YAAc,WACjC,GAAItnH,KAAK8jH,UAAY/oH,SAAS+R,KAAKrU,SAASuH,KAAK8jH,SAASjqH,SAEtD,WADAmG,MAAKm2J,cAGT,IAAIl2J,IAAS6vB,QAAQ,EAErB,IADA9vB,KAAKooB,QAAQ,aAAcnoB,IACvBA,EAAK6vB,OAAT,CAGA,GAAIsxH,GAAWphJ,KAAKyB,cAAc,OAC9BkC,GAAI3D,KAAKnG,QAAQ8J,GAAK,SAAUD,UAAW,kBAAqC,MAAjB1D,KAAKsU,SAAmBtU,KAAKsU,SAAW,MAEvG8hJ,EAAYp2J,KAAK21J,aAAavU,EAWlC,IAVAphJ,KAAKq2J,WAAa3zJ,EAAW1C,KAAKs2J,aAC9Bt2J,KAAKknG,gBACLlnG,KAAKu2J,kBAAkBnV,GAE3B97I,GAAQtF,KAAKk2C,MAAOkrG,GAChBphJ,KAAKsjH,gBACLtjH,KAAKwjH,kBAAkB49B,GAE3BrmJ,SAAS+R,KAAK/K,YAAYq/I,GAC1BA,EAASx8I,MAAMC,WAAa,SACH,SAArB7E,KAAKs2J,YAAwB,CAM7B,GALAt2J,KAAKw2J,gBAAkB,EAClB/4J,EAAkB24J,EAAU/5I,aAC7Brc,KAAKw2J,gBAAmBJ,EAAU/5I,wBAAyB1P,wBAAwB6K,OACnFxX,KAAKq2J,YAAc18H,SAAS35B,KAAKq2J,WAAY,IAAOr2J,KAAqB,iBAAEW,WAAa,MAExFX,KAAKknG,eAAgB,CACjB1vF,EAASpK,KAAKknG,MAAMt0G,KAAKgyB,OAAOrlB,wBAAwB6K,OAC5DxX,MAAKq2J,YAAc18H,SAAS35B,KAAKq2J,WAAY,KAAO7+I,EAASxX,KAAKw2J,kBAAkB71J,WAAa,KAErG,GAAIX,KAAKsjH,eAAgB,CACrB,GAAI9rG,GAASpK,KAAKknG,MAAMt0G,KAAK8tJ,OAAOnhJ,wBAAwB6K,OAC5DxX,MAAKq2J,YAAc18H,SAAS35B,KAAKq2J,WAAY,KAAO7+I,EAASxX,KAAKw2J,kBAAkB71J,WAAa,KAErGX,KAAKk2C,KAAKtxC,MAAMsgH,WAAavrF,SAAS35B,KAAKq2J,WAAY,IAAM,GAAG11J,WAAa,KAC7EygJ,EAASx8I,MAAMsgH,UAAYxiH,EAAW1C,KAAKs2J,iBAG3ClV,GAASx8I,MAAM4S,OAAS,MAE5B,IACIjK,GADAkpJ,EAAc,CAQlB,KANKh5J,EAAkBuC,KAAK8vG,cAAiBryG,EAAkBuC,KAAK21G,cAAgB31G,KAAK21G,aAAe,EACpG31G,KAAKwyJ,oBAGLxyJ,KAAKk2C,KAAKhpC,UAAY,EAEtBd,GAAQkc,WAActoB,KAAKuwJ,iBAA4C,iBAAzBvwJ,KAAKkH,iBAClDlH,KAAKuvJ,iBAA4C,aAAzBvvJ,KAAKkH,iBAAmC,CACjEuvJ,EAAcz2J,KAAK02J,eAAetV,EAClC,IAAIuV,GAAY32J,KAAK42J,cAAgB52J,KAAKk2C,KAAOl2C,KAAKikG,cAAc,EACpE12F,KAASosB,SAAS1rB,iBAAiB0oJ,GAAWE,WAAY,IACtDl9H,SAAS1rB,iBAAiBjO,KAAKouB,cAAc0oI,YAAa,IAC1Dn9H,SAAS1rB,iBAAiBjO,KAAKouB,aAAarY,eAAeghJ,gBAAiB,KAEpF/2J,KAAKg3J,kBACLh3J,KAAKugJ,YAAYa,EAAUqV,EAAalpJ,GACxCvN,KAAKkgH,eAAekhC,GAChBh1I,GAAQkc,WACRtoB,KAAK8jH,SAASjqH,QAAQrB,UAAU+L,IAAI+oJ,GAAoBG,SAC3B,iBAAzBztJ,KAAKkH,iBAAgE,aAAzBlH,KAAKkH,kBAC7ClH,KAAKuwJ,gBAAkBvwJ,KAAKuvJ,mBAChCvvJ,KAAK8jH,SAASlD,WAAc/oG,EAAG,MAAOC,EAAG,QAEzC9X,KAAKwxJ,mBACLxxJ,KAAK8jH,SAASjqH,QAAQrB,UAAU+L,IAAI+oJ,GAAoBO,cACxD7tJ,KAAK8jH,SAASluG,UAAaiC,EAAG,EAAGC,EAAG,GACpC9X,KAAK8jH,SAASnvF,WACd5wB,EAAW/D,KAAK8jH,SAASjqH,SAAW+K,MAAO,2CAC3CZ,GAAUjJ,SAAS+R,KAAM9M,KAAK8jH,SAASjqH,SAAUyzJ,GAAoBU,iBACrEhuJ,KAAKi3J,uBACLj3J,KAAKk3J,gBAAkBd,EAAU/5I,UAAUvZ,cAAc,gBACzD9C,KAAK61J,iBAAmBO,EAAU/5I,UAAUvZ,cAAc,IAAMwqJ,GAAoB9O,WACpF/4I,GAAalB,IAAIvE,KAAKk3J,gBAAiB,QAASl3J,KAAKm3J,gBAAiBn3J,MACtEyF,GAAalB,IAAIvE,KAAK61J,iBAAkB,QAAS71J,KAAKo0I,UAAWp0I,QAGzEohJ,EAASx8I,MAAMC,WAAa,UAC5Bb,GAAUo9I,GAAW,gBAErB,KAAK,GAAI/iJ,GAAK,EAAG+4J,EADUp3J,KAAK8jH,SAAS7oG,oBAAoBjb,KAAKqyH,aAAah2G,WACfhe,EAAK+4J,EAAuB7+J,OAAQ8F,IAAM,CACtG,GAAIxE,GAAUu9J,EAAuB/4J,EACrCoH,IAAalB,IAAI1K,EAAS,SAAUmG,KAAKqsH,cAAersH,MAExDoM,GAAQkc,UAAYtoB,KAAKwxJ,kBACzB/rJ,GAAalB,IAAIvE,KAAKk2C,KAAM,SAAUl2C,KAAKq3J,WAAYr3J,MAE3D+D,EAAW/D,KAAKw4G,iBAAmB0qC,gBAAiB,SAEpDl/I,GADkBhE,KAAKo1J,cAAgBp1J,KAAK2tJ,YAAY53I,cAAgB/V,KAAKqyH,aAAah2G,YACjEixI,GAAoBC,YAC7C,IAAI+J,IAAc1kI,KAAM,SAAUnmB,SAAU,IAC5CzM,MAAKuuJ,iBAAkB,CACvB,IAAIlgJ,IAAckpJ,MAAOv3J,KAAK8jH,SAAUh0F,QAAQ,EAAO0J,UAAW89H,EAClEt3J,MAAKooB,QAAQ,OAAQ/Z,GACjBA,EAAUyhB,SAGd9rB,GAAUhE,KAAKqyH,aAAah2G,YAAaixI,GAAoBE,gBAC7DxtJ,KAAK8jH,SAAShD,KAAK,GAAIroF,IAAUpqB,EAAUmrB,WAA6B,MAAhBx5B,KAAKo8G,OAAmBp8G,KAAKnG,QAAU,SAEnGs0J,EAAa3yJ,UAAU0kH,eAAiB,SAAUkhC,KACzCh1I,GAAQkc,UAAalc,GAAQkc,UAAuC,iBAAzBtoB,KAAKkH,kBAAsClH,KAAKuvJ,kBAC5Ep2I,GAAUioI,GACZ7oJ,OAAS,IACnB6oJ,EAASx8I,MAAMw9C,WAAazoB,SAAS1rB,iBAAiBmzI,GAAUh/F,UAAW,IAAM,OAI7F+rG,EAAa3yJ,UAAUk7J,eAAiB,SAAUtV,GAC9C,GAAIoW,GAAcvpJ,iBAAiBmzI,GAC/BqW,EAAY99H,SAAS69H,EAAYC,UAAW,IAC5CC,EAAe/9H,SAAS69H,EAAYE,aAAc,GACtD,OAAO13J,MAAKwkH,iBAAiBizC,EAAYC,IAE7CvJ,EAAa3yJ,UAAU+kJ,YAAc,SAAU1mJ,EAAS48J,EAAalpJ,GACjE,GAAIxN,GAAQC,IACZA,MAAK8jH,SAAW,GAAIzF,IAAMxkH,GACtB4d,MAAOzX,KAAK23H,WAAYpX,WAAY,WACpCvB,SAAUh/G,KAAKqyH,aAAah2G,UAAWukG,WAAa/oG,EAAG,OAAQC,EAAG,QAAU9K,QAASypJ,EACrFlnJ,UAAWvP,KAAKuP,UAAW3C,QAASW,EAAMqI,UAAYiC,EAAG,OAAQC,EAAG,UACpEskG,OAAQp8G,KAAKo8G,OACbh6G,MAAO,WACErC,EAAMsuJ,iBACPtuJ,EAAMuzJ,gBAEVvzJ,EAAMsuJ,iBAAkB,EACxBtuJ,EAAM43J,gBAEV71J,KAAM,WACF2D,GAAalB,IAAIxJ,SAAU,YAAagF,EAAM4zJ,gBAAiB5zJ,GAC/DA,EAAMosJ,aAAc,EAChBpsJ,EAAMyxJ,mBACNhtJ,GAAazE,EAAMsyH,aAAah2G,YAAaixI,GAAoBC,aACjExtJ,EAAMuuJ,eAAgB,EACtBvuJ,EAAM4tJ,YAAYtrJ,QACdtC,EAAMsyH,aAAaprG,aACnBjjB,GAAUjE,EAAMsyH,aAAaprG,aAAcqmI,GAAoBS,gBAGvEhuJ,EAAM6zJ,wBAIlBzF,EAAa3yJ,UAAUo7J,YAAc,WACjC,OAAQn5J,EAAkBuC,KAAKikG,gBAAgD,IAA9BjkG,KAAKikG,cAAc1rG,QAExE41J,EAAa3yJ,UAAUw7J,gBAAkB,aAGzC7I,EAAa3yJ,UAAUg2J,eAAiB,WACpC,MAAgC,iBAAzBxxJ,KAAKkH,iBAAsClH,KAAKuwJ,gBAE3DpC,EAAa3yJ,UAAU6wH,cAAgB,WAC/BjgH,GAAQkc,WAAuC,iBAAzBtoB,KAAKkH,kBAC1BlH,KAAKwxJ,kBAA+C,aAAzBxxJ,KAAKkH,kBAAmClH,KAAKuwJ,gBAAkBvwJ,KAAKuvJ,kBAChGvvJ,KAAK8wJ,YAEL9wJ,KAAKkV,OAAOmvF,UAAY5mG,EAAkBuC,KAAKk8G,sBAC/Cl8G,KAAKk8G,mBAAmBt3G,MAAMw3G,OAAS,IACvCp8G,KAAKk8G,mBAAmBt3G,MAAMyhD,QAAU,SAGhD8nG,EAAa3yJ,UAAUy7J,qBAAuB,WAC1C,GAAIT,GAAkBx2J,KAAK2tJ,YAAY53I,cAAcpJ,wBAAwB6K,MAC7ExX,MAAK8jH,SAASjqH,QAAQ+K,MAAMsgH,UAAY,OACxCllH,KAAK8jH,SAASjqH,QAAQ+K,MAAM6S,MAAQ,OACpCzX,KAAKk2C,KAAKtxC,MAAMsgH,UAAalpH,OAAO+e,YAAcy7I,EAAmB,KACrEx2J,KAAKk2C,KAAKtxC,MAAM4S,OAAUxb,OAAO+e,YAAcy7I,EAAmB,IAClE,IAAIoB,GAAe53J,KAAK2tJ,YAAY53I,cAAcjT,cAAc,IAAMwqJ,GAAoB9O,UAC1Fj5I,GAAOvF,KAAK2tJ,aACZiK,EAAa7hJ,cAAc3Q,aAAapF,KAAK2tJ,YAAaiK,IAE9DzJ,EAAa3yJ,UAAUgpH,iBAAmB,SAAUqzC,GAChD,GAAIpB,GACAqB,EAAcD,EACd/nD,EAAa9vG,KAAKk2C,KAAKpzC,cAAc,IAAMwqJ,GAAoBjrJ,QAAUrC,KAAK8vG,WAC9E6mD,EAAY32J,KAAK42J,cAAgB52J,KAAKk2C,KAAOl2C,KAAKikG,cAAc,GAChE8zD,EAAW/3J,KAAK42J,cAAgB52J,KAAKk2C,KAAOl2C,KAAKikG,cAAcjkG,KAAK+8G,WAAWxkH,OAAS,GACxF+jH,EAAWq6C,EAAUhqJ,wBAAwB6K,OAC7C6+I,EAAar2J,KAAKk2C,KAAK2N,aAAe,EACtCrsC,EAAS/Z,EAAkBqyG,GAAc6mD,EAAU7gJ,UAAYg6F,EAAWh6F,SAE9E,IAD0BiiJ,EAASjiJ,UACTugJ,EAAa7+I,IAAW/Z,EAAkBuC,KAAKikG,gBACrEjkG,KAAKikG,cAAc1rG,OAAS,IAAMkF,EAAkBqyG,GAAa,CACjE,GAAIlwF,GAAQ5f,KAAKk2C,KAAK2N,aAAey4D,EACjC07C,EAAgBr+H,SAAS1rB,iBAAiBjO,KAAKk2C,MAAM8hH,cAAe,GACxEvB,IAAe72I,GAAS5f,KAAKikG,cAAc1rG,OAASyH,KAAK21G,cAAgB2G,EAAWw7C,EAAcE,EAClGh4J,KAAKk2C,KAAKhpC,UAAY4iG,EAAWh6F,cAE5B0B,GAAS6+I,GACdI,EAAcJ,EAAa/5C,EAAW,EACtCt8G,KAAKk2C,KAAKhpC,UAAYsK,EAAS6+I,EAAa/5C,EAAW,GAGvDm6C,EAAcj/I,CAIlB,SADAi/I,EAAcA,EAAcn6C,EAAWw7C,GAAgBx7C,EADrCt8G,KAAKqyH,aAAah2G,UAAUwnC,cACmC,IAGrFsqG,EAAa3yJ,UAAUm8H,SAAW,WAC9B,GAAIlgH,GAAQ/U,EAAW1C,KAAKi4J,WAK5B,IAJIxgJ,EAAMjZ,QAAQ,MAAQ,IAEtBiZ,GADiBzX,KAAKqyH,aAAah2G,UAAUvX,YAAcgb,WAAWrI,GAAS,KAC5D9W,WAAa,MAEhCyL,GAAQkc,WAActoB,KAAKuwJ,iBAA4C,iBAAzBvwJ,KAAKkH,iBAClDlH,KAAKuvJ,iBAA4C,aAAzBvvJ,KAAKkH,iBAAmC,CACjE,GAAIyvJ,GAAY32J,KAAK42J,cAAgB52J,KAAKk2C,KAAOl2C,KAAKikG,cAAc,EACpExsF,GAASkiB,SAASliB,EAAO,IAE8D,GAFvDkiB,SAAS1rB,iBAAiB0oJ,GAAWE,WAAY,IAC7El9H,SAAS1rB,iBAAiBjO,KAAKouB,cAAc0oI,YAAa,IAC1Dn9H,SAAS1rB,iBAAiBjO,KAAKouB,aAAarY,eAAeghJ,gBAAiB,KAAY,KAEhG,MAAOt/I,IAEX02I,EAAa3yJ,UAAU08J,aAAe,SAAU/sI,GAC5C,GAAIgtI,GAAgBn4J,KAAKk2C,KAAK2N,aAC1Bu0G,EAAap4J,KAAK8vG,WAAWh6F,UAAY9V,KAAK8vG,WAAWjsD,aAAe7jD,KAAKk2C,KAAKhpC,UAClFmrJ,EAAar4J,KAAKk2C,KAAKhpC,UAAYkrJ,EAAaD,CACpDE,GAAaltI,EAAYktI,EAAoE,EAAvD1+H,SAAS1rB,iBAAiBjO,KAAKk2C,MAAMoiH,WAAY,IAAUD,CACjG,IAAIE,GAAWv4J,KAAK8vG,WAAWh6F,UAAY9V,KAAK8vG,WAAWjsD,aAAe7jD,KAAKk2C,KAAKhpC,SACpFqrJ,GAAWv4J,KAAKkV,OAAOmvF,UAAY5mG,EAAkBuC,KAAKk8G,oBACtDq8C,EAAWv4J,KAAKk8G,mBAAmBr4D,aAAe00G,EAC7B,IAArBv4J,KAAK21G,YACL31G,KAAKk2C,KAAKhpC,UAAY,GAEjBkrJ,EAAaD,KAAmBI,EAAW,GAAKv4J,KAAKk2C,KAAK2N,aAAe00G,MAC9Ev4J,KAAKk2C,KAAKhpC,UAAYmrJ,IAG9BlK,EAAa3yJ,UAAU0R,UAAY,WAC/B,GAAImrJ,GAAar4J,KAAK8vG,WAAWh6F,UAAY9V,KAAKk2C,KAAKhpC,SACtClN,MAAK8vG,WAAWh6F,UAAY9V,KAAK8vG,WAAWjsD,aAAe7jD,KAAKk2C,KAAKhpC,SACtFmrJ,GAAar4J,KAAKkV,OAAOmvF,UAAY5mG,EAAkBuC,KAAKk8G,oBACxDm8C,EAAar4J,KAAKk8G,mBAAmBr4D,aAAew0G,CACxD,IAAIE,GAAYv4J,KAAK8vG,WAAWh6F,UAAY9V,KAAK8vG,WAAWjsD,aAAe7jD,KAAKk2C,KAAKhpC,SAC5D,KAArBlN,KAAK21G,YACL31G,KAAKk2C,KAAKhpC,UAAY,EAEjBmrJ,EAAa,EAClBr4J,KAAKk2C,KAAKhpC,UAAYlN,KAAKk2C,KAAKhpC,UAAYmrJ,EAErCE,EAAW,GAAKv4J,KAAKk2C,KAAK2N,aAAe00G,IAChDv4J,KAAKk2C,KAAKhpC,UAAYlN,KAAK8vG,WAAWh6F,WAAa9V,KAAKkV,OAAOmvF,UAAY5mG,EAAkBuC,KAAKk8G,oBAC9Fl8G,KAAKk8G,mBAAmBr4D,aAAe,KAGnDsqG,EAAa3yJ,UAAUs3J,cAAgB,WACnC,OAAO,GAEX3E,EAAa3yJ,UAAU45J,YAAc,WACjC,MAAOp1J,MAAKuwJ,gBAEhBpC,EAAa3yJ,UAAUg9J,cAAgB,WACnC,OAAO,GAEXrK,EAAa3yJ,UAAUg3J,kBAAoB,SAAUpxJ,GACjD,GAAK3D,EAAkB2D,GAanBpB,KAAKk4J,cAAa,OAZlB,QAAQ92J,EAAE8pD,QACN,IAAK,WACL,IAAK,OACL,IAAK,MACDlrD,KAAKk4J,cACL,MACJ,SACIl4J,KAAKkN,cAQrBihJ,EAAa3yJ,UAAU44I,UAAY,WAC/Bp0I,KAAK2tJ,YAAY3wJ,MAAQ,GACzBgD,KAAK+0J,YAAY,OAErB5G,EAAa3yJ,UAAU67J,WAAa,WAChCr3J,KAAK2tJ,YAAYvkB,QAErB+kB,EAAa3yJ,UAAU8kJ,WAAa,SAAUzgJ,GAE1C,GADAG,KAAK0uJ,SAAU,EACT1uJ,KAAK8jH,UAAY/oH,SAAS+R,KAAKrU,SAASuH,KAAK8jH,SAASjqH,UAAYmG,KAAKuuJ,gBAA7E,CAGA9oJ,GAAaf,OAAO3J,SAAU,YAAaiF,KAAK2zJ,iBAChD3zJ,KAAKo7G,UAAW,EAChBp7G,KAAK0yJ,eAAiB,KACtB1yJ,KAAKuvJ,iBAAkB,EACvBvvJ,KAAK6uJ,iBAAkB,CAEvB,KAAK,GAAIxwJ,GAAK,EAAGo6J,EADcz4J,KAAK8jH,SAAS7oG,oBAAoBjb,KAAKqyH,aAAah2G,WACXhe,EAAKo6J,EAA2BlgK,OAAQ8F,IAAM,CAClH,GAAIxE,GAAU4+J,EAA2Bp6J,EACzCoH,IAAaf,OAAO7K,EAAS,SAAUmG,KAAKqsH,eAE5CjgH,GAAQkc,UAAYtoB,KAAKwxJ,mBACzBhtJ,GAAazJ,SAAS+R,KAAM9M,KAAK8jH,SAASjqH,SAAUyzJ,GAAoBU,iBACxEvoJ,GAAaf,OAAO1E,KAAKk2C,KAAM,SAAUl2C,KAAKq3J,aAE9Cr3J,KAAKwxJ,mBACAplJ,GAAQkc,WACTtoB,KAAK81J,gBAAgBjiJ,UACjB7T,KAAK61J,kBACLpwJ,GAAaf,OAAO1E,KAAK61J,iBAAkB,QAAS71J,KAAKo0I,YAG7Dp0I,KAAKk3J,kBACLzxJ,GAAaf,OAAO1E,KAAKk3J,gBAAiB,QAASl3J,KAAKm3J,iBACxD1xJ,GAAaf,OAAO1E,KAAK61J,iBAAkB,QAAS71J,KAAKo0I,YAE7D3uI,GAAaf,OAAO1E,KAAK2tJ,YAAa,QAAS3tJ,KAAK+1J,SACpDtwJ,GAAaf,OAAO1E,KAAK2tJ,YAAa,QAAS3tJ,KAAK80J,YACpDrvJ,GAAaf,OAAO1E,KAAK2tJ,YAAa,UAAW3tJ,KAAKg1J,cACtDvvJ,GAAaf,OAAO1E,KAAK2tJ,YAAa,OAAQ3tJ,KAAKuxJ,QACnDvxJ,KAAK2tJ,YAAc,MAEvB5pJ,EAAW/D,KAAKw4G,iBAAmB0qC,gBAAiB,QAAS3O,wBAAyB,OACtFv0I,KAAKqyH,aAAah2G,UAAU7jB,UAAUkM,OAAO4oJ,GAAoBE,eAC7DxtJ,KAAKo1J,gBACLp1J,KAAKmvJ,mBAAmBC,WAAY,GAExCpvJ,KAAKuuJ,iBAAkB,CACvB,IAAI+I,IACA1kI,KAAM,UACNnmB,SAAU,IACV5M,MAAOA,GAAgB,GAEvBwO,GAAckpJ,MAAOv3J,KAAK8jH,SAAUh0F,QAAQ,EAAO0J,UAAW89H,EAClEt3J,MAAKooB,QAAQ,QAAS/Z,GAClBA,EAAUyhB,SAGe,iBAAzB9vB,KAAKkH,iBACLlH,KAAKs9G,YAELt9G,KAAKmsJ,YACLnsJ,KAAK8jH,SAAS7E,KAAK,GAAIxmF,IAAUpqB,EAAUmrB,YAG3Cx5B,KAAK23J,kBAGbxJ,EAAa3yJ,UAAUm8J,aAAe,WAClC33J,KAAKmsJ,aAAc,EACnBnsJ,KAAKsuJ,eAAgB,EACrBtuJ,KAAK8jH,SAASjwG,UACdtO,EAAOvF,KAAK8jH,SAASjqH,UAEzBs0J,EAAa3yJ,UAAU27J,gBAAkB,WACrCn3J,KAAK8wJ,YACL9wJ,KAAKuzH,WAMT46B,EAAa3yJ,UAAU+iD,OAAS,WACC,UAAzBv+C,KAAKnG,QAAQyJ,QACbtD,KAAKouB,aAAepuB,KAAKnG,SAGzBmG,KAAKouB,aAAepuB,KAAKyB,cAAc,SACnCzB,KAAKnG,QAAQyJ,UAAYtD,KAAKgxJ,mBAC9BhxJ,KAAKnG,QAAQ+K,MAAMyhD,QAAU,QAEjCrmD,KAAKnG,QAAQkc,cAAc3Q,aAAapF,KAAKouB,aAAcpuB,KAAKnG,SAChEmG,KAAK+wJ,gBAAgB/wJ,KAAKouB,eAE9BpuB,KAAKqyH,aAAe/kG,GAAMkgG,aACtB3zH,QAASmG,KAAKouB,aACds0F,QAAS1iH,KAAKw4J,iBAAmBlL,GAAoBjsD,MAAQ,KAC7D14E,eAAgB3oB,KAAK2oB,eACrBplB,YACIkrH,SAAmC,iBAAzBzuH,KAAKkH,iBAA4ClH,KAAKyuH,SAChE/lG,YAAa1oB,KAAK0oB,YAClBpU,SAAUtU,KAAKsU,SACfsS,QAAS5mB,KAAK4mB,QACdrX,UAAWvP,KAAKuP,UAChBwX,gBAAiB/mB,KAAK+mB,kBAE3B/mB,KAAKyB,eACJzB,KAAKnG,QAAQyJ,UAAYtD,KAAKgxJ,iBAC9BhxJ,KAAKnG,QAAQkI,YAAY/B,KAAKqyH,aAAah2G,WAG3Crc,KAAKouB,aAAarY,cAAc3Q,aAAapF,KAAKnG,QAASmG,KAAKouB,cAEpEpuB,KAAKkuJ,cAAgBluJ,KAAKyB,cAAc,UACpCqC,OAASknH,cAAe,OAAQ3Z,SAAY,KAAMlM,MAASmoD,GAAoBY,iBAEnFnpJ,GAAS/E,KAAKkuJ,eAAgBluJ,KAAKqyH,aAAah2G,WAChDrc,KAAK69G,oBAAoB79G,KAAKnG,QAASmG,KAAKkuJ,eAC5CluJ,KAAKg9G,YACLh9G,KAAKqyH,aAAah2G,UAAUzX,MAAM6S,MAAQ/U,EAAW1C,KAAKyX,OAC1DzX,KAAKqyH,aAAah2G,UAAU7jB,UAAU+L,IAAI,SAC1CvE,KAAK6xJ,YACL7xJ,KAAK4lH,SAAW5lH,KAAKnG,QAAQyoH,aAAa,YAActiH,KAAKnG,QAAQ4M,aAAa,YAAc,IAChGzG,KAAKnG,QAAQyS,gBAAgB,WAC7B,IAAI3I,GAAK3D,KAAKnG,QAAQ4M,aAAa,MAAQzG,KAAKnG,QAAQ4M,aAAa,MAAQjH,EAAY,mBAMzF,IALAQ,KAAKnG,QAAQ8J,GAAKA,EAClB3D,KAAKkuJ,cAAcvqJ,GAAKA,EAAK,UAC7B3D,KAAKw4G,gBAAgB30G,aAAa,WAAY7D,KAAK4lH,UACnD7hH,EAAW/D,KAAKw4G,gBAAiBx4G,KAAK6wJ,qBACtC7wJ,KAAK0wJ,oBACc,OAAf1wJ,KAAKhD,OAAuC,OAArBgD,KAAK21G,aAAsC,OAAd31G,KAAKvG,KACzDuG,KAAKoxJ,gBAEJ,IAA6B,WAAzBpxJ,KAAKnG,QAAQyJ,SAAwBtD,KAAKnG,QAAQwa,QAAQ,GAAI,CACnE,GAAIqkJ,GAAgB14J,KAAKnG,OACzBmG,MAAKhD,MAAQ07J,EAAcrkJ,QAAQqkJ,EAAc9gK,eAAeoF,MAChEgD,KAAKvG,KAAOgE,EAAkBuC,KAAKhD,OAAS,KAAO07J,EAAcrkJ,QAAQqkJ,EAAc9gK,eAAe8B,YACtGsG,KAAKoxJ,YAETpxJ,KAAK+wJ,gBAAgB/wJ,KAAKnG,SACrBmG,KAAK4mB,UACN5mB,KAAKw4G,gBAAgBoN,UAAY,GAErC5lH,KAAK6uH,SAAU,EACf7uH,KAAKnG,QAAQ+K,MAAM2J,QAAU,GAC7BvO,KAAKouB,aAAauqI,SAAW,SAAUv3J,GAAKA,EAAEw3J,4BAC9C54J,KAAKouB,aAAayqI,SAAW,SAAUz3J,GAAKA,EAAEw3J,4BAC1C54J,KAAKnG,QAAQyoH,aAAa,cAC1BtiH,KAAKuzH,WAIb46B,EAAa3yJ,UAAUgoH,kBAAoB,SAAU49B,GACjD,GAAI97C,EACAtlG,MAAK8tJ,OACL9tJ,KAAK8tJ,OAAOtzJ,UAAY,IAGxBwF,KAAK8tJ,OAAS9tJ,KAAKyB,cAAc,OACjCuC,GAAUhE,KAAK8tJ,QAASR,GAAoBQ,QAGhD,KAAK,GAAIzvJ,GAAK,EAAG2E,GADjBsiG,EAAiB/0F,GAAQvQ,KAAKsjH,qBACYjlH,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAC5D,GAAIxF,GAAOmK,EAAG3E,EACd2B,MAAK8tJ,OAAO/rJ,YAAYlJ,GAE5ByM,GAAQtF,KAAK8tJ,QAAS1M,IAE1B+M,EAAa3yJ,UAAU+6J,kBAAoB,SAAUnV,GACjD,GAAI97C,EACAtlG,MAAKgyB,OACLhyB,KAAKgyB,OAAOx3B,UAAY,IAGxBwF,KAAKgyB,OAAShyB,KAAKyB,cAAc,OACjCuC,GAAUhE,KAAKgyB,QAASs7H,GAAoBt7H,QAGhD,KAAK,GAAI3zB,GAAK,EAAG2E,GADjBsiG,EAAiB/0F,GAAQvQ,KAAKknG,qBACY7oG,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAC5D,GAAIxF,GAAOmK,EAAG3E,EACd2B,MAAKgyB,OAAOjwB,YAAYlJ,GAE5B,GAAIisH,GAAas8B,EAASt+I,cAAc,gBACxCs+I,GAASh8I,aAAapF,KAAKgyB,OAAQ8yF,IAEvCqpC,EAAa3yJ,UAAUs9J,WAAa,SAAUr/J,GAC1CuG,KAAKvG,KAAOA,GAEhB00J,EAAa3yJ,UAAUu9J,YAAc,SAAU/7J,GAC3CgD,KAAKhD,MAAQA,GAEjBmxJ,EAAa3yJ,UAAU26J,aAAe,WAC7B14J,EAAkBuC,KAAK8jH,YAAa/oH,SAAS+R,KAAKrU,SAASuH,KAAK8jH,SAASjqH,YACxEmG,KAAKuwJ,gBAAoBnkJ,GAAQkc,UAAYtoB,KAAKwxJ,mBAA+C,iBAAzBxxJ,KAAKkH,iBAC/ElH,KAAK8jH,SAASxF,gBAAgBt+G,KAAKqyH,aAAah2G,YAGxD8xI,EAAa3yJ,UAAU0hH,iBAAmB,SAAUhyG,GAGhD,GAFAlL,KAAKonB,MAAM,KAAMlc,GACjBlL,KAAK46G,UAAU56G,KAAKyyF,aACfzyF,KAAKyvJ,iBAAmBzvJ,KAAKsuJ,eAAiBvzJ,SAASu0G,gBAAkBtvG,KAAK2tJ,YAAa,CAC5F3tJ,KAAK3G,SAAW2G,KAAK+9G,eAAe/9G,KAAKhD,MACzC,IAAIiY,GAAWjV,KAAKgtG,aACpBhtG,MAAK2H,eAAgB3K,MAASiY,EAASjY,MAAOvD,KAAQwb,EAASxb,SAOvE00J,EAAa3yJ,UAAU05B,kBAAoB,SAAUwF,EAASC,GAC1D36B,KAAKm9G,kBAAkB,QAAS,cAAeziF,EAC/C,KAAK,GAAIr8B,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAKo9B,GAAUr8B,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAC9D,GAAI6M,GAAOlI,EAAG3E,EACd,QAAQ6M,GACJ,IAAK,QACL,IAAK,aACD,KACJ,KAAK,iBACDlL,KAAK0wJ,mBACL,MACJ,KAAK,QACDhqJ,EAAkB1G,KAAKqyH,aAAah2G,WAAa5E,MAAS/U,EAAWg4B,EAAQjjB,QAC7E,MACJ,KAAK,cACD6V,GAAMihG,eAAe7zF,EAAQhS,YAAa1oB,KAAKouB,aAC/C,MACJ,KAAK,uBACGpuB,KAAK2tJ,aACLrgI,GAAMihG,eAAe7zF,EAAQk7H,qBAAsB51J,KAAK2tJ,YAE5D,MACJ,KAAK,WAC4B,iBAAzB3tJ,KAAKkH,iBACLomB,GAAMkhG,YAAY9zF,EAAQ+zF,SAAUzuH,KAAKouB,aAE7C,MACJ,KAAK,WACDpuB,KAAKsuH,YAAY5zF,EAASC,EAC1B,MACJ,KAAK,YACD36B,KAAKw6G,cACL,MACJ,KAAK,UACDx6G,KAAKopG,WACL,MACJ,KAAK,OACD,GAAqB,OAAjB1uE,EAAQjhC,KAAe,CACvBuG,KAAKonB,OACL,OAQJ,GANKpnB,KAAKk2C,OACFl2C,KAAKyyF,qBAAsB93B,MAC3B36D,KAAKwuJ,kBAAmB,GAE5BxuJ,KAAKgxG,eAEJhxG,KAAKwuJ,iBAAkB,CACxB,GAAIrtD,GAAKnhG,KAAKixJ,iBAAiBv2H,EAAQjhC,KACnCuG,MAAK+rG,UAAU5K,GACfnhG,KAAKywJ,aAAatvD,EAAI,MAGtBnhG,KAAK84J,WAAWn+H,EAAQlhC,MAGhC,KACJ,KAAK,QACD,GAAsB,OAAlBihC,EAAQ19B,MAAgB,CACxBgD,KAAKonB,OACL,OASJ,GAPApnB,KAAK+O,OAAO,qBAAuB2rB,QAASA,IACvC16B,KAAKk2C,OACFl2C,KAAKyyF,qBAAsB93B,MAC3B36D,KAAKwuJ,kBAAmB,GAE5BxuJ,KAAKgxG,eAEJhxG,KAAKwuJ,iBAAkB,CACxB,GAAI31J,GAAOmH,KAAKkxJ,kBAAkBx2H,EAAQ19B,MACtCgD,MAAK+rG,UAAUlzG,GACfmH,KAAKywJ,aAAa53J,EAAM,MAGxBmH,KAAK+4J,YAAYp+H,EAAQ39B,OAGjC,KACJ,KAAK,QACD,GAAsB,OAAlB09B,EAAQxiC,MAAgB,CACxB8H,KAAKonB,OACL,OAQJ,GANKpnB,KAAKk2C,OACFl2C,KAAKyyF,qBAAsB93B,MAC3B36D,KAAKwuJ,kBAAmB,GAE5BxuJ,KAAKgxG,eAEJhxG,KAAKwuJ,iBAAkB,CACxB,GAAI30J,GAAUmG,KAAKikG,cAAcvpE,EAAQxiC,MACrC8H,MAAK+rG,UAAUlyG,GACfmG,KAAKywJ,aAAa52J,EAAS,MAG3BmG,KAAK9H,MAAQyiC,EAAQziC,MAG7B,KACJ,KAAK,iBACG8H,KAAK8jH,UACL9jH,KAAKwjH,kBAAkBxjH,KAAK8jH,SAASjqH,QAEzC,MACJ,KAAK,iBACGmG,KAAK8jH,UACL9jH,KAAKu2J,kBAAkBv2J,KAAK8jH,SAASjqH,QAEzC,MACJ,KAAK,gBACI4D,EAAkBuC,KAAK3G,WAAmC,MAAtB2G,KAAKs0J,eAC1Ct0J,KAAKu0J,kBAET,MACJ,KAAK,iBACDjnI,GAAMuB,eAAe7uB,KAAKqyH,cAC1B/kG,GAAMsiG,YAAY5vH,KAAKouB,aAAcsM,EAAQ/R,eAAgB3oB,KAAK0oB,YAAa1oB,KAAKyB,cACpF,MACJ,KAAK,kBACD6rB,GAAMugG,eAAenzF,EAAQ3T,gBAAiB/mB,KAAKouB,aAAcpuB,KAAKqyH,aAAc,KAAMryH,KAAKyB,eAC/FzB,KAAK6mB,gBACL,MACJ,SACI,GAAImyI,OAAW,EACfA,GAAWh5J,KAAKg5G,cAAc9tG,EAAMwvB,EAASC,GAC7CjC,EAAOl9B,UAAU05B,kBAAkBt0B,KAAKZ,KAAMg5J,EAAS//C,YAAa+/C,EAAS9/C,gBAK7Fi1C,EAAa3yJ,UAAU8yH,YAAc,SAAU5zF,EAASC,GACpD36B,KAAKqyH,aAAah2G,UAAU7jB,UAAUkM,OAAOi2B,EAAQrmB,UACrDgZ,GAAMghG,YAAY5zF,EAAQpmB,UAAWtU,KAAKqyH,aAAah2G,YACnDrc,KAAK8jH,WACL9jH,KAAK8jH,SAASjqH,QAAQrB,UAAUkM,OAAOi2B,EAAQrmB,UAC/CtU,KAAK8jH,SAASjqH,QAAQrB,UAAU+L,IAAIm2B,EAAQpmB,YAOpD65I,EAAa3yJ,UAAU0L,cAAgB,WACnC,MAAO,gBAMXinJ,EAAa3yJ,UAAU63J,UAAY,WAC/B,GAAKrzJ,KAAK4mB,QAAV,CAGA,GAAI5mB,KAAKuuJ,gBAEL,WADAvuJ,MAAKm2J,cAWT,IARAn2J,KAAKuuJ,iBAAkB,EACnBvuJ,KAAKo1J,gBAAkBp1J,KAAKo7G,UAAYp7G,KAAKmvJ,mBAAmBj5G,MAAQl2C,KAAKmvJ,mBAAmBj5G,KAAK,IACrGl2C,KAAKo7G,UAAW,EAChBp7G,KAAKs7G,iBAAiBt7G,KAAKmvJ,mBAAmB9pD,UAAWrlG,KAAKmvJ,mBAAmBj5G,KAAM,MAAM,KAExFz4C,EAAkBuC,KAAKk2C,QAAU/4C,EAAY6C,KAAKk2C,OAASl2C,KAAKk2C,KAAK19C,UAAUC,SAASggH,GAAoBE,UACjH34G,KAAKgxG,aAEL5kG,GAAQkc,UAAYtoB,KAAKwxJ,iBAAkB,CAC3C,GAAIyH,GAAUj5J,IACdhE,QAAOk9J,WAAa,WAChBD,EAAQnI,aAEZxxG,QAAQ65G,aAAc,IAErB17J,EAAkBuC,KAAKk2C,KAAKr6B,SAAS,MAAO7b,KAAKk2C,KAAK19C,UAAUC,SAASggH,GAAoBE,SAC9F34G,KAAKsnH,cAETvjH,EAAW/D,KAAKw4G,iBAAmB+7B,wBAAyBv0I,KAAK8vG,WAAa9vG,KAAK8vG,WAAWnsG,GAAK,SAMvGwqJ,EAAa3yJ,UAAUs1J,UAAY,WAC3B9wJ,KAAKgvJ,aAAwC,iBAAzBhvJ,KAAKkH,kBACzBomB,GAAMlwB,SAAS4C,KAAKvG,KAAMuG,KAAKouB,aAAcpuB,KAAK2oB,eAAgB3oB,KAAK+mB,iBACvE/mB,KAAKgvJ,aAAc,EACdvxJ,EAAkBuC,KAAK9H,OAQxB8H,KAAKswJ,kBAPLtwJ,KAAK8vG,WAAa9vG,KAAKikG,cAAcjkG,KAAK9H,OAC1C8H,KAAK+zJ,mBAAmB/zJ,KAAK8vG,WAAY,MAAM,GAC3C9vG,KAAKs0J,eAAmC,OAAlBt0J,KAAK3G,UAC3B2G,KAAKu0J,qBAOjBv0J,KAAKsgJ,YACL,IAAIrrI,GAAWjV,KAAKgtG,aACmB,MAAnChtG,KAAKouB,aAAapxB,MAAMyU,QAAkBzR,KAAK6vG,eAAiB7vG,KAAKsvJ,iBACpE7xJ,EAAkBuC,KAAK8vG,aAAe9vG,KAAKouB,aAAapxB,QAAUiY,EAASxb,QAC5EuG,KAAKsvJ,gBAAiB,EACtBtvJ,KAAKonB,UAOb+mI,EAAa3yJ,UAAU+3H,QAAU,WAC7B,GAAKvzH,KAAK4mB,UAGN5mB,KAAKw4G,gBAAgBhgH,UAAUC,SAAS60J,GAAoBhlD,SAAhE,CAGA,GAAI6qB,IAAY,CACZnzH,MAAK4uJ,cAAgBxiJ,GAAQkc,WAC7BtoB,KAAKqyH,aAAah2G,UAAUupG,SAAW,EACvC5lH,KAAKqyH,aAAah2G,UAAUha,QAC5BrC,KAAK4uJ,cAAe,EACpBz7B,GAAY,GAEXA,GACDnzH,KAAKw4G,gBAAgBn2G,QAEzB2B,GAAUhE,KAAKqyH,aAAah2G,YAAaixI,GAAoBC,aAC7DvtJ,KAAK2xJ,YAMTxD,EAAa3yJ,UAAUg4H,SAAW,WACzBxzH,KAAK4mB,UAGV5mB,KAAK0uJ,SAAU,EACf1uJ,KAAK8wJ,YACL9wJ,KAAKw4G,gBAAgB4wB,OACrB5kI,GAAaxE,KAAKqyH,aAAah2G,YAAaixI,GAAoBC,eAOpEY,EAAa3yJ,UAAUqY,QAAU,WAC7B,GAAI9T,GAAQC,IACZA,MAAKo7G,UAAW,EAChBp7G,KAAK8wJ,YACL9wJ,KAAKyzJ,cACDzzJ,KAAKk2C,MACLl2C,KAAK0zJ,mBAEL1zJ,KAAKnG,UAAYmG,KAAKnG,QAAQrB,UAAUC,SAAS,KAAOuH,KAAKkH,oBAGhD,WAAY,gBAAiB,mBAC1C,cAAe,YAAa,kBAAmB,gBAAiB,gBAChE,wBAAyB,eAAgB,gBAAiB,cAC1D,iBAAkB,aAAc,qBAC1B9H,QAAQ,SAAUpC,GACxB+C,EAAMquB,aAAa9hB,gBAAgBtP,KAEvCgD,KAAKouB,aAAavqB,aAAa,WAAY7D,KAAK4lH,UAChD5lH,KAAKouB,aAAa51B,UAAUkM,OAAO,WACnC4oB,GAAMlwB,SAAS,GAAI4C,KAAKouB,aAAcpuB,KAAK2oB,eAAgB3oB,KAAK+mB,iBAChE/mB,KAAKnG,QAAQ+K,MAAMyhD,QAAU,QACzBrmD,KAAKqyH,aAAah2G,UAAUtG,cAAczS,UAAYtD,KAAKgxJ,iBAC3DzrJ,EAAOvF,KAAKqyH,aAAah2G,YAGzBrc,KAAKqyH,aAAah2G,UAAUtG,cAAc3Q,aAAapF,KAAKnG,QAASmG,KAAKqyH,aAAah2G,WACvF9W,EAAOvF,KAAKqyH,aAAah2G,YAE7Bqc,EAAOl9B,UAAUqY,QAAQjT,KAAKZ,QAOlCmuJ,EAAa3yJ,UAAUuhH,SAAW,WAO9B,MANK/8G,MAAKk2C,OACFl2C,KAAKyyF,qBAAsB93B,MAC3B36D,KAAKwuJ,kBAAmB,GAE5BxuJ,KAAKgxG,cAEFhxG,KAAKqlG,UAAY3sE,EAAOl9B,UAAUuhH,SAASn8G,KAAKZ,MAAQ,MAEnEi4B,IACIrvB,GAAS,OACVulJ,EAAa3yJ,UAAW,eAAY,IACvCy8B,IACIrvB,GAAS,SACVulJ,EAAa3yJ,UAAW,YAAS,IACpCy8B,IACIrvB,GAAS,UACVulJ,EAAa3yJ,UAAW,kBAAe,IAC1Cy8B,IACIrvB,GAAS,SACVulJ,EAAa3yJ,UAAW,iBAAc,IACzCy8B,IACIrvB,GAAS,OACVulJ,EAAa3yJ,UAAW,kBAAe,IAC1Cy8B,IACIrvB,GAAS,OACVulJ,EAAa3yJ,UAAW,2BAAwB,IACnDy8B,IACIrvB,QACDulJ,EAAa3yJ,UAAW,qBAAkB,IAC7Cy8B,IACIrvB,GAAS,OACVulJ,EAAa3yJ,UAAW,YAAS,IACpCy8B,IACIrvB,GAAS,OACVulJ,EAAa3yJ,UAAW,oBAAiB,IAC5Cy8B,IACIrvB,GAAS,OACVulJ,EAAa3yJ,UAAW,qBAAkB,IAC7Cy8B,IACIrvB,GAAS,OACVulJ,EAAa3yJ,UAAW,qBAAkB,IAC7Cy8B,IACIrvB,IAAS,IACVulJ,EAAa3yJ,UAAW,qBAAkB,IAC7Cy8B,IACIrvB,IAAS,IACVulJ,EAAa3yJ,UAAW,eAAY,IACvCy8B,IACIrvB,GAAS,OACVulJ,EAAa3yJ,UAAW,WAAQ,IACnCy8B,IACIrvB,GAAS,OACVulJ,EAAa3yJ,UAAW,YAAS,IACpCy8B,IACIrvB,GAAS,OACVulJ,EAAa3yJ,UAAW,YAAS,IACpCy8B,IACIrvB,GAAS,UACVulJ,EAAa3yJ,UAAW,qBAAkB,IAC7Cy8B,IACIrvB,IAAS,IACVulJ,EAAa3yJ,UAAW,sBAAmB,IAC9Cy8B,IACIxuB,MACD0kJ,EAAa3yJ,UAAW,gBAAa,IACxCy8B,IACIxuB,MACD0kJ,EAAa3yJ,UAAW,aAAU,IACrCy8B,IACIxuB,MACD0kJ,EAAa3yJ,UAAW,iBAAc,IACzCy8B,IACIxuB,MACD0kJ,EAAa3yJ,UAAW,WAAQ,IACnCy8B,IACIxuB,MACD0kJ,EAAa3yJ,UAAW,YAAS,IACpCy8B,IACIxuB,MACD0kJ,EAAa3yJ,UAAW,WAAQ,IACnCy8B,IACIxuB,MACD0kJ,EAAa3yJ,UAAW,YAAS,IACpC2yJ,EAAel2H,IACXluB,IACDokJ,IAELp1C,IC/mEEthF,GAAwC,WACxC,GAAIC,GAAgBn5B,OAAOo5B,iBACpBC,uBAA2Bn5B,QAAS,SAAUo5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAExwB,eAAeywB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOh4B,KAAKnC,YAAcg6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAEr8B,UAAkB,OAANs8B,EAAav5B,OAAOgN,OAAOusB,IAAME,EAAGx8B,UAAYs8B,EAAEt8B,UAAW,GAAIw8B,QAGnFC,GAA0C,SAAUC,EAAYrvB,EAAQxL,EAAK86B,GAC7E,GAA2HN,GAAvHO,EAAIn5B,UAAU1G,OAAQ8/B,EAAID,EAAI,EAAIvvB,EAAkB,OAATsvB,EAAgBA,EAAO55B,OAAO+5B,yBAAyBzvB,EAAQxL,GAAO86B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYrvB,EAAQxL,EAAK86B,OACpH,KAAK,GAAI9/B,GAAI6/B,EAAW3/B,OAAS,EAAGF,GAAK,EAAGA,KAASw/B,EAAIK,EAAW7/B,MAAIggC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAEhvB,EAAQxL,EAAKg7B,GAAKR,EAAEhvB,EAAQxL,KAASg7B,EAChJ,OAAOD,GAAI,GAAKC,GAAK95B,OAAO4K,eAAeN,EAAQxL,EAAKg7B,GAAIA,EAYhEi1H,IAAoB3lD,KAAO,YAC3B,IAAI8lB,KACApxG,UAAW,KACXqmG,YAkBA02C,GAA0B,SAAU1gI,GAKpC,QAAS0gI,GAAS/kJ,EAASxa,GACvB,MAAO6+B,GAAO93B,KAAKZ,KAAMqU,EAASxa,IAAYmG,KA+kBlD,MAplBAy3B,IAAU2hI,EAAU1gI,GAYpB0gI,EAAS59J,UAAUwY,UAAY,WAC3B0kB,EAAOl9B,UAAUwY,UAAUpT,KAAKZ,OAEpCo5J,EAAS59J,UAAUq2J,UAAY,WACE,aAAzB7xJ,KAAKkH,kBACLzB,GAAalB,IAAIvE,KAAKqyH,aAAa3P,QAAQ,GAAI,YAAa1iH,KAAKq5J,YAAar5J,MAC9EyF,GAAalB,IAAIvE,KAAKqyH,aAAah2G,UAAW,OAAQrc,KAAKuxJ,OAAQvxJ,OAElEvC,EAAkBuC,KAAKqyH,aAAa3P,QAAQ,KAC7Cj9G,GAAalB,IAAIvE,KAAKqyH,aAAa3P,QAAQ,GAAI,YAAa1iH,KAAK8xJ,cAAe9xJ,MAEpFyF,GAAalB,IAAIvE,KAAKouB,aAAc,QAASpuB,KAAKs5J,YAAat5J,MAC1DA,KAAKyuH,WACNhpH,GAAalB,IAAIvE,KAAKouB,aAAc,QAASpuB,KAAK+1J,QAAS/1J,MAC3DyF,GAAalB,IAAIvE,KAAKouB,aAAc,QAASpuB,KAAK80J,WAAY90J,MAC9DyF,GAAalB,IAAIvE,KAAKouB,aAAc,UAAWpuB,KAAKg1J,aAAch1J,OAEtEA,KAAK+xJ,mBAETqH,EAAS59J,UAAU69J,YAAc,SAAUj4J,IACjCpB,KAAKuwJ,gBAAkBx1J,SAASu0G,gBAAkBtvG,KAAKouB,cACxDrzB,SAASu0G,cAAc92G,UAAUC,SAAS60J,GAAoBh6I,SAAUlH,GAAQkc,WAAalc,GAAQkc,UACtGlnB,EAAE+lB,kBAGViyI,EAAS59J,UAAUg9G,cAAgB,WAC/B,MAAOx4G,MAAKouB,cAEhBgrI,EAAS59J,UAAUs9J,WAAa,SAAUr/J,GACtC6zB,GAAMlwB,SAAS4C,KAAKvG,KAAMuG,KAAKouB,aAAcpuB,KAAK2oB,eAAgB3oB,KAAK+mB,iBACvE/mB,KAAKu5J,cACLv5J,KAAKqwJ,mBAET+I,EAAS59J,UAAUu9J,YAAc,SAAU/7J,GACnCgD,KAAKw5J,YACLx5J,KAAKy5J,gBAAgBz5J,KAAKhD,OAG1BgD,KAAKy5J,gBAAgB,MAEzBz5J,KAAKqwJ,kBACLrwJ,KAAKsxJ,kBAET8H,EAAS59J,UAAUi+J,gBAAkB,SAAUz8J,GAC3C,GAAI08J,GAAaj8J,EAAkBT,GAAS,KAAOA,EAAM2D,UACzD2sB,IAAMlwB,SAASs8J,EAAY15J,KAAKouB,aAAcpuB,KAAK2oB,eAAgB3oB,KAAK+mB,iBACxE/mB,KAAK2H,eAAgB3K,MAAOA,EAAOvD,KAAMuD,EAAO9E,MAAO,OAAQ,GAC/D8H,KAAK21G,YAAc31G,KAAK9H,KACxB,IAAIgd,GAASlV,KAAKkV,OACdD,IACJA,GAASC,EAAOzb,MAAQgE,EAAkBT,GAAS,KAAOA,EAAM2D,WAChEsU,EAASC,EAAOlY,OAASS,EAAkBT,GAAS,KAAOA,EAAM2D,WACjEX,KAAK3G,SAAW4b,EAChBjV,KAAKnH,KAAO,KACRmH,KAAKk0H,gBAAkBl0H,KAAKhD,OAC5BgD,KAAK20J,kBAAkB,OAG/ByE,EAAS59J,UAAU61J,aAAe,WAC9B,GAAK5zJ,EAAkBuC,KAAKhD,OAYvB,GAAIgD,KAAKvG,MAAQgE,EAAkBuC,KAAKhD,OAAQ,CACjD,GAAImkG,GAAKnhG,KAAKixJ,iBAAiBjxJ,KAAKvG,KAChC0nG,GACAnhG,KAAKywJ,aAAatvD,EAAI,OAGtB7zE,GAAMlwB,SAAS4C,KAAKvG,KAAMuG,KAAKouB,aAAcpuB,KAAK2oB,eAAgB3oB,KAAK+mB,iBACvE/mB,KAAKu5J,mBAITv5J,MAAKywJ,aAAazwJ,KAAKikG,cAAcjkG,KAAK21G,aAAc,WAtBpDxU,EAAKnhG,KAAKkxJ,kBAAkBlxJ,KAAKhD,QAEjCgD,KAAKywJ,aAAatvD,EAAI,MAEjBnhG,KAAKw5J,YACVx5J,KAAKy5J,gBAAgBz5J,KAAKhD,OAG1BgD,KAAKy5J,gBAAgB,KAgB7Bz5J,MAAKsxJ,iBACLhkI,GAAMlwB,SAAS4C,KAAKvG,KAAMuG,KAAKouB,aAAcpuB,KAAK2oB,eAAgB3oB,KAAK+mB,kBAE3EqyI,EAAS59J,UAAUq1J,kBAAoB,WAcnC,OAZIzN,YAAapjJ,KAAKnG,QAAQ8J,GAAK,WAC/ByP,KAAQ,WACRumJ,oBAAqB,OACrBlrI,kBAAmBzuB,KAAKkuJ,cAAcvqJ,GACtCi2J,gBAAiB,OACjB1W,gBAAiB,QACjB5wB,gBAAiBtyH,KAAKyuH,SAAS9tH,WAC/B+jB,aAAgB,MAChBC,YAAe,MACfC,eAAkB,MAClBC,WAAc,UAItBu0I,EAAS59J,UAAUu5J,YAAc,SAAU3zJ,GACvCpB,KAAK0uJ,SAAU,EACX1uJ,KAAKo1J,eACL18H,EAAOl9B,UAAUu5J,YAAYn0J,KAAKZ,KAAMoB,GACF,KAAlCpB,KAAK2tJ,YAAY3wJ,MAAMyU,QACvBzR,KAAK65J,aAAa75J,KAAKqlG,UAAUviG,cAAc,IAAMwqJ,GAAoBnsD,OAIzEnhG,KAAKqlG,WAAyC,KAA5BrlG,KAAKouB,aAAapxB,OAAgBgD,KAAK6uJ,iBACzD7uJ,KAAK65J,aAAa75J,KAAKqlG,UAAUviG,cAAc,IAAMwqJ,GAAoBnsD,KAE7EnhG,KAAKvI,kBAAkB2J,KAG/Bg4J,EAAS59J,UAAUw1J,eAAiB,WAChC,MAAO,gBAEXoI,EAAS59J,UAAUm6J,aAAe,WAE9B,MADA31J,MAAK2tJ,YAAc3tJ,KAAKouB,aAChBpuB,KAAKo1J,cAAgBp1J,KAAKqyH,aAAe5E,IAErD2rC,EAAS59J,UAAU8/G,iBAAmB,SAAUjW,EAAWnvD,EAAM90C,EAAGguJ,GAChE12H,EAAOl9B,UAAU8/G,iBAAiB16G,KAAKZ,KAAMqlG,EAAWnvD,EAAM90C,GAC1DpB,KAAKsvJ,gBACLtvJ,KAAKqwJ,mBAEJrwJ,KAAK6uJ,iBAA4C,aAAzB7uJ,KAAKkH,iBAAkClH,KAAK0uJ,SACrE1uJ,KAAK85J,gBAGbV,EAAS59J,UAAUw7J,gBAAkB,WACjC,GAAI/hJ,GAAWjV,KAAKsvJ,gBAAmB71J,KAAM,IAAOuG,KAAKgtG,cACrDvT,EAAWz5F,KAAKk2C,KAAKpzC,cAAc,IAAMwqJ,GAAoB7zD,SAEjE,IADiBxkF,EAASxb,OAASuG,KAAKouB,aAAapxB,QAAUS,EAAkBg8F,GAE7E,MAAOA,EAEX,KAAKrtF,GAAQkc,WAAatoB,KAAKuvJ,kBAAoBnjJ,GAAQkc,YACtD7qB,EAAkBuC,KAAKikG,gBAAkBjkG,KAAKikG,cAAc1rG,OAAS,EAAG,CACzE,GAEI+2G,GADar2G,EADA+G,KAAKouB,aAAapxB,MACCgD,KAAKikG,cAAe,cAAc,GACvCprG,IAC/B,IAAK4E,EAAkB6xG,GAWftvG,KAAKsvJ,gBAAqD,KAAnCtvJ,KAAKouB,aAAapxB,MAAMyU,SAC/CzR,KAAKotG,cACLptG,KAAKk2C,KAAKhpC,UAAY,OAbS,CACnC,GAAI0S,GAAQ5f,KAAK88G,gBAAgBxN,EAAc7oG,aAAa,eAAiB,EACzE+Q,EAASmiB,SAAS1rB,iBAAiBjO,KAAKikG,cAAc,GAAI,MAAM/1F,iBAAiB,UAAW,GAChG,KAAK+6B,MAAMzxB,IAAoC,iBAAzBxX,KAAKkH,gBAAoC,CAC3DlH,KAAKotG,aACL,IAAIwL,GAAY54G,KAAKkV,OAAOmvF,QAAUrkG,KAAKikG,cAAc,GAAGpgD,aAAe,CAC3E7jD,MAAKk2C,KAAKhpC,UAAY0S,EAAQpI,EAASohG,EACvC50G,GAAUsrG,GAAgBg+C,GAAoBjrJ,QAStD,MAAOitG,GAGP,MAAO,OAGf8pD,EAAS59J,UAAU4B,SAAW,SAAUgE,GAIpC,MAHIA,IAAgB,YAAXA,EAAErH,MAAmC,UAAbqH,EAAE8pD,QAC/BlrD,KAAKk1J,sBAELl1J,KAAK+5J,UAAqC,aAAzB/5J,KAAKkH,iBAAkC9F,GAAgB,YAAXA,EAAErH,MAAmC,UAAbqH,EAAE8pD,QACvFlrD,KAAK6uJ,iBAAkB,EACvB7uJ,KAAK85J,aAAa14J,IACX,GAGAs3B,EAAOl9B,UAAU4B,SAASwD,KAAKZ,KAAMoB,IAOpDg4J,EAAS59J,UAAUooB,YAAc,WACzBnmB,EAAkBuC,KAAKyyJ,kBACvBzyJ,KAAKyyJ,eAA2C,iBAAzBzyJ,KAAKkH,gBAAuClH,KAAKqyH,aAAa3P,QAAQ,IACzF1iH,KAAKqyH,aAAaprG,aAClBqG,GAAMwgG,WAAW,wCAAuC9tH,KAAKqyH,aAAah2G,UAAWrc,KAAKyB,eACzFzB,KAAKqyH,aAAa3P,QAAQ,IAAM1iH,KAAKqyH,aAAaprG,YACvDjjB,GAAUhE,KAAKyyJ,gBAAiBnF,GAAoBW,aACpD/xI,IACIrT,OAAQ7I,KAAKyyJ,eACbh7I,MAAOrL,GAAQkc,SAAW,OAAS,QACpCtoB,KAAKyB,eACRmiB,GAAY5jB,KAAKyyJ,kBAOzB2G,EAAS59J,UAAU2oB,YAAc,WACxB1mB,EAAkBuC,KAAKyyJ,kBACxBtuI,GAAYnkB,KAAKyyJ,gBACjBjuJ,GAAaxE,KAAKyyJ,gBAAiBnF,GAAoBW,aACnDjuJ,KAAKyyJ,eAAej6J,UAAUC,SAlP1B,sBAmPJ8M,EAAOvF,KAAKyyJ,gBAGZzyJ,KAAKyyJ,eAAej4J,UAAY,GAEpCwF,KAAKyyJ,eAAiB,OAG9B2G,EAAS59J,UAAUw+J,YAAc,SAAU1qD,EAAe2qD,GAItD,GAHKA,GACDj6J,KAAK65J,aAAavqD,GAElBtvG,KAAK+5J,WAAa/5J,KAAK6uJ,gBAAiB,CACxC,GAAI7oB,GAAehmI,KAAKu6G,eAAejL,EAAc7oG,aAAa,eAAe9F,WAC7Eu5J,EAAmBl6J,KAAKg6G,kBAAkB1K,EAAc7oG,aAAa,cAC5C,cAAzBzG,KAAKkH,kBACAlH,KAAK2uJ,YAAc3uJ,KAAKk0H,gBAAkBgmC,EAM3Cl6J,KAAK+zJ,mBAAmBzkD,EAAe,MAAM,IAL7CtvG,KAAK+zJ,mBAAmBzkD,EAAe,MACvCtvG,KAAK2uJ,YAAa,EAClB3uJ,KAAKk0H,cAAgBl0H,KAAKg6G,kBAAkB1K,EAAc7oG,aAAa,iBAM1EzG,KAAKm6J,kBAAkBn0B,IACxBhmI,KAAKo6J,qBAAqBp0B,KAItCozB,EAAS59J,UAAU2+J,kBAAoB,SAAUn9J,GAC7C,GAAIoP,GAAQsf,UAAW,CACnB,GAAI2uI,GAAgBr6J,KAAKi1J,qBACrBqF,EAAUt6J,KAAKqvJ,iBAAiB1vI,IAChC46I,EAASF,EAAc16I,IACvB66I,EAAYx6J,KAAKqvJ,iBAAiB9xJ,MAClCk9J,EAAWJ,EAAc98J,KAC7B,OAAgB,KAAZ+8J,IAAmBA,IAAYt9J,EAAMzE,QAAUiiK,IAAcx9J,EAAMzE,QAClEiiK,EAAYC,GAAYH,EAAUC,GAAYD,IAAYC,GAAUC,IAAcC,GAQvF,OAAO,GAGfrB,EAAS59J,UAAU4rB,MAAQ,SAAUhmB,EAAGmF,IAChC9I,EAAkB8I,IAA0B,eAAbA,IAC/BmyB,EAAOl9B,UAAU4rB,MAAMxmB,KAAKZ,KAAMoB,IAG1Cg4J,EAAS59J,UAAUw3J,kBAAoB,SAAUn5J,GAC7C,OAAQ4D,EAAkB5D,IAE9Bu/J,EAAS59J,UAAUs+J,aAAe,SAAU14J,GACxC,GAAIs5J,GAAiBt5J,IAAmB,SAAbA,EAAE8pD,QAAkC,OAAb9pD,EAAE8pD,QACnC,SAAb9pD,EAAE8pD,QAAkC,QAAb9pD,EAAE8pD,QAAiC,WAAb9pD,EAAE8pD,QAAoC,aAAb9pD,EAAE8pD,QACxEokD,EAAgBorD,EAAgB16J,KAAKikG,cAAcjkG,KAAK21G,aAAe31G,KAAKg3J,iBAChF,IAAKv5J,EAAkB6xG,GASlB,GAAgC,KAA5BtvG,KAAKouB,aAAapxB,MAAc,CACrCgD,KAAK21G,YAAc,KACnB31G,KAAKk2C,KAAKhpC,UAAY,CACtB,IAAIwuG,GAAY17G,KAAKk2C,KAAKpzC,cAAc,IAAMwqJ,GAAoBnsD,GAClEnhG,MAAK65J,aAAan+C,OAGlB17G,MAAK21G,YAAc,KACnB31G,KAAKqwJ,kBACLrwJ,KAAKotG,kBAlB8B,CACnC,IAAKstD,EAAe,CAChB,GAAI19J,GAAQgD,KAAKg6G,kBAAkB1K,EAAc7oG,aAAa,cAC9DzG,MAAK21G,YAAc31G,KAAK88G,gBAAgB9/G,GACxCgD,KAAK21G,YAAel4G,EAAkBuC,KAAK21G,aAAkC,KAAnB31G,KAAK21G,YAEnE31G,KAAK6uJ,gBAA8C,KAA5B7uJ,KAAKouB,aAAapxB,OAAuBgD,KAAK6uJ,gBACrE7uJ,KAAKg6J,YAAY1qD,EAAeorD,KAcxCtB,EAAS59J,UAAU/D,kBAAoB,SAAU2J,GAC7CpB,KAAKqzJ,YACA51J,EAAkBuC,KAAKo5G,YACxBp5G,KAAK85J,aAAa14J,GAClBA,EAAE+lB,mBAIViyI,EAAS59J,UAAU4+J,qBAAuB,SAAUp0B,GAChD,GAAImvB,GAAYn1J,KAAKi1J,qBACjBj4J,EAAQgD,KAAKouB,aAAapxB,MAAMjE,OAAO,EAAGo8J,EAAU53J,MACxD,IAAIP,GAAUA,EAAM7E,gBAAkB6tI,EAAajtI,OAAO,EAAGo8J,EAAU53J,OAAOpF,cAAgB,CAC1F,GAAIuhK,GAAa18J,EAAQgpI,EAAajtI,OAAOiE,EAAMzE,OAAQytI,EAAaztI,OACxE+0B,IAAMlwB,SAASs8J,EAAY15J,KAAKouB,aAAcpuB,KAAK2oB,eAAgB3oB,KAAK+mB,iBACxE/mB,KAAKouB,aAAazG,kBAAkBwtI,EAAU53J,MAAOyC,KAAKouB,aAAapxB,MAAMzE,YAG7E+0B,IAAMlwB,SAAS4oI,EAAchmI,KAAKouB,aAAcpuB,KAAK2oB,eAAgB3oB,KAAK+mB,iBAC1E/mB,KAAKouB,aAAazG,kBAAkB,EAAG3nB,KAAKouB,aAAapxB,MAAMzE,SAIvE6gK,EAAS59J,UAAU29G,eAAiB,SAAU1/G,GAC1C,MAAOi/B,GAAOl9B,UAAU29G,eAAev4G,KAAKZ,KAAMvG,GAAM,EAAMuG,KAAKo0D,eAEvEglG,EAAS59J,UAAUi4J,YAAc,WACA,aAAzBzzJ,KAAKkH,kBACLzB,GAAaf,OAAO1E,KAAKqyH,aAAa3P,QAAQ,GAAI,YAAa1iH,KAAKq5J,aACpE5zJ,GAAaf,OAAO1E,KAAKqyH,aAAah2G,UAAW,OAAQrc,KAAKuxJ,SAE7D9zJ,EAAkBuC,KAAKqyH,aAAa3P,QAAQ,KAC7Cj9G,GAAaf,OAAO1E,KAAKqyH,aAAa3P,QAAQ,GAAI,YAAa1iH,KAAK8xJ,eAExErsJ,GAAaf,OAAO1E,KAAKouB,aAAc,QAASpuB,KAAKs5J,aAChDt5J,KAAKyuH,WACNhpH,GAAaf,OAAO1E,KAAKouB,aAAc,QAASpuB,KAAK+1J,SACrDtwJ,GAAaf,OAAO1E,KAAKouB,aAAc,QAASpuB,KAAK80J,YACrDrvJ,GAAaf,OAAO1E,KAAKouB,aAAc,UAAWpuB,KAAKg1J,eAE3Dh1J,KAAKgyJ,qBAEToH,EAAS59J,UAAUi1J,aAAe,SAAUtvD,EAAI//F,GAC5Cs3B,EAAOl9B,UAAUi1J,aAAa7vJ,KAAKZ,KAAMmhG,EAAI//F,GACxC3D,EAAkB0jG,IAAQnhG,KAAK+5J,UAAa/5J,KAAKuvJ,iBAClDvvJ,KAAKotG,eAGbgsD,EAAS59J,UAAU+3J,kBAAoB,SAAUnyJ,GAC7C,GAAI+/F,EACAnhG,MAAKmsJ,eACLhrD,EAAKnhG,KAAKk2C,KAAKpzC,cAAc,IAAMwqJ,GAAoBjrJ,UAEnDrC,KAAKywJ,aAAatvD,EAAI//F,GACtBpB,KAAK0uJ,SAAU,GAEf1uJ,KAAK2uJ,aACL3uJ,KAAKsvJ,gBAAiB,EACtBtvJ,KAAKmwJ,cAAc/uJ,KAGV,UAAbA,EAAE8pD,QAAyD,KAAnClrD,KAAKouB,aAAapxB,MAAMyU,OAChDzR,KAAKonB,MAAMhmB,GAENpB,KAAK0uJ,UAAY1uJ,KAAK2uJ,YAAclxJ,EAAkB0jG,IAC3DnhG,KAAKu5J,cAETv5J,KAAK8wJ,aAETsI,EAAS59J,UAAUq+J,aAAe,SAAU14D,GACxCnhG,KAAKqwJ,kBACDrwJ,KAAK+rG,UAAU5K,KAAQA,EAAG3oG,UAAUC,SAAS60J,GAAoB7zD,YACjEz5F,KAAKotG,cACLjM,EAAG3oG,UAAU+L,IAAI+oJ,GAAoBjrJ,SAI7C+2J,EAAS59J,UAAU89J,YAAc,SAAUl4J,GACnCgL,GAAQkc,WAAatoB,KAAKuwJ,iBAC1BvwJ,KAAK4uJ,cAAe,GAExB5uJ,KAAK2xJ,WAETyH,EAAS59J,UAAUs2J,cAAgB,SAAU1wJ,GACzCA,EAAE+lB,iBACE/a,GAAQkc,WAAatoB,KAAKuwJ,iBAC1BvwJ,KAAK4uJ,cAAe,GAExBl2H,EAAOl9B,UAAUs2J,cAAclxJ,KAAKZ,KAAMoB,IAE9Cg4J,EAAS59J,UAAU+9J,YAAc,WAC7B,GAAIv8J,GAAQgD,KAAKm5G,eAAen5G,KAAKouB,aAAapxB,MAClD,IAAKgD,KAAKw5J,aAA2C,KAA5Bx5J,KAAKouB,aAAapxB,MAMtC,GAAuC,KAAnCgD,KAAKouB,aAAapxB,MAAMyU,OAAe,CAC5C,GAAIyiH,GAAgBl0H,KAAKhD,KACzB,IAAIS,EAAkBT,GAAQ,CAC1B,GAAIysB,GAAsC,KAA5BzpB,KAAKouB,aAAapxB,MAAe,KAAOgD,KAAKouB,aAAapxB,MACpEkY,EAASlV,KAAKkV,OACd7G,MAAY,EAChBA,IAAc5U,KAAMgwB,EAAS5wB,SACxBmH,KAAK6uH,SACN7uH,KAAKooB,QAAQ,uBAAwB/Z,EAEzC,IAAIxV,GAAOwV,EAAUxV,KACjBoc,IACApc,IAAQgE,EAASqY,EAAOzb,KAAMZ,IAASgE,EAASqY,EAAOlY,MAAOnE,GAC9Doc,EAAWpc,GAGXuE,EAAS8X,EAAOzb,KAAMgwB,EAASxU,GAC/B7X,EAAS8X,EAAOlY,MAAOysB,EAASxU,IAEpCjV,KAAK3G,SAAW4b,CAChB,IAAI0lJ,IACAlhK,KAAMoD,EAASqY,EAAOzb,KAAMuG,KAAK3G,UACjC2D,MAAOH,EAASqY,EAAOlY,MAAOgD,KAAK3G,UACnCnB,MAAO,KAEX8H,MAAK2H,cAAcgzJ,GAAY,GAC/B36J,KAAKywJ,aAAa,KAAM,MACxBzwJ,KAAKsvJ,gBAAiB,MAGtBtvJ,MAAKsvJ,gBAAiB,EACtBtvJ,KAAK2H,eAAgB3K,MAAOA,GAE5Bk3H,KAAkBl0H,KAAKhD,OACvBgD,KAAKmwJ,cAAc,UAGlBnwJ,MAAKw5J,cACVx5J,KAAKsvJ,gBAAiB,OA3CtBtvJ,MAAK2H,eAAgB3K,MAAOA,IACxBS,EAAkBuC,KAAKhD,QACvBswB,GAAMlwB,SAAS,GAAI4C,KAAKouB,aAAcpuB,KAAK2oB,eAAgB3oB,KAAK+mB,kBAgD5EqyI,EAAS59J,UAAU05B,kBAAoB,SAAUwF,EAASC,GACtD36B,KAAKm9G,kBAAkB,QAAS,cAAeziF,EAC/C,KAAK,GAAIr8B,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAKo9B,GAAUr8B,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAC9D,GAAI6M,GAAOlI,EAAG3E,EACd,QAAQ6M,GACJ,IAAK,WACDoiB,GAAMkhG,YAAYxuH,KAAKyuH,SAAUzuH,KAAKouB,cAClCpuB,KAAKyuH,UACLhpH,GAAaf,OAAO1E,KAAKouB,aAAc,QAASpuB,KAAK80J,YACrDrvJ,GAAaf,OAAO1E,KAAKouB,aAAc,UAAWpuB,KAAKg1J,gBAGvDvvJ,GAAalB,IAAIvE,KAAKouB,aAAc,QAASpuB,KAAK80J,WAAY90J,MAC9DyF,GAAalB,IAAIvE,KAAKouB,aAAc,UAAWpuB,KAAKg1J,aAAch1J,MAEtE,MACJ,KAAK,iBACDA,KAAK21J,eACD31J,KAAKo1J,eAA0C,aAAzBp1J,KAAKkH,iBAAkCzJ,EAAkBuC,KAAKk2C,OACpFxd,EAAOl9B,UAAUw1G,WAAWpwG,KAAKZ,KAErC,MACJ,KAAK,cACD,KACJ,SACI,GAAI46J,OAAa,EACjBA,GAAa56J,KAAKg5G,cAAc9tG,EAAMwvB,EAASC,GAC/CjC,EAAOl9B,UAAU05B,kBAAkBt0B,KAAKZ,KAAM46J,EAAW3hD,YAAa2hD,EAAW1hD,gBASjGkgD,EAAS59J,UAAU+iD,OAAS,WACxB7lB,EAAOl9B,UAAU+iD,OAAO39C,KAAKZ,MAC7BA,KAAK21J,eACD31J,KAAKo1J,eAA0C,aAAzBp1J,KAAKkH,iBAAkCzJ,EAAkBuC,KAAKk2C,OACpFxd,EAAOl9B,UAAUw1G,WAAWpwG,KAAKZ,OAQzCo5J,EAAS59J,UAAU0L,cAAgB,WAC/B,MAAO,YAMXkyJ,EAAS59J,UAAUs1J,UAAY,WAC3B,GAAI4I,GAAyC,KAA5B15J,KAAKouB,aAAapxB,MAAe,KAAOgD,KAAKouB,aAAapxB,KAC3E,KAAKS,EAAkBuC,KAAKo5G,UAAW,CACnC,GAAIyhD,GAAW76J,KAAKgvJ,WAChBhvJ,MAAKgvJ,cACL1hI,GAAMlwB,SAAS4C,KAAK+uJ,YAAa/uJ,KAAKouB,aAAcpuB,KAAK2oB,eAAgB3oB,KAAK+mB,iBAC9E/mB,KAAKgvJ,aAAc,GAEnBhvJ,KAAK+5J,UACL/5J,KAAKk1J,qBAET,IAAIjgJ,GAAWjV,KAAKsvJ,gBAAmB71J,KAAM,IAAOuG,KAAKgtG,cACrDvT,EAAWz5F,KAAKk2C,KAAKpzC,cAAc,IAAMwqJ,GAAoB7zD,SACjE,IAAIxkF,EAASxb,OAASuG,KAAKouB,aAAapxB,QAAUS,EAAkBg8F,GAMhE,MALIz5F,MAAK2uJ,aACL3uJ,KAAKmwJ,cAAc,MACnBnwJ,KAAKsvJ,gBAAiB,OAE1B52H,GAAOl9B,UAAUs1J,UAAUlwJ,KAAKZ,KAGpC,IAA6B,aAAzBA,KAAKkH,iBAAqE,KAAnClH,KAAKouB,aAAapxB,MAAMyU,OAAe,CAC9E,GAAIqpJ,GAAa7hK,EAAO+G,KAAKouB,aAAapxB,MAAOgD,KAAKikG,cAAe,SAAS,EAC9EjkG,MAAK8vG,WAAagrD,EAAWjiK,KACzB4E,EAAkBq9J,EAAW5iK,SAC7B4iK,EAAW5iK,MAAQe,EAAO+G,KAAKouB,aAAapxB,MAAOgD,KAAKikG,cAAe,cAAc,GAAM/rG,OAE/F8H,KAAK21G,YAAcmlD,EAAW5iK,MACzBuF,EAAkBuC,KAAK8vG,YAGnB+qD,IACL76J,KAAKsvJ,gBAAiB,EACtBtvJ,KAAKqwJ,mBAJLrwJ,KAAK+zJ,mBAAmB/zJ,KAAK8vG,WAAY,MAAM,GAOlD9vG,KAAKgvJ,cAAehvJ,KAAK0uJ,SAAY1uJ,KAAK6vG,cAC3C7vG,KAAKu5J,cAGT97J,EAAkBuC,KAAKo5G,WAAap5G,KAAKw5J,cAAgB/7J,EAAkBi8J,IAAeA,IAAe15J,KAAKhD,OAC9GgD,KAAKu5J,cAET7gI,EAAOl9B,UAAUs1J,UAAUlwJ,KAAKZ,OAMpCo5J,EAAS59J,UAAU+3H,QAAU,WACpBvzH,KAAK4mB,UAGNxa,GAAQkc,WAAatoB,KAAKuwJ,iBAC1BvwJ,KAAK4uJ,cAAe,GAExBl2H,EAAOl9B,UAAU+3H,QAAQ3yH,KAAKZ,QAElCi4B,IACIrvB,IAAS,IACVwwJ,EAAS59J,UAAW,eAAY,IACnCy8B,IACIrvB,IAAS,IACVwwJ,EAAS59J,UAAW,kBAAe,IACtCy8B,IACIrvB,QACDwwJ,EAAS59J,UAAW,qBAAkB,IACzCy8B,IACIrvB,IAAS,IACVwwJ,EAAS59J,UAAW,qBAAkB,IACzCy8B,IACIrvB,GAAS,OACVwwJ,EAAS59J,UAAW,YAAS,IAChCy8B,IACIrvB,GAAS,OACVwwJ,EAAS59J,UAAW,YAAS,IAChCy8B,IACIrvB,IAAS,IACVwwJ,EAAS59J,UAAW,sBAAmB,IAC1Cy8B,IACIxuB,MACD2vJ,EAAS59J,UAAW,2BAAwB,IAC/Cy8B,IACIxuB,MACD2vJ,EAAS59J,UAAW,gBAAa,IACpCy8B,IACIrvB,GAAS,OACVwwJ,EAAS59J,UAAW,oBAAiB,IACxCy8B,IACIrvB,GAAS,UACVwwJ,EAAS59J,UAAW,qBAAkB,IACzCy8B,IACIrvB,GAAS,OACVwwJ,EAAS59J,UAAW,2BAAwB,IAC/C49J,EAAWnhI,IACPluB,IACDqvJ,IAELjL,ICroBE12H,GAAwC,WACxC,GAAIC,GAAgBn5B,OAAOo5B,iBACpBC,uBAA2Bn5B,QAAS,SAAUo5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAExwB,eAAeywB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOh4B,KAAKnC,YAAcg6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAEr8B,UAAkB,OAANs8B,EAAav5B,OAAOgN,OAAOusB,IAAME,EAAGx8B,UAAYs8B,EAAEt8B,UAAW,GAAIw8B,QAGnFC,GAA0C,SAAUC,EAAYrvB,EAAQxL,EAAK86B,GAC7E,GAA2HN,GAAvHO,EAAIn5B,UAAU1G,OAAQ8/B,EAAID,EAAI,EAAIvvB,EAAkB,OAATsvB,EAAgBA,EAAO55B,OAAO+5B,yBAAyBzvB,EAAQxL,GAAO86B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYrvB,EAAQxL,EAAK86B,OACpH,KAAK,GAAI9/B,GAAI6/B,EAAW3/B,OAAS,EAAGF,GAAK,EAAGA,KAASw/B,EAAIK,EAAW7/B,MAAIggC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAEhvB,EAAQxL,EAAKg7B,GAAKR,EAAEhvB,EAAQxL,KAASg7B,EAChJ,OAAOD,GAAI,GAAKC,GAAK95B,OAAO4K,eAAeN,EAAQxL,EAAKg7B,GAAIA,EAehEi1H,IAAoB3lD,KAAO,iBAC3B2lD,GAAoBjsD,KAAO,6CAY3B,IAAI05D,IAA8B,SAAUriI,GAKxC,QAASqiI,GAAa1mJ,EAASxa,GAC3B,GAAIkG,GAAQ24B,EAAO93B,KAAKZ,KAAMqU,EAASxa,IAAYmG,IAEnD,OADAD,GAAMi7J,YAAa,EACZj7J,EAgSX,MAvSA03B,IAAUsjI,EAAcriI,GAcxBqiI,EAAav/J,UAAUwY,UAAY,WAC/B0kB,EAAOl9B,UAAUwY,UAAUpT,KAAKZ,OAEpC+6J,EAAav/J,UAAUw1J,eAAiB,WACpC,MAAO,oBAEX+J,EAAav/J,UAAUk1G,SAAW,SAAU52G,GACxC,GAAI27J,GAAc37J,EAAQA,EAAMuF,QAAUW,KAAKlG,MAAQkG,KAAKlG,MAAMuF,QAAU,GAAIgzD,IAC5E4oG,EAAmC,KAArBj7J,KAAKlI,aAAuB2F,EAAkBuC,KAAKhD,OAAoBgD,KAAKi7J,WAAf,QAC3EnjK,EAAoC,KAArBkI,KAAKlI,aAAuB2F,EAAkBuC,KAAKhD,OAAuBgD,KAAKlI,YAAlBkI,KAAKhD,KACrF,IAAIgD,KAAKg7J,WACL,MAAOvF,EAEX,IAAyB,OAArBz1J,KAAKlI,YAAsB,CAC3B,GAAI05B,GAAWxxB,KAAKu5G,WAAWv5G,KAAKyyF,YAAYyP,MAChD,KAAMliG,KAAKyyF,qBAAsB93B,KAA6B,WAAbnpC,IAAsC,WAAbA,EAGrE,CACD,GAAI0pI,GAAWz9J,EAAkBuC,KAAKkV,OAAOlY,OAA6B,GAApBgD,KAAKkV,OAAOlY,KAClEy4J,GAAYxhG,MAAMinG,EAASD,EAAYnjK,EAAakI,KAAKnI,WAAYmI,KAAKo0D,kBAJ1EqhG,GAAYxhG,MAAM,GAAIgnG,EAAYnjK,EAAakI,KAAKnI,WAAYmI,KAAKo0D,cAU7E,MAHK32D,GAAkBuC,KAAKm7J,kBACxB1F,EAAYjgG,KAAKx1D,KAAKm7J,iBAEnB1F,GAEXsF,EAAav/J,UAAUu5J,YAAc,SAAU3zJ,GAC3C,GAAIrB,GAAQC,IACZA,MAAK0uJ,SAAU,EACf1uJ,KAAKsvJ,gBAAiB,EAClB7xJ,EAAkBuC,KAAKk2C,OACvBxd,EAAOl9B,UAAUw1G,WAAWpwG,KAAKZ,MAAM,EAE3C,IAAIo7J,GAA4B,KAAdh6J,EAAE1J,SAAgC,KAAd0J,EAAE1J,OAExC,IADAsI,KAAKlI,YAAckI,KAAK2tJ,YAAY3wJ,MAChCo+J,EAIA,MAHAp7J,MAAKlI,YAAmC,KAArBkI,KAAKlI,YAAqB,KAAOkI,KAAKlI,YACzDkI,KAAKuuJ,iBAAkB,MACvBvuJ,MAAK46G,UAAU56G,KAAKyyF,WAAYzyF,KAAKkV,OAGzClV,MAAK2uJ,YAAa,EAClB3uJ,KAAK21G,YAAc,IACnB,IAAItnG,IACAgnJ,sBAAsB,EACtB57J,KAAMuG,KAAK2tJ,YAAY3wJ,MACvBs4J,WAAY,SAAU7iE,EAAY34F,EAAOob,GACjC7G,EAAUyhB,SAGd/vB,EAAMi7J,YAAa,EACnBj7J,EAAMs7J,aAAa5oE,EAAY34F,EAAOob,KAE1C4a,QAAQ,EAEZ9vB,MAAKooB,QAAQ,YAAa/Z,GACtBA,EAAUyhB,QAGT9vB,KAAKg7J,YAAe3sJ,EAAUgnJ,sBAC/Br1J,KAAKq7J,aAAar7J,KAAKyyF,WAAY,KAAMzyF,KAAKkV,SAGtD6lJ,EAAav/J,UAAU6/J,aAAe,SAAU5oE,EAAY34F,EAAOob,GAC/DlV,KAAKuuJ,iBAAkB,EACE,KAArBvuJ,KAAKlI,cAAuBkI,KAAKlI,YAAYS,QAAUyH,KAAKgrI,WAAahrI,KAAKg7J,YAC9Eh7J,KAAK46G,UAAUnoB,EAAYv9E,EAAQpb,GAGnCkG,KAAK8wJ,aAGbiK,EAAav/J,UAAU4rB,MAAQ,SAAUhmB,EAAGmF,IACpC9I,EAAkB8I,IAA0B,eAAbA,IAC/BmyB,EAAOl9B,UAAU4rB,MAAMxmB,KAAKZ,KAAMoB,GAElCpB,KAAKuuJ,iBACLvuJ,KAAK8wJ,aAGbiK,EAAav/J,UAAU8/G,iBAAmB,SAAUjW,EAAWnvD,EAAM90C,EAAGguJ,GACpEpvJ,KAAKk8G,mBAAqB,KAC1BxjF,EAAOl9B,UAAU8/G,iBAAiB16G,KAAKZ,KAAMqlG,EAAWnvD,EAAM90C,EAC9D,IAAIvI,GAAOmH,KAAKk2C,KAAKpzC,cAAc,IAAMwqJ,GAAoBnsD,GACxD1jG,GAAkB5E,IACnB2L,GAAa3L,GAAOy0J,GAAoBjrJ,OAE5CrC,KAAKs7J,kBAETP,EAAav/J,UAAU8/J,eAAiB,WACpC,GAAIt7J,KAAK+5J,WAAat8J,EAAkBuC,KAAKikG,cAAc,IAAK,CAC5D,GAAItsG,IAASqI,KAAKikG,cAAc,GAE3BxmG,GADYxE,EAAO+G,KAAKouB,aAAapxB,MAAOrF,EAAO,aAAcqI,KAAKnI,YACzCgB,OAC9B6/B,EAAOl9B,UAAUw+J,YAAYp5J,KAAKZ,KAAMA,KAAKikG,cAAc,IAAI,KAI3E82D,EAAav/J,UAAUi1J,aAAe,SAAUtvD,EAAI//F,GAChD,GAAKpB,KAAK+rG,UAAU5K,GAGpB,IAAK1jG,EAAkB2D,IAAiB,YAAXA,EAAErH,MAAmC,UAAbqH,EAAE8pD,QAAsBlrD,KAAK+rG,UAAU5K,GAAK,CAC7F,GAAInkG,GAAQgD,KAAKg6G,kBAAkB7Y,EAAG16F,aAAa,cACnDzG,MAAK21G,YAAc31G,KAAK88G,gBAAgB9/G,GACxCgD,KAAK65J,aAAa14D,GAClBnhG,KAAK8vG,WAAa3O,EAClBnhG,KAAKwyJ,kBAAkBpxJ,GACnBpB,KAAK+5J,WACL/5J,KAAK6uJ,iBAAkB,EACvBn2H,EAAOl9B,UAAUw+J,YAAYp5J,KAAKZ,KAAMmhG,IAE5Cp9F,EAAW/D,KAAKouB,cAAgBmmH,wBAAyBv0I,KAAK8vG,WAAa9vG,KAAK8vG,WAAWnsG,GAAK,WAGhG+0B,GAAOl9B,UAAUi1J,aAAa7vJ,KAAKZ,KAAMmhG,EAAI//F,IAGrD25J,EAAav/J,UAAUugH,WAAa,SAAUtpB,EAAY8oE,GACtD,GAAIx7J,GAAQC,KACRkV,EAASwjB,EAAOl9B,UAAUugH,WAAWn7G,KAAKZ,KAAMyyF,EAAY8oE,EAChE,IAAI99J,EAAkByX,EAAO2tF,aACzB3tF,EAAO2tF,YAAc,SAAUzhG,GACvBrB,EAAMy7J,WACN5hK,EAAgBwH,EAAEvI,KAAMkH,EAAMjI,YAAaiI,EAAMlI,WAAYkI,EAAMk7J,iBAI1E,CACD,GAAIQ,GAAgBvmJ,EAAO2tF,WAC3B3tF,GAAO2tF,YAAc,SAAUzhG,GACvBrB,EAAMy7J,WACN5hK,EAAgBwH,EAAEvI,KAAMkH,EAAMjI,YAAaiI,EAAMlI,WAAYkI,EAAMk7J,YAEvEQ,EAAc//J,MAAMqE,GAAQqB,KAGpC,MAAO8T,IAGX6lJ,EAAav/J,UAAU45J,YAAc,WACjC,OAAO,GAEX2F,EAAav/J,UAAU8rH,YAAc,WACjCtnH,KAAKk2C,KAAKhpC,UAAY,EACtBwrB,EAAOl9B,UAAU8rH,YAAY1mH,KAAKZ,OAEtC+6J,EAAav/J,UAAUs3J,cAAgB,WACnC,MAAkD,KAAnC9yJ,KAAKouB,aAAapxB,MAAMyU,QAE3CspJ,EAAav/J,UAAUg9J,cAAgB,WACnC,MAAOx4J,MAAK07J,iBAEhBX,EAAav/J,UAAUw3J,kBAAoB,SAAUn5J,GACjD,OAAO,GAMXkhK,EAAav/J,UAAU63J,UAAY,WAC/B,GAAKrzJ,KAAK4mB,QAAV,CAGA,GAAI5mB,KAAKuuJ,gBAEL,WADAvuJ,MAAKm2J,cAGTn2J,MAAKuuJ,iBAAkB,EACvBvuJ,KAAK6uJ,iBAAkB,EACnBpxJ,EAAkBuC,KAAKk2C,MACvBl2C,KAAKgxG,aAGLhxG,KAAK46G,UAAU56G,KAAKyyF,WAAYzyF,KAAKkV,UAO7C6lJ,EAAav/J,UAAUs1J,UAAY,WAC/Bp4H,EAAOl9B,UAAUs1J,UAAUlwJ,KAAKZ,MAChCA,KAAK21G,aAAe,GAMxBolD,EAAav/J,UAAU05B,kBAAoB,SAAUwF,EAASC,GAC1D36B,KAAKm9G,kBAAkB,QAAS,cAAeziF,EAC/C,KAAK,GAAIr8B,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAKo9B,GAAUr8B,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAC9D,GAAI6M,GAAOlI,EAAG3E,EACd,QAAQ6M,GACJ,IAAK,kBACD,GAAIlL,KAAK07J,gBAAiB,CACtB,GAAI/sC,GAASrhG,GAAMwgG,WAAWw/B,GAAoBjsD,KAAMrhG,KAAKqyH,aAAah2G,UAAWrc,KAAKyB,cAC1FzB,MAAKqyH,aAAa3P,QAAQ,GAAKiM,EAC/BlpH,GAAalB,IAAIvE,KAAKqyH,aAAa3P,QAAQ,GAAI,QAAS1iH,KAAK8xJ,cAAe9xJ,UAG5EuF,GAAOvF,KAAKqyH,aAAa3P,QAAQ,IACjC1iH,KAAKqyH,aAAa3P,QAAQ,GAAK,IAEnC,MACJ,SACI,GAAIi5C,OAAW,EACfA,GAAW37J,KAAKg5G,cAAc9tG,EAAMwvB,EAASC,GAC7CjC,EAAOl9B,UAAU05B,kBAAkBt0B,KAAKZ,KAAM27J,EAAS1iD,YAAa0iD,EAASziD,gBAS7F6hD,EAAav/J,UAAU0L,cAAgB,WACnC,MAAO,gBAMX6zJ,EAAav/J,UAAU+iD,OAAS,WAC5B7lB,EAAOl9B,UAAU+iD,OAAO39C,KAAKZ,OAGjCi4B,IACI5uB,IAAUrM,MAAO,KAAMkhG,QAAS,KAAMmG,QAAS,MAAQ2E,KACxD+xD,EAAav/J,UAAW,aAAU,IACrCy8B,IACIrvB,IAAS,IACVmyJ,EAAav/J,UAAW,iBAAc,IACzCy8B,IACIrvB,IAAS,IACVmyJ,EAAav/J,UAAW,sBAAmB,IAC9Cy8B,IACIrvB,IAAS,IACVmyJ,EAAav/J,UAAW,gBAAa,IACxCy8B,IACIrvB,GAAS,KACVmyJ,EAAav/J,UAAW,sBAAmB,IAC9Cy8B,IACIrvB,QACDmyJ,EAAav/J,UAAW,qBAAkB,IAC7Cy8B,IACIrvB,GAAS,OACVmyJ,EAAav/J,UAAW,YAAS,IACpCy8B,IACIrvB,GAAS,IACVmyJ,EAAav/J,UAAW,gBAAa,IACxCy8B,IACIrvB,GAAS,aACVmyJ,EAAav/J,UAAW,iBAAc,IACzCy8B,IACIxuB,MACDsxJ,EAAav/J,UAAW,gBAAa,IACxCy8B,IACIrvB,GAAS,OACVmyJ,EAAav/J,UAAW,YAAS,IACpCy8B,IACIrvB,GAAS,UACVmyJ,EAAav/J,UAAW,qBAAkB,IAC7Cy8B,IACIrvB,GAAS,OACVmyJ,EAAav/J,UAAW,oBAAiB,IAC5Cy8B,IACIrvB,GAAS,OACVmyJ,EAAav/J,UAAW,2BAAwB,IACnDy8B,IACIrvB,IAAS,IACVmyJ,EAAav/J,UAAW,qBAAkB,IAC7Cy8B,IACIrvB,GAAS,OACVmyJ,EAAav/J,UAAW,WAAQ,IACnCu/J,EAAe9iI,IACXluB,IACDgxJ,IAEL3B,I7C7UE7qI,GAAY,eACZC,GAAY,eACZI,GAAW,cACXD,GAAc,iB8CTd8I,GAAwC,WACxC,GAAIC,GAAgBn5B,OAAOo5B,iBACpBC,uBAA2Bn5B,QAAS,SAAUo5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAExwB,eAAeywB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOh4B,KAAKnC,YAAcg6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAEr8B,UAAkB,OAANs8B,EAAav5B,OAAOgN,OAAOusB,IAAME,EAAGx8B,UAAYs8B,EAAEt8B,UAAW,GAAIw8B,QAGnFC,GAA0C,SAAUC,EAAYrvB,EAAQxL,EAAK86B,GAC7E,GAA2HN,GAAvHO,EAAIn5B,UAAU1G,OAAQ8/B,EAAID,EAAI,EAAIvvB,EAAkB,OAATsvB,EAAgBA,EAAO55B,OAAO+5B,yBAAyBzvB,EAAQxL,GAAO86B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAYrvB,EAAQxL,EAAK86B,OACpH,KAAK,GAAI9/B,GAAI6/B,EAAW3/B,OAAS,EAAGF,GAAK,EAAGA,KAASw/B,EAAIK,EAAW7/B,MAAIggC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAEhvB,EAAQxL,EAAKg7B,GAAKR,EAAEhvB,EAAQxL,KAASg7B,EAChJ,OAAOD,GAAI,GAAKC,GAAK95B,OAAO4K,eAAeN,EAAQxL,EAAKg7B,GAAIA,GAgB5DynH,GAAQ,gBAKR8b,GAAY,kBAGZC,GAAO,UAyCPC,GAA6B,SAAUpjI,GAKvC,QAASojI,GAAYx1H,EAAQzsC,GACzB,GAAIkG,GAAQ24B,EAAO93B,KAAKZ,KAAMsmC,EAAQzsC,IAAYmG,IAMlD,OALAD,GAAM+uJ,YAAa,EACnB/uJ,EAAMg8J,sBACNh8J,EAAMi8J,qBACNj8J,EAAMk8J,mBAAoB,EAC1Bl8J,EAAMm8J,eAAgB,EACfn8J,EAypFX,MApqFA03B,IAAUqkI,EAAapjI,GAcvBojI,EAAYtgK,UAAU2gK,UAAY,SAAUv9D,GACpCA,EACA5+F,KAAKkuB,eAAe11B,UAAU+L,IA9C1B,SAiDJvE,KAAKkuB,eAAe11B,UAAUkM,OAjD1B,SAmDJ1E,KAAK8jH,WACL9jH,KAAK8jH,SAASv0G,UAAYqvF,EAC1B5+F,KAAK8jH,SAASnvF,aAGtBmnI,EAAYtgK,UAAUylC,gBAAkB,WACpC,GAAIgB,KAWJ,OAVkB,aAAdjiC,KAAK0vB,OACL1vB,KAAKo8J,kBAAmB,EACxBp8J,KAAKq8J,kBAAmB,EACxBr8J,KAAKs8J,oBAAqB,EAC1Bt8J,KAAKuwJ,gBAAiB,EACtBtuH,EAAQjpC,MACJ0oC,OAAQ,oBACRzhC,MAAOD,SAGRiiC,GAEX65H,EAAYtgK,UAAU+gK,oBAAsB,WACxC,GAAIh+J,OAAOjB,KAAK0C,KAAKsjG,gBAAgB/qG,OACjC,IAAK,GAAI8F,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAK0C,KAAKsjG,gBAAiBjlG,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAC1E,GAAIsyJ,GAAW3tJ,EAAG3E,EAClB,QAAQsyJ,GACJ,IAAK,QACD3wJ,KAAKkuB,eAAe11B,UAAU+L,IAAIvE,KAAKsjG,eAAeqtD,IACtD3wJ,KAAKitJ,aAAaz0J,UAAU+L,IAAIvE,KAAKsjG,eAAeqtD,GACpD,MACJ,KAAK,WACD3wJ,KAAKsqG,QAAO,EACZ,MACJ,KAAK,cACDtqG,KAAKouB,aAAavqB,aAAa8sJ,EAAU3wJ,KAAKsjG,eAAeqtD,GAC7D,MACJ,SACI,GACI6L,IAAgB,OAAQ,WAAY,gBAAiB,QACrDC,GAAiB,QAAS,OAAQ,QAAS,UAF5B,MAGHj+J,QAAQmyJ,IAAa,EACjC3wJ,KAAKnG,QAAQgK,aAAa8sJ,EAAU3wJ,KAAKsjG,eAAeqtD,IAEnD6L,EAAah+J,QAAQmyJ,IAAa,EACvC3wJ,KAAKkuJ,cAAcrqJ,aAAa8sJ,EAAU3wJ,KAAKsjG,eAAeqtD,IAEzD8L,EAAcj+J,QAAQmyJ,IAAa,EACxC3wJ,KAAKkuB,eAAerqB,aAAa8sJ,EAAU3wJ,KAAKsjG,eAAeqtD,IAG/D3wJ,KAAKouB,aAAavqB,aAAa8sJ,EAAU3wJ,KAAKsjG,eAAeqtD,OAOrFmL,EAAYtgK,UAAUkhK,eAAiB,SAAU99D,GACzCA,GAAuB,aAAd5+F,KAAK0vB,KACd1vB,KAAKouB,aAAavqB,aAAa,WAAY,QAG3C7D,KAAKouB,aAAa9hB,gBAAgB,aAG1CwvJ,EAAYtgK,UAAUmhK,kBAAoB,SAAU/9D,GAC5CA,GACI5+F,KAAK48J,aAAa9hK,WAClBkF,KAAK48J,aAAah4J,MAAMyhD,QAAU,GAGlCrmD,KAAK8uB,iBAAiB/sB,YAAY/B,KAAK48J,cAE3C58J,KAAK8uB,iBAAiBt2B,UAAUkM,OAzHtB,uBA4HV1E,KAAK48J,aAAah4J,MAAMyhD,QAAU,OAClCrmD,KAAK8uB,iBAAiBt2B,UAAU+L,IA7HtB,uBAgIlBu3J,EAAYtgK,UAAUqhK,eAAiB,WAC/B78J,KAAKsU,WACLtU,KAAKitJ,aAAaz0J,UAAU+L,IAAIvE,KAAKsU,UACrCtU,KAAKkuB,eAAe11B,UAAU+L,IAAIvE,KAAKsU,YAG/CwnJ,EAAYtgK,UAAUshK,aAAe,WACjC,GAAI1wJ,GAAQkc,UAA2B,aAAdtoB,KAAK0vB,MAAuB1vB,KAAKuwJ,eAAiB,CACvE,GAAIsD,GAAU7zJ,IACdhE,QAAOk9J,WAAa,WAChBrF,EAAQ/C,aAEZxxG,QAAQ65G,aAAc,IAE1B,GAAI7B,IAAc1kI,KAAM,SAAUnmB,SAAU,KACxC4B,GAAckpJ,MAAOv3J,KAAK8jH,SAAUh0F,QAAQ,EAAO0J,UAAW89H,EAElE,IADAt3J,KAAKooB,QAAQ,OAAQ/Z,IACjBA,EAAUyhB,OAAd,CAUA,GAPA9vB,KAAK+8J,uBACLhiK,SAAS+R,KAAK/K,YAAY/B,KAAK8jH,SAASjqH,SACtB,aAAdmG,KAAK0vB,MACL1rB,GAAUhE,KAAKkuB,iBA9IP,gBAgJZluB,KAAK8jH,SAAShD,KAAKzyG,EAAUmrB,UAA4B,MAAhBx5B,KAAKo8G,OAAmBp8G,KAAKnG,QAAU,MAChFkK,EAAW/D,KAAKouB,cAAgB80H,gBAAiB,UAC5CljJ,KAAKg9J,aAAc,CACpB,GAAI33D,GAAYrlG,KAAKk2C,KAAKpzC,cAAc,KACpCuiG,KACArlG,KAAKi9J,SAAW53D,EAAUrjG,UAAYqjG,EAAUrjG,WAAU,GAAQqjG,GAEtErlG,KAAKg9J,cAAe,GAEnBh9J,KAAKuwJ,gBAAkBvwJ,KAAKo8J,mBAAqBp8J,KAAKi9J,UAAYj9J,KAAKo5G,UACpEp5G,KAAKhD,OAASgD,KAAKhD,MAAMzE,QACzByH,KAAKk9J,mBAGbl9J,KAAK+O,OAAO,WAAayyB,OAAQ,oBAAqB8oE,OAAsB,aAAdtqG,KAAK0vB,KAAqBtuB,EAAGpB,SAE/F87J,EAAYtgK,UAAUuhK,qBAAuB,WACzC,GAAI/8J,KAAKqlG,WAAarlG,KAAKqlG,UAAUviG,cAAc,MAC7C21G,GAAoBtX,IAAK,CAC3B,GAAItnG,OAAU,EAWE,SATZA,EADc,aAAdmG,KAAK0vB,KACK1vB,KAAKk2C,KAAKpzC,cAAc,MAC5B21G,GAAoBtX,GAAK,SACzBy6D,GAAY,KAGR57J,KAAKqlG,UAAUviG,cAAc,MACjC21G,GAAoBtX,GAAK,SACzBy6D,GAAY,QAGlB57J,KAAKotG,cACLptG,KAAKm9J,aAAatjK,MAI9BiiK,EAAYtgK,UAAU4hK,oBAAsB,SAAU3gK,GAClD,GAAI6yG,EACA7yG,GACA6yG,EAAgBr2G,EAAOwD,EAAMuD,KAAKikG,cAAe,aAAcjkG,KAAKnI,YAGhEmI,KAAKhD,OAASgD,KAAKhD,MAAMzE,OACzBU,EAAO+G,KAAKhD,MAAMgD,KAAKhD,MAAMzE,OAAS,GAAIyH,KAAKikG,cAAe,aAAcjkG,KAAKnI,YAGjFy3G,EAAgB,KAGpBA,GAAwC,OAAvBA,EAAcz2G,OAC/BmH,KAAKm9J,aAAa7tD,EAAcz2G,MAChCmH,KAAKk4J,aAAa5oD,EAAcz2G,KAAMy2G,EAAcp3G,SAG5D4jK,EAAYtgK,UAAUq1J,kBAAoB,WAUtC,OARIrhC,gBAAiB,QACjB4zB,YAAapjJ,KAAKnG,QAAQ8J,GAAK,WAC/ByP,KAAQ,UACRiqJ,uBAAwB,OACxB9oB,wBAAyB,OACzB4O,gBAAiB,OACjBD,gBAAiB,UAIzB4Y,EAAYtgK,UAAU8hK,eAAiB,WACnCv5J,EAAW/D,KAAKqlG,WAAa1hG,GAAM3D,KAAKnG,QAAQ8J,GAAK,WAAYyP,KAAQ,UAAW43G,cAAe,SACnG,IAAIuyC,KAAiBv9J,KAAKouB,qBAC1BrqB,GAAW/D,KAAKouB,aAAcpuB,KAAK6wJ,qBAC/B0M,GACAx5J,EAAW/D,KAAKouB,cAAgBohG,gBAAiB,UAGzDssC,EAAYtgK,UAAUgiK,oBAAsB,SAAUp8J,GAClD,GAAI6C,GAEAjH,GADJiH,EAAWjE,KAAKy9J,sBAAsB7iK,iBAAiB,QAAUihK,KAC5C53J,EAAS1L,OAAS,GAAGkO,aAAa,aAQvD,IAPKhJ,EAAkBuC,KAAKhD,SACxBgD,KAAK09J,WAAa19J,KAAKhD,MAAM2E,SAEjC3B,KAAK29J,YAAY3gK,EAAOoE,GACxBpB,KAAK49J,sBACL59J,KAAK69J,gBAAgB79J,KAAK89J,eAC1B99J,KAAK+9J,mBACD/9J,KAAKi9J,UAAYj9J,KAAKo5G,SAAU,CAChC,GAAIljE,GAAOl2C,KAAKi9J,SAASj7J,UAAYhC,KAAKi9J,SAASj7J,WAAU,GAAQhC,KAAKi9J,QAC1Ej9J,MAAKs7G,iBAAiBplE,EAAMl2C,KAAKg+J,UACjCh+J,KAAKk9J,qBAIbpB,EAAYtgK,UAAU+/G,gBAAkB,SAAUn6G,GAC9Cs3B,EAAOl9B,UAAU+/G,gBAAgB36G,KAAKZ,KAAMoB,GAC5CpB,KAAKsnH,cACLtnH,KAAK88J,gBAEThB,EAAYtgK,UAAUg9G,cAAgB,WAKlC,MAJAx4G,MAAKi+J,mBAAqBj+J,KAAKouB,aACb,aAAdpuB,KAAK0vB,MACL1vB,KAAK+O,OAAO,iBAAmByyB,OAAQ,oBAAqB8oE,OAAsB,aAAdtqG,KAAK0vB,OAEtE1vB,KAAKi+J,mBAAmBjhK,OAEnC8+J,EAAYtgK,UAAU0iK,YAAc,SAAUC,GAG1C,IAAK,GAFD9pG,GACApB,EAAQx1D,EAAkBuC,KAAKkV,OAAOlY,OAASgD,KAAKkV,OAAOzb,KAAOuG,KAAKkV,OAAOlY,MACzE3E,EAAI,EAAGA,EAAI8lK,EAAW5lK,OAAQF,IAE/Bg8D,EADM,IAANh8D,EACY,GAAIi8D,IAAUrB,EAAO,QAASkrG,EAAW9lK,IAGzCg8D,EAAUqC,GAAGzD,EAAO,QAASkrG,EAAW9lK,GAG5D,QAAO,GAAIg6D,KAAQ4B,MAAMI,IAE7BynG,EAAYtgK,UAAU8/G,iBAAmB,SAAUjW,EAAWnvD,EAAM90C,EAAGguJ,GACnE12H,EAAOl9B,UAAU8/G,iBAAiB16G,KAAKZ,KAAMqlG,EAAWnvD,EAAM90C,EAC9D,IAAI6S,GAAQjU,KACRm+J,IACJ,KAAK1gK,EAAkBuC,KAAKhD,OACxB,IAAK,GAAI3E,GAAI,EAAGA,EAAI2H,KAAKhD,MAAMzE,OAAQF,IACpBgtG,EAAUviG,cAAc,kBAAoBmR,EAAMjX,MAAM3E,GAAK,OAExE8lK,EAAWnlK,KAAKib,EAAMjX,MAAM3E,GAIpC8lK,GAAW5lK,OAAS,GAAKyH,KAAKyyF,qBAAsB93B,MAAgBl9D,EAAkBuC,KAAKhD,OAC3FgD,KAAKyyF,WAAWn/B,aAAatzD,KAAKk+J,YAAYC,IAAa3iE,KAAK,SAAUp6F,GACtE6S,EAAM4+F,QAAQzxG,EAAEpC,OAAQk3C,EAAK39C,QAC7B0b,EAAMmqJ,iBAAiB/4D,EAAWnvD,EAAM90C,KAI5CpB,KAAKo+J,iBAAiB/4D,EAAWnvD,EAAM90C,IAG/C06J,EAAYtgK,UAAU4iK,iBAAmB,SAAU/4D,EAAWnvD,EAAM90C,EAAGguJ,GAYnE,GAXkB,aAAdpvJ,KAAK0vB,MAAuB1vB,KAAKq+J,eACjCr+J,KAAK+O,OAAO,aAAeyyB,OAAQ,oBAAqB8oE,OAAsB,aAAdtqG,KAAK0vB,OAEpE1vB,KAAKi9J,UAAaj9J,KAAKg+J,SAKlBvgK,EAAkBuC,KAAKg+J,WAAsC,IAAzBh+J,KAAKg+J,SAASzlK,SACxDyH,KAAKg+J,SAAW9nH,IALhBl2C,KAAKi9J,SAAW53D,EAAUrjG,UAAYqjG,EAAUrjG,WAAU,GAAQqjG,EAClErlG,KAAKg+J,SAAW9nH,EAChBl2C,KAAKs+J,mBAAqBt+J,KAAKikG,gBAK9BjkG,KAAKu+J,mBAAqBroH,EAAK39C,QAAU,IAAMyH,KAAKo8J,kBAAoBp8J,KAAKutJ,YAAcvtJ,KAAKuwJ,eAEjG,WADAvwJ,MAAKw+J,oBAAoBx+J,KAAKy+J,UAAWz+J,KAAKkV,OAG9ClV,MAAKhD,OAASgD,KAAKhD,MAAMzE,QAAsC,KAA5ByH,KAAKouB,aAAapxB,OACrDgD,KAAKk9J,mBAETl9J,KAAKs9J,iBACLt9J,KAAK0+J,mBACL1+J,KAAKgwJ,iBACAvyJ,EAAkBuC,KAAK2+J,kBACxB3+J,KAAK2+J,kBAEJlhK,EAAkBuC,KAAK4+J,kBACxB5+J,KAAK4+J,kBAEL5+J,KAAK6+J,cACL7+J,KAAK8+J,qBACL9+J,KAAK++J,gBACL/+J,KAAKg/J,qBACLh/J,KAAKi/J,iBAAiB,KAAMj/J,KAAKhD,MAAO,OAE5CgD,KAAKsnH,cACDtnH,KAAKuuJ,kBACLvuJ,KAAKuuJ,iBAAkB,EACvBvuJ,KAAK88J,iBAGbhB,EAAYtgK,UAAU0hK,iBAAmB,WACrC,GAAIlgK,GACAnD,EACA6J,EAAY1D,KAAKq8J,iBACjBT,GACAnjD,GAAoBhf,QACxB,KAAKh8F,EAAkBuC,KAAKhD,OACxB,IAAK,GAAI9E,GAAQ,GAAIuF,EAAkBuC,KAAKhD,MAAM9E,IAASA,IAGvD,GAFA8E,EAAQgD,KAAKhD,MAAM9E,GACnB2B,EAAUmG,KAAKk2C,KAAKpzC,cAAc,kBAAoB9F,EAAQ,MACjD,CAWT,GAVAgH,GAAUnK,GAAU6J,GAChB1D,KAAKq8J,kBAAoBxiK,EAAQ28G,iBAC9B38G,EAAQu7G,uBAAuB58G,UAAUC,SAASggH,GAAoBp1E,UACpExpC,EAAQqmG,oBACTrmG,EAAQqmG,mBAAmB1nG,UAAUC,SAASggH,GAAoBp1E,SACtEr/B,GAAUnK,EAAQu7G,wBAAyB1xG,GAE3C1D,KAAKq8J,kBAAoBr8J,KAAKkV,OAAOmvF,UAAYxqG,EAAQu7G,uBAAuB58G,UAAUC,SAASmjK,KACnG57J,KAAKk/J,cAAcliK,GAEnBgD,KAAKq8J,kBAAoBxiK,EAAQrB,UAAUC,SAASggH,GAAoBp2G,OAAQ,CAChFmC,GAAa3K,GAAU4+G,GAAoBp2G,MAC3C,IAAIu5G,GAAU/hH,EAAQkc,cAAcnb,iBAAiB,IACjD69G,GAAoBtX,GAAK,SAAWy6D,GAAY,IAChDhgD,GAAQrjH,OAAS,EACjByL,GAAU43G,EAAQ,IAAKnD,GAAoBp2G,QAG3CrC,KAAKqlG,UAAYrlG,KAAKqlG,UAAUrjG,UAAYhC,KAAKqlG,UAAUrjG,WAAU,GAAQhC,KAAKqlG,UAClFrlG,KAAKi6G,aACLj2G,GAAUhE,KAAKk2C,MAAOuiE,GAAoBE,SAIlD,GADA9+G,EAAQgK,aAAa,gBAAiB,QACpB,aAAd7D,KAAK0vB,MAAuB71B,EAAQrB,UAAUC,SAAS,YAAa,CACpE,GAAI0mK,GAAYtlK,EAAQwL,kBAAkBoB,aAAa,eACvD,IAAIhJ,EAAkB0hK,IAA4B,UAAdA,EAAuB,CACvD,GAAIl/J,IACAuhC,OAAQ,oBACR8oE,OAAsB,aAAdtqG,KAAK0vB,KACbyxE,GAAItnG,EACJuH,EAAG,KAEPpB,MAAK+O,OAAO,aAAc9O,KAM9CD,KAAKo/J,iBACLp/J,KAAKq/J,qBAETvD,EAAYtgK,UAAU0jK,cAAgB,SAAUliK,GAC5C,GAAInD,GACAylK,EACA57J,EAAY1D,KAAKq8J,iBACjBT,GACAnjD,GAAoBhf,QACxB6lE,GAAWzlK,EAAUmG,KAAKqlG,UAAUviG,cAAc,kBAAoB9F,EAAQ,KAC9E,IAAI3E,GAAI,EACJ8sB,EAAI,EACJ3Z,GAAO,EACP+zJ,GAAQ,CACZ,IACQ1lK,GAAWA,EAAQu7G,yBACdv7G,EAAQu7G,uBAAuB58G,UAAUC,SAASmjK,KACnD/hK,EAAQu7G,uBAAuB58G,UAAUC,SAASggH,GAAoBtX,MAC1E31F,GAAO,IAENA,IAAS3R,GAAYA,EAAQu7G,wBAC3Bv7G,EAAQu7G,uBAAuB58G,UAAUC,SAASggH,GAAoBp1E,OACzEhrC,EAAI,GAGJwB,EAAUA,EAAQu7G,uBAElBkqD,GAAYA,EAASp/D,qBAChBo/D,EAASp/D,mBAAmB1nG,UAAUC,SAASmjK,KAChD0D,EAASp/D,mBAAmB1nG,UAAUC,SAASggH,GAAoBtX,MACvEo+D,GAAQ,IAEPA,IAAUD,GAAaA,EAASp/D,oBAC9Bo/D,EAASp/D,mBAAmB1nG,UAAUC,SAASggH,GAAoBp1E,OACtEle,EAAI,GAGJm6I,EAAWA,EAASp/D,yBAEnB7nG,EAAI,IAAM8sB,EAAI,GACnB3Z,IAAQ+zJ,IAAU1lK,EAAQu7G,uBAAuB58G,UAAUC,SAASmjK,IACpE53J,GAAUnK,EAAQu7G,wBAAyB1xG,GAEtC8H,GAAQ+zJ,GAAS1lK,EAAQu7G,uBAAuB58G,UAAUC,SAASmjK,KACxEp3J,GAAa3K,EAAQu7G,wBAAyB1xG,IAGtDo4J,EAAYtgK,UAAU4jK,eAAiB,WACnC,GAAII,GAAcx/J,KAAKk2C,KAAKt7C,iBAAiB,MAAQ69G,GAAoBtX,IAAI5oG,OACzEknK,EAAoBz/J,KAAKk2C,KAAKt7C,iBAAiB,MAAQ69G,GAAoBhf,UAAUlhG,MACpFinK,KAAgBC,GAAqC,aAAdz/J,KAAK0vB,MAAuB1vB,KAAKq+J,eACzEr+J,KAAK+O,OAAO,kBAAoByyB,OAAQ,oBAAqB8oE,OAAsB,aAAdtqG,KAAK0vB,KAAqB1yB,MAAO,UAErGwiK,IAAgBC,GAAqC,aAAdz/J,KAAK0vB,MAAuB1vB,KAAKq+J,eACzEr+J,KAAK+O,OAAO,kBAAoByyB,OAAQ,oBAAqB8oE,OAAsB,aAAdtqG,KAAK0vB,KAAqB1yB,MAAO,aAG9G8+J,EAAYtgK,UAAUkkK,UAAY,SAAUt+J,GACnCpB,KAAK2/J,aAA6B,aAAd3/J,KAAK0vB,KAQpB1vB,KAAK2/J,aAA6B,aAAd3/J,KAAK0vB,MAAwB1vB,KAAKmsJ,eAC5DnsJ,KAAKqzJ,YARwB,KAAzBrzJ,KAAKw4G,gBACLx4G,KAAKqzJ,YAGLrzJ,KAAK8wJ,aAOjBgL,EAAYtgK,UAAUokK,MAAQ,SAAUx+J,GACpC,GAAIrB,GAAQC,IASZ,IARkB,aAAdA,KAAK0vB,MAAwB1vB,KAAK2/J,aAG7BliK,EAFM1F,OAAOC,aAAaoJ,EAAE1J,SACNwZ,MAAM,SAE7BlR,KAAK8uJ,YAAa,GAG1B9uJ,KAAK8uJ,WAAc9uJ,KAAKmsJ,eAA+B,IAAd/qJ,EAAE1J,SAAkBsI,KAAK8uJ,WAC9D9uJ,KAAK8uJ,WAIL,OAHA9uJ,KAAK8uJ,YAAa,EAClB9uJ,KAAK6/J,gBACL7/J,KAAK8/J,mBACG1+J,EAAE1J,SACN,QAKI,IAJKsI,KAAKmsJ,eAAiBnsJ,KAAK2/J,aAC5B3/J,KAAKqzJ,YAETrzJ,KAAK0/J,UAAUt+J,GACXpB,KAAK+/J,oBAAsB//J,KAAKuwJ,gBAAiC,IAAdnvJ,EAAE1J,QACrDsI,KAAK+8J,2BAEJ,CACD,GAAItjK,GAAOuG,KAAKw4G,eAEhB,IADAx4G,KAAKtI,QAAU0J,EAAE1J,QACbsI,KAAKuwJ,eAAgB,CACrB,GAAIjY,IACA+c,sBAAsB,EACtB57J,KAAMuG,KAAKw4G,gBACX88C,WAAY,SAAU7iE,EAAY34F,EAAOob,GACjCojI,EAAYxoH,SAGhB/vB,EAAMi7J,YAAa,EACnBj7J,EAAMigK,oBAAqB,EAC3BjgK,EAAMkgK,YAAYxtE,EAAY34F,EAAOob,KAEzC3Y,MAAO6E,EACP0uB,QAAQ,EAGZ,IADA9vB,KAAKooB,QAAQ,YAAakwH,GACtBA,EAAYxoH,OACZ,MAEC9vB,MAAKg7J,YAAe1iB,EAAY+c,uBACjCr1J,KAAKq7J,cAAe,EACpBr7J,KAAKigK,YAAYjgK,KAAKyyF,WAAY,KAAMzyF,KAAKkV,aAGhD,CAAA,GAAIlV,KAAKo8J,iBAAkB,CAC5B,GAAItiK,GAAQ,GAAIu4D,GAChBv4D,GAAkB,KAATL,EAAeK,EAAMm6D,MAAMj0D,KAAKkV,OAAOzb,KAAM,aAAcA,EAAMuG,KAAKnI,WAAYmI,KAAKo0D,cAAgBt6D,EAChHkG,KAAKigK,YAAYjgK,KAAKg+J,SAAUlkK,EAAOkG,KAAKkV,OAC5C,OAGA,GAAI+uF,OAAgB,EACpBA,GAAgBjkG,KAAKk2C,KAAKt7C,iBAAiB,MAAQ69G,GAAoBtX,GAAK,yBAC5E,IAAImO,GAAgBr2G,EAAO+G,KAAKw4G,gBAAiBvU,EAAe,aAAcjkG,KAAKnI,WAC/Ey3G,IAAwC,OAAvBA,EAAcz2G,MAC/BmH,KAAKm9J,aAAa7tD,EAAcz2G,MAChCmH,KAAKk2C,KAAKhpC,UACNoiG,EAAcz2G,KAAKgrD,aAAeyrD,EAAcp3G,OAEtB,KAAzB8H,KAAKw4G,gBACVx4G,KAAKotG,cAGLptG,KAAK+8J,2BAOjCjB,EAAYtgK,UAAUk1G,SAAW,SAAU52G,GACvC,GAAI27J,GAAc37J,EAAQA,EAAMuF,QAAUW,KAAKlG,MAAQkG,KAAKlG,MAAMuF,QAAU,GAAIgzD,GAChF,IAAIryD,KAAKq7J,aAAc,CACnB,GAA6B,OAAzBr7J,KAAKw4G,gBAA0B,CAC/B,GAAIhnF,GAAWxxB,KAAKu5G,WAAWv5G,KAAKyyF,YAAYyP,MAChD,KAAMliG,KAAKyyF,qBAAsB93B,KAA6B,WAAbnpC,IAAsC,WAAbA,EAGrE,CACD,GAAItc,GAASlV,KAAKkV,MAClBugJ,GAAYxhG,MAAOx2D,EAAkByX,EAAOzb,MAAsB,GAAdyb,EAAOzb,KAAW,aAAcuG,KAAKw4G,gBAAiBx4G,KAAKnI,WAAYmI,KAAKo0D,kBAJhIqhG,GAAYxhG,MAAM,GAAI,aAAcj0D,KAAKw4G,gBAAiBx4G,KAAKnI,WAAYmI,KAAKo0D,cAOxF,MAAOqhG,GAGP,MAAO37J,KAAgBkG,KAAKlG,MAAQkG,KAAKlG,MAAQ,GAAIu4D,MAG7DypG,EAAYtgK,UAAUykK,YAAc,SAAUxtE,EAAY34F,EAAOob,GAC7D,GAAoC,KAAhClV,KAAKw4G,gBAAgB/mG,OAAe,CACpC,GAAIykC,GAAOl2C,KAAKi9J,SAASj7J,UAAYhC,KAAKi9J,SAASj7J,WAAU,GAAQhC,KAAKi9J,QACtEj9J,MAAKkgK,cACLlgK,KAAKu+J,mBAAoB,EACzBv+J,KAAKs7G,iBAAiBplE,EAAMl2C,KAAKg+J,UAC7Bh+J,KAAKhD,OAASgD,KAAKhD,MAAMzE,QACzByH,KAAKk9J,mBAEY,IAAjBl9J,KAAKtI,SACLsI,KAAK+8J,uBAET/8J,KAAK+O,OAAO,WAAayyB,OAAQ,oBAAqB8oE,OAAsB,aAAdtqG,KAAK0vB,KAAqBtuB,EAAGpB,YAI/FA,MAAK46G,UAAUnoB,EAAYv9E,EAAQpb,GAC/BkG,KAAKo8J,mBACC3pE,YAAsB93B,KAIxB36D,KAAKu+J,mBAAoB,EACzBv+J,KAAKy+J,UAAY3kK,GAJjBkG,KAAKw+J,oBAAoB1kK,EAAOob,GAQ5ClV,MAAKm2J,gBAET2F,EAAYtgK,UAAUgjK,oBAAsB,SAAU1kK,EAAOob,GACzD,GAAIirJ,IAAcngK,KAAKm5G,eAAen5G,KAAKouB,aAAapxB,MAAOgD,KAAKnI,WACpE,IAAImI,KAAKo8J,kBAAoB+D,EAAY,CACrC,GAAInjK,GAAQgD,KAAKouB,aAAapxB,KAG9B,IAA4B,kBAFTS,EAAkBuC,KAAKg+J,WAAah+J,KAAKg+J,SAASzlK,OAAS,EAC1EyH,KAAKg+J,SAAS,GAAKh+J,KAAKg+J,UACU,CAClC,GAAI/oJ,KACJ7X,GAAS8X,EAAOzb,KAAMuD,EAAOiY,GAC7B7X,EAAS8X,EAAOlY,MAAOA,EAAOiY,IAC1Bm9F,EAAW3gF,KAAKC,MAAMD,KAAKouB,UAAU7/C,KAAKo5G,YACrClvF,OAAO,EAAG,EAAGjV,GACtBjV,KAAK46G,UAAUxI,EAAUl9F,GAAkBlV,KAAKkV,OAAQpb,OAEvD,CACD,GAAIs4G,IAAYpyG,KAAKouB,aAAapxB,MAClCgD,MAAK46G,UAAUxI,EAAUl9F,GAAkBlV,KAAKkV,SAGpDlV,KAAKhD,OAASgD,KAAKhD,MAAMzE,QACzByH,KAAKk9J,oBAGbpB,EAAYtgK,UAAUw1J,eAAiB,WACnC,MAAO,mBAEX8K,EAAYtgK,UAAU4kK,aAAe,SAAUh/J,GAE3C,GADApB,KAAK6+J,aAAc,GACf7+J,KAAKyuH,UAAazuH,KAAK4mB,QAA3B,CAGA,GAAIxlB,EAAEyH,SAAW7I,KAAK48J,aAElB,WADAx7J,GAAE+lB,gBASN,IANKnnB,KAAKutJ,YAA4B,aAAdvtJ,KAAK0vB,MACzB1vB,KAAK+U,cAAc/U,KAAKouB,aAAc,SAExB,aAAdpuB,KAAK0vB,MACL1vB,KAAKuzH,UAELnyH,EAAEyH,SAAiE,IAAvDzH,EAAEyH,OAAOrQ,UAAUmI,WAAWnC,QApnBrC,iBAwnBL,YAHIwB,KAAKmsJ,eACLnsJ,KAAKm2J,iBAIRn2J,KAAKmsJ,eAAiBnsJ,KAAK2/J,YAC5B3/J,KAAKqzJ,aAGLrzJ,KAAK8wJ,YACa,aAAd9wJ,KAAK0vB,MACL1vB,KAAKuzH,WAGbnyH,EAAE+lB,mBAEN20I,EAAYtgK,UAAU8uG,OAAS,SAAU1L,GACjCA,GACA5+F,KAAKkuB,eAAe11B,UAAUkM,OAhpB3B,cAipBH1E,KAAKouB,aAAa9hB,gBAAgB,YAClCvI,EAAW/D,KAAKouB,cAAgBohG,gBAAiB,YAGjDxvH,KAAKkuB,eAAe11B,UAAU+L,IArpB3B,cAspBHvE,KAAKouB,aAAavqB,aAAa,WAAY,QAC3CE,EAAW/D,KAAKouB,cAAgBohG,gBAAiB,UAEjDxvH,KAAK4mB,UAAYg4E,IACjB5+F,KAAK4mB,QAAUg4E,GAEnB5+F,KAAK8wJ,aAETgL,EAAYtgK,UAAU+1J,OAAS,SAAUmD,GACrC,GAAI7rJ,EAIJ,OAHKpL,GAAkBi3J,KACnB7rJ,EAAS6rJ,EAAI1rB,eAEbhpI,KAAK8jH,UAAY/oH,SAAS+R,KAAKrU,SAASuH,KAAK8jH,SAASjqH,UAAYmG,KAAK8jH,SAASjqH,QAAQpB,SAASoQ,QAC/E,aAAd7I,KAAK0vB,MACL1vB,KAAKouB,aAAa/rB,SAIR,aAAdrC,KAAK0vB,MAAuBtjB,GAAQ20C,OAAStjD,EAAkBi3J,IAC/D10J,KAAKutJ,YAAa,MAClBvtJ,MAAKkuB,eAAe11B,UAAUkM,OAAOo7I,KAGrC9/I,KAAKi8J,mBACLvH,EAAIvtI,iBACJnnB,KAAKouB,aAAa/rB,aAClBrC,KAAKi8J,mBAAoB,KAG7Bj8J,KAAKutJ,YAAa,EAClBvtJ,KAAKkuB,eAAe11B,UAAUkM,OAAOo7I,IACnB,QAAd9/I,KAAK0vB,MAAgC,aAAd1vB,KAAK0vB,OAC5B1vB,KAAKqgK,iBAAiB,MACtBrgK,KAAKsgK,mBAETtgK,KAAKi/J,iBAAiBvK,EAAK10J,KAAKhD,MAAOgD,KAAK09J,YAC5C19J,KAAK+U,cAAc/U,KAAKkuJ,cAAe,UACvCluJ,KAAK48J,aAAah4J,MAAMyhD,QAAU,OAC9BrmD,KAAKmsJ,eACLnsJ,KAAK8wJ,YAET9wJ,KAAK+9J,mBACL/9J,KAAKooB,QAAQ,QACbpoB,KAAK6nG,SAAU,EACXz7F,GAAQkc,UAA0B,cAAdtoB,KAAK0vB,MAAsC,aAAd1vB,KAAK0vB,MACtD1vB,KAAKugK,kBAETvgK,KAAK49J,sBACL59J,KAAKwgK,oBACLpxI,GAAepvB,KAAKkuB,eAAgBluB,KAAK8uB,iBAAkB9uB,KAAKhD,MAAOgD,KAAK2oB,eAAgB3oB,KAAK0oB,iBACjG1oB,MAAKg/J,uBAETlD,EAAYtgK,UAAUglK,kBAAoB,WACjCxgK,KAAKhD,OAAUgD,KAAKhD,MAAMzE,OAI3ByH,KAAKmuB,cAAc31B,UAAU+L,IAnsBzB,eAgsBJvE,KAAKmuB,cAAc31B,UAAUkM,OAhsBzB,gBAssBZo3J,EAAYtgK,UAAUilK,eAAiB,SAAU34J,EAAU6B,GACvD,MAAO8nB,MAAKouB,UAAU/3C,EAASnG,QAAQq3D,UAAYvnC,KAAKouB,UAAUl2C,EAAShI,QAAQq3D,SAEvF8iG,EAAYtgK,UAAUyjK,iBAAmB,SAAU1iK,EAAO6wB,EAAQrlB,GAC9D,GAAID,GAAWslB,MACXzjB,EAAW5B,KACf,IAAI/H,KAAK0gK,YAAc1gK,KAAKygK,eAAe34J,EAAU6B,GAAW,CAC5D,GAAI0E,IACAjN,EAAG7E,EACHoN,SAAU5B,EACV/K,MAAOowB,EACPyiF,eAActzG,EACd1C,QAASmG,KAAKnG,QAElBmG,MAAKooB,QAAQ,SAAU/Z,KAG/BytJ,EAAYtgK,UAAUmlK,eAAiB,WACnC,GAAInpJ,GAASxX,KAAKk2C,KAAK19C,UAAUC,SAASggH,GAAoBE,QAAU,KACpE1qG,iBAAiBjO,KAAK+8G,WAAW,GAAI,MAAM7uG,iBAAiB,SAChE,OAAOd,MAAKknG,MAAMt0G,KAAKk2C,KAAK2N,aAAelqB,SAASniB,EAAQ,MAEhEskJ,EAAYtgK,UAAU03J,gBAAkB,SAAU1vB,GAC9C,GAEIgwB,GAFAoN,EAAa5gK,KAAKk2C,KAAKt7C,iBAAiB,MACtC69G,GAAoBtX,GAAK,SAAWy6D,GAAY,yBAEtDpI,GAAehwB,GAAS,EAAIo9B,EAAWp9B,EAAQ,GAAKo9B,EAAW,GAC/D5gK,KAAKm9J,aAAa3J,GAClBxzJ,KAAKk4J,aAAa1E,EAAcxzJ,KAAK88G,gBAAgB02C,EAAa/sJ,aAAa,iBAGnFq1J,EAAYtgK,UAAU43J,kBAAoB,SAAU5vB,GACrCxjI,KAAK+8G,UAAhB,IAGIy2C,GAFAoN,EAAa5gK,KAAKk2C,KAAKt7C,iBAAiB,MACtC69G,GAAoBtX,GAAK,SAAWy6D,GAAY,yBAEtDpI,GAAehwB,GAASo9B,EAAWroK,OAASqoK,EAAWp9B,EAAQ,GAAKo9B,EAAWA,EAAWroK,OAAS,GACnGyH,KAAKm9J,aAAa3J,GAClBxzJ,KAAKk4J,aAAa1E,EAAcxzJ,KAAK88G,gBAAgB02C,EAAa/sJ,aAAa,iBAEnFq1J,EAAYtgK,UAAUuhH,SAAW,WAI7B,MAHK/8G,MAAKk2C,MACNxd,EAAOl9B,UAAU+iD,OAAO39C,KAAKZ,MAE1BA,KAAKqlG,UAAYrlG,KAAKqlG,UAAUzqG,iBAAiB,IAAM69G,GAAoBtX,GAC5E,SAAWy6D,GAAY,KAAO,MAExCE,EAAYtgK,UAAU+3H,QAAU,WAC5B,SAAIvzH,KAAK4mB,SAAY5mB,KAAKyuH,YACtBzuH,KAAK8/J,mBACL9/J,KAAKutJ,YAAa,EACbvtJ,KAAKhD,MAINgD,KAAK09J,WAAa19J,KAAKhD,MAAM2E,QAH7B3B,KAAK09J,WAAa19J,KAAKhD,MAKvBgD,KAAKhD,OAASgD,KAAKhD,MAAMzE,SACP,cAAdyH,KAAK0vB,MAAsC,aAAd1vB,KAAK0vB,KAClC1vB,KAAKy9J,sBAAsB74J,MAAMyhD,QAAU,GAG3CrmD,KAAK6gK,mBAES,aAAd7gK,KAAK0vB,OACL1vB,KAAK8gK,YAAYl8J,MAAMyhD,QAAU,SAGvB,aAAdrmD,KAAK0vB,MACL1vB,KAAKmuB,cAAc31B,UAAUkM,OA3wB7B,eA6wBA1E,KAAK6nG,UACL7nG,KAAKouB,aAAa/rB,QAClBrC,KAAKooB,QAAQ,SACbpoB,KAAK6nG,SAAU,GAEd7nG,KAAKkuB,eAAe11B,UAAUC,SAASqnJ,KACxC9/I,KAAKkuB,eAAe11B,UAAU+L,IAAIu7I,IAEtC3wH,GAAgBnvB,KAAKkuB,eAAgBluB,KAAK8uB,kBACtC9uB,KAAKmsJ,eACLnsJ,KAAKm2J,gBAEF,IAMf2F,EAAYtgK,UAAUqlK,iBAAmB,WACnB,aAAd7gK,KAAK0vB,KACL1vB,KAAK8gK,YAAYl8J,MAAMyhD,QAAU,GAGjCrmD,KAAK+gK,iBAAiBn8J,MAAMyhD,QAAU,GAE1CrmD,KAAK8uB,iBAAiBt2B,UAAU+L,IAvyBX,gBAyyBzBu3J,EAAYtgK,UAAUwlK,iBAAmB,WACrChhK,KAAK+gK,iBAAiBn8J,MAAMyhD,QAAU,OACtCrmD,KAAK8uB,iBAAiBt2B,UAAUkM,OA3yBX,gBA6yBzBo3J,EAAYtgK,UAAUqkK,cAAgB,WAClC,GAAIvkI,GAAO,CACPt7B,MAAK0oB,cACL4S,EAAOA,EAAOt7B,KAAKouB,aAAa1F,YAAYnwB,OAAS+iC,EAAOt7B,KAAKouB,aAAa1F,YAAYnwB,QAE1FyH,KAAKouB,aAAapxB,MAAMzE,OAAS+iC,EACjCt7B,KAAKouB,aAAakN,KAAOt7B,KAAKouB,aAAapxB,MAAMzE,OAGjDyH,KAAKouB,aAAakN,KAAOA,GAGjCwgI,EAAYtgK,UAAU2wJ,YAAc,WAChC,MAA+B,QAAtBnsJ,KAAKitJ,cAA+D,OAApCjtJ,KAAKitJ,aAAal3I,eAE/D+lJ,EAAYtgK,UAAU26J,aAAe,WAC7Bn2J,KAAK8jH,UAAY9jH,KAAKihK,YACtBjhK,KAAK8jH,SAASn8G,eAAgB8P,MAAOzX,KAAKkhK,mBAC1ClhK,KAAK8jH,SAASxF,gBAAgBt+G,KAAKkuB,kBAG3C4tI,EAAYtgK,UAAUukK,gBAAkB,WACpC,MAAO//J,MAAKw4G,gBAAgBjgH,OAAS,GAEzCujK,EAAYtgK,UAAU2lK,gBAAkB,SAAUzpK,GAC9C,OAAQA,GACJ,IAAK,IACDsI,KAAK8wJ,YACa,aAAd9wJ,KAAK0vB,MACL1vB,KAAKouB,aAAa/rB,OAEtB,MACJ,KAAK,IACIrC,KAAKmsJ,eACNnsJ,KAAKqzJ,cAKrByI,EAAYtgK,UAAU4lK,oBAAsB,WACxC,GAAIlN,GAAcl0J,KAAKk2C,KAAKpzC,cAAc,IAAM21G,GAAoBp2G,MAC/D5E,GAAkBy2J,IACnBl0J,KAAKouB,aAAavqB,aAAa,wBAAyBqwJ,EAAYvwJ,KAG5Em4J,EAAYtgK,UAAU6lK,UAAY,SAAUjgK,GACxC,IAAIpB,KAAKyuH,WAAazuH,KAAK4mB,SAAyB,aAAd5mB,KAAK0vB,QAG3C1vB,KAAKk8J,eAAgB,IACjB96J,EAAE1J,QAAU,KAAO0J,EAAE1J,QAAU,MAAnC,CAGA,GAAI0J,EAAEmpD,OAGF,MAFAvqD,MAAKmhK,gBAAgB//J,EAAE1J,aACvB0J,GAAE+lB,gBAGD,IAAInnB,KAAKmsJ,cAAe,CACzB,GAAI+H,GAAcl0J,KAAKk2C,KAAKpzC,cAAc,IAAM21G,GAAoBp2G,MAEpE,QAAQjB,EAAE1J,SACN,IAAK,IACL,IAAK,IAAI,KACT,KAAK,IAOD,MANA0J,GAAE+lB,sBACE+sI,IACAl0J,KAAK88G,gBAAgBo3C,EAAYztJ,aAAa,eAC9CzG,KAAKkzJ,oBARC,GAQ6BlzJ,KAAK2gK,kBACxC3gK,KAAKohK,uBAGb,KAAK,IAOD,MANAhgK,GAAE+lB,sBACE+sI,IACAl0J,KAAK88G,gBAAgBo3C,EAAYztJ,aAAa,eAC9CzG,KAAKozJ,sBAhBC,GAgB+BpzJ,KAAK2gK,kBAC1C3gK,KAAKohK,uBAGb,KAAK,IACDhgK,EAAE+lB,iBACFnnB,KAAKshK,YAAY,GACjBthK,KAAKohK,qBACL,MACJ,KAAK,IACDhgK,EAAE+lB,iBACFnnB,KAAKshK,WAAW,GAChBthK,KAAKohK,qBACL,MACJ,KAAK,IAMD,MALAhgK,GAAE+lB,iBACFnnB,KAAK8wJ,iBACa,aAAd9wJ,KAAK0vB,MACL1vB,KAAKouB,aAAa/rB,QAG1B,KAAK,IAKD,MAJAjB,GAAE+lB,sBACgB,aAAdnnB,KAAK0vB,MACL1vB,KAAKuhK,YAAYngK,GAGzB,KAAK,IAKD,YAJkB,aAAdpB,KAAK0vB,OACLtuB,EAAE+lB,iBACFnnB,KAAKuhK,YAAYngK,IAGzB,KAAK,GACDA,EAAE+lB,iBACFnnB,KAAK8wJ,YACL9wJ,KAAKouB,aAAa/rB,QAClBrC,KAAKkuB,eAAe11B,UAAU+L,IAAIu7I,SAI1C,QAAQ1+I,EAAE1J,SACN,IAAK,IACL,IAAK,GACL,IAAK,IACL,IAAK,IACL,IAAK,IACD,MACJ,KAAK,IACGsI,KAAK2/J,aACL3/J,KAAKqzJ,WAET,MACJ,KAAK,IAGD,MAFAjyJ,GAAE+lB,qBACFnnB,MAAKwhK,eAIbxhK,KAAK+/J,mBACL//J,KAAKyhK,cAAcrgK,GAEL,aAAdpB,KAAK0vB,MAAuB1vB,KAAK0hK,sBACjC1hK,KAAK2hK,iBAAiBvgK,GAE1BpB,KAAK6/J,gBACL7/J,KAAKm2J,iBAET2F,EAAYtgK,UAAUmmK,iBAAmB,SAAUvgK,GAC7B,IAAdA,EAAE1J,SAA0C,KAAzBsI,KAAKw4G,gBACxBx4G,KAAKkgK,aAAc,EAGnBlgK,KAAKkgK,aAAc,GAG3BpE,EAAYtgK,UAAUimK,cAAgB,SAAUrgK,GAC5C,GAAmB,cAAdpB,KAAK0vB,MAAsC,aAAd1vB,KAAK0vB,MAAwB1vB,KAAKhD,OAASgD,KAAKhD,MAAMzE,OACpF,OAAQ6I,EAAE1J,SACN,IAAK,IACD0J,EAAE+lB,iBACFnnB,KAAK4hK,QAAQ,EAAGxgK,EAChB,MACJ,KAAK,IACDA,EAAE+lB,iBACFnnB,KAAK4hK,OAAO,EAAGxgK,EACf,MACJ,KAAK,GACDpB,KAAKw9J,oBAAoBp8J,EACzB,MACJ,KAAK,IACDpB,KAAK6hK,mBAAmBzgK,OAI/B,IAAkB,IAAdA,EAAE1J,SAA+B,cAAdsI,KAAK0vB,MACzB1vB,KAAKhD,OAASgD,KAAKhD,MAAMzE,OAAQ,CACjC6I,EAAE+lB,gBACF,IAAI3b,GAAOxL,KAAKhD,MAAMgD,KAAKhD,MAAMzE,OAAS,EAC1CyH,MAAK29J,YAAYnyJ,EAAMpK,GACvBpB,KAAK69J,gBAAgB79J,KAAK89J,eAC1B99J,KAAKo9J,oBAAoB5xJ,KAIrCswJ,EAAYtgK,UAAU+lK,YAAc,SAAUngK,GAC1CpB,KAAK49J,sBACL59J,KAAK8hK,gBAAgB1gK,GACjBpB,KAAKq8J,kBACLr8J,KAAK+8J,wBAGbjB,EAAYtgK,UAAUgmK,aAAe,WACjC,GAAIh2J,GAAOxL,KAAK09J,WAAa19J,KAAK09J,WAAW/7J,UACzC3B,MAAKhD,OAASgD,KAAKygK,eAAezgK,KAAKhD,MAAOwO,KAC9CxL,KAAKhD,MAAQwO,EACbxL,KAAK8+J,qBACa,cAAd9+J,KAAK0vB,MAAsC,aAAd1vB,KAAK0vB,KAClC1vB,KAAKy9J,sBAAsB74J,MAAMyhD,QAAU,GAG3CrmD,KAAK6gK,mBAET7gK,KAAKg/J,qBACDh/J,KAAKhD,MAAMzE,OACXyH,KAAK8/J,mBAGL9/J,KAAK+hK,oBAGb/hK,KAAK+9J,oBAETjC,EAAYtgK,UAAU08J,aAAe,SAAUpoD,EAAY6F,GACvD,GAAIwiD,GAAgBn4J,KAAKk2C,KAAK2N,aAC1Bu0G,EAAatoD,EAAWh6F,UAAYg6F,EAAWjsD,aAAe7jD,KAAKk2C,KAAKhpC,UACxEmrJ,EAAar4J,KAAKk2C,KAAKhpC,UAAYkrJ,EAAaD,EAChDI,EAAYzoD,EAAWh6F,UAAYg6F,EAAWjsD,aAAe7jD,KAAKk2C,KAAKhpC,SAC3EqrJ,GAAWv4J,KAAKkV,OAAOmvF,UAAYlnG,EAAY6C,KAAKk8G,oBAChDq8C,EAAWv4J,KAAKk8G,mBAAmBr4D,aAAe00G,EAClC,IAAhB5iD,EACA31G,KAAKk2C,KAAKhpC,UAAY,EAEjBkrJ,EAAaD,EAClBn4J,KAAKk2C,KAAKhpC,UAAYmrJ,EAEfE,EAAW,GAAKv4J,KAAKk2C,KAAK2N,aAAe00G,IAChDv4J,KAAKk2C,KAAKhpC,UAAYmrJ,IAG9ByD,EAAYtgK,UAAU0R,UAAY,SAAU4iG,EAAY6F,GACpD,GAAI0iD,GAAavoD,EAAWh6F,UAAY9V,KAAKk2C,KAAKhpC,SACjC4iG,GAAWh6F,UAAYg6F,EAAWjsD,aAAe7jD,KAAKk2C,KAAKhpC,SAC5EmrJ,GAAar4J,KAAKkV,OAAOmvF,UAAYlnG,EAAY6C,KAAKk8G,oBAClDm8C,EAAar4J,KAAKk8G,mBAAmBr4D,aAAew0G,CACxD,IAAIE,GAAYzoD,EAAWh6F,UAAYg6F,EAAWjsD,aAAe7jD,KAAKk2C,KAAKhpC,SACvD,KAAhByoG,EACA31G,KAAKk2C,KAAKhpC,UAAY,EAEjBmrJ,EAAa,EAClBr4J,KAAKk2C,KAAKhpC,UAAYlN,KAAKk2C,KAAKhpC,UAAYmrJ,EAErCE,EAAW,GAAKv4J,KAAKk2C,KAAK2N,aAAe00G,IAChDv4J,KAAKk2C,KAAKhpC,UAAY4iG,EAAWh6F,WAAa9V,KAAKkV,OAAOmvF,UAAYlnG,EAAY6C,KAAKk8G,oBACnFl8G,KAAKk8G,mBAAmBr4D,aAAe,KAGnDi4G,EAAYtgK,UAAUsmK,gBAAkB,SAAU1gK,GAC9C,GAAI+/F,GAAKnhG,KAAKk2C,KAAKpzC,cAAc,MAAQ21G,GAAoBp2G,OACzD2/J,EAAQhiK,KAAKhD,OAASgD,KAAKhD,MAAMzE,OAASyH,KAAKhD,MAAMzE,OAAS,CACvD,QAAP4oG,IACIA,EAAG3oG,UAAUC,SAAS,cACtBupK,GAAgB,GAEhBhiK,KAAK+rG,UAAU5K,IAAO6gE,EAAQhiK,KAAKiiK,yBACnCjiK,KAAKkiK,oBAAoB/gE,EAAI//F,GAC7BpB,KAAKm9J,aAAah8D,GACA,aAAdnhG,KAAK0vB,MACL1vB,KAAKsgK,kBACLtgK,KAAKwgK,oBACLxgK,KAAK69J,gBAAgB79J,KAAK89J,gBAG1B99J,KAAK69J,gBAAgB79J,KAAK89J,eAE9B99J,KAAK+9J,mBACa,aAAd/9J,KAAK0vB,MACL1vB,KAAKqgK,iBAAiBl/D,EAAGznG,aAE7BsG,KAAKm2J,gBAELn2J,KAAKs8J,oBACLt8J,KAAK8wJ,aAGb9wJ,KAAKg/J,sBAETlD,EAAYtgK,UAAU6kK,iBAAmB,SAAU5jK,GAC/C,IAAKuD,KAAKuwJ,gBAAkBvwJ,KAAKo8J,mBAAqBp8J,KAAKi9J,UAAYj9J,KAAKo5G,SAAU,CAClF,GAAIljE,OAAO,EAEPA,GADmB,eAAnBl2C,KAAKmkG,WAAiD,cAAnBnkG,KAAKmkG,UACjCnkG,KAAKqlG,UAAUrjG,UAAYhC,KAAKqlG,UAAUrjG,WAAU,GAAQhC,KAAKqlG,UAGjErlG,KAAKi9J,SAASj7J,UAAYhC,KAAKi9J,SAASj7J,WAAU,GAAQhC,KAAKi9J,SAE1Ej9J,KAAKs7G,iBAAiBplE,EAAMl2C,KAAKg+J,UACjCh+J,KAAKo9J,oBAAoB3gK,GACrBuD,KAAKhD,OAASgD,KAAKhD,MAAMzE,QACzByH,KAAKk9J,qBAIjBpB,EAAYtgK,UAAUqmK,mBAAqB,SAAUzgK,GACjD,GACIoK,GADA22J,EAAeniK,KAAKy9J,sBAAsB36J,cAAc,uBAEvC,QAAjBq/J,IACK1kK,EAAkBuC,KAAKhD,SACxBgD,KAAK09J,WAAa19J,KAAKhD,MAAM2E,SAGpB,QADb6J,EAAO22J,EAAajiE,sBAEhBlgG,KAAK49J,sBACL59J,KAAKoiK,iBAAiB52J,EAAMpK,IAEhCpB,KAAK29J,YAAYwE,EAAa17J,aAAa,cAAerF,GAC1DpB,KAAK+9J,oBAEL/9J,KAAKs8J,oBACLt8J,KAAK8wJ,aAGbgL,EAAYtgK,UAAU6mK,UAAY,SAAUzjE,GACxC,GACI1mG,GADA+L,EAAWjE,KAAKk2C,KAAKt7C,iBAAiB,MAAQ69G,GAAoBtX,GAElEl9F,GAAS1L,OAAS,IAClByH,KAAKotG,cACLl1G,EAAQ0mG,EAAQ,EAAK36F,EAAS1L,OAAS,EACvCyH,KAAKm9J,aAAal5J,EAAS/L,IAC3B8H,KAAKk4J,aAAaj0J,EAAS/L,GAAQA,IAEvC8H,KAAKohK,uBAETtF,EAAYtgK,UAAU8lK,WAAa,SAAU1rJ,GACzC,GAAI5V,KAAKk2C,KAAM,CACX,GAAIjyC,GAAWjE,KAAKk2C,KAAKt7C,iBAAiB,MACpC69G,GAAoBtX,GACpB,SAAWy6D,GAAY,0BACzBuG,EAAeniK,KAAKk2C,KAAKpzC,cAAc,MAAQ21G,GAAoBp2G,OACnEmJ,GAAQ,CACZ,IAAIvH,EAAS1L,OAAQ,CACjB,IAAK,GAAIL,GAAQ,EAAGA,EAAQ+L,EAAS1L,OAAQL,IACzC,GAAI+L,EAAS/L,KAAWiqK,EAAc,CAClC32J,EAAOtT,CACP,OAGJ0d,EAAW,EACPpK,EAAQvH,EAAS1L,OAAS,IAC1ByH,KAAKotG,cACLptG,KAAKm9J,aAAal5J,IAAWuH,IAC7BxL,KAAKk4J,aAAaj0J,EAASuH,GAAOA,IAIlCA,EAAO,IACPxL,KAAKotG,cACLptG,KAAKm9J,aAAal5J,IAAWuH,IAC7BxL,KAAKkN,UAAUjJ,EAASuH,GAAOA,OAMnDswJ,EAAYtgK,UAAUomK,OAAS,SAAUhsJ,EAAUxU,GAC/C,GAAI6C,GACAk+J,EACA32J,CACJvH,GAAWjE,KAAKy9J,sBAAsB7iK,iBAAiB,QAAUihK,IAE5C,QADrBsG,EAAeniK,KAAKy9J,sBAAsB36J,cAAc,yBAEhD8S,EAAW,GACX5V,KAAKoiK,iBAAiBn+J,EAASA,EAAS1L,OAAS,GAAI6I,GAIrDwU,EAAW,EAEE,QADbpK,EAAO22J,EAAa/sD,0BAEhBp1G,KAAK49J,sBACL59J,KAAKoiK,iBAAiB52J,EAAMpK,KAIhCoK,EAAO22J,EAAajiE,mBACpBlgG,KAAK49J,sBACQ,OAATpyJ,GACAxL,KAAKoiK,iBAAiB52J,EAAMpK,KAK5C06J,EAAYtgK,UAAU8mK,UAAY,SAAUlhK,GACxC,GAAIpB,KAAK4mB,QAAS,CACd,GAAI/jB,GAAOkD,EAAQ3E,EAAEyH,OAAQ,IAAMgzJ,GACnC77J,MAAK49J,sBACL59J,KAAKoiK,iBAAiBv/J,EAAMzB,KAGpC06J,EAAYtgK,UAAUoiK,oBAAsB,WACpC59J,KAAKy9J,uBACLz9J,KAAKugK,mBAGbzE,EAAYtgK,UAAU4mK,iBAAmB,SAAUvoK,EAASuH,GACxD4C,GAAUnK,GAtrCE,mBAurCZmG,KAAKooB,QAAQ,gBAAiBhnB,IAElC06J,EAAYtgK,UAAU+mK,aAAe,SAAUnhK,GAC3C,GAAgB,IAAZA,EAAEupD,OAA4B,IAAbvpD,EAAEutH,QAGnB3uH,KAAK4mB,UAAY5mB,KAAKyuH,SAAU,CAChC,GAAI50H,GAAUuH,EAAEyH,OAAOkN,cACnB/Y,EAAQgD,KAAKg6G,kBAAkBngH,EAAQ4M,aAAa,cAQxD,IAPIzG,KAAKmsJ,eAA+B,aAAdnsJ,KAAK0vB,MAC3B1vB,KAAK8wJ,YAEJ9wJ,KAAKutJ,YACNvtJ,KAAKouB,aAAa/rB,QAEtBrC,KAAK29J,YAAY3gK,EAAOoE,GACpB3D,EAAkBuC,KAAKk2C,KAAKpzC,cAAc,kBAAoB9F,EAAQ,QAAUgD,KAAKi9J,UAAYj9J,KAAKo5G,SAAU,CAChH,GAAIljE,GAAOl2C,KAAKi9J,SAASj7J,UAAYhC,KAAKi9J,SAASj7J,WAAU,GAAQhC,KAAKi9J,QAC1Ej9J,MAAKs7G,iBAAiBplE,EAAMl2C,KAAKg+J,UAErCh+J,KAAK69J,gBAAgB79J,KAAK89J,eAC1B99J,KAAK+9J,mBACL38J,EAAE+lB,mBAGV20I,EAAYtgK,UAAUuiK,iBAAmB,WACrC/9J,KAAKouB,aAAapxB,MAAQ,GAC1BgD,KAAKg/J,sBAETlD,EAAYtgK,UAAUwjK,mBAAqB,WACnCh/J,KAAK0oB,aAAuC,UAAxB1oB,KAAK2oB,eACrB3oB,KAAKhD,OAASgD,KAAKhD,MAAMzE,OACzByH,KAAKouB,aAAa1F,YAAc,GAGhC1oB,KAAKouB,aAAa1F,YAAc1oB,KAAK0oB,YAIzC1oB,KAAKwiK,oBAETxiK,KAAK6/J,iBAET/D,EAAYtgK,UAAUmiK,YAAc,SAAU3gK,EAAO03J,EAAKn8J,GACtD,GAAIL,GAAQ8H,KAAKhD,MAAMwB,QAAQwB,KAAKg6G,kBAAkBh9G,IAClD0G,EAAY1D,KAAKq8J,iBACjBT,GACAnjD,GAAoBhf,QACxB,KAAe,IAAXvhG,EAAc,CACd,GAAI2B,GAAUmG,KAAKk2C,KAAKpzC,cAAc,kBAAoB9F,EAAQ,MAC9D8sB,EAAM9pB,KAAK+9G,eAAe/gH,GAC1BqR,GACAjN,EAAGszJ,EACH77J,KAAMgB,EACNR,SAAUywB,EACV+lF,eAAc6kD,EACd5kI,QAAQ,EAGZ,IADA9vB,KAAKooB,QAAQ,WAAY/Z,GACrBA,EAAUyhB,OACV,MAmCJ,IAjCA9vB,KAAKhD,MAAMktB,OAAOhyB,EAAO,GACzB8H,KAAK2H,eAAgB3K,SAAUif,UAAWjc,KAAKhD,SAAU,GACzC,OAAZnD,IACAA,EAAQgK,aAAa,gBAAiB,SACtCW,GAAa3K,GAAU6J,GACvB1D,KAAK+O,OAAO,cACRyyB,OAAQ,oBACR8oE,OAAsB,aAAdtqG,KAAK0vB,KAAqByxE,GAAItnG,EACtCuH,EAAGpB,KAAM9H,MAAOA,IAEpB8H,KAAK+O,OAAO,cAAgByyB,OAAQ,oBAAqB8oE,OAAsB,aAAdtqG,KAAK0vB,KAAqByxE,GAAItnG,EAASuH,EAAGszJ,IAC3G3wJ,EAAW/D,KAAKouB,cAAgBmmH,wBAAyB16I,EAAQ8J,KAC5D3D,KAAKhD,MAAMzE,SAAWyH,KAAKg+J,SAASzlK,QAA0B,aAAdyH,KAAK0vB,MAAuB1vB,KAAKq+J,eAClFr+J,KAAK+O,OAAO,kBAAoByyB,OAAQ,oBAAqB8oE,OAAsB,aAAdtqG,KAAK0vB,KAAqB1yB,MAAO,aAG1GgD,KAAKq8J,kBAAoBr8J,KAAKkV,OAAOmvF,SACrCrkG,KAAKk/J,cAAcliK,GAEvBgD,KAAKyiK,gBAAe,EAAMzlK,GAC1BgD,KAAK0iK,WAAW1lK,GAChBgD,KAAK2iK,oBACO3iK,KAAKhD,OAASgD,KAAKhD,MAAMzE,OAASyH,KAAKhD,MAAMzE,OAAS,GACtDyH,KAAKiiK,wBAGbz9J,EAFiBxE,KAAKk2C,KAAKt7C,iBAAiB,MACtC69G,GAAoBtX,GAAK,mBACP,aAE5BnhG,KAAKooB,QAAQ,UAAW/Z,GACpB9V,IACAyH,KAAK+7J,mBAAmB/iK,KAAK8wB,GAC7B9pB,KAAKg8J,kBAAkBhjK,KAAKa,IAEjB,IAAXtB,EAAc,CACd,GAAI0H,IACAmB,EAAGszJ,EACH/8J,MAAOqI,KAAKg8J,kBACZ3iK,SAAU2G,KAAK+7J,mBACflsD,eAAc6kD,EACdkO,WAAW,EAEf5iK,MAAKooB,QAAQ,cAAenoB,GAC5BD,KAAK+7J,sBACL/7J,KAAKg8J,wBAIjBF,EAAYtgK,UAAUinK,eAAiB,SAAU7jE,EAAO5hG,GACpD,GAAIgD,KAAKuwJ,eAAgB,CACrB,GAAIsS,GAAW7iK,KAAKi9J,SAASn6J,cAAc,kBAAoB9F,EAAQ,KACnE6lK,KACIjkE,GACAikE,EAASh/J,aAAa,gBAAiB,SACvCW,GAAaq+J,GAAW7iK,KAAKq8J,iBACzBT,GACAnjD,GAAoBhf,UACN,aAAdz5F,KAAK0vB,OACLmzI,EAASx9J,kBAAkBxB,aAAa,eAAgB,SACxDW,GAAaq+J,EAASx9J,kBAAkBkxG,kBAAmB,cAI/DssD,EAASh/J,aAAa,gBAAiB,QACvCG,GAAU6+J,GAAW7iK,KAAKq8J,iBACtBT,GACAnjD,GAAoBhf,UACN,aAAdz5F,KAAK0vB,OACLmzI,EAASx9J,kBAAkBxB,aAAa,eAAgB,QACxDG,GAAU6+J,EAASx9J,kBAAkBkxG,kBAAmB,gBAM5EulD,EAAYtgK,UAAUknK,WAAa,SAAU1lK,GACzC,GAAIgD,KAAKy9J,sBAAuB,CAC5B,GAAI5jK,GAAUmG,KAAKy9J,sBAAsB36J,cAAc,oBAAsB9F,EAAQ,KACjFnD,IACA6K,EAAO7K,KAInBiiK,EAAYtgK,UAAUmnK,iBAAmB,WACjC3iK,KAAKhD,MAAMzE,QACNkF,EAAkBuC,KAAKy9J,yBACvBz9J,KAAKy9J,sBAAsB74J,MAAMyhD,QAAU,IAE9B,cAAdrmD,KAAK0vB,MAAsC,aAAd1vB,KAAK0vB,MAClC1vB,KAAK6gK,mBAET7gK,KAAK8/J,qBAGAriK,EAAkBuC,KAAKy9J,yBACxBz9J,KAAKy9J,sBAAsB74J,MAAMyhD,QAAU,QAE1C5oD,EAAkBuC,KAAK+gK,oBACvB/gK,KAAK+gK,iBAAiBn8J,MAAMyhD,QAAU,QAE3CrmD,KAAK+hK,qBAGbjG,EAAYtgK,UAAUsnK,SAAW,SAAU9lK,EAAOvD,EAAMi7J,GAC/C10J,KAAKhD,QACNgD,KAAKhD,UAETgD,KAAK2H,eAAgB3K,SAAUif,UAAWjc,KAAKhD,OAAQA,MAAW,EAClE,IAAInD,GAAUmG,KAAKk2C,KAAKpzC,cAAc,kBAAoB9F,EAAQ,KAClEgD,MAAKotG,cACDvzG,IACAmG,KAAKm9J,aAAatjK,GAClBmG,KAAK+iK,iBAAiBlpK,IAER,cAAdmG,KAAK0vB,MAAsC,aAAd1vB,KAAK0vB,MAClC1vB,KAAKgjK,QAAQvpK,EAAMuD,EAAO03J,GAE1B10J,KAAKq8J,kBAAoBr8J,KAAKkV,OAAOmvF,SACrCrkG,KAAKk/J,cAAcliK,GAEvBgD,KAAK2iK,mBACL3iK,KAAKq/J,qBAETvD,EAAYtgK,UAAU6jK,kBAAoB,YAC1Br/J,KAAKhD,OAASgD,KAAKhD,MAAMzE,OAASyH,KAAKhD,MAAMzE,OAAS,KACpDyH,KAAKiiK,wBAGfj+J,EAFiBhE,KAAKk2C,KAAKt7C,iBAAiB,MACtC69G,GAAoBtX,GAAK,mBACV,cAG7B26D,EAAYtgK,UAAUynK,eAAiB,SAAUjmK,EAAO03J,EAAK76J,EAASqpK,EAAc3qK,GAChF,GAAIyH,KAAK0gK,aAAewC,EAAc,CAClC,GAAIp5I,GAAM9pB,KAAK+9G,eAAe/gH,GAC1BqR,GACAjN,EAAGszJ,EACH77J,KAAMgB,EACNR,SAAUywB,EACV+lF,eAAc6kD,EACd5kI,QAAQ,EAGZ,IADA9vB,KAAKooB,QAAQ,SAAU/Z,GACnBA,EAAUyhB,OACV,OAAO,CAMX,IAJIv3B,IACAyH,KAAK+7J,mBAAmB/iK,KAAK8wB,GAC7B9pB,KAAKg8J,kBAAkBhjK,KAAKa,IAEjB,IAAXtB,EAAc,CACd,GAAI0H,IACAmB,EAAGszJ,EACH/8J,MAAOqI,KAAKg8J,kBACZ3iK,SAAU2G,KAAK+7J,mBACflsD,eAAc6kD,EACdkO,WAAW,EAEf5iK,MAAKooB,QAAQ,cAAenoB,GAC5BD,KAAK+7J,uBAGb,OAAO,GAEXD,EAAYtgK,UAAUwnK,QAAU,SAAUvpK,EAAMuD,EAAOoE,GACnD,GAAIpB,KAAKy9J,sBAAuB,CAC5B,GAAI5kK,GAAOmH,KAAKmjK,QAAQ1pK,EAAMuD,EAAOoE,EACrC,IAAIvI,EAAKi3B,OACL,MAEJ9vB,MAAKy9J,sBAAsB17J,YAAYlJ,EAAKgB,WAGpDiiK,EAAYtgK,UAAU+kK,gBAAkB,WACpC,GAAIt8J,GACAm/J,CAIJ,IAHAn/J,EAAWjE,KAAKy9J,sBAAsB7iK,iBAAiB,QAAUihK,IACjEuH,EAAgBpjK,KAAKy9J,sBAAsB7iK,iBAAiB,QAr6CnD,gBAq6CwEsC,MAAM,KAAK,IAC5FsH,EAAYP,EAr6CA,mBAs6CRmI,GAAQkc,SACR,IAAK,GAAIpwB,GAAQ,EAAGA,EAAQkrK,EAAc7qK,OAAQL,IAC9CkrK,EAAclrK,GAAO0M,MAAMyhD,QAAU,QAIjDy1G,EAAYtgK,UAAU6nK,wBAA0B,SAAUjiK,GACtD,GAAIkiK,GAAWv9J,EAAQ3E,EAAEyH,OAAQ,IAAMgzJ,IACnC0H,EAAYD,EAASxgK,cAAc,QA/6C9B,gBA+6CmD5F,MAAM,KAAK,GACnE8C,MAAK4mB,UAAY5mB,KAAKyuH,WACjB60C,EAAS9qK,UAAUC,SAh7ChB,qBAi7CJuH,KAAKugK,kBACLgD,EAAU3+J,MAAMyhD,QAAU,GAC1Bi9G,EAAS9qK,UAAU+L,IAn7Cf,oBAq7CRvE,KAAKm2J,eACL/0J,EAAE+lB,mBAGV20I,EAAYtgK,UAAU2nK,QAAU,SAAU1mK,EAAMO,EAAOoE,GACnD,GAAI/H,IAAaI,KAAMuD,EAAOA,MAAOA,GACjCwmK,EAAOxjK,KAAKyB,cAAc,QAC1BiC,UAAWm4J,GACX/3J,OAAS2/J,aAAczmK,EAAOswD,MAAS7wD,KAEvCinK,EAAc1jK,KAAKyB,cAAc,QAAUiC,UAj8CpC,kBAk8CP6/J,EAAYvjK,KAAKyB,cAAc,QAAUiC,UAj8CpC,iBAq8CT,IAHI1D,KAAKg+J,WACL3kK,EAAW2G,KAAK+9G,eAAe/gH,IAE/BgD,KAAKs0J,gBAAkB72J,EAAkBpE,GAEzC,IAAK,GAAIgF,GAAK,EAAG2E,EADIuN,GAAQvQ,KAAKs0J,eACGj7J,GAAWgF,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAClE,GAAIxF,GAAOmK,EAAG3E,EACdqlK,GAAY3hK,YAAYlJ,OAI5B6qK,GAAYlpK,UAAYiC,CAE5B+mK,GAAKzhK,YAAY2hK,EACjB,IAAIr1J,IACAwhG,eAAczuG,EACd/H,SAAUA,EACV+H,EAAGA,EACHuiK,SAAU,SAAUz/J,GAChBF,GAAUw/J,GAAOt/J,IAErB4rB,QAAQ,EAGZ,OADA9vB,MAAKooB,QAAQ,UAAW/Z,GACpBA,EAAUyhB,QACDA,QAAQ,EAAMj2B,QAAS2pK,IAEhCp3J,GAAQkc,UACRk7I,EAAKhrK,UAAU+L,IAl9CT,cAm9CNe,GAAQi+J,GAAYC,GACpBD,EAAU3+J,MAAMyhD,QAAU,OAC1B5gD,GAAalB,IAAIi/J,EAAM,QAASxjK,KAAKqjK,wBAAyBrjK,QAG9DyF,GAAalB,IAAIi/J,EAAM,YAAaxjK,KAAKsiK,UAAWtiK,MAChDA,KAAK+mB,iBACLy8I,EAAKzhK,YAAYwhK,IAGzB99J,GAAalB,IAAIg/J,EAAW,YAAavjK,KAAKuiK,aAAcviK,OACnD8vB,QAAQ,EAAOj2B,QAAS2pK,KAErC1H,EAAYtgK,UAAU0lK,eAAiB,WACnC,GAAIzpJ,GAAQ/U,EAAW1C,KAAKi4J,WAK5B,OAJIxgJ,GAAMjZ,QAAQ,MAAQ,IAEtBiZ,GADkBzX,KAAK8uB,6BAAgChP,WAAWrI,GAAS,KACxD9W,WAAa,MAE7B8W,GAEXqkJ,EAAYtgK,UAAUooK,QAAU,WACxB5jK,KAAK4mB,UAAY5mB,KAAKyuH,UACtBzuH,KAAK8/J,oBAGbhE,EAAYtgK,UAAUqoK,SAAW,WACxB7jK,KAAKutJ,aACNvtJ,KAAK48J,aAAah4J,MAAMyhD,QAAU,SAG1Cy1G,EAAYtgK,UAAUugH,WAAa,SAAUtpB,EAAYv9E,GACrD,GAAIgpF,IAAUzgG,EAAkByX,EAAOgpF,SACnC4lE,EAAgB5uJ,EAAO3R,UAQ3B,OAPAvD,MAAK+jK,mBAAsC,OAAhB7uJ,EAAOzb,MAAkC,OAAjByb,EAAOlY,OACtDkY,OAAQ4uJ,EAAe3gE,SAAUjF,EAAS6D,gBAAkBwE,cAAe,kBACzErxF,QAAUlY,MAAO,SACvB2B,EAAOqB,KAAK+jK,mBAAoB/jK,KAAK+jK,mBAAoB7uJ,GAAQ,GAC/C,aAAdlV,KAAK0vB,MACL1vB,KAAK+O,OAAO,cAAgByyB,OAAQ,oBAAqB8oE,OAAsB,aAAdtqG,KAAK0vB,KAAqB+iE,WAAYA,EAAYqxE,cAAeA,IAE/H9jK,KAAK+jK,oBAEhBjI,EAAYtgK,UAAU8rH,YAAc,WAChC,GAAIvnH,GAAQC,IAIZ,IAHKA,KAAKk2C,MACNxd,EAAOl9B,UAAU+iD,OAAO39C,KAAKZ,OAE5BA,KAAK8jH,SAAU,CAChB,GAAI7jH,IAAS6vB,QAAQ,EAErB,IADA9vB,KAAKooB,QAAQ,aAAcnoB,GACvBA,EAAK6vB,OACL,MAEJ/0B,UAAS+R,KAAK/K,YAAY/B,KAAKitJ,aAC/B,IAAI+W,GAAgBrqI,SAAS35B,KAAKs2J,YAAa,GA6B/C,IA5BAt2J,KAAKitJ,aAAaroJ,MAAMC,WAAa,SACjC7E,KAAKknG,iBACLlnG,KAAKu2J,oBACLyN,GAAiBhkK,KAAKgyB,OAAO6xB,cAEjCv+C,GAAQtF,KAAKk2C,MAAOl2C,KAAKitJ,cACrBjtJ,KAAKsjH,iBACLtjH,KAAKwjH,oBACLwgD,GAAiBhkK,KAAK8tJ,OAAOjqG,cAEf,aAAd7jD,KAAK0vB,MAAuB1vB,KAAKq+J,eACjCr+J,KAAK+O,OAAO,aAAeyyB,OAAQ,oBAAqB8oE,OAAsB,aAAdtqG,KAAK0vB,OACrEs0I,GAAiBhkK,KAAKikK,iBAEH,aAAdjkK,KAAK0vB,MAAwB1vB,KAAKq+J,eAAmBr+J,KAAKknG,gBAAmBlnG,KAAKsjH,eAIpE,aAAdtjH,KAAK0vB,MAAwB1vB,KAAKq+J,gBACvCr+J,KAAK+O,OAAO,aAAeyyB,OAAQ,oBAAqB8oE,OAAsB,aAAdtqG,KAAK0vB,OACrEs0I,EAAgBrqI,SAAS35B,KAAKs2J,YAAa,IACvCt2J,KAAKknG,gBAAkBlnG,KAAKgyB,SAC5BgyI,GAAiBhkK,KAAKgyB,OAAO6xB,cAE7B7jD,KAAKsjH,gBAAkBtjH,KAAK8tJ,SAC5BkW,GAAiBhkK,KAAK8tJ,OAAOjqG,gBAVjC7jD,KAAK+O,OAAO,aAAeyyB,OAAQ,oBAAqB8oE,OAAsB,aAAdtqG,KAAK0vB,OACrEs0I,EAAgBrqI,SAAS35B,KAAKs2J,YAAa,KAY7B,aAAdt2J,KAAK0vB,KAAqB,CAC1B,GAAIq9E,IACAvrE,OAAQ,oBACR8oE,OAAsB,aAAdtqG,KAAK0vB,KACb4xH,aAActhJ,KAAKitJ,aAEvBjtJ,MAAK+O,OAAO,YAAag+F,GACzBi3D,GAAiBhkK,KAAKw2J,gBACtBxyJ,GAAUhE,KAAKitJ,cAAe,cAET,SAArBjtJ,KAAKs2J,aACLt2J,KAAKk2C,KAAKtxC,MAAMsgH,UAAYxiH,EAAWshK,GACvChkK,KAAKitJ,aAAaroJ,MAAMsgH,UAAYxiH,EAAW1C,KAAKs2J,cAGpDt2J,KAAKk2C,KAAKtxC,MAAMsgH,UAAYxiH,EAAW1C,KAAKs2J,aAEhDt2J,KAAK8jH,SAAW,GAAIzF,IAAMr+G,KAAKitJ,cAC3Bx1I,MAAOzX,KAAKkhK,iBAAkB3gD,WAAY,WAAY3qG,UAAYiC,EAAG,OAAQC,EAAG,UAChFknG,SAAUh/G,KAAKkuB,eAAgB0yF,WAAa/oG,EAAG,OAAQC,EAAG,QAAU9K,QAAS,EAC7EuC,UAAWvP,KAAKuP,UAChB6sG,OAAQp8G,KAAKo8G,OACbh6G,MAAO,WACCrC,EAAM+jH,SAASjqH,QAAQkc,eACvBxQ,EAAOxF,EAAM+jH,SAASjqH,UAG9BiI,KAAM,WACF/B,EAAMgP,OAAO,cAAgByyB,OAAQ,oBAAqB8oE,OAAuB,aAAfvqG,EAAM2vB,KAAqB1yB,MAAO,aAG5GgD,KAAK8jH,SAAS1hH,QACdpC,KAAKitJ,aAAaroJ,MAAMC,WAAa,GACnB,aAAd7E,KAAK0vB,MAAuBtjB,GAAQkc,UACpCtoB,KAAK+O,OAAO,mBAAqByyB,OAAQ,oBAAqB8oE,OAAsB,aAAdtqG,KAAK0vB,SAIvFosI,EAAYtgK,UAAU+6J,kBAAoB,WACtC,GAAIjxD,EACAtlG,MAAKgyB,QACLhyB,KAAKgyB,OAAOttB,SAEhB1E,KAAKgyB,OAAShyB,KAAKyB,cAAc,OACjCuC,GAAUhE,KAAKgyB,QAjlDV,eAolDL,KAAK,GADD/tB,IADJqhG,EAAiB/0F,GAAQvQ,KAAKknG,qBAErB17F,EAAO,EAAGA,EAAOvH,EAAS1L,OAAQiT,IACvCxL,KAAKgyB,OAAOjwB,YAAYkC,EAASuH,GAEnB,cAAdxL,KAAK0vB,MAAuB1vB,KAAKq+J,cACjCt5J,GAAS/E,KAAKgyB,QAAShyB,KAAKitJ,cAG5B3nJ,GAAQtF,KAAKgyB,QAAShyB,KAAKitJ,cAE/BxnJ,GAAalB,IAAIvE,KAAKgyB,OAAQ,YAAahyB,KAAKkkK,gBAAiBlkK,OAErE87J,EAAYtgK,UAAUgoH,kBAAoB,WACtC,GAAIle,EACAtlG,MAAK8tJ,QACL9tJ,KAAK8tJ,OAAOppJ,SAEhB1E,KAAK8tJ,OAAS9tJ,KAAKyB,cAAc,OACjCuC,GAAUhE,KAAK8tJ,QAtmDV,eAymDL,KAAK,GADD7pJ,IADJqhG,EAAiB/0F,GAAQvQ,KAAKsjH,qBAErB93G,EAAO,EAAGA,EAAOvH,EAAS1L,OAAQiT,IACvCxL,KAAK8tJ,OAAO/rJ,YAAYkC,EAASuH,GAErClG,IAAQtF,KAAK8tJ,QAAS9tJ,KAAKitJ,cAC3BxnJ,GAAalB,IAAIvE,KAAK8tJ,OAAQ,YAAa9tJ,KAAKkkK,gBAAiBlkK,OAErE87J,EAAYtgK,UAAU2oK,SAAW,SAAU/iK,GACvC,GAAIpB,KAAK4mB,UAAY5mB,KAAKyuH,SAAU,CAChC,GAAIjjH,OAAO,GACPkyJ,EAAa19J,KAAKhD,MAAQgD,KAAKhD,MAAM2E,UACzC,IAAI3B,KAAKhD,MACL,IAAKwO,EAAOxL,KAAKhD,MAAM,GAA0B,IAAtBgD,KAAKhD,MAAMzE,OAAciT,EAAOxL,KAAKhD,MAAM,GAClEgD,KAAK29J,YAAYnyJ,EAAMpK,EAG/B,IAAIpB,KAAKi9J,UAAYj9J,KAAKo5G,UAAYp5G,KAAKuwJ,eAAgB,CACvD,GAAIr6G,GAAOl2C,KAAKi9J,SAASj7J,UAAYhC,KAAKi9J,SAASj7J,WAAU,GAAQhC,KAAKi9J,QAC1Ej9J,MAAKs7G,iBAAiBplE,EAAMl2C,KAAKg+J,UAErCh+J,KAAK+8J,uBACL/8J,KAAK69J,gBAAgB79J,KAAK89J,eACR,QAAd99J,KAAK0vB,MACL1vB,KAAKsgK,kBAETtgK,KAAK+9J,mBACD/9J,KAAKmsJ,eACLnsJ,KAAKm2J,eAEJn2J,KAAKutJ,aACNvtJ,KAAKi/J,iBAAiB79J,EAAGpB,KAAKhD,MAAO0gK,GACnB,aAAd19J,KAAK0vB,MACL1vB,KAAKouB,aAAa/rB,SAGR,aAAdrC,KAAK0vB,OACL1vB,KAAKg/J,qBACLh/J,KAAKwgK,qBAETp/J,EAAE+lB,mBAGV20I,EAAYtgK,UAAU4oK,aAAe,WACjCpkK,KAAKm2J,gBACAn2J,KAAKutJ,YAAcvtJ,KAAK8gK,aAAe9gK,KAAK8gK,YAAY/qJ,eACzD/V,KAAKsgK,mBAGbxE,EAAYtgK,UAAUo2J,kBAAoB,WACtC5xJ,KAAKhD,MAAQ,MAEjB8+J,EAAYtgK,UAAUq2J,UAAY,WAC9BpsJ,GAAalB,IAAIvE,KAAK8uB,iBAAkB,YAAa9uB,KAAKogK,aAAcpgK,MACxEyF,GAAalB,IAAIvI,OAAQ,SAAUgE,KAAKokK,aAAcpkK,MACtDyF,GAAalB,IAAIvE,KAAKouB,aAAc,QAASpuB,KAAKuzH,QAASvzH,MAC3DyF,GAAalB,IAAIvE,KAAKouB,aAAc,UAAWpuB,KAAKqhK,UAAWrhK,MAC/DyF,GAAalB,IAAIvE,KAAKouB,aAAc,QAASpuB,KAAK4/J,MAAO5/J,MACvC,aAAdA,KAAK0vB,MACLjqB,GAAalB,IAAIvE,KAAKouB,aAAc,QAASpuB,KAAK+1J,QAAS/1J,MAE/DyF,GAAalB,IAAIvE,KAAKouB,aAAc,OAAQpuB,KAAKuxJ,OAAQvxJ,MACzDyF,GAAalB,IAAIvE,KAAK8uB,iBAAkB,YAAa9uB,KAAK4jK,QAAS5jK,KACnE,IAAIsuI,GAAcvoI,EAAQ/F,KAAKouB,aAAc,OACzCkgH,IACA7oI,GAAalB,IAAI+pI,EAAa,QAAStuI,KAAK4xJ,kBAAmB5xJ,MAEnEyF,GAAalB,IAAIvE,KAAK8uB,iBAAkB,WAAY9uB,KAAK6jK,SAAU7jK,MACnEyF,GAAalB,IAAIvE,KAAK48J,aAAc,UAAW58J,KAAKmkK,SAAUnkK,OAElE87J,EAAYtgK,UAAUu6J,QAAU,WACxB/1J,KAAKk8J,cACLl8J,KAAK8uJ,YAAa,EAGlB9uJ,KAAK8uJ,YAAa,EAEtB9uJ,KAAKk8J,eAAgB,GAEzBJ,EAAYtgK,UAAUwY,UAAY,WAC9BhU,KAAKouJ,iBACL11H,EAAOl9B,UAAUwY,UAAUpT,KAAKZ,OAEpC87J,EAAYtgK,UAAU4yJ,eAAiB,WACnCpuJ,KAAKs+J,sBACLt+J,KAAKuuJ,iBAAkB,EACvBvuJ,KAAKq7J,cAAe,EACpBr7J,KAAKggK,oBAAqB,EAC1BhgK,KAAKg9J,cAAe,EACpBh9J,KAAKihK,WAAY,EACjBjhK,KAAKg7J,YAAa,EAClBh7J,KAAK6nG,SAAU,EACf7nG,KAAK6uH,SAAU,EACf7uH,KAAKkgK,aAAc,GAEvBpE,EAAYtgK,UAAU85J,WAAa,SAAUwI,GACzC,GAGItyJ,GAHA/O,EAAO,GACP4nK,EAAsB,cAAdrkK,KAAK0vB,MAAsC,aAAd1vB,KAAK0vB,KAC1Cj2B,KAEA24G,EAAWpyG,KAAKo5G,QAGpB,IAFAp5G,KAAKo5G,SAAWp5G,KAAKg+J,SACrBh+J,KAAKkuJ,cAAc1zJ,UAAY,IAC1BiD,EAAkBuC,KAAKhD,OACxB,IAAK,GAAI9E,GAAQ,GAAIuF,EAAkBuC,KAAKhD,MAAM9E,IAASA,IAOvDuE,IALI+O,EADAxL,KAAKo5G,SACEp5G,KAAKu6G,eAAev6G,KAAKhD,MAAM9E,IAG/B8H,KAAKhD,MAAM9E,IAEP4lK,EAAgB,IAC/BrkK,EAAKT,KAAKwS,GACVxL,KAAKkuJ,cAAc1zJ,WAAa,4BAA8BwF,KAAKhD,MAAM9E,GAAS,KAAOA,EAAQ,WAGzG8H,MAAKvG,KAAOA,EAAKkH,WACb0jK,IACArkK,KAAK+gK,iBAAiBvmK,UAAYiC,GAEtCuD,KAAKo5G,SAAWhH,GAEpB0pD,EAAYtgK,UAAUsjK,mBAAqB,WACvC,GAAI9+J,KAAKk2C,KAAM,CACX,GAAIz8C,OAAO,GAGPI,MAAU,GACVmD,MAAQ,EAKZ,IAJIgD,KAAKy9J,wBACLz9J,KAAKy9J,sBAAsBjjK,UAAY,IAE3CwF,KAAKskK,uBACA7mK,EAAkBuC,KAAKhD,OACxB,IAAK,GAAI9E,GAAQ,GAAIuF,EAAkBuC,KAAKhD,MAAM9E,IAASA,IAKvD,GAJA8E,EAAQgD,KAAKhD,MAAM9E,GACnB2B,EAAUmG,KAAKq8J,iBAAmBr8J,KAAKqlG,UAAUviG,cAAc,kBAAoB9F,EAAQ,MACrFgD,KAAKk2C,KAAKpzC,cAAc,kBAAoB9F,EAAQ,MAC1DvD,EAAOuG,KAAKu6G,eAAev9G,GACtBnD,GAAsD,SAA1CA,EAAQ4M,aAAa,kBACjC5M,GAAsD,SAA1CA,EAAQ4M,aAAa,kBAA+BzG,KAAKq8J,mBACnD,QAAdr8J,KAAK0vB,MAAgC,YAAd1vB,KAAK0vB,MACjC1vB,KAAKgjK,QAAQvpK,EAAMuD,GACnBgD,KAAK+iK,iBAAiBlpK,OAErB,IAAImD,GAASgD,KAAKo8J,iBAAkB,CACrC,GAAImI,GAAYvkK,KAAKo5G,SAAS7gH,OAC1BuP,IACJ1K,GAAS4C,KAAKkV,OAAOzb,KAAMuD,EAAO8K,GAClC1K,EAAS4C,KAAKkV,OAAOlY,MAAOA,EAAO8K,GACnC9H,KAAK6yG,QAAQ/qG,EAAUy8J,GACvBvkK,KAAKgjK,QAAQvpK,EAAMuD,GACnBgD,KAAK+iK,iBAAiBlpK,GAIhB,aAAdmG,KAAK0vB,MACL1vB,KAAKsgK,kBACLtgK,KAAKi/J,iBAAiB,KAAMj/J,KAAKhD,MAAOgD,KAAK09J,YAC7C19J,KAAKwgK,oBACLxgK,KAAK69J,gBAAgB79J,KAAK89J,gBAG1B99J,KAAK69J,gBAAgB79J,KAAK89J,eAEZ,aAAd99J,KAAK0vB,MAAuB1vB,KAAKq+J,eAAiB5gK,EAAkBuC,KAAKhD,QACzEgD,KAAK+O,OAAO,kBAAoByyB,OAAQ,oBAAqB8oE,OAAsB,aAAdtqG,KAAK0vB,KAAqB1yB,MAAO,YAErGgD,KAAKutJ,aACY,QAAdvtJ,KAAK0vB,KACL1vB,KAAKy9J,sBAAsB74J,MAAMyhD,QAAU,GAExB,cAAdrmD,KAAK0vB,MAAsC,aAAd1vB,KAAK0vB,MACvC1vB,KAAK6gK,sBAKrB/E,EAAYtgK,UAAUuwG,UAAY,SAAU5K,GACxC,MAAQA,KAAOA,EAAG3oG,UAAUC,SAASggH,GAAoB1a,YAAcoD,EAAG3oG,UAAUC,SAASggH,GAAoBp1E,QAC7G89D,EAAG3oG,UAAUC,SAASggH,GAAoBtX,KAGlD26D,EAAYtgK,UAAU0mK,oBAAsB,SAAU/gE,EAAI//F,EAAG7I,GACzD,GAAIyE,GAAQgD,KAAKg6G,kBAAkB7Y,EAAG16F,aAAa,eAC/ChN,EAAOuG,KAAKu6G,eAAev9G,EAE/B,IADAgD,KAAKstG,cACAttG,KAAKhD,QAAwC,IAA/BgD,KAAKhD,MAAMwB,QAAQxB,GAuBlCgD,KAAK29J,YAAY3gK,EAAOoE,EAAG7I,OAvBsB,CAEjD,GADiByH,KAAKijK,eAAejmK,EAAOoE,EAAG+/F,EAA0C,SAArCA,EAAG16F,aAAa,iBAA8BlO,GAE9F,MAEJ,KAAKyH,KAAKo8J,kBAAoBp8J,KAAKuwJ,kBAAoBvwJ,KAAKi9J,SAASn6J,cAAc,kBAAoB9F,EAAQ,MAAO,CAClH,GAAIwO,GAAO21F,EAAGn/F,WAAU,GACpBvF,EAAOuD,KAAK+9G,eAAe/gH,EAC/BsI,IAAQkG,GAAOxL,KAAKi9J,UACpBj9J,KAAKg+J,SAAShlK,KAAKyD,EACnB,IAAI4R,IACAupD,QAASn7D,EACTqzB,QAAQ,EAGZ,IADA9vB,KAAKooB,QAAQ,uBAAwB/Z,GACjCA,EAAUyhB,OACV,OAGR9vB,KAAKu+J,mBAAoB,EACzBv+J,KAAK8iK,SAAS9lK,EAAOvD,EAAM2H,KAMnC06J,EAAYtgK,UAAU8oK,oBAAsB,WACxC,GAAI5gK,GAAY1D,KAAKq8J,iBACjBT,GACAnjD,GAAoBhf,SACpByT,EAAgBltG,KAAKk2C,KAAKt7C,iBAAiB,IAAM8I,GACjD8H,EAAO0hG,EAAc30G,MACzB,IAAI20G,GAAiBA,EAAc30G,OAE/B,IADAiM,EAAY0oG,EAAexpG,GACpB8H,EAAO,GACV0hG,EAAc1hG,EAAO,GAAG3H,aAAa,gBAAiB,SACtD2H,GAGR,KAAK/N,EAAkBuC,KAAKi9J,UAAW,CACnC,GAAIuH,GAAcxkK,KAAKi9J,SAASriK,iBAAiB,IAAM8I,GACnD67J,EAAQiF,EAAYjsK,MACxB,IAAIisK,GAAeA,EAAYjsK,OAE3B,IADAiM,EAAYggK,EAAa9gK,GAClB67J,EAAQ,GACXiF,EAAYjF,EAAQ,GAAG17J,aAAa,gBAAiB,SACnC,aAAd7D,KAAK0vB,OACL80I,EAAYjF,EAAQ,GAAGl6J,kBAAkBxB,aAAa,eAAgB,SACtEW,GAAaggK,EAAYjF,EAAQ,GAAGl6J,kBAAkBkxG,kBAAmB,YAE7EgpD,MAMhBzD,EAAYtgK,UAAU8xG,YAAc,WAChC,GAAIilD,GAAcvyJ,KAAKk2C,KAAKt7C,iBAAiB,IAAM69G,GAAoB7Q,MACnE2qD,IAAeA,EAAYh6J,QAC3BiM,EAAY+tJ,EAAa95C,GAAoB7Q,QAIrDk0D,EAAYtgK,UAAU4xG,YAAc,WAChC,GAAIptG,KAAKk2C,KAAM,CACX,GAAIq8G,GAAcvyJ,KAAKk2C,KAAKt7C,iBAAiB,IAAM69G,GAAoBp2G,OACnEoiK,EAAWzkK,KAAKi9J,SAASriK,iBAAiB,IAAM69G,GAAoBp2G,MACpEkwJ,IAAeA,EAAYh6J,SAC3BiM,EAAY+tJ,EAAa95C,GAAoBp2G,OAC7CmC,EAAYigK,EAAUhsD,GAAoBp2G,UAKtDy5J,EAAYtgK,UAAUkpK,aAAe,SAAUvjE,GACvCnhG,KAAK4mB,SAAW5mB,KAAK+rG,UAAU5K,KAC/BnhG,KAAKstG,cACLtpG,GAAUm9F,GAAKsX,GAAoB7Q,SAI3Ck0D,EAAYtgK,UAAU2hK,aAAe,SAAUtjK,GACvCmG,KAAK4mB,SAAW5mB,KAAK+rG,UAAUlyG,KAC/BmG,KAAKotG,cACLppG,GAAUnK,GAAU4+G,GAAoBp2G,SAGhDy5J,EAAYtgK,UAAUunK,iBAAmB,SAAUlpK,GAC/C,GAAI6J,GAAY1D,KAAKq8J,iBACjBT,GACAnjD,GAAoBhf,QACxB,IAAIz5F,KAAK+rG,UAAUlyG,KAAaA,EAAQrB,UAAUC,SAASggH,GAAoB7Q,OAAQ,CAInF,GAHA5jG,GAAUnK,GAAU6J,GACpB1D,KAAKyiK,gBAAe,EAAO5oK,EAAQ4M,aAAa,eAChD5M,EAAQgK,aAAa,gBAAiB,QACpB,aAAd7D,KAAK0vB,KAAqB,CAC1B,GAAIi1I,GAAY9qK,EAAQwL,kBAAkBoB,aAAa,iBACrC,UAAdk+J,GAAyBlnK,EAAkBknK,KAC3C3kK,KAAK+O,OAAO,cAAgByyB,OAAQ,oBAAqB8oE,OAAsB,aAAdtqG,KAAK0vB,KAAqByxE,GAAItnG,EAASuH,EAAGpB,OAGnHA,KAAK+O,OAAO,cAAgByyB,OAAQ,oBAAqB8oE,OAAsB,aAAdtqG,KAAK0vB,KAAqByxE,GAAItnG,EAASuH,EAAGpB,OACxE,OAA/BA,KAAKy9J,uBACLz9J,KAAK49J,sBAET75J,EAAW/D,KAAKouB,cAAgBmmH,wBAAyB16I,EAAQ8J,OAGzEm4J,EAAYtgK,UAAUqiK,gBAAkB,SAAU+G,GAC9C5kK,KAAKs1J,WAAWsP,IAEpB9I,EAAYtgK,UAAUy2J,aAAe,SAAU7wJ,GAC3CpB,KAAKi8J,mBAAoB,CACzB,IACI96D,GAAKp7F,EADI3E,EAAEyH,OACU,IAAM4vG,GAAoBtX,GACnD,IAAInhG,KAAK+rG,UAAU5K,GAAK,CACpB,GAAI6gE,GAAQhiK,KAAKhD,OAASgD,KAAKhD,MAAMzE,OAASyH,KAAKhD,MAAMzE,OAAS,CAC9D4oG,GAAG3oG,UAAUC,SAAS,cACtBupK,GAAgB,GAEhBA,EAAQhiK,KAAKiiK,yBACbjiK,KAAKkiK,oBAAoB/gE,EAAI//F,GAC7BpB,KAAKm9J,aAAah8D,IACbnhG,KAAKo8J,kBAAoBp8J,KAAKuwJ,iBAAmBvwJ,KAAKi9J,UAAYj9J,KAAKo5G,UACtD,aAAdp5G,KAAK0vB,MACL1vB,KAAKo9J,oBAAoBj8D,EAAG16F,aAAa,eAE7CzG,KAAKk9J,oBAGLl9J,KAAK+9J,oBAGK,aAAd/9J,KAAK0vB,MACL1vB,KAAKsgK,kBACLtgK,KAAKwgK,oBACLxgK,KAAK69J,gBAAgB79J,KAAK89J,gBAG1B99J,KAAK69J,gBAAgB79J,KAAK89J,eAE9B99J,KAAKo/J,iBACLp/J,KAAKm2J,eACDn2J,KAAKq8J,kBACLr8J,KAAK+8J,uBAEL/8J,KAAKs8J,mBACLt8J,KAAK8wJ,YAGL1vJ,EAAE+lB,iBAENnnB,KAAK+9J,uBAGL38J,GAAE+lB,gBAEY,cAAdnnB,KAAK0vB,MACL1vB,KAAKqgK,iBAAiB5iK,EAAkB0jG,GAAM,KAAOA,EAAGznG,aAE5DsG,KAAKg/J,sBAETlD,EAAYtgK,UAAU02J,YAAc,SAAU9wJ,GAC1C,GAAIo7G,GAAYz2G,EAAQ3E,EAAEyH,OAAQ,IAAM4vG,GAAoBtX,GAC5DnhG,MAAK0kK,aAAaloD,IAEtBs/C,EAAYtgK,UAAU22J,aAAe,SAAU/wJ,GAC3CpB,KAAKstG,eAETwuD,EAAYtgK,UAAU0oK,gBAAkB,SAAU9iK,GAC9CA,EAAE+lB,iBACFnnB,KAAKi8J,mBAAoB,GAE7BH,EAAYtgK,UAAUm4J,gBAAkB,SAAUvyJ,GAC9C,GAAkB,aAAdpB,KAAK0vB,KAAqB,CAC1B,GAAI7mB,GAASzH,EAAEyH,QACRpL,EAAkBuC,KAAK8jH,WAAa/9G,EAAQ8C,EAAQ,IAAM7I,KAAK8jH,SAASjqH,QAAQ8J,KAClF3D,KAAKkuB,eAAez1B,SAAS2I,EAAEyH,QAIhC7I,KAAKi8J,mBAAqB7vJ,GAAQ20C,MAA8B,SAAtB30C,GAAQmc,KAAKqK,OAAqB73B,SAASu0G,gBAAkBtvG,KAAKouB,aAH5GpuB,KAAKi8J,mBAAoB,IAOrCH,EAAYtgK,UAAUw0J,eAAiB,WACnCvqJ,GAAalB,IAAIxJ,SAAU,YAAaiF,KAAK2zJ,gBAAiB3zJ,MAC9DyF,GAAalB,IAAIvE,KAAKk2C,KAAM,YAAal2C,KAAKkkK,gBAAiBlkK,MAC/DyF,GAAalB,IAAIvE,KAAKk2C,KAAM,UAAWl2C,KAAKiyJ,aAAcjyJ,MAC1DyF,GAAalB,IAAIvE,KAAKk2C,KAAM,YAAal2C,KAAKkyJ,YAAalyJ,MAC3DyF,GAAalB,IAAIvE,KAAKk2C,KAAM,WAAYl2C,KAAKmyJ,aAAcnyJ,OAG/D87J,EAAYtgK,UAAUkjK,iBAAmB,WACrCj5J,GAAaf,OAAO3J,SAAU,YAAaiF,KAAK2zJ,iBAC5C3zJ,KAAKk2C,OACLzwC,GAAaf,OAAO1E,KAAKk2C,KAAM,YAAal2C,KAAKkkK,iBACjDz+J,GAAaf,OAAO1E,KAAKk2C,KAAM,UAAWl2C,KAAKiyJ,cAC/CxsJ,GAAaf,OAAO1E,KAAKk2C,KAAM,YAAal2C,KAAKkyJ,aACjDzsJ,GAAaf,OAAO1E,KAAKk2C,KAAM,WAAYl2C,KAAKmyJ,gBAIxD2J,EAAYtgK,UAAUumK,iBAAmB,WAChC/hK,KAAKhD,OAAUgD,KAAKhD,MAAMzE,QAAsC,KAA5ByH,KAAKouB,aAAapxB,QACvDgD,KAAK48J,aAAah4J,MAAMyhD,QAAU,SAG1Cy1G,EAAYtgK,UAAUskK,iBAAmB,WAChC9/J,KAAKhD,OAASgD,KAAKhD,MAAMzE,QAAuC,KAA5ByH,KAAKouB,aAAapxB,MACvDgD,KAAK48J,aAAah4J,MAAMyhD,QAAU,GAGlCrmD,KAAK48J,aAAah4J,MAAMyhD,QAAU,QAO1Cy1G,EAAYtgK,UAAUooB,YAAc,WAC5BnmB,EAAkBuC,KAAKyyJ,kBACiB,SAApCzyJ,KAAK48J,aAAah4J,MAAMyhD,QACxBrmD,KAAKyyJ,eAAiBzyJ,KAAK48J,cAG3B58J,KAAKyyJ,eAAiBzyJ,KAAKyB,cAAc,QAAUiC,UAAWmhK,mDAC9D7kK,KAAK8uB,iBAAiB/sB,YAAY/B,KAAKyyJ,iBAE3Cv2I,IAAgBrT,OAAQ7I,KAAKyyJ,eAAgBh7I,MAAOrL,GAAQkc,SAAW,OAAS,QAAUtoB,KAAKyB,eAC/FuC,GAAUhE,KAAKyyJ,gBAtgER,sBAugEP7uI,GAAY5jB,KAAKyyJ,kBAOzBqJ,EAAYtgK,UAAU2oB,YAAc,WAC3B1mB,EAAkBuC,KAAKyyJ,kBACxBtuI,GAAYnkB,KAAKyyJ,gBACjBjuJ,GAAaxE,KAAKyyJ,gBAjhEX,sBAkhEHzyJ,KAAKyyJ,eAAej6J,UAAUC,SAjhE1B,qBAkhEJ8M,EAAOvF,KAAKyyJ,gBAGZzyJ,KAAKyyJ,eAAej4J,UAAY,GAEpCwF,KAAKyyJ,eAAiB,OAG9BqJ,EAAYtgK,UAAU8kK,gBAAkB,WAQpC,GAPItgK,KAAK+gK,kBACL/gK,KAAKghK,mBAELhhK,KAAKy9J,wBACLz9J,KAAKy9J,sBAAsB74J,MAAMyhD,QAAU,QAE/CrmD,KAAK8gK,YAAYl8J,MAAMyhD,QAAU,GAC7BrmD,KAAKhD,OAASgD,KAAKhD,MAAMzE,OAAQ,CACjC,GAAIkE,GAAO,GACP+O,MAAO,GACP4mG,MAAW,GACX0yD,EAAY,EACZC,MAAc,GACdC,MAAY,EAChBhlK,MAAK8gK,YAAYtmK,UAAY,EAC7B,IAMIyqK,GADO,GAAIv5G,IAAK,aAJhByuD,kBAAmB,mBACnBC,sBAAuB,qBACvB8qD,sBAAuB,oBAEkBllK,KAAKgP,QACzBm9C,YAAY,yBACjCg5G,EAAenlK,KAAKyB,cAAc,QAClCiC,UA7jEK,aA+jEL4hG,EAAiB/0F,GAAQ00J,EAC7BE,GAAapjK,YAAYujG,GAAiB1lF,MAAS5f,KAAKhD,MAAMzE,SAAU,IACxEyH,KAAK8gK,YAAY/+J,YAAYojK,EAC7B,IAAIC,GAAaD,EAAargK,WAC9BJ,GAAOygK,GACPnlK,KAAK8gK,YAAYtmK,UAAY,EACbwF,MAAKmuB,cAAcrpB,WAAnC,IACIugK,GAAmB1rI,SAAS39B,OAAOiS,iBAAiBjO,KAAK8uB,kBAAkBrX,MAAO,IAClFkiB,SAAS39B,OAAOiS,iBAAiBjO,KAAK8uB,kBAAkBgoI,YAAa,IACrEn9H,SAAS39B,OAAOiS,iBAAiBjO,KAAK8uB,kBAAkBw2I,aAAc,IACtEC,MAAc,EAClB,KAAK9nK,EAAkBuC,KAAKhD,OACxB,IAAK,GAAI9E,GAAQ,GAAIuF,EAAkBuC,KAAKhD,MAAM9E,IAASA,IAAS,CAEhE,GADAuE,GAAmB,IAAVvE,EAAe,GAAK8H,KAAK89J,cAAgB,IAC9C99J,KAAKg+J,UAAYh+J,KAAKg+J,SAASzlK,OAC/B,GAAkB,aAAdyH,KAAK0vB,KAAqB,CAC1B61I,EAAc,GACd,IAAIC,GAAUxlK,KAAKo5G,QACnBp5G,MAAKo5G,SAAWp5G,KAAKg+J,SACrBxyJ,EAAOxL,KAAKu6G,eAAev6G,KAAKhD,MAAM9E,IACtC8H,KAAKo5G,SAAWosD,MAGhBD,GAAc,EACd/5J,EAAOxL,KAAKu6G,eAAev6G,KAAKhD,MAAM9E,QAI1CsT,GAAOxL,KAAKhD,MAAM9E,EAMtB,IAJAuE,GAAQ+O,EACRA,EAAOxL,KAAK8gK,YAAYtmK,UACxBwF,KAAK8gK,YAAYtmK,UAAYiC,GAC7BsoK,EAAc/kK,KAAK8gK,YAAYh8J,aACXugK,EAAmBE,EAAa,KAC/BnsK,KAAbg5G,IACA5mG,EAAO4mG,EACPl6G,EAAQ4sK,EAAY,GAExB9kK,KAAK8gK,YAAYtmK,UAAYgR,EAC7Bw5J,EAAYhlK,KAAKhD,MAAMzE,OAASL,CAChC,OAEM6sK,EAAcK,GAAeC,GACnCjzD,EAAW31G,EACXqoK,EAAY5sK,GAEG,IAAVA,IACLk6G,EAAW,GACX0yD,GAAa,GAIrBE,EAAY,IACZG,EAAa3qK,UAAY,GACzB2qK,EAAapjK,YAAYujG,GAAiB1lF,MAASolJ,IAAa,IAChEhlK,KAAK8gK,YAAY/+J,YAAYojK,QAIjCnlK,MAAK8gK,YAAYtmK,UAAY,GAC7BwF,KAAK8gK,YAAYl8J,MAAMyhD,QAAU,QAGzCy1G,EAAYtgK,UAAUi4J,YAAc,WAChChuJ,GAAaf,OAAO1E,KAAK8uB,iBAAkB,YAAa9uB,KAAKogK,cAC7D36J,GAAaf,OAAO1I,OAAQ,SAAUgE,KAAKokK,cAC3C3+J,GAAaf,OAAO1E,KAAKouB,aAAc,QAASpuB,KAAKuzH,SACrD9tH,GAAaf,OAAO1E,KAAKouB,aAAc,UAAWpuB,KAAKqhK,WACrC,aAAdrhK,KAAK0vB,MACLjqB,GAAaf,OAAO1E,KAAKouB,aAAc,QAASpuB,KAAK+1J,SAEzDtwJ,GAAaf,OAAO1E,KAAKouB,aAAc,QAASpuB,KAAK4/J,MACrD,IAAItxB,GAAcvoI,EAAQ/F,KAAKouB,aAAc,OACzCkgH,IACA7oI,GAAaf,OAAO4pI,EAAa,QAAStuI,KAAK4xJ,mBAEnDnsJ,GAAaf,OAAO1E,KAAKouB,aAAc,OAAQpuB,KAAKuxJ,QACpD9rJ,GAAaf,OAAO1E,KAAK8uB,iBAAkB,YAAa9uB,KAAK4jK,SAC7Dn+J,GAAaf,OAAO1E,KAAK8uB,iBAAkB,WAAY9uB,KAAK6jK,UAC5Dp+J,GAAaf,OAAO1E,KAAK48J,aAAc,YAAa58J,KAAKmkK,WAE7DrI,EAAYtgK,UAAUiqK,cAAgB,SAAU7mE,GAC5C,GAAIuC,GAIA5oG,GAHJ4oG,EAAKnhG,KAAKk2C,KAAKt7C,iBAAiBgkG,EAC5B,kEACA,kDACYrmG,MAChB,IAAI4oG,GAAMA,EAAG5oG,OACT,KAAOA,EAAS,GACZyH,KAAKkiK,oBAAoB/gE,EAAG5oG,EAAS,GAAI,KAAMA,GAC/CA,GAGU,SAAdyH,KAAK0vB,MAAmB1vB,KAAKmsJ,cAI7BnsJ,KAAKmuB,cAAc31B,UAAUkM,OAlqEzB,eA+pEJ1E,KAAKsgK,kBAKS,aAAdtgK,KAAK0vB,MACL1vB,KAAKsgK,kBACLtgK,KAAKwgK,oBACLxgK,KAAK69J,gBAAgB79J,KAAK89J,gBAG1B99J,KAAK69J,gBAAgB79J,KAAK89J,eAE9B99J,KAAKg/J,sBAETlD,EAAYtgK,UAAU4hH,UAAY,WAC1Bp9G,KAAK8jH,UACL9jH,KAAK8jH,SAASn8G,eAAgBy0G,OAAUp8G,KAAKo8G,UAGrD0/C,EAAYtgK,UAAU0hH,iBAAmB,SAAUhyG,GAC3CzN,EAAkBuC,KAAKk2C,MACvBl2C,KAAKsnH,cAGLtnH,KAAK46G,UAAU56G,KAAKyyF,YAEpBzyF,KAAKhD,OAASgD,KAAKhD,MAAMzE,QACzByH,KAAKk9J,oBAGbpB,EAAYtgK,UAAUkqK,aAAe,WACjC1lK,KAAK6+J,aAAc,EACnB7+J,KAAKsnH,eAKTw0C,EAAYtgK,UAAUwjD,eAAiB,WACnC,MAAOh/C,MAAKy/C,cAAc,WAO9Bq8G,EAAYtgK,UAAU05B,kBAAoB,SAAUwF,EAASC,GACrDD,EAAQ+3D,aAAeh1F,EAAkBc,OAAOjB,KAAKo9B,EAAQ+3D,eAC7DzyF,KAAKi9J,SAAW,KAChBj9J,KAAKg+J,SAAW,MAEpBh+J,KAAKm9G,kBAAkB,QAAS,cAAeziF,EAC/C,KAAK,GAAIr8B,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAKo9B,GAAUr8B,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAC9D,GAAI6M,GAAOlI,EAAG3E,EACd,QAAQ6M,GACJ,IAAK,QACL,IAAK,aACiB,aAAdlL,KAAK0vB,MAAuB1vB,KAAKq+J,gBAC5B5gK,EAAkBuC,KAAK8jH,YACxB9jH,KAAK8jH,SAASjwG,UACd7T,KAAK8jH,SAAW,MAEpB9jH,KAAKsnH,cAET,MACJ,KAAK,iBACDtnH,KAAKu8J,qBACL,MACJ,KAAK,kBACDv8J,KAAK28J,kBAAkBjiI,EAAQ3T,gBAC/B,MACJ,KAAK,QACI/mB,KAAKk2C,KAGAl2C,KAAKutJ,aACXvtJ,KAAK8+J,qBACa,QAAd9+J,KAAK0vB,MACL1vB,KAAKsgK,kBAETtgK,KAAKwgK,oBACLxgK,KAAKg/J,qBACLh/J,KAAKi/J,iBAAiB,KAAMj/J,KAAKhD,MAAO29B,EAAQ39B,QAThDgD,KAAK0lK,cAWT,MACJ,KAAK,QACDh/J,EAAkB1G,KAAKkuB,gBAAkBzW,MAAS/U,EAAWg4B,EAAQjjB,SACrEzX,KAAK8jH,SAASn8G,eAAgB8P,MAAOzX,KAAKkhK,kBAC1C,MACJ,KAAK,cACDlhK,KAAKg/J,oBACL,MACJ,KAAK,uBACDh/J,KAAK+O,OAAO,wBAA0B6mJ,qBAAsBl7H,EAAQk7H,sBACpE,MACJ,KAAK,gBACiB,QAAd51J,KAAK0vB,MACL1vB,KAAKsgK,kBAETtgK,KAAKs1J,WAAW56H,EAAQojI,cACxB,MACJ,KAAK,WACD99J,KAAKitJ,aAAaz0J,UAAUkM,OAAOi2B,EAAQrmB,UAC3CtU,KAAKkuB,eAAe11B,UAAUkM,OAAOi2B,EAAQrmB,UAC7CtU,KAAK68J,gBACL,MACJ,KAAK,YACD78J,KAAKm8J,UAAUzhI,EAAQnrB,WACvBmpB,EAAOl9B,UAAU05B,kBAAkBt0B,KAAKZ,KAAM06B,EAASC,EACvD,MACJ,KAAK,WACD36B,KAAK08J,eAAehiI,EAAQ+zF,UAC5BzuH,KAAK8wJ,WACL,MACJ,KAAK,UACD9wJ,KAAK8wJ,YACL9wJ,KAAKsqG,OAAO5vE,EAAQ9T,QACpB,MACJ,KAAK,gBACG5mB,KAAK8jH,WACL9jH,KAAK8jH,SAASjwG,UACd7T,KAAK8jH,SAAW,MAEpB9jH,KAAKsnH,aACL,MACJ,KAAK,mBACDtnH,KAAK2lK,cACL,MACJ,KAAK,iBACD3lK,KAAKwiK,mBACL,MACJ,KAAK,uBACD,KACJ,KAAK,gBACDxiK,KAAK+O,OAAO,iBAAiB,EAC7B,MACJ,KAAK,cACL,IAAK,iBACL,IAAK,iBACG/O,KAAK8jH,WACL9jH,KAAK8jH,SAASjwG,UACd7T,KAAK8jH,SAAW,MAEpB9jH,KAAKsnH,aACL,MACJ,SACI,GAAIs+C,OAAU,EACdA,GAAU5lK,KAAKg5G,cAAc9tG,EAAMwvB,EAASC,GAC5CjC,EAAOl9B,UAAU05B,kBAAkBt0B,KAAKZ,KAAM4lK,EAAQ3sD,YAAa2sD,EAAQ1sD,gBAS3F4iD,EAAYtgK,UAAUs1J,UAAY,WAE9B,GAAI9wJ,KAAKmsJ,cAAe,CACpB,GAAImL,IACA1kI,KAAM,UACNnmB,SAAU,IACV5M,MALI,KAOJwO,GAAckpJ,MAAOv3J,KAAK8jH,SAAUh0F,QAAQ,EAAO0J,UAAW89H,EAElE,IADAt3J,KAAKooB,QAAQ,QAAS/Z,GAClBA,EAAUyhB,OACV,MAEJ9vB,MAAKuuJ,iBAAkB,EACvBvuJ,KAAKkuB,eAAe11B,UAAUkM,OA1zEtB,eA2zER1E,KAAK8jH,SAAS7E,KAAK,GAAIxmF,IAAUpqB,EAAUmrB,YAC3Cz1B,EAAW/D,KAAKouB,cAAgB80H,gBAAiB,UACjDljJ,KAAK+O,OAAO,cAAgByyB,OAAQ,oBAAqB8oE,OAAsB,aAAdtqG,KAAK0vB,KAAqB1yB,MAAO,UAClGgD,KAAK8jH,SAAS7E,OACdz6G,GAAazJ,SAAS+R,KAAM9M,KAAK8jH,SAASjqH,SAAU,uBAO5DiiK,EAAYtgK,UAAU63J,UAAY,WAC9B,GAAKrzJ,KAAK4mB,QAAV,CAGA,IAAK5mB,KAAKqlG,UAGN,MAFArlG,MAAKuuJ,iBAAkB,MACvB71H,GAAOl9B,UAAU+iD,OAAO39C,KAAKZ,KAGjC,IAAI6lK,GAAe7lK,KAAKqlG,UAAUzqG,iBAAiB,kBAAuBrC,OACtEutK,EAAW9lK,KAAKqlG,UAAUzqG,iBAAiB,MACzC69G,GAAoBtX,GAAK,IAAMy6D,IAAWrjK,MAChD,IAAIstK,EAAe,GAAMA,IAAiBC,GAAcA,IAAa9lK,KAAKg+J,SAASzlK,OAE/E,YADAyH,KAAKuuJ,iBAAkB,EAG3BvuJ,MAAK88J,iBASThB,EAAYtgK,UAAUsK,UAAY,SAAU84F,GACxC,GAAI7+F,GAAQC,IACZ,IAAIvC,EAAkBuC,KAAKk2C,MACvBl2C,KAAK4+J,gBAAkB,WACnB,GAAmB,aAAf7+J,EAAM2vB,MAAuB3vB,EAAMs+J,cAAe,CAClD,GAAIp+J,IACAuhC,OAAQ,oBACR8oE,OAAuB,aAAfvqG,EAAM2vB,KACd1yB,MAAO4hG,EAAQ,QAAU,UAE7B7+F,GAAMgP,OAAO,iBAAkB9O,GAEnCF,EAAM0lK,cAAc7mE,GACpB7+F,EAAM6+J,gBAAkB,MAE5BlmI,EAAOl9B,UAAU+iD,OAAO39C,KAAKZ,UAE5B,CAED,GADAA,KAAK4+J,gBAAkB,KACL,aAAd5+J,KAAK0vB,MAAuB1vB,KAAKq+J,cAAe,CAChD,GAAIp+J,IACAuhC,OAAQ,oBACR8oE,OAAsB,aAAdtqG,KAAK0vB,KACb1yB,MAAO4hG,EAAQ,QAAU,UAE7B5+F,MAAK+O,OAAO,iBAAkB9O,GAElCD,KAAKylK,cAAc7mE,KAG3Bk9D,EAAYtgK,UAAU0L,cAAgB,WAClC,MAAO,eAOX40J,EAAYtgK,UAAU+iD,OAAS,WAC3B,GAAIx+C,GAAQC,IACZA,MAAK0gK,YAAa,EAClB1gK,KAAK6+J,aAAc,EACnB7+J,KAAKmuB,cAAgBnuB,KAAKyB,cAAc,QAAUiC,UA35ElC,eA45EhB1D,KAAK8gK,YAAc9gK,KAAKyB,cAAc,QAAUiC,UAAWqiK,8BAA0CniK,OAAQ,kBAC7G5D,KACK48J,aAAe58J,KAAKyB,cAAc,QACnCiC,UA35EU,+BA25EkBE,OAAQ,kBAExC5D,KAAK8uB,iBAAmB9uB,KAAKyB,cAAc,OAASiC,UA16EtC,2BA26Ed1D,KAAKkuB,eAAiBluB,KAAKyB,cAAc,OAASiC,UA56EnC,gCA66EG,aAAd1D,KAAK0vB,MACL1rB,GAAUhE,KAAKkuB,gBAAiB,cAEhC9hB,GAAQkc,UACRtoB,KAAK8uB,iBAAiBt2B,UAAU+L,IA/6Ef,iBAi7ErBvE,KAAKkuB,eAAetpB,MAAM6S,MAAQ/U,EAAW1C,KAAKyX,OAClDzX,KAAKkuB,eAAensB,YAAY/B,KAAK8uB,kBACrC9uB,KAAKitJ,aAAejtJ,KAAKyB,cAAc,OAASkC,GAAI3D,KAAKnG,QAAQ8J,GAAK,SAAUD,UAr6EpE,8CAs6EM,cAAd1D,KAAK0vB,MAAsC,aAAd1vB,KAAK0vB,MAClC1vB,KAAK+gK,iBAAmB/gK,KAAKyB,cAAc,QAAUiC,UAx6EzC,iBAw6EuEE,OAAQ,iBAC3F5D,KAAK8uB,iBAAiB/sB,YAAY/B,KAAK+gK,oBAGvC/gK,KAAKy9J,sBAAwBz9J,KAAKyB,cAAc,QAC5CiC,UAv7EG,qBAw7EHE,OAAQ,iBAEZ5D,KAAK8uB,iBAAiB/sB,YAAY/B,KAAKy9J,wBAEzB,QAAdz9J,KAAK0vB,MACL1vB,KAAK8uB,iBAAiB/sB,YAAY/B,KAAK8gK,aAE3C9gK,KAAK8uB,iBAAiB/sB,YAAY/B,KAAKmuB,eACnCnuB,KAAK+mB,kBAAoB3a,GAAQkc,SACjCtoB,KAAK8uB,iBAAiB/sB,YAAY/B,KAAK48J,cAGvC58J,KAAK8uB,iBAAiBt2B,UAAU+L,IAt7EtB,qBAw7EdvE,KAAK2lK,eACL3lK,KAAKouB,aAAepuB,KAAKyB,cAAc,SACnCiC,UA57EQ,iBA67ERI,OACI+gB,WAAY,QACZ9qB,KAAM,OACN2qB,aAAc,MACd2sF,SAAU,OAGdrxG,KAAKnG,QAAQyJ,UAAYtD,KAAKgxJ,mBAC9BhxJ,KAAKnG,QAAQ+K,MAAMyhD,QAAU,QAE7BrmD,KAAKnG,QAAQyJ,UAAYtD,KAAKgxJ,kBAC9BhxJ,KAAKnG,QAAQkI,YAAY/B,KAAKkuB,gBAC9BluB,KAAKmuB,cAAcpsB,YAAY/B,KAAKouB,gBAGpCpuB,KAAKnG,QAAQkc,cAAc3Q,aAAapF,KAAKkuB,eAAgBluB,KAAKnG,SAClEmG,KAAKmuB,cAAcpsB,YAAY/B,KAAKouB,cACpCpuB,KAAKmuB,cAAcpsB,YAAY/B,KAAKnG,SACpCmG,KAAKnG,QAAQyS,gBAAgB,aAEL,UAAxBtM,KAAK2oB,eACLsF,GAAiBjuB,KAAKkuB,eAAgBluB,KAAKmuB,cAAenuB,KAAKnG,QAASmG,KAAKouB,aAAcpuB,KAAKhD,MAAOgD,KAAK2oB,eAAgB3oB,KAAK0oB,aAEpG,UAAxB1oB,KAAK2oB,gBACV3oB,KAAKg/J,qBAETh/J,KAAKnG,QAAQ+K,MAAM2J,QAAU,EAC7B,IAAI5K,GAAK3D,KAAKnG,QAAQ4M,aAAa,MAAQzG,KAAKnG,QAAQ4M,aAAa,MAAQjH,EAAY,mBACzFQ,MAAKnG,QAAQ8J,GAAKA,EAClB3D,KAAKkuJ,cAAgBluJ,KAAKyB,cAAc,UACpCqC,OAASknH,cAAe,OAAQ7lB,MAn9EvB,iBAm9EgDkM,SAAY,KAAM++B,SAAY,UAE3FpwI,KAAK8uB,iBAAiB/sB,YAAY/B,KAAKkuJ,eACvCluJ,KAAK69G,oBAAoB79G,KAAKnG,QAASmG,KAAKkuJ,eAC1B,aAAdluJ,KAAK0vB,MACL1vB,KAAK+hK,mBAET/hK,KAAK6xJ,YACL7xJ,KAAKsqG,OAAOtqG,KAAK4mB,SACjB5mB,KAAKm8J,UAAUn8J,KAAKuP,WAChBvP,KAAKhD,OAASgD,KAAKhD,MAAMzE,QACzByH,KAAKsnH,cACCtnH,KAAKyyF,qBAAsB93B,IAK7B36D,KAAK2+J,gBAAkB,WACnB5+J,EAAM2gK,YAAa,EACnB3gK,EAAM++J,qBACN/+J,EAAMg/J,gBACNh/J,EAAM4+J,gBAAkB,KACxB5+J,EAAM2gK,YAAa,IATvB1gK,KAAK8+J,qBACL9+J,KAAK++J,kBAaT/+J,KAAK++J,gBAET/+J,KAAK0gK,YAAa,EAClB1gK,KAAKgmK,kBAETlK,EAAYtgK,UAAUwqK,eAAiB,WAC/BhmK,KAAKnG,QAAQyoH,aAAa,cAC1BtiH,KAAKuzH,WAGbuoC,EAAYtgK,UAAUgnK,kBAAoB,WACtC3zI,GAAe7uB,KAAKkuB,eAAgBluB,KAAK8uB,iBAAkB9uB,KAAKmuB,cAAenuB,KAAKouB,aAAcpuB,KAAKhD,MAAOgD,KAAK2oB,eAAgB3oB,KAAK0oB,aAC5G,UAAxB1oB,KAAK2oB,gBACLsF,GAAiBjuB,KAAKkuB,eAAgBluB,KAAKmuB,cAAenuB,KAAKnG,QAASmG,KAAKouB,aAAcpuB,KAAKhD,MAAOgD,KAAK2oB,eAAgB3oB,KAAK0oB,cAGzIozI,EAAYtgK,UAAUmqK,aAAe,WACf,aAAd3lK,KAAK0vB,MAAuB1vB,KAAKimK,kBACjCjmK,KAAKkmK,SAAWlmK,KAAKyB,cAAc,QAAUiC,UA9/EtC,kCA+/EP1D,KAAK8uB,iBAAiB/sB,YAAY/B,KAAKkmK,UACvCliK,GAAUhE,KAAK8uB,mBAAoB,iBAG9BrxB,EAAkBuC,KAAKkmK,YACxBlmK,KAAKkmK,SAASnwJ,cAAcvQ,YAAYxF,KAAKkmK,UAC7C1hK,GAAaxE,KAAK8uB,mBAAoB,kBAIlDgtI,EAAYtgK,UAAUujK,cAAgB,WAChB,QAAd/+J,KAAK0vB,MACL1vB,KAAKsgK,kBAETtgK,KAAK68J,iBACL78J,KAAKu8J,sBACLv8J,KAAK08J,eAAe18J,KAAKyuH,UACzBzuH,KAAKwgK,qBAOT1E,EAAYtgK,UAAUqY,QAAU,WACxB7T,KAAK8jH,UACL9jH,KAAK8jH,SAAS7E,OAElBj/G,KAAK+O,OA5hFC,cA6hFN/O,KAAK0+J,mBACL1+J,KAAKyzJ,cACLzzJ,KAAKk2C,KAAO,KACZl2C,KAAK8jH,SAAW,KAChB9jH,KAAKi9J,SAAW,KAChBj9J,KAAKg+J,SAAW,KAChBtlI,EAAOl9B,UAAUqY,QAAQjT,KAAKZ,KAG9B,KAFA,GAAIwL,IAAQ,WAAY,gBAAiB,mBAAoB,eACzDjT,EAASiT,EAAKjT,OACXA,EAAS,GACZyH,KAAKouB,aAAa9hB,gBAAgBd,EAAKjT,EAAS,IAChDA,GAEJyH,MAAKnG,QAAQ+K,MAAMyhD,QAAU,QACzBrmD,KAAKkuB,eAAenY,gBAChB/V,KAAKkuB,eAAenY,cAAczS,UAAYtD,KAAKgxJ,iBACnDtsJ,EAAO1E,KAAKkuB,iBAGZluB,KAAKkuB,eAAenY,cAAc3Q,aAAapF,KAAKnG,QAASmG,KAAKkuB,gBAClExpB,EAAO1E,KAAKkuB,mBAKxB+J,IACIrvB,GAAS,OACVkzJ,EAAYtgK,UAAW,eAAY,IACtCy8B,IACIrvB,GAAS,SACVkzJ,EAAYtgK,UAAW,YAAS,IACnCy8B,IACIrvB,GAAS,UACVkzJ,EAAYtgK,UAAW,kBAAe,IACzCy8B,IACIrvB,GAAS,SACVkzJ,EAAYtgK,UAAW,iBAAc,IACxCy8B,IACIrvB,GAAS,OACVkzJ,EAAYtgK,UAAW,kBAAe,IACzCy8B,IACIrvB,GAAS,OACVkzJ,EAAYtgK,UAAW,2BAAwB,IAClDy8B,IACIrvB,QACDkzJ,EAAYtgK,UAAW,qBAAkB,IAC5Cy8B,IACIrvB,GAAS,OACVkzJ,EAAYtgK,UAAW,oBAAiB,IAC3Cy8B,IACIrvB,GAAS,OACVkzJ,EAAYtgK,UAAW,qBAAkB,IAC5Cy8B,IACIrvB,GAAS,OACVkzJ,EAAYtgK,UAAW,qBAAkB,IAC5Cy8B,IACIrvB,GAAS,OACVkzJ,EAAYtgK,UAAW,mBAAgB,IAC1Cy8B,IACIrvB,IAAS,IACVkzJ,EAAYtgK,UAAW,qBAAkB,IAC5Cy8B,IACIrvB,IAAS,IACVkzJ,EAAYtgK,UAAW,uBAAoB,IAC9Cy8B,IACIrvB,IAAS,IACVkzJ,EAAYtgK,UAAW,sBAAmB,IAC7Cy8B,IACIrvB,GAAS,MACVkzJ,EAAYtgK,UAAW,6BAA0B,IACpDy8B,IACIrvB,IAAS,IACVkzJ,EAAYtgK,UAAW,eAAY,IACtCy8B,IACIrvB,GAAS,OACVkzJ,EAAYtgK,UAAW,WAAQ,IAClCy8B,IACIrvB,GAAS,OACVkzJ,EAAYtgK,UAAW,YAAS,IACnCy8B,IACIrvB,IAAS,IACVkzJ,EAAYtgK,UAAW,uBAAoB,IAC9Cy8B,IACIrvB,IAAS,IACVkzJ,EAAYtgK,UAAW,yBAAsB,IAChDy8B,IACIrvB,GAAS,YACVkzJ,EAAYtgK,UAAW,WAAQ,IAClCy8B,IACIrvB,GAAS,MACVkzJ,EAAYtgK,UAAW,oBAAiB,IAC3Cy8B,IACIrvB,IAAS,IACVkzJ,EAAYtgK,UAAW,iBAAc,IACxCy8B,IACIrvB,IAAS,IACVkzJ,EAAYtgK,UAAW,uBAAoB,IAC9Cy8B,IACIrvB,GAAS,UACVkzJ,EAAYtgK,UAAW,qBAAkB,IAC5Cy8B,IACIrvB,IAAS,IACVkzJ,EAAYtgK,UAAW,oBAAiB,IAC3Cy8B,IACIrvB,GAAS,eACVkzJ,EAAYtgK,UAAW,oBAAiB,IAC3Cy8B,IACIrvB,GAAS,iBACVkzJ,EAAYtgK,UAAW,sBAAmB,IAC7Cy8B,IACIrvB,IAAS,IACVkzJ,EAAYtgK,UAAW,2BAAwB,IAClDy8B,IACIrvB,IAAS,IACVkzJ,EAAYtgK,UAAW,kBAAe,IACzCy8B,IACIxuB,MACDqyJ,EAAYtgK,UAAW,aAAU,IACpCy8B,IACIxuB,MACDqyJ,EAAYtgK,UAAW,eAAY,IACtCy8B,IACIxuB,MACDqyJ,EAAYtgK,UAAW,cAAW,IACrCy8B,IACIxuB,MACDqyJ,EAAYtgK,UAAW,kBAAe,IACzCy8B,IACIxuB,MACDqyJ,EAAYtgK,UAAW,iBAAc,IACxCy8B,IACIxuB,MACDqyJ,EAAYtgK,UAAW,WAAQ,IAClCy8B,IACIxuB,MACDqyJ,EAAYtgK,UAAW,YAAS,IACnCy8B,IACIxuB,MACDqyJ,EAAYtgK,UAAW,WAAQ,IAClCy8B,IACIxuB,MACDqyJ,EAAYtgK,UAAW,YAAS,IACnCy8B,IACIxuB,MACDqyJ,EAAYtgK,UAAW,oBAAiB,IAC3Cy8B,IACIxuB,MACDqyJ,EAAYtgK,UAAW,gBAAa,IACvCy8B,IACIxuB,MACDqyJ,EAAYtgK,UAAW,cAAW,IACrCy8B,IACIxuB,MACDqyJ,EAAYtgK,UAAW,2BAAwB,IAClDsgK,EAAc7jI,IACVluB,IACD+xJ,IAEL/iD,IC7tFEotD,GAAmC,WACnC,QAASA,GAAkBplK,GACvBf,KAAKomK,YACLpmK,KAAKqmK,aACLrmK,KAAKe,OAASA,EACdf,KAAKtD,mBAkZT,MAhZAypK,GAAkB3qK,UAAU0L,cAAgB,WACxC,MAAO,qBAEXi/J,EAAkB3qK,UAAUkB,iBAAmB,WACvCsD,KAAKe,OAAOyzB,cAGhBx0B,KAAKe,OAAOsyB,GAAG,aAAcrzB,KAAKsmK,cAAetmK,MACjDA,KAAKe,OAAOsyB,GAAG,aAAcrzB,KAAK+7G,WAAY/7G,MAC9CA,KAAKe,OAAOsyB,GAAG,YAAarzB,KAAKumK,aAAcvmK,MAC/CA,KAAKe,OAAOsyB,GAAG,iBAAkBrzB,KAAKo/J,eAAgBp/J,MACtDA,KAAKe,OAAOsyB,GAAG,YAAarzB,KAAK21J,aAAc31J,MAC/CA,KAAKe,OAAOsyB,GAAG,OAAQrzB,KAAKuxJ,OAAQvxJ,MACpCA,KAAKe,OAAOsyB,GAAG,gBAAiBrzB,KAAKw4G,cAAex4G,MACpDA,KAAKe,OAAOsyB,GAAG,kBAAmBrzB,KAAKwmK,mBAAoBxmK,MAC3DA,KAAKe,OAAOsyB,GAAG,aAAcrzB,KAAKymK,SAAUzmK,MAC5CA,KAAKe,OAAOsyB,GAAG,UAAWrzB,KAAK0mK,WAAY1mK,MAC3CA,KAAKe,OAAOsyB,GAAG,aAAcrzB,KAAK2mK,cAAe3mK,MACjDA,KAAKe,OAAOsyB,GAAG,gBAAiBrzB,KAAK6rD,UAAW7rD,MAChDA,KAAKe,OAAOsyB,GAAG,uBAAwBrzB,KAAKuuH,eAAgBvuH,MAC5DyF,GAAalB,IAAIxJ,SAAU,YAAaiF,KAAK2zJ,gBAAiB3zJ,QAElEmmK,EAAkB3qK,UAAUoB,oBAAsB,WAC1CoD,KAAKe,OAAOyzB,cAGhBx0B,KAAKe,OAAO0yB,IAAI,aAAczzB,KAAKsmK,eACnCtmK,KAAKe,OAAO0yB,IAAI,aAAczzB,KAAK+7G,YACnC/7G,KAAKe,OAAO0yB,IAAI,YAAazzB,KAAKumK,cAClCvmK,KAAKe,OAAO0yB,IAAI,iBAAkBzzB,KAAKo/J,gBACvCp/J,KAAKe,OAAO0yB,IAAI,YAAazzB,KAAK21J,cAClC31J,KAAKe,OAAO0yB,IAAI,OAAQzzB,KAAKuxJ,QAC7BvxJ,KAAKe,OAAO0yB,IAAI,gBAAiBzzB,KAAKw4G,eACtCx4G,KAAKe,OAAO0yB,IAAI,kBAAmBzzB,KAAKwmK,oBACxCxmK,KAAKe,OAAO0yB,IAAI,aAAczzB,KAAKymK,UACnCzmK,KAAKe,OAAO0yB,IAAI,UAAWzzB,KAAK0mK,YAChC1mK,KAAKe,OAAO0yB,IAAI,aAAczzB,KAAK2mK,eACnC3mK,KAAKe,OAAO0yB,IAAI,gBAAiBzzB,KAAK6rD,WACtC7rD,KAAKe,OAAO0yB,IAAI,uBAAwBzzB,KAAKuuH,gBAC7C9oH,GAAaf,OAAO3J,SAAU,YAAaiF,KAAK2zJ,mBAEpDwS,EAAkB3qK,UAAUugH,WAAa,SAAU97G,GAC/C,GAAIF,GAAQC,IACZ,IAAIvC,EAAkBuC,KAAKe,OAAOgjK,mBAAmBlhE,aACjD7iG,KAAKe,OAAOgjK,mBAAmBlhE,YAAc,SAAUzhG,GACnDrB,EAAM6mK,cAAcxlK,QAGvB,CACD,GAAIq6J,GAAgBz7J,KAAKe,OAAOgjK,mBAAmBlhE,WACnD7iG,MAAKe,OAAOgjK,mBAAmBlhE,YAAc,SAAUzhG,GACnDrB,EAAM6mK,cAAcxlK,GACpBq6J,EAAc//J,MAAMqE,GAAQqB,OAKxC+kK,EAAkB3qK,UAAU+yH,eAAiB,SAAUpkH,GACnDmjB,GAAMihG,eAAepkH,EAAMyrJ,qBAAsB51J,KAAK2tJ,cAE1DwY,EAAkB3qK,UAAUorK,cAAgB,SAAUxlK,GAClD,GAAIvI,EAOJ,IAAuB,wBAFnBA,EAJC4E,EAAkB2D,EAAEvI,MAIduI,EAHAA,EAAEvI,MAKJ6K,WAAyD,sBAAnB7K,EAAK6K,UAAmC,CACnF,GAAImjK,GAAczyJ,GAAepU,KAAKe,OAAOU,eAAe,GACxD4/F,EAAO17F,EAAO,cAAe9M,EACxBA,GAAK4N,aAAa,WAC3B5N,GAAKuM,aAAayhK,EAAahuK,EAAKyB,WAAWmD,EAAkB4jG,GAAQ,EAAI,IAC7E17F,EAAO,WAAqBkhK,EAChBlhK,GAAO,WAAqBkhK,EACxC,OAAOhuK,GAGP,MAAOA,IAGfstK,EAAkB3qK,UAAU+qK,aAAe,WACnCvmK,KAAKe,OAAOs9J,eACR5gK,EAAkBuC,KAAK8mK,kBACvB9mK,KAAK8mK,eAAiB9mK,KAAKe,OAAOU,cAAc,OAC5CiC,UAzGC,uBA2GL1D,KAAK+mK,cAAgB/mK,KAAKe,OAAOU,cAAc,QAC3CiC,UAAW,eAEf1D,KAAK+mK,cAAcrtK,YAAc,GACjCsG,KAAK8mK,eAAe/kK,YAAY/B,KAAK+mK,eACrC/mK,KAAK6rD,YACL7rD,KAAK4mK,cAAc5mK,KAAK8mK,gBACpB9mK,KAAKe,OAAOmmG,iBACPzpG,EAAkBuC,KAAK4tJ,cAIxBtoJ,GAAQtF,KAAK8mK,gBAAiB9mK,KAAKe,OAAOksJ,cAH1C3nJ,GAAQtF,KAAK8mK,gBAAiB9mK,KAAK4tJ,eAMtC5tJ,KAAKe,OAAOmmG,iBACRzpG,EAAkBuC,KAAK4tJ,cAIxB7oJ,GAAS/E,KAAK8mK,gBAAiB9mK,KAAKe,OAAOksJ,cAH3C3nJ,GAAQtF,KAAK8mK,gBAAiB9mK,KAAK4tJ,eAM3CnoJ,GAAalB,IAAIvE,KAAK8mK,eAAgB,YAAa9mK,KAAKg/F,aAAch/F,OAEtEA,KAAKe,OAAOm1C,KAAK19C,UAAUC,SAAS,YACpCuH,KAAK8mK,eAAeliK,MAAMyhD,QAAU,OAGpCrmD,KAAK8mK,eAAeliK,MAAMyhD,QAAU,QAExCrmD,KAAKe,OAAOkjK,gBAAkBjkK,KAAK8mK,eAAen6J,wBAAwB6K,QAEpE/Z,EAAkBuC,KAAK8mK,kBAC7B9mK,KAAK8mK,eAAe/wJ,cAAcvQ,YAAYxF,KAAK8mK,gBACnD9mK,KAAK8mK,eAAiB,OAG9BX,EAAkB3qK,UAAUqY,QAAU,WAClC7T,KAAKpD,uBAETupK,EAAkB3qK,UAAU8qK,cAAgB,SAAUrmK,GAClD,GAAI4I,EAcJ,IANIA,EAPCpL,EAAkBwC,EAAKmB,GAOfnB,EAAKkhG,GAAGoV,iBAAiBj8G,WAAW,GANnCmD,EAAkBwC,EAAKmB,EAAEyH,QAG7B5I,EAAKkhG,GAAGr+F,cAAc,uBAAuBxI,WAAW,GAF1D2F,EAAKmB,EAAEyH,OAAOrQ,UAAUC,SAAS,WAC7BwH,EAAKmB,EAAEyH,OAAS5I,EAAKkhG,GAAGr+F,cAAc,uBAAuBxI,WAAW,GAMhF0F,KAAKe,OAAO07G,eACZ5zG,EAAS5I,EAAKkhG,GAAG97F,kBAAkB/K,WAAW,IAElD0F,KAAKgnK,aAAejhK,EAAQ8C,EAAQ,wBAC/BpL,EAAkBuC,KAAKgnK,cAAe,CACvC,GAAIC,GAAethK,EAAO,WAAqB3F,KAAKgnK,aAEpDhnK,MAAKknK,kBAAkBlnK,KAAKgnK,aAAcC,EAAazuK,UAAUC,SA1KjE,WA0KkFwH,EAAKkhG,GAAIlhG,EAAKmB,GADhF,KAIxB+kK,EAAkB3qK,UAAU0rK,kBAAoB,SAAUC,EAAWC,EAASjmE,EAAI//F,EAAG0E,GACjF9F,KAAK2+F,YAAYwoE,EAAWC,EAAU,UAAY,QAAShmK,GAAG,EAAM0E,IAExEqgK,EAAkB3qK,UAAUwjG,aAAe,SAAU59F,GACjD,GAAIyH,EAEAA,GADAzH,EAAEigD,cAAc7oD,UAAUC,SAASuH,KAAK8mK,eAAepjK,WAC9CtC,EAAEigD,cAAch8C,kBAAkBkxG,iBAGlCn1G,EAAEigD,cAEfrhD,KAAKgnK,aAAejhK,EAAQ8C,EAAQ,sBAEpC,KAAKpL,EAAkBuC,KAAKgnK,cAAe,CACvC,GAAIC,GAAethK,EAAO,WAAqB3F,KAAKgnK,aACpDhnK,MAAKknK,kBAAkBlnK,KAAKgnK,aAAcC,EAAazuK,UAAUC,SA5LjE,WA4LkF,KAAM2I,GAH5E,GAKhBA,EAAE+lB,kBAENg/I,EAAkB3qK,UAAUmjG,YAAc,SAAUprF,EAASqrF,EAAOx9F,EAAGimK,EAAWvhK,GAC9E,GAAI+4F,GACArqF,EAAYjB,EAAQ/E,uBAnMZ,WAmMkD,EAChD,WAAVowF,GAAsBpqF,EAAUhc,UAAUC,SAnM1C,WA4Me,YAAVmmG,IAAwBpqF,EAAUhc,UAAUC,SA5MjD,YA4MoE+b,EAAUhc,UAAUC,SAzMhF,aA0MR+L,GAAagQ,IA7Mb,UAGQ,WA2MRqqF,EAAY,QACR/4F,IACA9F,KAAKe,OAAO+E,WAAU,GACtB9F,KAAK6rD,eAbTr3C,EAAUhc,UAAUkM,OAjMZ,UAkMR8P,EAAUhc,UAAU+L,IArMpB,WAsMAs6F,EAAY,OACR/4F,IACA9F,KAAKe,OAAO+E,WAAU,GACtB9F,KAAK6rD,WAAU,KAYlBpuD,EADLohG,EAAsB,UAAVD,EAAoB,OAAmB,YAAVA,EAAsB,QAAUC,IAErEtrF,EAAQ1P,aAAa,eAAgBg7F,IAG7CsnE,EAAkB3qK,UAAUm6J,aAAe,SAAU11J,GACjD,GAAIxC,EAAkBuC,KAAK4tJ,cAAe,CACtC5tJ,KAAK4tJ,aAAe5tJ,KAAKe,OAAOU,cAAc,QAC1CiC,UApNG,oBAsNP1D,KAAK2tJ,YAAc3tJ,KAAKe,OAAOU,cAAc,SACzCqC,OAAS/J,KAAM,QACf2J,UAzNE,mBA2NN1D,KAAKe,OAAOlH,QAAQiB,WAAWsK,aAAapF,KAAK2tJ,YAAa3tJ,KAAKe,OAAOlH,QAC1E,IAAI0uG,IAAW,CAgCf,OA/BIn8F,IAAQkc,WACRigF,GAAW,EACXvoG,KAAKe,OAAOkgK,WAAY,GAE5BjhK,KAAK0yJ,eAAiBplI,GAAMkgG,aACxB3zH,QAASmG,KAAK2tJ,YACdjrC,QAASna,GArOJ,yCACI,4CAAA,2CAqOThlG,YAAcmlB,YAAa1oB,KAAKe,OAAO60J,uBACxC51J,KAAKe,OAAOU,eACf6D,GAAQtF,KAAK0yJ,eAAer2I,WAAYrc,KAAK4tJ,cAC7C7oJ,GAAS/E,KAAK4tJ,cAAe3tJ,EAAKqhJ,cAClCv9I,EAAW/D,KAAK2tJ,aACZn+B,gBAAiB,QACjB4zB,YAAapjJ,KAAKe,OAAOlH,QAAQ8J,GAAK,WACtCyP,KAAQ,UACRmhI,wBAAyB,KACzB7vH,aAAgB,MAChBC,YAAe,MACfC,eAAkB,MAClBC,WAAc,UAElB7kB,KAAK61J,iBAAmB71J,KAAK2tJ,YAAY53I,cAAcjT,cAAc,kBAChEsJ,GAAQkc,UAAYtoB,KAAK61J,mBAC1BpwJ,GAAalB,IAAIvE,KAAK61J,iBAAkB,YAAa71J,KAAKo0I,UAAWp0I,MACrEA,KAAK61J,iBAAiBjxJ,MAAMC,WAAa,UAE7CY,GAAalB,IAAIvE,KAAK2tJ,YAAa,QAAS3tJ,KAAKe,OAAOg1J,QAAS/1J,KAAKe,QACtE0E,GAAalB,IAAIvE,KAAK2tJ,YAAa,QAAS3tJ,KAAKe,OAAO6+J,MAAO5/J,KAAKe,QACpE0E,GAAalB,IAAIvE,KAAK2tJ,YAAa,UAAW3tJ,KAAKe,OAAOsgK,UAAWrhK,KAAKe,QAC1E0E,GAAalB,IAAIvE,KAAK2tJ,YAAa,OAAQ3tJ,KAAKuxJ,OAAQvxJ,MACxDA,KAAKe,OAAOy1J,gBAAmBx2J,KAAK0yJ,eAAer2I,wBAAyB1P,wBAAwB6K,OAC7FxX,KAAK0yJ,iBAIpByT,EAAkB3qK,UAAU27J,gBAAkB,SAAU/1J,GACpDpB,KAAKe,OAAO+vJ,YACZtsJ,GAAazJ,SAAS+R,KAAM9M,KAAKe,OAAO+iH,SAASjqH,SA9PnC,sBAgQlBssK,EAAkB3qK,UAAU44I,UAAY,SAAUhzI,GAC9CpB,KAAKe,OAAOk9J,mBAAmBjhK,MAAQ,GACvCgD,KAAKe,OAAOo1J,eACZn2J,KAAKe,OAAOs/J,iBAAiB,MAC7BrgK,KAAK61J,iBAAiBjxJ,MAAMC,WAAa,SACzC7E,KAAK2tJ,YAAYtrJ,QACjBrC,KAAK0mK,WAAWtlK,GAChBA,EAAE+lB,kBAENg/I,EAAkB3qK,UAAUgrK,mBAAqB,WAC7CxmK,KAAKe,OAAO+iH,SAASjqH,QAAQrB,UAAU+L,IAzQlC,gBA0QLvE,KAAKe,OAAO+iH,SAASjqH,QAAQrB,UAAU+L,IA7Q5B,uBA8QXvE,KAAKe,OAAO+iH,SAASluG,UAAaiC,EAAG,EAAGC,EAAG,GAC3C9X,KAAKe,OAAO+iH,SAASnvF,WACrB5wB,EAAW/D,KAAKe,OAAO+iH,SAASjqH,SAAW+K,MAAO,2CAClDZ,GAAUjJ,SAAS+R,KAAM9M,KAAKe,OAAO+iH,SAASjqH,SA/QhC,qBAgRdmG,KAAKi3J,uBACLj3J,KAAKk3J,gBAAkBl3J,KAAK0yJ,eAAer2I,UAAUvZ,cAAc,gBACnE9C,KAAK61J,iBAAmB71J,KAAK0yJ,eAAer2I,UAAUvZ,cAAc,iBACpE9C,KAAK61J,iBAAiBjxJ,MAAMC,WAAa,SACzCY,GAAalB,IAAIvE,KAAKk3J,gBAAiB,QAASl3J,KAAKm3J,gBAAiBn3J,MACtEyF,GAAalB,IAAIvE,KAAK61J,iBAAkB,QAAS71J,KAAKo0I,UAAWp0I,OAErEmmK,EAAkB3qK,UAAUy7J,qBAAuB,WAC/C,GAAIT,GAAkBx2J,KAAK2tJ,YAAY53I,cAAcpJ,wBAAwB6K,MAC7ExX,MAAKe,OAAO+iH,SAASjqH,QAAQ+K,MAAMsgH,UAAY,OAC/CllH,KAAKe,OAAO+iH,SAASjqH,QAAQ+K,MAAM6S,MAAQ,OAC3CzX,KAAKe,OAAOm1C,KAAKtxC,MAAMsgH,UAAalpH,OAAO+e,YAAcy7I,EAAmB,KAC5Ex2J,KAAKe,OAAOm1C,KAAKtxC,MAAM4S,OAAUxb,OAAO+e,YAAcy7I,EAAmB,IACzE,IAAIoB,GAAe53J,KAAK2tJ,YAAY53I,cAAcjT,cAAc,gBAChEyC,GAAOvF,KAAK2tJ,aACZiK,EAAa7hJ,cAAc3Q,aAAapF,KAAK2tJ,YAAaiK,IAE9DuO,EAAkB3qK,UAAUg9G,cAAgB,WAGxC,MAFAx4G,MAAKe,OAAOk9J,mBAAqBj+J,KAAK2tJ,YACtC3tJ,KAAK61J,iBAAiBjxJ,MAAMC,WAAsD,KAAzC7E,KAAKe,OAAOk9J,mBAAmBjhK,MAAe,SAAW,UAC3FgD,KAAKe,OAAOk9J,mBAAmBjhK,OAE1CmpK,EAAkB3qK,UAAU+1J,OAAS,SAAUnwJ,GAC3C,GAAIyH,EAOJ,OANIuD,IAAQ20C,OACRl4C,GAAUpL,EAAkB2D,IAAMA,EAAEyH,QAEnCuD,GAAQ20C,OACTl4C,GAAUpL,EAAkB2D,IAAMA,EAAE4nI,eAEpCjuI,SAAS+R,KAAKrU,SAASuH,KAAKe,OAAO+iH,SAASjqH,UAAYmG,KAAKe,OAAO+iH,SAASjqH,QAAQpB,SAASoQ,KAAYuD,GAAQ20C,SAClH/gD,MAAK2tJ,YAAYtrJ,QAGjBrC,KAAKe,OAAOk7J,mBACZ76J,EAAE+lB,iBACFnnB,KAAK2tJ,YAAYtrJ,aACjBrC,KAAKe,OAAOk7J,mBAAoB,KAGhClhK,SAAS+R,KAAKrU,SAASuH,KAAKe,OAAO+iH,SAASjqH,WAAamG,KAAKe,OAAO+iH,SAASjqH,QAAQrB,UAAUC,SAAS,mBACzGuH,KAAKe,OAAOwsJ,YAAa,EACzBvtJ,KAAKe,OAAOk+J,iBAAiB79J,EAAGpB,KAAKe,OAAO/D,MAAOgD,KAAKe,OAAO28J,YAC/D19J,KAAKe,OAAOgU,cAAc/U,KAAKe,OAAOmtJ,cAAe,WAErDnzJ,SAAS+R,KAAKrU,SAASuH,KAAKe,OAAO+iH,SAASjqH,WAC3CmG,KAAKe,OAAO+iH,SAASjqH,QAAQrB,UAAUC,SAAS,mBACjDuH,KAAKe,OAAOwsJ,YAAa,EACzBvtJ,KAAKe,OAAOmtB,eAAe11B,UAAUkM,OA9TrC,iBA+TA1E,KAAKe,OAAOqnB,QAAQ,QACpBpoB,KAAKe,OAAO8mG,SAAU,SAEtB9sG,SAAS+R,KAAKrU,SAASuH,KAAKe,OAAO+iH,SAASjqH,UAC3CmG,KAAKe,OAAO+iH,SAASjqH,QAAQrB,UAAUC,SAAS,kBAAqB2T,GAAQkc,UAC9EtoB,KAAKe,OAAO+vJ,eAGpBqV,EAAkB3qK,UAAUm4J,gBAAkB,SAAUvyJ,GACpD,GAAIyH,GAASzH,EAAEyH,QACVpL,EAAkBuC,KAAKe,OAAO+iH,WAAa/9G,EAAQ8C,EAAQ,IAAM7I,KAAKe,OAAO+iH,SAASjqH,QAAQ8J,KAC/FvC,EAAE+lB,kBAEC1pB,EAAkBuC,KAAKe,OAAO+iH,WAAa/9G,EAAQ8C,EAAQ,IAAM7I,KAAKe,OAAO+iH,SAASjqH,QAAQ8J,KAChG3D,KAAKe,OAAOmtB,eAAez1B,SAAS2I,EAAEyH,QASvC7I,KAAKe,OAAOk7J,mBAAqB7vJ,GAAQ20C,MAA8B,SAAtB30C,GAAQmc,KAAKqK,OAAqB73B,SAASu0G,gBAAkBtvG,KAAK2tJ,aAR/G3tJ,KAAKe,OAAOmtB,eAAe11B,UAAUC,SAASggH,GAAoBp2G,QAAUrC,KAAKe,OAAOorJ,iBACxFnsJ,KAAKe,OAAOwsJ,YAAa,EACzBvtJ,KAAKe,OAAO+vJ,YACZ9wJ,KAAKe,OAAOwwJ,SACZvxJ,KAAKe,OAAO8mG,SAAU,GAMzB7nG,KAAKe,OAAOmtB,eAAez1B,SAAS2I,EAAEyH,UAAW7I,KAAKe,OAAOmtB,eAAe11B,UAAUC,SAAS,kBAC/FuH,KAAKe,OAAOorJ,eACbnsJ,KAAKe,OAAOwwJ,OAAOnwJ,IAG3B+kK,EAAkB3qK,UAAUirK,SAAW,SAAUrlK,GAC7CpB,KAAKe,OAAOmtB,eAAe11B,UAAUkM,OA9VjC,iBA+VY,UAAZtD,EAAEpE,OACFgD,KAAK2tJ,YAAYtrJ,QAEL,UAAZjB,EAAEpE,QACFgD,KAAK2tJ,YAAY3wJ,MAAQ,GACzBgD,KAAK61J,iBAAiBjxJ,MAAMC,WAAa,WAGjDshK,EAAkB3qK,UAAU4jK,eAAiB,SAAUh+J,GACnC,UAAZA,EAAEpE,OAA0E,SAArDgD,KAAK8mK,eAAergK,aAAa,kBACxDzG,KAAK2+F,YAAY3+F,KAAK8mK,eAAgB1lK,EAAEpE,MAAO,KAAM,MAAM,GAC3DgD,KAAK6rD,WAAU,IAEH,YAAZzqD,EAAEpE,QACFgD,KAAK2+F,YAAY3+F,KAAK8mK,eAAgB1lK,EAAEpE,MAAO,KAAM,MAAM,GAC3DgD,KAAK6rD,cAGbs6G,EAAkB3qK,UAAUqwD,UAAY,SAAUy7G,GAC9C,GAAkC,eAA9BtnK,KAAKe,OAAOwmK,eAAkE,iBAAhCvnK,KAAKe,OAAOymK,gBAAoC,CAC9F,GAAIh3J,GAAW82J,EAAWtnK,KAAKe,OAAOymK,gBAAkBxnK,KAAKe,OAAOwmK,cAChEjiE,MAAiB,EACrBtlG,MAAK+mK,cAAcrtK,YAAc,EAEjC,KAAK,GAAI2E,GAAK,EAAG2E,GADjBsiG,EAAiB/0F,GAAQC,QACiBnS,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAC5D,GAAIxF,GAAOmK,EAAG3E,EACd2B,MAAK+mK,cAAcrtK,YAAcb,EAAKa,iBAGzC,CACD,GACI4gH,GAAO,GAAI5uD,IAAK,aADD67G,cAAe,aAAcC,gBAAiB,gBACpBxnK,KAAKe,OAAOiO,OACzDhP,MAAK+mK,cAAcrtK,YAAc4tK,EAAWhtD,EAAKnuD,YAAY,mBAAqBmuD,EAAKnuD,YAAY,mBAG3Gg6G,EAAkB3qK,UAAUmrK,cAAgB,SAAU1mK,GAC9CA,EAAKkhG,GAAG3oG,UAAUC,SAAS,YAC3BuH,KAAKomK,SAASptK,KAAKiH,EAAKkhG,GAAGn/F,WAAU,IAGrChC,KAAKomK,SAASl8I,OAAOjqB,EAAK/H,MAAO,IAGzCiuK,EAAkB3qK,UAAUkrK,WAAa,SAAUzmK,GAC/C,GAAID,KAAKe,OAAO2gK,uBAAyBjkK,EAAkBuC,KAAKe,OAAO/D,OAAQ,CAC3E,GAAIyqK,GAAgBznK,KAAKe,OAAOskG,UAAUzqG,iBAAiB,eAAerC,OAEtEmvK,EAAQ1nK,KAAKe,OAAOU,cAAc,MAClCiC,UAAW,gCAEC1D,MAAKe,OAAOU,cAAc,MACtCgmK,GAAgB,IAChBniK,EAAOtF,KAAKe,OAAOskG,UAAUzqG,iBAAiB,eAAgB8sK,GAE9D1jK,EADQhE,KAAKe,OAAOskG,UAAUzqG,iBAAiB,eAC/B,kBAChBmK,GAAS2iK,GAAQ1nK,KAAKe,OAAOm1C,OAEjCl2C,KAAKe,OAAOg8J,yBAGboJ"}